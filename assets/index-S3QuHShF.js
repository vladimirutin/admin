(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function uE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yf={exports:{}},ko={};var rv;function hE(){if(rv)return ko;rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:r,type:i,key:d,ref:o!==void 0?o:null,props:u}}return ko.Fragment=e,ko.jsx=n,ko.jsxs=n,ko}var av;function dE(){return av||(av=1,Yf.exports=hE()),Yf.exports}var m=dE(),Xf={exports:{}},Se={};var lv;function fE(){if(lv)return Se;lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function q(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ee={};function re(D,K,ie){this.props=D,this.context=K,this.refs=ee,this.updater=ie||X}re.prototype.isReactComponent={},re.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},re.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function te(){}te.prototype=re.prototype;function ae(D,K,ie){this.props=D,this.context=K,this.refs=ee,this.updater=ie||X}var be=ae.prototype=new te;be.constructor=ae,J(be,re.prototype),be.isPureReactComponent=!0;var ze=Array.isArray;function Re(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function T(D,K,ie){var oe=ie.ref;return{$$typeof:r,type:D,key:K,ref:oe!==void 0?oe:null,props:ie}}function V(D,K){return T(D.type,K,D.props)}function j(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ie){return K[ie]})}var R=/\/+/g;function lt(D,K){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):K.toString(36)}function vt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Re,Re):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,K,ie,oe,we){var Ae=typeof D;(Ae==="undefined"||Ae==="boolean")&&(D=null);var Ve=!1;if(D===null)Ve=!0;else switch(Ae){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(D.$$typeof){case r:case e:Ve=!0;break;case w:return Ve=D._init,F(Ve(D._payload),K,ie,oe,we)}}if(Ve)return we=we(D),Ve=oe===""?"."+lt(D,0):oe,ze(we)?(ie="",Ve!=null&&(ie=Ve.replace(R,"$&/")+"/"),F(we,K,ie,"",function($s){return $s})):we!=null&&(j(we)&&(we=V(we,ie+(we.key==null||D&&D.key===we.key?"":(""+we.key).replace(R,"$&/")+"/")+Ve)),K.push(we)),1;Ve=0;var wt=oe===""?".":oe+":";if(ze(D))for(var rt=0;rt<D.length;rt++)oe=D[rt],Ae=wt+lt(oe,rt),Ve+=F(oe,K,ie,Ae,we);else if(rt=q(D),typeof rt=="function")for(D=rt.call(D),rt=0;!(oe=D.next()).done;)oe=oe.value,Ae=wt+lt(oe,rt++),Ve+=F(oe,K,ie,Ae,we);else if(Ae==="object"){if(typeof D.then=="function")return F(vt(D),K,ie,oe,we);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function se(D,K,ie){if(D==null)return D;var oe=[],we=0;return F(D,oe,"","",function(Ae){return K.call(ie,Ae,we++)}),oe}function me(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(ie){(D._status===0||D._status===-1)&&(D._status=1,D._result=ie)},function(ie){(D._status===0||D._status===-1)&&(D._status=2,D._result=ie)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var Be=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ve={map:se,forEach:function(D,K,ie){se(D,function(){K.apply(this,arguments)},ie)},count:function(D){var K=0;return se(D,function(){K++}),K},toArray:function(D){return se(D,function(K){return K})||[]},only:function(D){if(!j(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Se.Activity=A,Se.Children=ve,Se.Component=re,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ae,Se.StrictMode=i,Se.Suspense=v,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},Se.cache=function(D){return function(){return D.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(D,K,ie){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=J({},D.props),we=D.key;if(K!=null)for(Ae in K.key!==void 0&&(we=""+K.key),K)!S.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(oe[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=ie;else if(1<Ae){for(var Ve=Array(Ae),wt=0;wt<Ae;wt++)Ve[wt]=arguments[wt+2];oe.children=Ve}return T(D.type,we,oe)},Se.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Se.createElement=function(D,K,ie){var oe,we={},Ae=null;if(K!=null)for(oe in K.key!==void 0&&(Ae=""+K.key),K)S.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(we[oe]=K[oe]);var Ve=arguments.length-2;if(Ve===1)we.children=ie;else if(1<Ve){for(var wt=Array(Ve),rt=0;rt<Ve;rt++)wt[rt]=arguments[rt+2];we.children=wt}if(D&&D.defaultProps)for(oe in Ve=D.defaultProps,Ve)we[oe]===void 0&&(we[oe]=Ve[oe]);return T(D,Ae,we)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(D){return{$$typeof:y,render:D}},Se.isValidElement=j,Se.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:me}},Se.memo=function(D,K){return{$$typeof:g,type:D,compare:K===void 0?null:K}},Se.startTransition=function(D){var K=I.T,ie={};I.T=ie;try{var oe=D(),we=I.S;we!==null&&we(ie,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Re,Be)}catch(Ae){Be(Ae)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),I.T=K}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(D){return I.H.use(D)},Se.useActionState=function(D,K,ie){return I.H.useActionState(D,K,ie)},Se.useCallback=function(D,K){return I.H.useCallback(D,K)},Se.useContext=function(D){return I.H.useContext(D)},Se.useDebugValue=function(){},Se.useDeferredValue=function(D,K){return I.H.useDeferredValue(D,K)},Se.useEffect=function(D,K){return I.H.useEffect(D,K)},Se.useEffectEvent=function(D){return I.H.useEffectEvent(D)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(D,K,ie){return I.H.useImperativeHandle(D,K,ie)},Se.useInsertionEffect=function(D,K){return I.H.useInsertionEffect(D,K)},Se.useLayoutEffect=function(D,K){return I.H.useLayoutEffect(D,K)},Se.useMemo=function(D,K){return I.H.useMemo(D,K)},Se.useOptimistic=function(D,K){return I.H.useOptimistic(D,K)},Se.useReducer=function(D,K,ie){return I.H.useReducer(D,K,ie)},Se.useRef=function(D){return I.H.useRef(D)},Se.useState=function(D){return I.H.useState(D)},Se.useSyncExternalStore=function(D,K,ie){return I.H.useSyncExternalStore(D,K,ie)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.4",Se}var ov;function Qm(){return ov||(ov=1,Xf.exports=fE()),Xf.exports}var fe=Qm();const mE=uE(fe);var Jf={exports:{}},Mo={},Zf={exports:{}},Wf={};var cv;function pE(){return cv||(cv=1,(function(r){function e(F,se){var me=F.length;F.push(se);e:for(;0<me;){var Be=me-1>>>1,ve=F[Be];if(0<o(ve,se))F[Be]=se,F[me]=ve,me=Be;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var se=F[0],me=F.pop();if(me!==se){F[0]=me;e:for(var Be=0,ve=F.length,D=ve>>>1;Be<D;){var K=2*(Be+1)-1,ie=F[K],oe=K+1,we=F[oe];if(0>o(ie,me))oe<ve&&0>o(we,ie)?(F[Be]=we,F[oe]=me,Be=oe):(F[Be]=ie,F[K]=me,Be=K);else if(oe<ve&&0>o(we,me))F[Be]=we,F[oe]=me,Be=oe;else break e}}return se}function o(F,se){var me=F.sortIndex-se.sortIndex;return me!==0?me:F.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],g=[],w=1,A=null,N=3,q=!1,X=!1,J=!1,ee=!1,re=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function be(F){for(var se=n(g);se!==null;){if(se.callback===null)i(g);else if(se.startTime<=F)i(g),se.sortIndex=se.expirationTime,e(v,se);else break;se=n(g)}}function ze(F){if(J=!1,be(F),!X)if(n(v)!==null)X=!0,Re||(Re=!0,M());else{var se=n(g);se!==null&&vt(ze,se.startTime-F)}}var Re=!1,I=-1,S=5,T=-1;function V(){return ee?!0:!(r.unstable_now()-T<S)}function j(){if(ee=!1,Re){var F=r.unstable_now();T=F;var se=!0;try{e:{X=!1,J&&(J=!1,te(I),I=-1),q=!0;var me=N;try{t:{for(be(F),A=n(v);A!==null&&!(A.expirationTime>F&&V());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,N=A.priorityLevel;var ve=Be(A.expirationTime<=F);if(F=r.unstable_now(),typeof ve=="function"){A.callback=ve,be(F),se=!0;break t}A===n(v)&&i(v),be(F)}else i(v);A=n(v)}if(A!==null)se=!0;else{var D=n(g);D!==null&&vt(ze,D.startTime-F),se=!1}}break e}finally{A=null,N=me,q=!1}se=void 0}}finally{se?M():Re=!1}}}var M;if(typeof ae=="function")M=function(){ae(j)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,lt=R.port2;R.port1.onmessage=j,M=function(){lt.postMessage(null)}}else M=function(){re(j,0)};function vt(F,se){I=re(function(){F(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(F){switch(N){case 1:case 2:case 3:var se=3;break;default:se=N}var me=N;N=se;try{return F()}finally{N=me}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=N;N=F;try{return se()}finally{N=me}},r.unstable_scheduleCallback=function(F,se,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,F){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=me+ve,F={id:w++,callback:se,priorityLevel:F,startTime:me,expirationTime:ve,sortIndex:-1},me>Be?(F.sortIndex=me,e(g,F),n(v)===null&&F===n(g)&&(J?(te(I),I=-1):J=!0,vt(ze,me-Be))):(F.sortIndex=ve,e(v,F),X||q||(X=!0,Re||(Re=!0,M()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var se=N;return function(){var me=N;N=se;try{return F.apply(this,arguments)}finally{N=me}}}})(Wf)),Wf}var uv;function gE(){return uv||(uv=1,Zf.exports=pE()),Zf.exports}var em={exports:{}},ln={};var hv;function yE(){if(hv)return ln;hv=1;var r=Qm();function e(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,g,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:g,implementation:w}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(v,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(v,g,null,w)},ln.flushSync=function(v){var g=d.T,w=i.p;try{if(d.T=null,i.p=2,v)return v()}finally{d.T=g,i.p=w,i.d.f()}},ln.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(v,g))},ln.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},ln.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var w=g.as,A=y(w,g.crossOrigin),N=typeof g.integrity=="string"?g.integrity:void 0,q=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;w==="style"?i.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:q}):w==="script"&&i.d.X(v,{crossOrigin:A,integrity:N,fetchPriority:q,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var w=y(g.as,g.crossOrigin);i.d.M(v,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(v)},ln.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var w=g.as,A=y(w,g.crossOrigin);i.d.L(v,w,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(v,g){if(typeof v=="string")if(g){var w=y(g.as,g.crossOrigin);i.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(v)},ln.requestFormReset=function(v){i.d.r(v)},ln.unstable_batchedUpdates=function(v,g){return v(g)},ln.useFormState=function(v,g,w){return d.H.useFormState(v,g,w)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var dv;function vE(){if(dv)return em.exports;dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),em.exports=yE(),em.exports}var fv;function _E(){if(fv)return Mo;fv=1;var r=gE(),e=Qm(),n=vE();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(i(188))}function g(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),t;if(f===l)return v(h),s;f=f.sibling}throw Error(i(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,x=h.child;x;){if(x===a){_=!0,a=h,l=f;break}if(x===l){_=!0,l=h,a=f;break}x=x.sibling}if(!_){for(x=f.child;x;){if(x===a){_=!0,a=f,l=h;break}if(x===l){_=!0,l=f,a=h;break}x=x.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function w(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=w(t),s!==null)return s;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case re:return"Profiler";case ee:return"StrictMode";case ze:return"Suspense";case Re:return"SuspenseList";case T:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case ae:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case be:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return s=t.displayName||null,s!==null?s:lt(t.type)||"Memo";case S:s=t._payload,t=t._init;try{return lt(t(s))}catch{}}return null}var vt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],ve=-1;function D(t){return{current:t}}function K(t){0>ve||(t.current=Be[ve],Be[ve]=null,ve--)}function ie(t,s){ve++,Be[ve]=t.current,t.current=s}var oe=D(null),we=D(null),Ae=D(null),Ve=D(null);function wt(t,s){switch(ie(Ae,s),ie(we,t),ie(oe,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Ry(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Ry(s),t=Cy(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(oe),ie(oe,t)}function rt(){K(oe),K(we),K(Ae)}function $s(t){t.memoizedState!==null&&ie(Ve,t);var s=oe.current,a=Cy(s,t.type);s!==a&&(ie(we,t),ie(oe,a))}function Xt(t){we.current===t&&(K(oe),K(we)),Ve.current===t&&(K(Ve),jo._currentValue=me)}var wi,Ei;function Un(t){if(wi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);wi=s&&s[1]||"",Ei=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wi+t+Ei}var Ar=!1;function Gs(t,s){if(!t||Ar)return"";Ar=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var z=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){z=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){z=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],x=f[1];if(_&&x){var C=_.split(`
`),U=x.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Ar=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Un(a):""}function Sr(t,s){switch(t.tag){case 26:case 27:case 5:return Un(t.type);case 16:return Un("Lazy");case 13:return t.child!==s&&s!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return Gs(t.type,!1);case 11:return Gs(t.type.render,!1);case 1:return Gs(t.type,!0);case 31:return Un("Activity");default:return""}}function Nr(t){try{var s="",a=null;do s+=Sr(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var We=Object.prototype.hasOwnProperty,_t=r.unstable_scheduleCallback,an=r.unstable_cancelCallback,Vl=r.unstable_shouldYield,Rr=r.unstable_requestPaint,jt=r.unstable_now,ys=r.unstable_getCurrentPriorityLevel,Nn=r.unstable_ImmediatePriority,W=r.unstable_UserBlockingPriority,ue=r.unstable_NormalPriority,Fe=r.unstable_LowPriority,fn=r.unstable_IdlePriority,Ks=r.log,ga=r.unstable_setDisableYieldValue,Rn=null,Ht=null;function yn(t){if(typeof Ks=="function"&&ga(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Rn,t)}catch{}}var bt=Math.clz32?Math.clz32:mt,ya=Math.log,Ti=Math.LN2;function mt(t){return t>>>=0,t===0?32:31-(ya(t)/Ti|0)|0}var et=256,St=262144,pt=4194304;function vs(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _s(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?h=vs(l):(_&=x,_!==0?h=vs(_):a||(a=x&~t,a!==0&&(h=vs(a))))):(x=l&~f,x!==0?h=vs(x):_!==0?h=vs(_):a||(a=l&~t,a!==0&&(h=vs(a)))),h===0?0:s!==0&&s!==h&&(s&f)===0&&(f=h&-h,a=s&-s,f>=a||f===32&&(a&4194048)!==0)?s:h}function ns(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Zh(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var t=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),t}function bs(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Cr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wh(t,s,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-bt(a),Q=1<<$;x[$]=0,C[$]=-1;var z=U[$];if(z!==null)for(U[$]=null,$=0;$<z.length;$++){var H=z[$];H!==null&&(H.lane&=-536870913)}a&=~Q}l!==0&&Ir(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~s))}function Ir(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-bt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function kl(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-bt(a),h=1<<l;h&s|t[l]&s&&(t[l]|=s),a&=~h}}function Ml(t,s){var a=s&-s;return a=(a&42)!==0?1:jr(a),(a&(t.suspendedLanes|s))!==0?0:a}function jr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wc(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Zy(t.type))}function ss(t,s){var a=se.p;try{return se.p=t,s()}finally{se.p=a}}var is=Math.random().toString(36).slice(2),Dt="__reactFiber$"+is,Gt="__reactProps$"+is,xs="__reactContainer$"+is,va="__reactEvents$"+is,ed="__reactListeners$"+is,Ec="__reactHandles$"+is,Tc="__reactResources$"+is,ws="__reactMarker$"+is;function _a(t){delete t[Dt],delete t[Gt],delete t[va],delete t[ed],delete t[Ec]}function Es(t){var s=t[Dt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[xs]||a[Dt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=My(t);t!==null;){if(a=t[Dt])return a;t=My(t)}return s}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Dt]||t[xs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Cn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Ts(t){var s=t[Tc];return s||(s=t[Tc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(t){t[ws]=!0}var Ll=new Set,Pl={};function As(t,s){Ss(t,s),Ss(t+"Capture",s)}function Ss(t,s){for(Pl[t]=s,t=0;t<s.length;t++)Ll.add(s[t])}var Ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Bl={};function Ac(t){return We.call(Bl,t)?!0:We.call(zl,t)?!1:Ul.test(t)?Bl[t]=!0:(zl[t]=!0,!1)}function ba(t,s,a){if(Ac(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function In(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Vt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ai(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ql(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Xe(t){if(!t._valueTracker){var s=Ai(t)?"checked":"value";t._valueTracker=ql(t,s,""+t[s])}}function Dr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Ai(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function vn(t){return t.replace(Or,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xa(t,s,a,l,h,f,_,x){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Kt(s)):t.value!==""+Kt(s)&&(t.value=""+Kt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?Hl(t,_,Kt(s)):a!=null?Hl(t,_,Kt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Kt(x):t.removeAttribute("name")}function Sc(t,s,a,l,h,f,_,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){Xe(t);return}a=a!=null?""+Kt(a):"",s=s!=null?""+Kt(s):a,x||s===t.value||(t.value=s),t.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Hl(t,s,a){s==="number"&&Ns(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Si(t,s,a,l){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Kt(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Nc(t,s,a){if(s!=null&&(s=""+Kt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Kt(a):""}function Ni(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(vt(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Kt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function _n(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Rc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function $l(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&Fl(t,h,l)}else for(var f in s)s.hasOwnProperty(f)&&Fl(t,f,s[f])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ri=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ri.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function rs(){}var Gl=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Rs=null;function Vr(t){var s=zn(t);if(s&&(t=s.stateNode)){var a=t[Gt]||null;e:switch(t=s.stateNode,s.type){case"input":if(xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var h=l[Gt]||null;if(!h)throw Error(i(90));xa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Dr(l)}break e;case"textarea":Nc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Si(t,!!a.multiple,s,!1)}}}var Ta=!1;function Ii(t,s,a){if(Ta)return t(s,a);Ta=!0;try{var l=t(s);return l}finally{if(Ta=!1,(Ci!==null||Rs!==null)&&(wu(),Ci&&(s=Ci,t=Rs,Rs=Ci=null,Vr(s),t)))for(s=0;s<t.length;s++)Vr(t[s])}}function as(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Gt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(qn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){kr=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{kr=!1}var Cs=null,Kl=null,Mr=null;function Ql(){if(Mr)return Mr;var t,s=Kl,a=s.length,l,h="value"in Cs?Cs.value:Cs.textContent,f=h.length;for(t=0;t<a&&s[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&s[a-l]===h[f-l];l++);return Mr=h.slice(t,1<l?1-l:void 0)}function Lr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ys(){return!0}function ls(){return!1}function Jt(t){function s(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ys:ls,this.isPropagationStopped=ls,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),s}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=Jt(Xs),ji=A({},Xs,{view:0,detail:0}),Yl=Jt(ji),Di,Aa,js,Sa=A({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==js&&(js&&t.type==="mousemove"?(Di=t.screenX-js.screenX,Aa=t.screenY-js.screenY):Aa=Di=0,js=t),Di)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Xl=Jt(Sa),Pr=A({},Sa,{dataTransfer:0}),Ic=Jt(Pr),jc=A({},ji,{relatedTarget:0}),Ur=Jt(jc),Jl=A({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Dc=Jt(Jl),Na=A({},Xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oc=Jt(Na),Vc=A({},Xs,{data:0}),Ds=Jt(Vc),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Lc[t])?!!s[t]:!1}function Oi(){return Pc}var mn=A({},ji,{key:function(t){if(t.key){var s=kc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oi,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uc=Jt(mn),zc=A({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=Jt(zc),c=A({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oi}),p=Jt(c),b=A({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Jt(b),L=A({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Jt(L),ne=A({},Xs,{newState:0,oldState:0}),Ce=Jt(ne),Nt=[9,13,27,32],Ke=qn&&"CompositionEvent"in window,gt=null;qn&&"documentMode"in document&&(gt=document.documentMode);var Hn=qn&&"TextEvent"in window&&!gt,Os=qn&&(!Ke||gt&&8<gt&&11>=gt),os=" ",cs=!1;function zr(t,s){switch(t){case"keyup":return Nt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function Vx(t,s){switch(t){case"compositionend":return Ra(s);case"keypress":return s.which!==32?null:(cs=!0,os);case"textInput":return t=s.data,t===os&&cs?null:t;default:return null}}function kx(t,s){if(Ca)return t==="compositionend"||!Ke&&zr(t,s)?(t=Ql(),Mr=Kl=Cs=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Os&&s.locale!=="ko"?null:s.data;default:return null}}var Mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Mx[t.type]:s==="textarea"}function zp(t,s,a,l){Ci?Rs?Rs.push(l):Rs=[l]:Ci=l,s=Cu(s,"onChange"),0<s.length&&(a=new Is("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Zl=null,Wl=null;function Lx(t){wy(t,0)}function Bc(t){var s=Cn(t);if(Dr(s))return t}function Bp(t,s){if(t==="change")return s}var qp=!1;if(qn){var td;if(qn){var nd="oninput"in document;if(!nd){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),nd=typeof Hp.oninput=="function"}td=nd}else td=!1;qp=td&&(!document.documentMode||9<document.documentMode)}function Fp(){Zl&&(Zl.detachEvent("onpropertychange",$p),Wl=Zl=null)}function $p(t){if(t.propertyName==="value"&&Bc(Wl)){var s=[];zp(s,Wl,t,Bn(t)),Ii(Lx,s)}}function Px(t,s,a){t==="focusin"?(Fp(),Zl=s,Wl=a,Zl.attachEvent("onpropertychange",$p)):t==="focusout"&&Fp()}function Ux(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bc(Wl)}function zx(t,s){if(t==="click")return Bc(s)}function Bx(t,s){if(t==="input"||t==="change")return Bc(s)}function qx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var jn=typeof Object.is=="function"?Object.is:qx;function eo(t,s){if(jn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!We.call(s,h)||!jn(t[h],s[h]))return!1}return!0}function Gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kp(t,s){var a=Gp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gp(a)}}function Qp(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Qp(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Yp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ns(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Ns(t.document)}return s}function sd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Hx=qn&&"documentMode"in document&&11>=document.documentMode,Ia=null,id=null,to=null,rd=!1;function Xp(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rd||Ia==null||Ia!==Ns(l)||(l=Ia,"selectionStart"in l&&sd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),to&&eo(to,l)||(to=l,l=Cu(id,"onSelect"),0<l.length&&(s=new Is("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Ia)))}function Br(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ja={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},ad={},Jp={};qn&&(Jp=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function qr(t){if(ad[t])return ad[t];if(!ja[t])return t;var s=ja[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Jp)return ad[t]=s[a];return t}var Zp=qr("animationend"),Wp=qr("animationiteration"),eg=qr("animationstart"),Fx=qr("transitionrun"),$x=qr("transitionstart"),Gx=qr("transitioncancel"),tg=qr("transitionend"),ng=new Map,ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ld.push("scrollEnd");function us(t,s){ng.set(t,s),As(s,[t])}var qc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],Da=0,od=0;function Hc(){for(var t=Da,s=od=Da=0;s<t;){var a=Fn[s];Fn[s++]=null;var l=Fn[s];Fn[s++]=null;var h=Fn[s];Fn[s++]=null;var f=Fn[s];if(Fn[s++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&sg(a,h,f)}}function Fc(t,s,a,l){Fn[Da++]=t,Fn[Da++]=s,Fn[Da++]=a,Fn[Da++]=l,od|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function cd(t,s,a,l){return Fc(t,s,a,l),$c(t)}function Hr(t,s){return Fc(t,null,null,s),$c(t)}function sg(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&s!==null&&(h=31-bt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[s]:l.push(s),s.lane=a|536870912),f):null}function $c(t){if(50<To)throw To=0,_f=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Oa={};function Kx(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,s,a,l){return new Kx(t,s,a,l)}function ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zs(t,s){var a=t.alternate;return a===null?(a=Dn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ig(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Gc(t,s,a,l,h,f){var _=0;if(l=t,typeof t=="function")ud(t)&&(_=1);else if(typeof t=="string")_=Zw(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case T:return t=Dn(31,a,s,h),t.elementType=T,t.lanes=f,t;case J:return Fr(a.children,h,f,s);case ee:_=8,h|=24;break;case re:return t=Dn(12,a,s,h|2),t.elementType=re,t.lanes=f,t;case ze:return t=Dn(13,a,s,h),t.elementType=ze,t.lanes=f,t;case Re:return t=Dn(19,a,s,h),t.elementType=Re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case te:_=9;break e;case be:_=11;break e;case I:_=14;break e;case S:_=16,l=null;break e}_=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=Dn(_,a,s,h),s.elementType=t,s.type=l,s.lanes=f,s}function Fr(t,s,a,l){return t=Dn(7,t,l,s),t.lanes=a,t}function hd(t,s,a){return t=Dn(6,t,null,s),t.lanes=a,t}function rg(t){var s=Dn(18,null,null,0);return s.stateNode=t,s}function dd(t,s,a){return s=Dn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var ag=new WeakMap;function $n(t,s){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Nr(s)},ag.set(t,s),s)}return{value:t,source:s,stack:Nr(s)}}var Va=[],ka=0,Kc=null,no=0,Gn=[],Kn=0,Vi=null,Vs=1,ks="";function Ws(t,s){Va[ka++]=no,Va[ka++]=Kc,Kc=t,no=s}function lg(t,s,a){Gn[Kn++]=Vs,Gn[Kn++]=ks,Gn[Kn++]=Vi,Vi=t;var l=Vs;t=ks;var h=32-bt(l)-1;l&=~(1<<h),a+=1;var f=32-bt(s)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Vs=1<<32-bt(s)+h|a<<h|l,ks=f+t}else Vs=1<<f|a<<h|l,ks=t}function fd(t){t.return!==null&&(Ws(t,1),lg(t,1,0))}function md(t){for(;t===Kc;)Kc=Va[--ka],Va[ka]=null,no=Va[--ka],Va[ka]=null;for(;t===Vi;)Vi=Gn[--Kn],Gn[Kn]=null,ks=Gn[--Kn],Gn[Kn]=null,Vs=Gn[--Kn],Gn[Kn]=null}function og(t,s){Gn[Kn++]=Vs,Gn[Kn++]=ks,Gn[Kn++]=Vi,Vs=s.id,ks=s.overflow,Vi=t}var Zt=null,ct=null,qe=!1,ki=null,Qn=!1,pd=Error(i(519));function Mi(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw so($n(s,t)),pd}function cg(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Dt]=t,s[Gt]=l,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<So.length;a++)Oe(So[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Sc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),Ni(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Sy(s.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),l.onScroll!=null&&Oe("scroll",s),l.onScrollEnd!=null&&Oe("scrollend",s),l.onClick!=null&&(s.onclick=rs),s=!0):s=!1,s||Mi(t,!0)}function ug(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Zt=Zt.return}}function Ma(t){if(t!==Zt)return!1;if(!qe)return ug(t),qe=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vf(t.type,t.memoizedProps)),a=!a),a&&ct&&Mi(t),ug(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ct=ky(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ct=ky(t)}else s===27?(s=ct,Xi(t.type)?(t=Uf,Uf=null,ct=t):ct=s):ct=Zt?Xn(t.stateNode.nextSibling):null;return!0}function $r(){ct=Zt=null,qe=!1}function gd(){var t=ki;return t!==null&&(En===null?En=t:En.push.apply(En,t),ki=null),t}function so(t){ki===null?ki=[t]:ki.push(t)}var yd=D(null),Gr=null,ei=null;function Li(t,s,a){ie(yd,s._currentValue),s._currentValue=a}function ti(t){t._currentValue=yd.current,K(yd)}function vd(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function _d(t,s,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=h;for(var C=0;C<s.length;C++)if(x.context===s[C]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),vd(f.return,a,t),l||(_=null);break e}f=x.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(i(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),vd(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function La(t,s,a,l){t=null;for(var h=s,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var x=h.type;jn(h.pendingProps.value,_.value)||(t!==null?t.push(x):t=[x])}}else if(h===Ve.current){if(_=h.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jo):t=[jo])}h=h.return}t!==null&&_d(s,t,a,l),s.flags|=262144}function Qc(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Gr=t,ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return hg(Gr,t)}function Yc(t,s){return Gr===null&&Kr(t),hg(t,s)}function hg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ei===null){if(t===null)throw Error(i(308));ei=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ei=ei.next=s;return a}var Qx=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Yx=r.unstable_scheduleCallback,Xx=r.unstable_NormalPriority,kt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new Qx,data:new Map,refCount:0}}function io(t){t.refCount--,t.refCount===0&&Yx(Xx,function(){t.controller.abort()})}var ro=null,xd=0,Pa=0,Ua=null;function Jx(t,s){if(ro===null){var a=ro=[];xd=0,Pa=Af(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xd++,s.then(dg,dg),s}function dg(){if(--xd===0&&ro!==null){Ua!==null&&(Ua.status="fulfilled");var t=ro;ro=null,Pa=0,Ua=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Zx(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fg=F.S;F.S=function(t,s){X0=jt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Jx(t,s),fg!==null&&fg(t,s)};var Qr=D(null);function wd(){var t=Qr.current;return t!==null?t:at.pooledCache}function Xc(t,s){s===null?ie(Qr,Qr.current):ie(Qr,s.pool)}function mg(){var t=wd();return t===null?null:{parent:kt._currentValue,pool:t}}var za=Error(i(460)),Ed=Error(i(474)),Jc=Error(i(542)),Zc={then:function(){}};function pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gg(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(rs,rs),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,vg(t),t;default:if(typeof s.status=="string")s.then(rs,rs);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,vg(t),t}throw Xr=s,za}}function Yr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xr=a,za):a}}var Xr=null;function yg(){if(Xr===null)throw Error(i(459));var t=Xr;return Xr=null,t}function vg(t){if(t===za||t===Jc)throw Error(i(483))}var Ba=null,ao=0;function Wc(t){var s=ao;return ao+=1,Ba===null&&(Ba=[]),gg(Ba,t,s)}function lo(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function eu(t,s){throw s.$$typeof===N?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function _g(t){function s(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)s(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Zs(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function x(k,O,P,G){return O===null||O.tag!==6?(O=hd(P,k.mode,G),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,G){var pe=P.type;return pe===J?$(k,O,P.props.children,G,P.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Yr(pe)===O.type)?(O=h(O,P.props),lo(O,P),O.return=k,O):(O=Gc(P.type,P.key,P.props,null,k.mode,G),lo(O,P),O.return=k,O)}function U(k,O,P,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=dd(P,k.mode,G),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function $(k,O,P,G,pe){return O===null||O.tag!==7?(O=Fr(P,k.mode,G,pe),O.return=k,O):(O=h(O,P),O.return=k,O)}function Q(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=hd(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return P=Gc(O.type,O.key,O.props,null,k.mode,P),lo(P,O),P.return=k,P;case X:return O=dd(O,k.mode,P),O.return=k,O;case S:return O=Yr(O),Q(k,O,P)}if(vt(O)||M(O))return O=Fr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return Q(k,Wc(O),P);if(O.$$typeof===ae)return Q(k,Yc(k,O),P);eu(k,O)}return null}function z(k,O,P,G){var pe=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:x(k,O,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===pe?C(k,O,P,G):null;case X:return P.key===pe?U(k,O,P,G):null;case S:return P=Yr(P),z(k,O,P,G)}if(vt(P)||M(P))return pe!==null?null:$(k,O,P,G,null);if(typeof P.then=="function")return z(k,O,Wc(P),G);if(P.$$typeof===ae)return z(k,O,Yc(k,P),G);eu(k,P)}return null}function H(k,O,P,G,pe){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return k=k.get(P)||null,x(O,k,""+G,pe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case q:return k=k.get(G.key===null?P:G.key)||null,C(O,k,G,pe);case X:return k=k.get(G.key===null?P:G.key)||null,U(O,k,G,pe);case S:return G=Yr(G),H(k,O,P,G,pe)}if(vt(G)||M(G))return k=k.get(P)||null,$(O,k,G,pe,null);if(typeof G.then=="function")return H(k,O,P,Wc(G),pe);if(G.$$typeof===ae)return H(k,O,P,Yc(O,G),pe);eu(O,G)}return null}function he(k,O,P,G){for(var pe=null,$e=null,de=O,je=O=0,Me=null;de!==null&&je<P.length;je++){de.index>je?(Me=de,de=null):Me=de.sibling;var Ge=z(k,de,P[je],G);if(Ge===null){de===null&&(de=Me);break}t&&de&&Ge.alternate===null&&s(k,de),O=f(Ge,O,je),$e===null?pe=Ge:$e.sibling=Ge,$e=Ge,de=Me}if(je===P.length)return a(k,de),qe&&Ws(k,je),pe;if(de===null){for(;je<P.length;je++)de=Q(k,P[je],G),de!==null&&(O=f(de,O,je),$e===null?pe=de:$e.sibling=de,$e=de);return qe&&Ws(k,je),pe}for(de=l(de);je<P.length;je++)Me=H(de,k,je,P[je],G),Me!==null&&(t&&Me.alternate!==null&&de.delete(Me.key===null?je:Me.key),O=f(Me,O,je),$e===null?pe=Me:$e.sibling=Me,$e=Me);return t&&de.forEach(function(tr){return s(k,tr)}),qe&&Ws(k,je),pe}function _e(k,O,P,G){if(P==null)throw Error(i(151));for(var pe=null,$e=null,de=O,je=O=0,Me=null,Ge=P.next();de!==null&&!Ge.done;je++,Ge=P.next()){de.index>je?(Me=de,de=null):Me=de.sibling;var tr=z(k,de,Ge.value,G);if(tr===null){de===null&&(de=Me);break}t&&de&&tr.alternate===null&&s(k,de),O=f(tr,O,je),$e===null?pe=tr:$e.sibling=tr,$e=tr,de=Me}if(Ge.done)return a(k,de),qe&&Ws(k,je),pe;if(de===null){for(;!Ge.done;je++,Ge=P.next())Ge=Q(k,Ge.value,G),Ge!==null&&(O=f(Ge,O,je),$e===null?pe=Ge:$e.sibling=Ge,$e=Ge);return qe&&Ws(k,je),pe}for(de=l(de);!Ge.done;je++,Ge=P.next())Ge=H(de,k,je,Ge.value,G),Ge!==null&&(t&&Ge.alternate!==null&&de.delete(Ge.key===null?je:Ge.key),O=f(Ge,O,je),$e===null?pe=Ge:$e.sibling=Ge,$e=Ge);return t&&de.forEach(function(cE){return s(k,cE)}),qe&&Ws(k,je),pe}function it(k,O,P,G){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var pe=P.key;O!==null;){if(O.key===pe){if(pe=P.type,pe===J){if(O.tag===7){a(k,O.sibling),G=h(O,P.props.children),G.return=k,k=G;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Yr(pe)===O.type){a(k,O.sibling),G=h(O,P.props),lo(G,P),G.return=k,k=G;break e}a(k,O);break}else s(k,O);O=O.sibling}P.type===J?(G=Fr(P.props.children,k.mode,G,P.key),G.return=k,k=G):(G=Gc(P.type,P.key,P.props,null,k.mode,G),lo(G,P),G.return=k,k=G)}return _(k);case X:e:{for(pe=P.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),G=h(O,P.children||[]),G.return=k,k=G;break e}else{a(k,O);break}else s(k,O);O=O.sibling}G=dd(P,k.mode,G),G.return=k,k=G}return _(k);case S:return P=Yr(P),it(k,O,P,G)}if(vt(P))return he(k,O,P,G);if(M(P)){if(pe=M(P),typeof pe!="function")throw Error(i(150));return P=pe.call(P),_e(k,O,P,G)}if(typeof P.then=="function")return it(k,O,Wc(P),G);if(P.$$typeof===ae)return it(k,O,Yc(k,P),G);eu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),G=h(O,P),G.return=k,k=G):(a(k,O),G=hd(P,k.mode,G),G.return=k,k=G),_(k)):a(k,O)}return function(k,O,P,G){try{ao=0;var pe=it(k,O,P,G);return Ba=null,pe}catch(de){if(de===za||de===Jc)throw de;var $e=Dn(29,de,null,k.mode);return $e.lanes=G,$e.return=k,$e}}}var Jr=_g(!0),bg=_g(!1),Pi=!1;function Td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zi(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=$c(t),sg(t,null,a),s}return Fc(t,l,s,a),$c(t)}function oo(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,kl(t,a)}}function Sd(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=s:f=f.next=s}else h=f=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Nd=!1;function co(){if(Nd){var t=Ua;if(t!==null)throw t}}function uo(t,s,a,l){Nd=!1;var h=t.updateQueue;Pi=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var C=x,U=C.next;C.next=null,_===null?f=U:_.next=U,_=C;var $=t.alternate;$!==null&&($=$.updateQueue,x=$.lastBaseUpdate,x!==_&&(x===null?$.firstBaseUpdate=U:x.next=U,$.lastBaseUpdate=C))}if(f!==null){var Q=h.baseState;_=0,$=U=C=null,x=f;do{var z=x.lane&-536870913,H=z!==x.lane;if(H?(ke&z)===z:(l&z)===z){z!==0&&z===Pa&&(Nd=!0),$!==null&&($=$.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=t,_e=x;z=s;var it=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){Q=he.call(it,Q,z);break e}Q=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,z=typeof he=="function"?he.call(it,Q,z):he,z==null)break e;Q=A({},Q,z);break e;case 2:Pi=!0}}z=x.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},$===null?(U=$=H,C=Q):$=$.next=H,_|=z;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;H=x,x=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);$===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),$i|=_,t.lanes=_,t.memoizedState=Q}}function xg(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function wg(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)xg(a[t],s)}var qa=D(null),tu=D(0);function Eg(t,s){t=ui,ie(tu,t),ie(qa,s),ui=t|s.baseLanes}function Rd(){ie(tu,ui),ie(qa,qa.current)}function Cd(){ui=tu.current,K(qa),K(tu)}var On=D(null),Yn=null;function Bi(t){var s=t.alternate;ie(Rt,Rt.current&1),ie(On,t),Yn===null&&(s===null||qa.current!==null||s.memoizedState!==null)&&(Yn=t)}function Id(t){ie(Rt,Rt.current),ie(On,t),Yn===null&&(Yn=t)}function Tg(t){t.tag===22?(ie(Rt,Rt.current),ie(On,t),Yn===null&&(Yn=t)):qi()}function qi(){ie(Rt,Rt.current),ie(On,On.current)}function Vn(t){K(On),Yn===t&&(Yn=null),K(Rt)}var Rt=D(0);function nu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Lf(a)||Pf(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ni=0,Ie=null,nt=null,Mt=null,su=!1,Ha=!1,Zr=!1,iu=0,ho=0,Fa=null,Wx=0;function Et(){throw Error(i(321))}function jd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!jn(t[a],s[a]))return!1;return!0}function Dd(t,s,a,l,h,f){return ni=f,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=t===null||t.memoizedState===null?l0:Kd,Zr=!1,f=a(l,h),Zr=!1,Ha&&(f=Sg(s,a,l,h)),Ag(t),f}function Ag(t){F.H=po;var s=nt!==null&&nt.next!==null;if(ni=0,Mt=nt=Ie=null,su=!1,ho=0,Fa=null,s)throw Error(i(300));t===null||Lt||(t=t.dependencies,t!==null&&Qc(t)&&(Lt=!0))}function Sg(t,s,a,l){Ie=t;var h=0;do{if(Ha&&(Fa=null),ho=0,Ha=!1,25<=h)throw Error(i(301));if(h+=1,Mt=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=o0,f=s(a,l)}while(Ha);return f}function ew(){var t=F.H,s=t.useState()[0];return s=typeof s.then=="function"?fo(s):s,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ie.flags|=1024),s}function Od(){var t=iu!==0;return iu=0,t}function Vd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function kd(t){if(su){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}su=!1}ni=0,Mt=nt=Ie=null,Ha=!1,ho=iu=0,Fa=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ie.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Ct(){if(nt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var s=Mt===null?Ie.memoizedState:Mt.next;if(s!==null)Mt=s,nt=t;else{if(t===null)throw Ie.alternate===null?Error(i(467)):Error(i(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Mt===null?Ie.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(t){var s=ho;return ho+=1,Fa===null&&(Fa=[]),t=gg(Fa,t,s),s=Ie,(Mt===null?s.memoizedState:Mt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?l0:Kd),t}function au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fo(t);if(t.$$typeof===ae)return Wt(t)}throw Error(i(438,String(t)))}function Md(t){var s=null,a=Ie.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=ru(),Ie.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=V;return s.index++,a}function si(t,s){return typeof s=="function"?s(t):s}function lu(t){var s=Ct();return Ld(s,nt,t)}function Ld(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}s.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{s=h.next;var x=_=null,C=null,U=s,$=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(ke&Q)===Q:(ni&Q)===Q){var z=U.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===Pa&&($=!0);else if((ni&z)===z){U=U.next,z===Pa&&($=!0);continue}else Q={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(x=C=Q,_=f):C=C.next=Q,Ie.lanes|=z,$i|=z;Q=U.action,Zr&&a(f,Q),f=U.hasEagerState?U.eagerState:a(f,Q)}else z={lane:Q,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(x=C=z,_=f):C=C.next=z,Ie.lanes|=Q,$i|=Q;U=U.next}while(U!==null&&U!==s);if(C===null?_=f:C.next=x,!jn(f,t.memoizedState)&&(Lt=!0,$&&(a=Ua,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pd(t){var s=Ct(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);jn(f,s.memoizedState)||(Lt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,l]}function Ng(t,s,a){var l=Ie,h=Ct(),f=qe;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=s();var _=!jn((nt||h).memoizedState,a);if(_&&(h.memoizedState=a,Lt=!0),h=h.queue,Bd(Ig.bind(null,l,h,t),[t]),h.getSnapshot!==s||_||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,$a(9,{destroy:void 0},Cg.bind(null,l,h,a,s),null),at===null)throw Error(i(349));f||(ni&127)!==0||Rg(l,s,a)}return a}function Rg(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ie.updateQueue,s===null?(s=ru(),Ie.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Cg(t,s,a,l){s.value=a,s.getSnapshot=l,jg(s)&&Dg(t)}function Ig(t,s,a){return a(function(){jg(s)&&Dg(t)})}function jg(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!jn(t,a)}catch{return!0}}function Dg(t){var s=Hr(t,2);s!==null&&Tn(s,t,2)}function Ud(t){var s=pn();if(typeof t=="function"){var a=t;if(t=a(),Zr){yn(!0);try{a()}finally{yn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},s}function Og(t,s,a,l){return t.baseState=a,Ld(t,nt,typeof l=="function"?l:si)}function tw(t,s,a,l,h){if(uu(t))throw Error(i(485));if(t=s.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=s.pending,a===null?(f.next=s.pending=f,Vg(s,f)):(f.next=a.next,s.pending=a.next=f)}}function Vg(t,s){var a=s.action,l=s.payload,h=t.state;if(s.isTransition){var f=F.T,_={};F.T=_;try{var x=a(h,l),C=F.S;C!==null&&C(_,x),kg(t,s,x)}catch(U){zd(t,s,U)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,l),kg(t,s,f)}catch(U){zd(t,s,U)}}function kg(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mg(t,s,l)},function(l){return zd(t,s,l)}):Mg(t,s,a)}function Mg(t,s,a){s.status="fulfilled",s.value=a,Lg(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Vg(t,a)))}function zd(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Lg(s),s=s.next;while(s!==l)}t.action=null}function Lg(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Pg(t,s){return s}function Ug(t,s){if(qe){var a=at.formState;if(a!==null){e:{var l=Ie;if(qe){if(ct){t:{for(var h=ct,f=Qn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ct=Xn(h.nextSibling),l=h.data==="F!";break e}}Mi(l)}l=!1}l&&(s=a[0])}}return a=pn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:s},a.queue=l,a=i0.bind(null,Ie,l),l.dispatch=a,l=Ud(!1),f=Gd.bind(null,Ie,!1,l.queue),l=pn(),h={state:s,dispatch:null,action:t,pending:null},l.queue=h,a=tw.bind(null,Ie,h,f,a),h.dispatch=a,l.memoizedState=t,[s,a,!1]}function zg(t){var s=Ct();return Bg(s,nt,t)}function Bg(t,s,a){if(s=Ld(t,s,Pg)[0],t=lu(si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=fo(s)}catch(_){throw _===za?Jc:_}else l=s;s=Ct();var h=s.queue,f=h.dispatch;return a!==s.memoizedState&&(Ie.flags|=2048,$a(9,{destroy:void 0},nw.bind(null,h,a),null)),[l,f,t]}function nw(t,s){t.action=s}function qg(t){var s=Ct(),a=nt;if(a!==null)return Bg(s,a,t);Ct(),s=s.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function $a(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=ru(),Ie.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Hg(){return Ct().memoizedState}function ou(t,s,a,l){var h=pn();Ie.flags|=t,h.memoizedState=$a(1|s,{destroy:void 0},a,l===void 0?null:l)}function cu(t,s,a,l){var h=Ct();l=l===void 0?null:l;var f=h.memoizedState.inst;nt!==null&&l!==null&&jd(l,nt.memoizedState.deps)?h.memoizedState=$a(s,f,a,l):(Ie.flags|=t,h.memoizedState=$a(1|s,f,a,l))}function Fg(t,s){ou(8390656,8,t,s)}function Bd(t,s){cu(2048,8,t,s)}function sw(t){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=ru(),Ie.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function $g(t){var s=Ct().memoizedState;return sw({ref:s,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Gg(t,s){return cu(4,2,t,s)}function Kg(t,s){return cu(4,4,t,s)}function Qg(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Yg(t,s,a){a=a!=null?a.concat([t]):null,cu(4,4,Qg.bind(null,s,t),a)}function qd(){}function Xg(t,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&jd(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function Jg(t,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&jd(s,l[1]))return l[0];if(l=t(),Zr){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,s],l}function Hd(t,s,a){return a===void 0||(ni&1073741824)!==0&&(ke&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Z0(),Ie.lanes|=t,$i|=t,a)}function Zg(t,s,a,l){return jn(a,s)?a:qa.current!==null?(t=Hd(t,a,l),jn(t,s)||(Lt=!0),t):(ni&42)===0||(ni&1073741824)!==0&&(ke&261930)===0?(Lt=!0,t.memoizedState=a):(t=Z0(),Ie.lanes|=t,$i|=t,s)}function Wg(t,s,a,l,h){var f=se.p;se.p=f!==0&&8>f?f:8;var _=F.T,x={};F.T=x,Gd(t,!1,s,a);try{var C=h(),U=F.S;if(U!==null&&U(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=Zx(C,l);mo(t,s,$,Ln(t))}else mo(t,s,l,Ln(t))}catch(Q){mo(t,s,{then:function(){},status:"rejected",reason:Q},Ln())}finally{se.p=f,_!==null&&x.types!==null&&(_.types=x.types),F.T=_}}function iw(){}function Fd(t,s,a,l){if(t.tag!==5)throw Error(i(476));var h=e0(t).queue;Wg(t,h,s,me,a===null?iw:function(){return t0(t),a(l)})}function e0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:me},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function t0(t){var s=e0(t);s.next===null&&(s=t.alternate.memoizedState),mo(t,s.next.queue,{},Ln())}function $d(){return Wt(jo)}function n0(){return Ct().memoizedState}function s0(){return Ct().memoizedState}function rw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Ln();t=Ui(a);var l=zi(s,t,a);l!==null&&(Tn(l,s,a),oo(l,s,a)),s={cache:bd()},t.payload=s;return}s=s.return}}function aw(t,s,a){var l=Ln();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uu(t)?r0(s,a):(a=cd(t,s,a,l),a!==null&&(Tn(a,t,l),a0(a,s,l)))}function i0(t,s,a){var l=Ln();mo(t,s,a,l)}function mo(t,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uu(t))r0(s,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var _=s.lastRenderedState,x=f(_,a);if(h.hasEagerState=!0,h.eagerState=x,jn(x,_))return Fc(t,s,h,0),at===null&&Hc(),!1}catch{}if(a=cd(t,s,h,l),a!==null)return Tn(a,t,l),a0(a,s,l),!0}return!1}function Gd(t,s,a,l){if(l={lane:2,revertLane:Af(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uu(t)){if(s)throw Error(i(479))}else s=cd(t,a,l,2),s!==null&&Tn(s,t,2)}function uu(t){var s=t.alternate;return t===Ie||s!==null&&s===Ie}function r0(t,s){Ha=su=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function a0(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,kl(t,a)}}var po={readContext:Wt,use:au,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};po.useEffectEvent=Et;var l0={readContext:Wt,use:au,useCallback:function(t,s){return pn().memoizedState=[t,s===void 0?null:s],t},useContext:Wt,useEffect:Fg,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,ou(4194308,4,Qg.bind(null,s,t),a)},useLayoutEffect:function(t,s){return ou(4194308,4,t,s)},useInsertionEffect:function(t,s){ou(4,2,t,s)},useMemo:function(t,s){var a=pn();s=s===void 0?null:s;var l=t();if(Zr){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=pn();if(a!==void 0){var h=a(s);if(Zr){yn(!0);try{a(s)}finally{yn(!1)}}}else h=s;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=aw.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var s=pn();return t={current:t},s.memoizedState=t},useState:function(t){t=Ud(t);var s=t.queue,a=i0.bind(null,Ie,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:qd,useDeferredValue:function(t,s){var a=pn();return Hd(a,t,s)},useTransition:function(){var t=Ud(!1);return t=Wg.bind(null,Ie,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Ie,h=pn();if(qe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),at===null)throw Error(i(349));(ke&127)!==0||Rg(l,s,a)}h.memoizedState=a;var f={value:a,getSnapshot:s};return h.queue=f,Fg(Ig.bind(null,l,f,t),[t]),l.flags|=2048,$a(9,{destroy:void 0},Cg.bind(null,l,f,a,s),null),a},useId:function(){var t=pn(),s=at.identifierPrefix;if(qe){var a=ks,l=Vs;a=(l&~(1<<32-bt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=iu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Wx++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:$d,useFormState:Ug,useActionState:Ug,useOptimistic:function(t){var s=pn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Gd.bind(null,Ie,!0,a),a.dispatch=s,[t,s]},useMemoCache:Md,useCacheRefresh:function(){return pn().memoizedState=rw.bind(null,Ie)},useEffectEvent:function(t){var s=pn(),a={impl:t};return s.memoizedState=a,function(){if((Qe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Kd={readContext:Wt,use:au,useCallback:Xg,useContext:Wt,useEffect:Bd,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:Kg,useMemo:Jg,useReducer:lu,useRef:Hg,useState:function(){return lu(si)},useDebugValue:qd,useDeferredValue:function(t,s){var a=Ct();return Zg(a,nt.memoizedState,t,s)},useTransition:function(){var t=lu(si)[0],s=Ct().memoizedState;return[typeof t=="boolean"?t:fo(t),s]},useSyncExternalStore:Ng,useId:n0,useHostTransitionStatus:$d,useFormState:zg,useActionState:zg,useOptimistic:function(t,s){var a=Ct();return Og(a,nt,t,s)},useMemoCache:Md,useCacheRefresh:s0};Kd.useEffectEvent=$g;var o0={readContext:Wt,use:au,useCallback:Xg,useContext:Wt,useEffect:Bd,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:Kg,useMemo:Jg,useReducer:Pd,useRef:Hg,useState:function(){return Pd(si)},useDebugValue:qd,useDeferredValue:function(t,s){var a=Ct();return nt===null?Hd(a,t,s):Zg(a,nt.memoizedState,t,s)},useTransition:function(){var t=Pd(si)[0],s=Ct().memoizedState;return[typeof t=="boolean"?t:fo(t),s]},useSyncExternalStore:Ng,useId:n0,useHostTransitionStatus:$d,useFormState:qg,useActionState:qg,useOptimistic:function(t,s){var a=Ct();return nt!==null?Og(a,nt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Md,useCacheRefresh:s0};o0.useEffectEvent=$g;function Qd(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:A({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yd={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Ln(),h=Ui(l);h.payload=s,a!=null&&(h.callback=a),s=zi(t,h,l),s!==null&&(Tn(s,t,l),oo(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Ln(),h=Ui(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=zi(t,h,l),s!==null&&(Tn(s,t,l),oo(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Ln(),l=Ui(a);l.tag=2,s!=null&&(l.callback=s),s=zi(t,l,a),s!==null&&(Tn(s,t,a),oo(s,t,a))}};function c0(t,s,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):s.prototype&&s.prototype.isPureReactComponent?!eo(a,l)||!eo(h,f):!0}function u0(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Yd.enqueueReplaceState(s,s.state,null)}function Wr(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function h0(t){qc(t)}function d0(t){console.error(t)}function f0(t){qc(t)}function hu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function m0(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xd(t,s,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){hu(t,s)},a}function p0(t){return t=Ui(t),t.tag=3,t}function g0(t,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){m0(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){m0(s,a,l),typeof h!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function lw(t,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&La(s,a,h,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?Eu():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Zc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),wf(t,l,h)),!1;case 22:return a.flags|=65536,l===Zc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),wf(t,l,h)),!1}throw Error(i(435,a.tag))}return wf(t,l,h),Eu(),!1}if(qe)return s=On.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==pd&&(t=Error(i(422),{cause:l}),so($n(t,a)))):(l!==pd&&(s=Error(i(423),{cause:l}),so($n(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=$n(l,a),h=Xd(t.stateNode,l,h),Sd(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(i(520),{cause:l});if(f=$n(f,a),Eo===null?Eo=[f]:Eo.push(f),Tt!==4&&(Tt=2),s===null)return!0;l=$n(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xd(a.stateNode,l,t),Sd(a,t),!1;case 1:if(s=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gi===null||!Gi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=p0(h),g0(h,t,a,l),Sd(a,h),!1}a=a.return}while(a!==null);return!1}var Jd=Error(i(461)),Lt=!1;function en(t,s,a,l){s.child=t===null?bg(s,null,a,l):Jr(s,t.child,a,l)}function y0(t,s,a,l,h){a=a.render;var f=s.ref;if("ref"in l){var _={};for(var x in l)x!=="ref"&&(_[x]=l[x])}else _=l;return Kr(s),l=Dd(t,s,a,_,f,h),x=Od(),t!==null&&!Lt?(Vd(t,s,h),ii(t,s,h)):(qe&&x&&fd(s),s.flags|=1,en(t,s,l,h),s.child)}function v0(t,s,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!ud(f)&&f.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=f,_0(t,s,f,l,h)):(t=Gc(a.type,null,l,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!af(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:eo,a(_,l)&&t.ref===s.ref)return ii(t,s,h)}return s.flags|=1,t=Zs(f,l),t.ref=s.ref,t.return=s,s.child=t}function _0(t,s,a,l,h){if(t!==null){var f=t.memoizedProps;if(eo(f,l)&&t.ref===s.ref)if(Lt=!1,s.pendingProps=l=f,af(t,h))(t.flags&131072)!==0&&(Lt=!0);else return s.lanes=t.lanes,ii(t,s,h)}return Zd(t,s,a,l,h)}function b0(t,s,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=s.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,s.child=null;return x0(t,s,f,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xc(s,f!==null?f.cachePool:null),f!==null?Eg(s,f):Rd(),Tg(s);else return l=s.lanes=536870912,x0(t,s,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Xc(s,f.cachePool),Eg(s,f),qi(),s.memoizedState=null):(t!==null&&Xc(s,null),Rd(),qi());return en(t,s,h,a),s.child}function go(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function x0(t,s,a,l,h){var f=wd();return f=f===null?null:{parent:kt._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},t!==null&&Xc(s,null),Rd(),Tg(s),t!==null&&La(t,s,l,!0),s.childLanes=h,null}function du(t,s){return s=mu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function w0(t,s,a){return Jr(s,t.child,null,a),t=du(s,s.pendingProps),t.flags|=2,Vn(s),s.memoizedState=null,t}function ow(t,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=du(s,l),s.lanes=536870912,go(null,t);if(Id(s),(t=ct)?(t=Vy(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Vi!==null?{id:Vs,overflow:ks}:null,retryLane:536870912,hydrationErrors:null},a=rg(t),a.return=s,s.child=a,Zt=s,ct=null)):t=null,t===null)throw Mi(s);return s.lanes=536870912,null}return du(s,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Id(s),h)if(s.flags&256)s.flags&=-257,s=w0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Lt||La(t,s,a,!1),h=(a&t.childLanes)!==0,Lt||h){if(l=at,l!==null&&(_=Ml(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Hr(t,_),Tn(l,t,_),Jd;Eu(),s=w0(t,s,a)}else t=f.treeContext,ct=Xn(_.nextSibling),Zt=s,qe=!0,ki=null,Qn=!1,t!==null&&og(s,t),s=du(s,l),s.flags|=4096;return s}return t=Zs(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function fu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Zd(t,s,a,l,h){return Kr(s),a=Dd(t,s,a,l,void 0,h),l=Od(),t!==null&&!Lt?(Vd(t,s,h),ii(t,s,h)):(qe&&l&&fd(s),s.flags|=1,en(t,s,a,h),s.child)}function E0(t,s,a,l,h,f){return Kr(s),s.updateQueue=null,a=Sg(s,l,a,h),Ag(t),l=Od(),t!==null&&!Lt?(Vd(t,s,f),ii(t,s,f)):(qe&&l&&fd(s),s.flags|=1,en(t,s,a,f),s.child)}function T0(t,s,a,l,h){if(Kr(s),s.stateNode===null){var f=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Wt(_)),f=new a(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yd,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},Td(s),_=a.contextType,f.context=typeof _=="object"&&_!==null?Wt(_):Oa,f.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qd(s,a,_,l),f.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Yd.enqueueReplaceState(f,f.state,null),uo(s,l,f,h),co(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){f=s.stateNode;var x=s.memoizedProps,C=Wr(a,x);f.props=C;var U=f.context,$=a.contextType;_=Oa,typeof $=="object"&&$!==null&&(_=Wt($));var Q=a.getDerivedStateFromProps;$=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||U!==_)&&u0(s,f,l,_),Pi=!1;var z=s.memoizedState;f.state=z,uo(s,l,f,h),co(),U=s.memoizedState,x||z!==U||Pi?(typeof Q=="function"&&(Qd(s,a,Q,l),U=s.memoizedState),(C=Pi||c0(s,a,C,l,z,U,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=U),f.props=l,f.state=U,f.context=_,l=C):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,Ad(t,s),_=s.memoizedProps,$=Wr(a,_),f.props=$,Q=s.pendingProps,z=f.context,U=a.contextType,C=Oa,typeof U=="object"&&U!==null&&(C=Wt(U)),x=a.getDerivedStateFromProps,(U=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Q||z!==C)&&u0(s,f,l,C),Pi=!1,z=s.memoizedState,f.state=z,uo(s,l,f,h),co();var H=s.memoizedState;_!==Q||z!==H||Pi||t!==null&&t.dependencies!==null&&Qc(t.dependencies)?(typeof x=="function"&&(Qd(s,a,x,l),H=s.memoizedState),($=Pi||c0(s,a,$,l,z,H,C)||t!==null&&t.dependencies!==null&&Qc(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=H),f.props=l,f.state=H,f.context=C,l=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=1024),l=!1)}return f=l,fu(t,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&l?(s.child=Jr(s,t.child,null,h),s.child=Jr(s,null,a,h)):en(t,s,a,h),s.memoizedState=f.state,t=s.child):t=ii(t,s,h),t}function A0(t,s,a,l){return $r(),s.flags|=256,en(t,s,a,l),s.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(t){return{baseLanes:t,cachePool:mg()}}function tf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Mn),t}function S0(t,s,a){var l=s.pendingProps,h=!1,f=(s.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(qe){if(h?Bi(s):qi(),(t=ct)?(t=Vy(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Vi!==null?{id:Vs,overflow:ks}:null,retryLane:536870912,hydrationErrors:null},a=rg(t),a.return=s,s.child=a,Zt=s,ct=null)):t=null,t===null)throw Mi(s);return Pf(t)?s.lanes=32:s.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(qi(),h=s.mode,x=mu({mode:"hidden",children:x},h),l=Fr(l,h,a,null),x.return=s,l.return=s,x.sibling=l,s.child=x,l=s.child,l.memoizedState=ef(a),l.childLanes=tf(t,_,a),s.memoizedState=Wd,go(null,l)):(Bi(s),nf(s,x))}var C=t.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(f)s.flags&256?(Bi(s),s.flags&=-257,s=sf(t,s,a)):s.memoizedState!==null?(qi(),s.child=t.child,s.flags|=128,s=null):(qi(),x=l.fallback,h=s.mode,l=mu({mode:"visible",children:l.children},h),x=Fr(x,h,a,null),x.flags|=2,l.return=s,x.return=s,l.sibling=x,s.child=l,Jr(s,t.child,null,a),l=s.child,l.memoizedState=ef(a),l.childLanes=tf(t,_,a),s.memoizedState=Wd,s=go(null,l));else if(Bi(s),Pf(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(i(419)),l.stack="",l.digest=_,so({value:l,source:null,stack:null}),s=sf(t,s,a)}else if(Lt||La(t,s,a,!1),_=(a&t.childLanes)!==0,Lt||_){if(_=at,_!==null&&(l=Ml(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Hr(t,l),Tn(_,t,l),Jd;Lf(x)||Eu(),s=sf(t,s,a)}else Lf(x)?(s.flags|=192,s.child=t.child,s=null):(t=C.treeContext,ct=Xn(x.nextSibling),Zt=s,qe=!0,ki=null,Qn=!1,t!==null&&og(s,t),s=nf(s,l.children),s.flags|=4096);return s}return h?(qi(),x=l.fallback,h=s.mode,C=t.child,U=C.sibling,l=Zs(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,U!==null?x=Zs(U,x):(x=Fr(x,h,a,null),x.flags|=2),x.return=s,l.return=s,l.sibling=x,s.child=l,go(null,l),l=s.child,x=t.child.memoizedState,x===null?x=ef(a):(h=x.cachePool,h!==null?(C=kt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=mg(),x={baseLanes:x.baseLanes|a,cachePool:h}),l.memoizedState=x,l.childLanes=tf(t,_,a),s.memoizedState=Wd,go(t.child,l)):(Bi(s),a=t.child,t=a.sibling,a=Zs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function nf(t,s){return s=mu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function mu(t,s){return t=Dn(22,t,null,s),t.lanes=0,t}function sf(t,s,a){return Jr(s,t.child,null,a),t=nf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function N0(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),vd(t.return,s,a)}function rf(t,s,a,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function R0(t,s,a){var l=s.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=Rt.current,x=(_&2)!==0;if(x?(_=_&1|2,s.flags|=128):_&=1,ie(Rt,_),en(t,s,l,a),l=qe?no:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N0(t,a,s);else if(t.tag===19)N0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&nu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),rf(s,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&nu(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}rf(s,!0,a,null,f,l);break;case"together":rf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ii(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),$i|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(La(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Zs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Zs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function af(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Qc(t)))}function cw(t,s,a){switch(s.tag){case 3:wt(s,s.stateNode.containerInfo),Li(s,kt,t.memoizedState.cache),$r();break;case 27:case 5:$s(s);break;case 4:wt(s,s.stateNode.containerInfo);break;case 10:Li(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Id(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Bi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?S0(t,s,a):(Bi(s),t=ii(t,s,a),t!==null?t.sibling:null);Bi(s);break;case 19:var h=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(La(t,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return R0(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Rt,Rt.current),l)break;return null;case 22:return s.lanes=0,b0(t,s,a,s.pendingProps);case 24:Li(s,kt,t.memoizedState.cache)}return ii(t,s,a)}function C0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Lt=!0;else{if(!af(t,a)&&(s.flags&128)===0)return Lt=!1,cw(t,s,a);Lt=(t.flags&131072)!==0}else Lt=!1,qe&&(s.flags&1048576)!==0&&lg(s,no,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Yr(s.elementType),s.type=t,typeof t=="function")ud(t)?(l=Wr(t,l),s.tag=1,s=T0(null,s,t,l,a)):(s.tag=0,s=Zd(null,s,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===be){s.tag=11,s=y0(null,s,t,l,a);break e}else if(h===I){s.tag=14,s=v0(null,s,t,l,a);break e}}throw s=lt(t)||t,Error(i(306,s,""))}}return s;case 0:return Zd(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=Wr(l,s.pendingProps),T0(t,s,l,h,a);case 3:e:{if(wt(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var f=s.memoizedState;h=f.element,Ad(t,s),uo(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Li(s,kt,l),l!==f.cache&&_d(s,[kt],a,!0),co(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=A0(t,s,l,a);break e}else if(l!==h){h=$n(Error(i(424)),s),so(h),s=A0(t,s,l,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ct=Xn(t.firstChild),Zt=s,qe=!0,ki=null,Qn=!0,a=bg(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if($r(),l===h){s=ii(t,s,a);break e}en(t,s,l,a)}s=s.child}return s;case 26:return fu(t,s),t===null?(a=zy(s.type,null,s.pendingProps,null))?s.memoizedState=a:qe||(a=s.type,t=s.pendingProps,l=Iu(Ae.current).createElement(a),l[Dt]=s,l[Gt]=t,tn(l,a,t),Ot(l),s.stateNode=l):s.memoizedState=zy(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return $s(s),t===null&&qe&&(l=s.stateNode=Ly(s.type,s.pendingProps,Ae.current),Zt=s,Qn=!0,h=ct,Xi(s.type)?(Uf=h,ct=Xn(l.firstChild)):ct=h),en(t,s,s.pendingProps.children,a),fu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&qe&&((h=l=ct)&&(l=Uw(l,s.type,s.pendingProps,Qn),l!==null?(s.stateNode=l,Zt=s,ct=Xn(l.firstChild),Qn=!1,h=!0):h=!1),h||Mi(s)),$s(s),h=s.type,f=s.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Vf(h,f)?l=null:_!==null&&Vf(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=Dd(t,s,ew,null,null,a),jo._currentValue=h),fu(t,s),en(t,s,l,a),s.child;case 6:return t===null&&qe&&((t=a=ct)&&(a=zw(a,s.pendingProps,Qn),a!==null?(s.stateNode=a,Zt=s,ct=null,t=!0):t=!1),t||Mi(s)),null;case 13:return S0(t,s,a);case 4:return wt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Jr(s,null,l,a):en(t,s,l,a),s.child;case 11:return y0(t,s,s.type,s.pendingProps,a);case 7:return en(t,s,s.pendingProps,a),s.child;case 8:return en(t,s,s.pendingProps.children,a),s.child;case 12:return en(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Li(s,s.type,l.value),en(t,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,Kr(s),h=Wt(h),l=l(h),s.flags|=1,en(t,s,l,a),s.child;case 14:return v0(t,s,s.type,s.pendingProps,a);case 15:return _0(t,s,s.type,s.pendingProps,a);case 19:return R0(t,s,a);case 31:return ow(t,s,a);case 22:return b0(t,s,a,s.pendingProps);case 24:return Kr(s),l=Wt(kt),t===null?(h=wd(),h===null&&(h=at,f=bd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),s.memoizedState={parent:l,cache:h},Td(s),Li(s,kt,h)):((t.lanes&a)!==0&&(Ad(t,s),uo(s,null,null,a),co()),h=t.memoizedState,f=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Li(s,kt,l)):(l=f.cache,Li(s,kt,l),l!==h.cache&&_d(s,[kt],a,!0))),en(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ri(t){t.flags|=4}function lf(t,s,a,l,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ny())t.flags|=8192;else throw Xr=Zc,Ed}else t.flags&=-16777217}function I0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$y(s))if(ny())t.flags|=8192;else throw Xr=Zc,Ed}function pu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?xc():536870912,t.lanes|=s,Ya|=s)}function yo(t,s){if(!qe)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function uw(t,s,a){var l=s.pendingProps;switch(md(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ti(kt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(s)?ri(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gd())),ut(s),null;case 26:var h=s.type,f=s.memoizedState;return t===null?(ri(s),f!==null?(ut(s),I0(s,f)):(ut(s),lf(s,h,null,l,a))):f?f!==t.memoizedState?(ri(s),ut(s),I0(s,f)):(ut(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&ri(s),ut(s),lf(s,h,t,l,a)),null;case 27:if(Xt(s),a=Ae.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ri(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ut(s),null}t=oe.current,Ma(s)?cg(s):(t=Ly(h,l,a),s.stateNode=t,ri(s))}return ut(s),null;case 5:if(Xt(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ri(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ut(s),null}if(f=oe.current,Ma(s))cg(s);else{var _=Iu(Ae.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[Dt]=s,f[Gt]=l;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=f;e:switch(tn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ri(s)}}return ut(s),lf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ri(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=Ae.current,Ma(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Sy(t.nodeValue,a)),t||Mi(s,!0)}else t=Iu(t).createTextNode(l),t[Dt]=s,s.stateNode=t}return ut(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Dt]=s}else $r(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),t=!1}else a=gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Vn(s),s):(Vn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ut(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(s),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Dt]=s}else $r(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),h=!1}else h=gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Vn(s),s):(Vn(s),null)}return Vn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),pu(s,s.updateQueue),ut(s),null);case 4:return rt(),t===null&&Cf(s.stateNode.containerInfo),ut(s),null;case 10:return ti(s.type),ut(s),null;case 19:if(K(Rt),l=s.memoizedState,l===null)return ut(s),null;if(h=(s.flags&128)!==0,f=l.rendering,f===null)if(h)yo(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=nu(t),f!==null){for(s.flags|=128,yo(l,!1),t=f.updateQueue,s.updateQueue=t,pu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)ig(a,t),a=a.sibling;return ie(Rt,Rt.current&1|2),qe&&Ws(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&jt()>bu&&(s.flags|=128,h=!0,yo(l,!1),s.lanes=4194304)}else{if(!h)if(t=nu(f),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,pu(s,t),yo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return ut(s),null}else 2*jt()-l.renderingStartTime>bu&&a!==536870912&&(s.flags|=128,h=!0,yo(l,!1),s.lanes=4194304);l.isBackwards?(f.sibling=s.child,s.child=f):(t=l.last,t!==null?t.sibling=f:s.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=jt(),t.sibling=null,a=Rt.current,ie(Rt,h?a&1|2:a&1),qe&&Ws(s,l.treeForkCount),t):(ut(s),null);case 22:case 23:return Vn(s),Cd(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),a=s.updateQueue,a!==null&&pu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&K(Qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ti(kt),ut(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function hw(t,s){switch(md(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ti(kt),rt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Xt(s),null;case 31:if(s.memoizedState!==null){if(Vn(s),s.alternate===null)throw Error(i(340));$r()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Vn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));$r()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return K(Rt),null;case 4:return rt(),null;case 10:return ti(s.type),null;case 22:case 23:return Vn(s),Cd(),t!==null&&K(Qr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ti(kt),null;case 25:return null;default:return null}}function j0(t,s){switch(md(s),s.tag){case 3:ti(kt),rt();break;case 26:case 27:case 5:Xt(s);break;case 4:rt();break;case 31:s.memoizedState!==null&&Vn(s);break;case 13:Vn(s);break;case 19:K(Rt);break;case 10:ti(s.type);break;case 22:case 23:Vn(s),Cd(),t!==null&&K(Qr);break;case 24:ti(kt)}}function vo(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(x){Ze(s,s.return,x)}}function Hi(t,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,h=s;var C=a,U=x;try{U()}catch($){Ze(h,C,$)}}}l=l.next}while(l!==f)}}catch($){Ze(s,s.return,$)}}function D0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{wg(s,a)}catch(l){Ze(t,t.return,l)}}}function O0(t,s,a){a.props=Wr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,s,l)}}function _o(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,s,h)}}function Ms(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,s,h)}else a.current=null}function V0(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function of(t,s,a){try{var l=t.stateNode;Ow(l,t.type,a,s),l[Gt]=s}catch(h){Ze(t,t.return,h)}}function k0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xi(t.type)||t.tag===4}function cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=rs));else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(uf(t,s,a),t=t.sibling;t!==null;)uf(t,s,a),t=t.sibling}function gu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gu(t,s,a),t=t.sibling;t!==null;)gu(t,s,a),t=t.sibling}function M0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);tn(s,l,a),s[Dt]=t,s[Gt]=a}catch(f){Ze(t,t.return,f)}}var ai=!1,Pt=!1,hf=!1,L0=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function dw(t,s){if(t=t.containerInfo,Df=Lu,t=Yp(t),sd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,x=-1,C=-1,U=0,$=0,Q=t,z=null;t:for(;;){for(var H;Q!==a||h!==0&&Q.nodeType!==3||(x=_+h),Q!==f||l!==0&&Q.nodeType!==3||(C=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(H=Q.firstChild)!==null;)z=Q,Q=H;for(;;){if(Q===t)break t;if(z===a&&++U===h&&(x=_),z===f&&++$===l&&(C=_),(H=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=H}a=x===-1||C===-1?null:{start:x,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Of={focusedElem:t,selectionRange:a},Lu=!1,Qt=s;Qt!==null;)if(s=Qt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Qt=t;else for(;Qt!==null;){switch(s=Qt,f=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=s,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=Wr(a.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Mf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Mf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Qt=t;break}Qt=s.return}}function P0(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:oi(t,a),l&4&&vo(5,a);break;case 1:if(oi(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=Wr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&D0(a),l&512&&_o(a,a.return);break;case 3:if(oi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{wg(t,s)}catch(_){Ze(a,a.return,_)}}break;case 27:s===null&&l&4&&M0(a);case 26:case 5:oi(t,a),s===null&&l&4&&V0(a),l&512&&_o(a,a.return);break;case 12:oi(t,a);break;case 31:oi(t,a),l&4&&B0(t,a);break;case 13:oi(t,a),l&4&&q0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xw.bind(null,a),Bw(t,a))));break;case 22:if(l=a.memoizedState!==null||ai,!l){s=s!==null&&s.memoizedState!==null||Pt,h=ai;var f=Pt;ai=l,(Pt=s)&&!f?ci(t,a,(a.subtreeFlags&8772)!==0):oi(t,a),ai=h,Pt=f}break;case 30:break;default:oi(t,a)}}function U0(t){var s=t.alternate;s!==null&&(t.alternate=null,U0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&_a(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,bn=!1;function li(t,s,a){for(a=a.child;a!==null;)z0(t,s,a),a=a.sibling}function z0(t,s,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Rn,a)}catch{}switch(a.tag){case 26:Pt||Ms(a,s),li(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||Ms(a,s);var l=yt,h=bn;Xi(a.type)&&(yt=a.stateNode,bn=!1),li(t,s,a),Ro(a.stateNode),yt=l,bn=h;break;case 5:Pt||Ms(a,s);case 6:if(l=yt,h=bn,yt=null,li(t,s,a),yt=l,bn=h,yt!==null)if(bn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(f){Ze(a,s,f)}else try{yt.removeChild(a.stateNode)}catch(f){Ze(a,s,f)}break;case 18:yt!==null&&(bn?(t=yt,Dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),sl(t)):Dy(yt,a.stateNode));break;case 4:l=yt,h=bn,yt=a.stateNode.containerInfo,bn=!0,li(t,s,a),yt=l,bn=h;break;case 0:case 11:case 14:case 15:Hi(2,a,s),Pt||Hi(4,a,s),li(t,s,a);break;case 1:Pt||(Ms(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&O0(a,s,l)),li(t,s,a);break;case 21:li(t,s,a);break;case 22:Pt=(l=Pt)||a.memoizedState!==null,li(t,s,a),Pt=l;break;default:li(t,s,a)}}function B0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(a){Ze(s,s.return,a)}}}function q0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(a){Ze(s,s.return,a)}}function fw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new L0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new L0),s;default:throw Error(i(435,t.tag))}}function yu(t,s){var a=fw(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=ww.bind(null,t,l);l.then(h,h)}})}function xn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=s,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(Xi(x.type)){yt=x.stateNode,bn=!1;break e}break;case 5:yt=x.stateNode,bn=!1;break e;case 3:case 4:yt=x.stateNode.containerInfo,bn=!0;break e}x=x.return}if(yt===null)throw Error(i(160));z0(f,_,h),yt=null,bn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)H0(s,t),s=s.sibling}var hs=null;function H0(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(s,t),wn(t),l&4&&(Hi(3,t,t.return),vo(3,t),Hi(5,t,t.return));break;case 1:xn(s,t),wn(t),l&512&&(Pt||a===null||Ms(a,a.return)),l&64&&ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=hs;if(xn(s,t),wn(t),l&512&&(Pt||a===null||Ms(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ws]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,l,a),f[Dt]=t,Ot(f),l=f;break e;case"link":var _=Hy("link","href",h).get(l+(a.href||""));if(_){for(var x=0;x<_.length;x++)if(f=_[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(x,1);break t}}f=h.createElement(l),tn(f,l,a),h.head.appendChild(f);break;case"meta":if(_=Hy("meta","content",h).get(l+(a.content||""))){for(x=0;x<_.length;x++)if(f=_[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(x,1);break t}}f=h.createElement(l),tn(f,l,a),h.head.appendChild(f);break;default:throw Error(i(468,l))}f[Dt]=t,Ot(f),l=f}t.stateNode=l}else Fy(h,t.type,t.stateNode);else t.stateNode=qy(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Fy(h,t.type,t.stateNode):qy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&of(t,t.memoizedProps,a.memoizedProps)}break;case 27:xn(s,t),wn(t),l&512&&(Pt||a===null||Ms(a,a.return)),a!==null&&l&4&&of(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xn(s,t),wn(t),l&512&&(Pt||a===null||Ms(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(he){Ze(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,of(t,h,a!==null?a.memoizedProps:h)),l&1024&&(hf=!0);break;case 6:if(xn(s,t),wn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ze(t,t.return,he)}}break;case 3:if(Ou=null,h=hs,hs=ju(s.containerInfo),xn(s,t),hs=h,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{sl(s.containerInfo)}catch(he){Ze(t,t.return,he)}hf&&(hf=!1,F0(t));break;case 4:l=hs,hs=ju(t.stateNode.containerInfo),xn(s,t),wn(t),hs=l;break;case 12:xn(s,t),wn(t);break;case 31:xn(s,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 13:xn(s,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_u=jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=ai,$=Pt;if(ai=U||h,Pt=$||C,xn(s,t),Pt=$,ai=U,wn(t),l&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||C||ai||Pt||ea(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=C.stateNode;var Q=C.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;x.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){Ze(C,C.return,he)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){Ze(C,C.return,he)}}}else if(s.tag===18){if(a===null){C=s;try{var H=C.stateNode;h?Oy(H,!0):Oy(C.stateNode,!1)}catch(he){Ze(C,C.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yu(t,a))));break;case 19:xn(s,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 30:break;case 21:break;default:xn(s,t),wn(t)}}function wn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(k0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,f=cf(t);gu(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(_n(_,""),a.flags&=-33);var x=cf(t);gu(t,x,_);break;case 3:case 4:var C=a.stateNode.containerInfo,U=cf(t);uf(t,U,C);break;default:throw Error(i(161))}}catch($){Ze(t,t.return,$)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function F0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;F0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function oi(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)P0(t,s.alternate,s),s=s.sibling}function ea(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Hi(4,s,s.return),ea(s);break;case 1:Ms(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&O0(s,s.return,a),ea(s);break;case 27:Ro(s.stateNode);case 26:case 5:Ms(s,s.return),ea(s);break;case 22:s.memoizedState===null&&ea(s);break;case 30:ea(s);break;default:ea(s)}t=t.sibling}}function ci(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=t,f=s,_=f.flags;switch(f.tag){case 0:case 11:case 15:ci(h,f,a),vo(4,f);break;case 1:if(ci(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Ze(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var x=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)xg(C[h],x)}catch(U){Ze(l,l.return,U)}}a&&_&64&&D0(f),_o(f,f.return);break;case 27:M0(f);case 26:case 5:ci(h,f,a),a&&l===null&&_&4&&V0(f),_o(f,f.return);break;case 12:ci(h,f,a);break;case 31:ci(h,f,a),a&&_&4&&B0(h,f);break;case 13:ci(h,f,a),a&&_&4&&q0(h,f);break;case 22:f.memoizedState===null&&ci(h,f,a),_o(f,f.return);break;case 30:break;default:ci(h,f,a)}s=s.sibling}}function df(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&io(a))}function ff(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&io(t))}function ds(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$0(t,s,a,l),s=s.sibling}function $0(t,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:ds(t,s,a,l),h&2048&&vo(9,s);break;case 1:ds(t,s,a,l);break;case 3:ds(t,s,a,l),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&io(t)));break;case 12:if(h&2048){ds(t,s,a,l),t=s.stateNode;try{var f=s.memoizedProps,_=f.id,x=f.onPostCommit;typeof x=="function"&&x(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(s,s.return,C)}}else ds(t,s,a,l);break;case 31:ds(t,s,a,l);break;case 13:ds(t,s,a,l);break;case 23:break;case 22:f=s.stateNode,_=s.alternate,s.memoizedState!==null?f._visibility&2?ds(t,s,a,l):bo(t,s):f._visibility&2?ds(t,s,a,l):(f._visibility|=2,Ga(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&df(_,s);break;case 24:ds(t,s,a,l),h&2048&&ff(s.alternate,s);break;default:ds(t,s,a,l)}}function Ga(t,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=t,_=s,x=a,C=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(f,_,x,C,h),vo(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ga(f,_,x,C,h):bo(f,_):($._visibility|=2,Ga(f,_,x,C,h)),h&&U&2048&&df(_.alternate,_);break;case 24:Ga(f,_,x,C,h),h&&U&2048&&ff(_.alternate,_);break;default:Ga(f,_,x,C,h)}s=s.sibling}}function bo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,h=l.flags;switch(l.tag){case 22:bo(a,l),h&2048&&df(l.alternate,l);break;case 24:bo(a,l),h&2048&&ff(l.alternate,l);break;default:bo(a,l)}s=s.sibling}}var xo=8192;function Ka(t,s,a){if(t.subtreeFlags&xo)for(t=t.child;t!==null;)G0(t,s,a),t=t.sibling}function G0(t,s,a){switch(t.tag){case 26:Ka(t,s,a),t.flags&xo&&t.memoizedState!==null&&Ww(a,hs,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,s,a);break;case 3:case 4:var l=hs;hs=ju(t.stateNode.containerInfo),Ka(t,s,a),hs=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xo,xo=16777216,Ka(t,s,a),xo=l):Ka(t,s,a));break;default:Ka(t,s,a)}}function K0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function wo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Qt=l,Y0(l,t)}K0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Q0(t),t=t.sibling}function Q0(t){switch(t.tag){case 0:case 11:case 15:wo(t),t.flags&2048&&Hi(9,t,t.return);break;case 3:wo(t);break;case 12:wo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,vu(t)):wo(t);break;default:wo(t)}}function vu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Qt=l,Y0(l,t)}K0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Hi(8,s,s.return),vu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,vu(s));break;default:vu(s)}t=t.sibling}}function Y0(t,s){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:Hi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:io(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qt=l;else e:for(a=t;Qt!==null;){l=Qt;var h=l.sibling,f=l.return;if(U0(l),l===a){Qt=null;break e}if(h!==null){h.return=f,Qt=h;break e}Qt=f}}}var mw={getCacheForType:function(t){var s=Wt(kt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Wt(kt).controller.signal}},pw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,De=null,ke=0,Je=0,kn=null,Fi=!1,Qa=!1,mf=!1,ui=0,Tt=0,$i=0,ta=0,pf=0,Mn=0,Ya=0,Eo=null,En=null,gf=!1,_u=0,X0=0,bu=1/0,xu=null,Gi=null,Ft=0,Ki=null,Xa=null,hi=0,yf=0,vf=null,J0=null,To=0,_f=null;function Ln(){return(Qe&2)!==0&&ke!==0?ke&-ke:F.T!==null?Af():wc()}function Z0(){if(Mn===0)if((ke&536870912)===0||qe){var t=St;St<<=1,(St&3932160)===0&&(St=262144),Mn=t}else Mn=536870912;return t=On.current,t!==null&&(t.flags|=32),Mn}function Tn(t,s,a){(t===at&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Qi(t,ke,Mn,!1)),Cr(t,a),((Qe&2)===0||t!==at)&&(t===at&&((Qe&2)===0&&(ta|=a),Tt===4&&Qi(t,ke,Mn,!1)),Ls(t))}function W0(t,s,a){if((Qe&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||ns(t,s),h=l?vw(t,s):xf(t,s,!0),f=l;do{if(h===0){Qa&&!l&&Qi(t,s,0,!1);break}else{if(a=t.current.alternate,f&&!gw(a)){h=xf(t,s,!1),f=!1;continue}if(h===2){if(f=s,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var x=t;h=Eo;var C=x.current.memoizedState.isDehydrated;if(C&&(Ja(x,_).flags|=256),_=xf(x,_,!1),_!==2){if(mf&&!C){x.errorRecoveryDisabledLanes|=f,ta|=f,h=4;break e}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),Qi(t,s,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Qi(l,s,Mn,!Fi);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=_u+300-jt(),10<h)){if(Qi(l,s,Mn,!Fi),_s(l,0,!0)!==0)break e;hi=s,l.timeoutHandle=Iy(ey.bind(null,l,a,En,xu,gf,s,Mn,ta,Ya,Fi,f,"Throttled",-0,0),h);break e}ey(l,a,En,xu,gf,s,Mn,ta,Ya,Fi,f,null,-0,0)}}break}while(!0);Ls(t)}function ey(t,s,a,l,h,f,_,x,C,U,$,Q,z,H){if(t.timeoutHandle=-1,Q=s.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rs},G0(s,f,Q);var he=(f&62914560)===f?_u-jt():(f&4194048)===f?X0-jt():0;if(he=eE(Q,he),he!==null){hi=f,t.cancelPendingCommit=he(oy.bind(null,t,s,f,a,l,h,_,x,C,$,Q,null,z,H)),Qi(t,f,_,!U);return}}oy(t,s,f,a,l,h,_,x,C)}function gw(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!jn(f(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qi(t,s,a,l){s&=~pf,s&=~ta,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var h=s;0<h;){var f=31-bt(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&Ir(t,a,s)}function wu(){return(Qe&6)===0?(Ao(0),!1):!0}function bf(){if(De!==null){if(Je===0)var t=De.return;else t=De,ei=Gr=null,kd(t),Ba=null,ao=0,t=De;for(;t!==null;)j0(t.alternate,t),t=t.return;De=null}}function Ja(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Mw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hi=0,bf(),at=t,De=a=Zs(t.current,null),ke=s,Je=0,kn=null,Fi=!1,Qa=ns(t,s),mf=!1,Ya=Mn=pf=ta=$i=Tt=0,En=Eo=null,gf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var h=31-bt(l),f=1<<h;s|=t[h],l&=~f}return ui=s,Hc(),a}function ty(t,s){Ie=null,F.H=po,s===za||s===Jc?(s=yg(),Je=3):s===Ed?(s=yg(),Je=4):Je=s===Jd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,kn=s,De===null&&(Tt=1,hu(t,$n(s,t.current)))}function ny(){var t=On.current;return t===null?!0:(ke&4194048)===ke?Yn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Yn:!1}function sy(){var t=F.H;return F.H=po,t===null?po:t}function iy(){var t=F.A;return F.A=mw,t}function Eu(){Tt=4,Fi||(ke&4194048)!==ke&&On.current!==null||(Qa=!0),($i&134217727)===0&&(ta&134217727)===0||at===null||Qi(at,ke,Mn,!1)}function xf(t,s,a){var l=Qe;Qe|=2;var h=sy(),f=iy();(at!==t||ke!==s)&&(xu=null,Ja(t,s)),s=!1;var _=Tt;e:do try{if(Je!==0&&De!==null){var x=De,C=kn;switch(Je){case 8:bf(),_=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(s=!0);var U=Je;if(Je=0,kn=null,Za(t,x,C,U),a&&Qa){_=0;break e}break;default:U=Je,Je=0,kn=null,Za(t,x,C,U)}}yw(),_=Tt;break}catch($){ty(t,$)}while(!0);return s&&t.shellSuspendCounter++,ei=Gr=null,Qe=l,F.H=h,F.A=f,De===null&&(at=null,ke=0,Hc()),_}function yw(){for(;De!==null;)ry(De)}function vw(t,s){var a=Qe;Qe|=2;var l=sy(),h=iy();at!==t||ke!==s?(xu=null,bu=jt()+500,Ja(t,s)):Qa=ns(t,s);e:do try{if(Je!==0&&De!==null){s=De;var f=kn;t:switch(Je){case 1:Je=0,kn=null,Za(t,s,f,1);break;case 2:case 9:if(pg(f)){Je=0,kn=null,ay(s);break}s=function(){Je!==2&&Je!==9||at!==t||(Je=7),Ls(t)},f.then(s,s);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:pg(f)?(Je=0,kn=null,ay(s)):(Je=0,kn=null,Za(t,s,f,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var x=De;if(_?$y(_):x.stateNode.complete){Je=0,kn=null;var C=x.sibling;if(C!==null)De=C;else{var U=x.return;U!==null?(De=U,Tu(U)):De=null}break t}}Je=0,kn=null,Za(t,s,f,5);break;case 6:Je=0,kn=null,Za(t,s,f,6);break;case 8:bf(),Tt=6;break e;default:throw Error(i(462))}}_w();break}catch($){ty(t,$)}while(!0);return ei=Gr=null,F.H=l,F.A=h,Qe=a,De!==null?0:(at=null,ke=0,Hc(),Tt)}function _w(){for(;De!==null&&!Vl();)ry(De)}function ry(t){var s=C0(t.alternate,t,ui);t.memoizedProps=t.pendingProps,s===null?Tu(t):De=s}function ay(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=E0(a,s,s.pendingProps,s.type,void 0,ke);break;case 11:s=E0(a,s,s.pendingProps,s.type.render,s.ref,ke);break;case 5:kd(s);default:j0(a,s),s=De=ig(s,ui),s=C0(a,s,ui)}t.memoizedProps=t.pendingProps,s===null?Tu(t):De=s}function Za(t,s,a,l){ei=Gr=null,kd(s),Ba=null,ao=0;var h=s.return;try{if(lw(t,h,s,a,ke)){Tt=1,hu(t,$n(a,t.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;Tt=1,hu(t,$n(a,t.current)),De=null;return}s.flags&32768?(qe||l===1?t=!0:Qa||(ke&536870912)!==0?t=!1:(Fi=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),ly(s,t)):Tu(s)}function Tu(t){var s=t;do{if((s.flags&32768)!==0){ly(s,Fi);return}t=s.return;var a=uw(s.alternate,s,ui);if(a!==null){De=a;return}if(s=s.sibling,s!==null){De=s;return}De=s=t}while(s!==null);Tt===0&&(Tt=5)}function ly(t,s){do{var a=hw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);Tt=6,De=null}function oy(t,s,a,l,h,f,_,x,C){t.cancelPendingCommit=null;do Au();while(Ft!==0);if((Qe&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(f=s.lanes|s.childLanes,f|=od,Wh(t,a,f,_,x,C),t===at&&(De=at=null,ke=0),Xa=s,Ki=t,hi=a,yf=f,vf=h,J0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ew(ue,function(){return fy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=se.p,se.p=2,_=Qe,Qe|=4;try{dw(t,s,a)}finally{Qe=_,se.p=h,F.T=l}}Ft=1,cy(),uy(),hy()}}function cy(){if(Ft===1){Ft=0;var t=Ki,s=Xa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=se.p;se.p=2;var h=Qe;Qe|=4;try{H0(s,t);var f=Of,_=Yp(t.containerInfo),x=f.focusedElem,C=f.selectionRange;if(_!==x&&x&&x.ownerDocument&&Qp(x.ownerDocument.documentElement,x)){if(C!==null&&sd(x)){var U=C.start,$=C.end;if($===void 0&&($=U),"selectionStart"in x)x.selectionStart=U,x.selectionEnd=Math.min($,x.value.length);else{var Q=x.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var H=z.getSelection(),he=x.textContent.length,_e=Math.min(C.start,he),it=C.end===void 0?_e:Math.min(C.end,he);!H.extend&&_e>it&&(_=it,it=_e,_e=_);var k=Kp(x,_e),O=Kp(x,it);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=Q.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),_e>it?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(Q=[],H=x;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Q.length;x++){var G=Q[x];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Lu=!!Df,Of=Df=null}finally{Qe=h,se.p=l,F.T=a}}t.current=s,Ft=2}}function uy(){if(Ft===2){Ft=0;var t=Ki,s=Xa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=se.p;se.p=2;var h=Qe;Qe|=4;try{P0(t,s.alternate,s)}finally{Qe=h,se.p=l,F.T=a}}Ft=3}}function hy(){if(Ft===4||Ft===3){Ft=0,Rr();var t=Ki,s=Xa,a=hi,l=J0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ft=5:(Ft=0,Xa=Ki=null,dy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gi=null),Qs(a),s=s.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Rn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=F.T,h=se.p,se.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var x=l[_];f(x.value,{componentStack:x.stack})}}finally{F.T=s,se.p=h}}(hi&3)!==0&&Au(),Ls(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===_f?To++:(To=0,_f=t):To=0,Ao(0)}}function dy(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,io(s)))}function Au(){return cy(),uy(),hy(),fy()}function fy(){if(Ft!==5)return!1;var t=Ki,s=yf;yf=0;var a=Qs(hi),l=F.T,h=se.p;try{se.p=32>a?32:a,F.T=null,a=vf,vf=null;var f=Ki,_=hi;if(Ft=0,Xa=Ki=null,hi=0,(Qe&6)!==0)throw Error(i(331));var x=Qe;if(Qe|=4,Q0(f.current),$0(f,f.current,_,a),Qe=x,Ao(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Rn,f)}catch{}return!0}finally{se.p=h,F.T=l,dy(t,s)}}function my(t,s,a){s=$n(a,s),s=Xd(t.stateNode,s,2),t=zi(t,s,2),t!==null&&(Cr(t,2),Ls(t))}function Ze(t,s,a){if(t.tag===3)my(t,t,a);else for(;s!==null;){if(s.tag===3){my(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){t=$n(a,t),a=p0(2),l=zi(s,a,2),l!==null&&(g0(a,l,s,t),Cr(l,2),Ls(l));break}}s=s.return}}function wf(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new pw;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(mf=!0,h.add(a),t=bw.bind(null,t,s,a),s.then(t,t))}function bw(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(ke&a)===a&&(Tt===4||Tt===3&&(ke&62914560)===ke&&300>jt()-_u?(Qe&2)===0&&Ja(t,0):pf|=a,Ya===ke&&(Ya=0)),Ls(t)}function py(t,s){s===0&&(s=xc()),t=Hr(t,s),t!==null&&(Cr(t,s),Ls(t))}function xw(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),py(t,a)}function ww(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),py(t,a)}function Ew(t,s){return _t(t,s)}var Su=null,Wa=null,Ef=!1,Nu=!1,Tf=!1,Yi=0;function Ls(t){t!==Wa&&t.next===null&&(Wa===null?Su=Wa=t:Wa=Wa.next=t),Nu=!0,Ef||(Ef=!0,Aw())}function Ao(t,s){if(!Tf&&Nu){Tf=!0;do for(var a=!1,l=Su;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=h&~(_&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,_y(l,f))}else f=ke,f=_s(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ns(l,f)||(a=!0,_y(l,f));l=l.next}while(a);Tf=!1}}function Tw(){gy()}function gy(){Nu=Ef=!1;var t=0;Yi!==0&&kw()&&(t=Yi);for(var s=jt(),a=null,l=Su;l!==null;){var h=l.next,f=yy(l,s);f===0?(l.next=null,a===null?Su=h:a.next=h,h===null&&(Wa=a)):(a=l,(t!==0||(f&3)!==0)&&(Nu=!0)),l=h}Ft!==0&&Ft!==5||Ao(t),Yi!==0&&(Yi=0)}function yy(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-bt(f),x=1<<_,C=h[_];C===-1?((x&a)===0||(x&l)!==0)&&(h[_]=Zh(x,s)):C<=s&&(t.expiredLanes|=x),f&=~x}if(s=at,a=ke,a=_s(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&an(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ns(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&an(l),Qs(a)){case 2:case 8:a=W;break;case 32:a=ue;break;case 268435456:a=fn;break;default:a=ue}return l=vy.bind(null,t),a=_t(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&an(l),t.callbackPriority=2,t.callbackNode=null,2}function vy(t,s){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Au()&&t.callbackNode!==a)return null;var l=ke;return l=_s(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(W0(t,l,s),yy(t,jt()),t.callbackNode!=null&&t.callbackNode===a?vy.bind(null,t):null)}function _y(t,s){if(Au())return null;W0(t,s,!0)}function Aw(){Lw(function(){(Qe&6)!==0?_t(Nn,Tw):gy()})}function Af(){if(Yi===0){var t=Pa;t===0&&(t=et,et<<=1,(et&261888)===0&&(et=256)),Yi=t}return Yi}function by(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function xy(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Sw(t,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var f=by((h[Gt]||null).action),_=l.submitter;_&&(s=(s=_[Gt]||null)?by(s.formAction):_.getAttribute("formAction"),s!==null&&(f=s,_=null));var x=new Is("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yi!==0){var C=_?xy(h,_):new FormData(h);Fd(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(x.preventDefault(),C=_?xy(h,_):new FormData(h),Fd(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Sf=0;Sf<ld.length;Sf++){var Nf=ld[Sf],Nw=Nf.toLowerCase(),Rw=Nf[0].toUpperCase()+Nf.slice(1);us(Nw,"on"+Rw)}us(Zp,"onAnimationEnd"),us(Wp,"onAnimationIteration"),us(eg,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(Fx,"onTransitionRun"),us($x,"onTransitionStart"),us(Gx,"onTransitionCancel"),us(tg,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),As("onBeforeInput",["compositionend","keypress","textInput","paste"]),As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(So));function wy(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var _=l.length-1;0<=_;_--){var x=l[_],C=x.instance,U=x.currentTarget;if(x=x.listener,C!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=U;try{f(h)}catch($){qc($)}h.currentTarget=null,f=C}else for(_=0;_<l.length;_++){if(x=l[_],C=x.instance,U=x.currentTarget,x=x.listener,C!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=U;try{f(h)}catch($){qc($)}h.currentTarget=null,f=C}}}}function Oe(t,s){var a=s[va];a===void 0&&(a=s[va]=new Set);var l=t+"__bubble";a.has(l)||(Ey(s,t,2,!1),a.add(l))}function Rf(t,s,a){var l=0;s&&(l|=4),Ey(a,t,l,s)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Cf(t){if(!t[Ru]){t[Ru]=!0,Ll.forEach(function(a){a!=="selectionchange"&&(Cw.has(a)||Rf(a,!1,t),Rf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ru]||(s[Ru]=!0,Rf("selectionchange",!1,s))}}function Ey(t,s,a,l){switch(Zy(s)){case 2:var h=sE;break;case 8:h=iE;break;default:h=Ff}a=h.bind(null,s,a,t),h=void 0,!kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function If(t,s,a,l,h){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var x=l.stateNode.containerInfo;if(x===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;x!==null;){if(_=Es(x),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=f=_;continue e}x=x.parentNode}}l=l.return}Ii(function(){var U=f,$=Bn(a),Q=[];e:{var z=ng.get(t);if(z!==void 0){var H=Is,he=t;switch(t){case"keypress":if(Lr(a)===0)break e;case"keydown":case"keyup":H=Uc;break;case"focusin":he="focus",H=Ur;break;case"focusout":he="blur",H=Ur;break;case"beforeblur":case"afterblur":H=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case Zp:case Wp:case eg:H=Dc;break;case tg:H=E;break;case"scroll":case"scrollend":H=Yl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Js;break;case"toggle":case"beforetoggle":H=Ce}var _e=(s&4)!==0,it=!_e&&(t==="scroll"||t==="scrollend"),k=_e?z!==null?z+"Capture":null:z;_e=[];for(var O=U,P;O!==null;){var G=O;if(P=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||P===null||k===null||(G=as(O,k),G!=null&&_e.push(No(O,G,P))),it)break;O=O.return}0<_e.length&&(z=new H(z,he,null,a,$),Q.push({event:z,listeners:_e}))}}if((s&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==Gl&&(he=a.relatedTarget||a.fromElement)&&(Es(he)||he[xs]))break e;if((H||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=U,he=he?Es(he):null,he!==null&&(it=u(he),_e=he.tag,he!==it||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(H=null,he=U),H!==he)){if(_e=Xl,G="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Js,G="onPointerLeave",k="onPointerEnter",O="pointer"),it=H==null?z:Cn(H),P=he==null?z:Cn(he),z=new _e(G,O+"leave",H,a,$),z.target=it,z.relatedTarget=P,G=null,Es($)===U&&(_e=new _e(k,O+"enter",he,a,$),_e.target=P,_e.relatedTarget=it,G=_e),it=G,H&&he)t:{for(_e=Iw,k=H,O=he,P=0,G=k;G;G=_e(G))P++;G=0;for(var pe=O;pe;pe=_e(pe))G++;for(;0<P-G;)k=_e(k),P--;for(;0<G-P;)O=_e(O),G--;for(;P--;){if(k===O||O!==null&&k===O.alternate){_e=k;break t}k=_e(k),O=_e(O)}_e=null}else _e=null;H!==null&&Ty(Q,z,H,_e,!1),he!==null&&it!==null&&Ty(Q,it,he,_e,!0)}}e:{if(z=U?Cn(U):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var $e=Bp;else if(Up(z))if(qp)$e=Bx;else{$e=Ux;var de=Px}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&wa(U.elementType)&&($e=Bp):$e=zx;if($e&&($e=$e(t,U))){zp(Q,$e,a,$);break e}de&&de(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Hl(z,"number",z.value)}switch(de=U?Cn(U):window,t){case"focusin":(Up(de)||de.contentEditable==="true")&&(Ia=de,id=U,to=null);break;case"focusout":to=id=Ia=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Xp(Q,a,$);break;case"selectionchange":if(Hx)break;case"keydown":case"keyup":Xp(Q,a,$)}var je;if(Ke)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ca?zr(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Os&&a.locale!=="ko"&&(Ca||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ca&&(je=Ql()):(Cs=$,Kl="value"in Cs?Cs.value:Cs.textContent,Ca=!0)),de=Cu(U,Me),0<de.length&&(Me=new Ds(Me,t,null,a,$),Q.push({event:Me,listeners:de}),je?Me.data=je:(je=Ra(a),je!==null&&(Me.data=je)))),(je=Hn?Vx(t,a):kx(t,a))&&(Me=Cu(U,"onBeforeInput"),0<Me.length&&(de=new Ds("onBeforeInput","beforeinput",null,a,$),Q.push({event:de,listeners:Me}),de.data=je)),Sw(Q,t,U,a,$)}wy(Q,s)})}function No(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Cu(t,s){for(var a=s+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=as(t,a),h!=null&&l.unshift(No(t,h,f)),h=as(t,s),h!=null&&l.push(No(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Iw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ty(t,s,a,l,h){for(var f=s._reactName,_=[];a!==null&&a!==l;){var x=a,C=x.alternate,U=x.stateNode;if(x=x.tag,C!==null&&C===l)break;x!==5&&x!==26&&x!==27||U===null||(C=U,h?(U=as(a,f),U!=null&&_.unshift(No(a,U,C))):h||(U=as(a,f),U!=null&&_.push(No(a,U,C)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var jw=/\r\n?/g,Dw=/\u0000|\uFFFD/g;function Ay(t){return(typeof t=="string"?t:""+t).replace(jw,`
`).replace(Dw,"")}function Sy(t,s){return s=Ay(s),Ay(t)===s}function st(t,s,a,l,h,f){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&_n(t,""+l);break;case"className":In(t,"class",l);break;case"tabIndex":In(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,a,l);break;case"style":$l(t,l,f);break;case"data":if(s!=="object"){In(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(s!=="input"&&st(t,s,"name",h.name,h,null),st(t,s,"formEncType",h.formEncType,h,null),st(t,s,"formMethod",h.formMethod,h,null),st(t,s,"formTarget",h.formTarget,h,null)):(st(t,s,"encType",h.encType,h,null),st(t,s,"method",h.method,h,null),st(t,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=rs);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cc.get(a)||a,ba(t,a,l))}}function jf(t,s,a,l,h,f){switch(a){case"style":$l(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),f=t[Gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(s,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ba(t,a,l)}}}function tn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:st(t,s,f,_,a,null)}}h&&st(t,s,"srcSet",a.srcSet,a,null),l&&st(t,s,"src",a.src,a,null);return;case"input":Oe("invalid",t);var x=f=_=h=null,C=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":C=$;break;case"defaultChecked":U=$;break;case"value":f=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:st(t,s,l,$,a,null)}}Sc(t,f,x,C,U,_,h,!1);return;case"select":Oe("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":_=x;break;case"multiple":l=x;default:st(t,s,h,x,a,null)}s=f,a=_,t.multiple=!!l,s!=null?Si(t,!!l,s,!1):a!=null&&Si(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(x=a[_],x!=null))switch(_){case"value":l=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:st(t,s,_,x,a,null)}Ni(t,l,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":st(t,s,C,l,a,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<So.length;l++)Oe(So[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:st(t,s,U,l,a,null)}return;default:if(wa(s)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&jf(t,s,$,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&st(t,s,x,l,a,null))}function Ow(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,x=null,C=null,U=null,$=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Q;default:l.hasOwnProperty(H)||st(t,s,H,null,l,Q)}}for(var z in l){var H=l[z];if(Q=a[z],l.hasOwnProperty(z)&&(H!=null||Q!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":$=H;break;case"value":_=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:H!==Q&&st(t,s,z,H,l,Q)}}xa(t,_,x,C,U,$,f,h);return;case"select":H=_=x=z=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||st(t,s,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":x=f;break;case"multiple":_=f;default:f!==C&&st(t,s,h,f,l,C)}s=x,a=_,l=H,z!=null?Si(t,!!a,z,!1):!!l!=!!a&&(s!=null?Si(t,!!a,s,!0):Si(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:st(t,s,x,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==f&&st(t,s,_,h,l,f)}Nc(t,z,H);return;case"option":for(var he in a)z=a[he],a.hasOwnProperty(he)&&z!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:st(t,s,he,null,l,z));for(C in l)z=l[C],H=a[C],l.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":st(t,s,C,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)z=a[_e],a.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&st(t,s,_e,null,l,z);for(U in l)if(z=l[U],H=a[U],l.hasOwnProperty(U)&&z!==H&&(z!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,s));break;default:st(t,s,U,z,l,H)}return;default:if(wa(s)){for(var it in a)z=a[it],a.hasOwnProperty(it)&&z!==void 0&&!l.hasOwnProperty(it)&&jf(t,s,it,void 0,l,z);for($ in l)z=l[$],H=a[$],!l.hasOwnProperty($)||z===H||z===void 0&&H===void 0||jf(t,s,$,z,l,H);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&st(t,s,k,null,l,z);for(Q in l)z=l[Q],H=a[Q],!l.hasOwnProperty(Q)||z===H||z==null&&H==null||st(t,s,Q,z,l,H)}function Ny(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,x=h.duration;if(f&&x&&Ny(_)){for(_=0,x=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],U=C.startTime;if(U>x)break;var $=C.transferSize,Q=C.initiatorType;$&&Ny(Q)&&(C=C.responseEnd,_+=$*(C<x?1:(x-U)/(C-U)))}if(--l,s+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Df=null,Of=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function Ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Vf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var kf=null;function kw(){var t=window.event;return t&&t.type==="popstate"?t===kf?!1:(kf=t,!0):(kf=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(t){return jy.resolve(null).then(t).catch(Pw)}:Iy;function Pw(t){setTimeout(function(){throw t})}function Xi(t){return t==="head"}function Dy(t,s){var a=s,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),sl(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ro(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ro(a);for(var f=a.firstChild;f;){var _=f.nextSibling,x=f.nodeName;f[ws]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Ro(t.ownerDocument.body);a=h}while(a);sl(s)}function Oy(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Mf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mf(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Uw(t,s,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ws])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function zw(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function Vy(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Xn(t.nextSibling),t===null))return null;return t}function Lf(t){return t.data==="$?"||t.data==="$~"}function Pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Bw(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Uf=null;function ky(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Xn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function My(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Ly(t,s,a){switch(s=Iu(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Ro(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);_a(t)}var Jn=new Map,Py=new Set;function ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var di=se.d;se.d={f:qw,r:Hw,D:Fw,C:$w,L:Gw,m:Kw,X:Yw,S:Qw,M:Xw};function qw(){var t=di.f(),s=wu();return t||s}function Hw(t){var s=zn(t);s!==null&&s.tag===5&&s.type==="form"?t0(s):di.r(t)}var el=typeof document>"u"?null:document;function Uy(t,s,a){var l=el;if(l&&typeof s=="string"&&s){var h=vn(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Py.has(h)||(Py.add(h),t={rel:t,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),tn(s,"link",t),Ot(s),l.head.appendChild(s)))}}function Fw(t){di.D(t),Uy("dns-prefetch",t,null)}function $w(t,s){di.C(t,s),Uy("preconnect",t,s)}function Gw(t,s,a){di.L(t,s,a);var l=el;if(l&&t&&s){var h='link[rel="preload"][as="'+vn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vn(a.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var f=h;switch(s){case"style":f=tl(t);break;case"script":f=nl(t)}Jn.has(f)||(t=A({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Jn.set(f,t),l.querySelector(h)!==null||s==="style"&&l.querySelector(Co(f))||s==="script"&&l.querySelector(Io(f))||(s=l.createElement("link"),tn(s,"link",t),Ot(s),l.head.appendChild(s)))}}function Kw(t,s){di.m(t,s);var a=el;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=nl(t)}if(!Jn.has(f)&&(t=A({rel:"modulepreload",href:t},s),Jn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Io(f)))return}l=a.createElement("link"),tn(l,"link",t),Ot(l),a.head.appendChild(l)}}}function Qw(t,s,a){di.S(t,s,a);var l=el;if(l&&t){var h=Ts(l).hoistableStyles,f=tl(t);s=s||"default";var _=h.get(f);if(!_){var x={loading:0,preload:null};if(_=l.querySelector(Co(f)))x.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Jn.get(f))&&zf(t,a);var C=_=l.createElement("link");Ot(C),tn(C,"link",t),C._p=new Promise(function(U,$){C.onload=U,C.onerror=$}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Du(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:x},h.set(f,_)}}}function Yw(t,s){di.X(t,s);var a=el;if(a&&t){var l=Ts(a).hoistableScripts,h=nl(t),f=l.get(h);f||(f=a.querySelector(Io(h)),f||(t=A({src:t,async:!0},s),(s=Jn.get(h))&&Bf(t,s),f=a.createElement("script"),Ot(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Xw(t,s){di.M(t,s);var a=el;if(a&&t){var l=Ts(a).hoistableScripts,h=nl(t),f=l.get(h);f||(f=a.querySelector(Io(h)),f||(t=A({src:t,async:!0,type:"module"},s),(s=Jn.get(h))&&Bf(t,s),f=a.createElement("script"),Ot(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function zy(t,s,a,l){var h=(h=Ae.current)?ju(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=tl(a.href),a=Ts(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=tl(a.href);var f=Ts(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Co(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(t,a),f||Jw(h,t,a,_.state))),s&&l===null)throw Error(i(528,""));return _}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nl(a),a=Ts(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function tl(t){return'href="'+vn(t)+'"'}function Co(t){return'link[rel="stylesheet"]['+t+"]"}function By(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Jw(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),tn(s,"link",a),Ot(s),t.head.appendChild(s))}function nl(t){return'[src="'+vn(t)+'"]'}function Io(t){return"script[async]"+t}function qy(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(l)return s.instance=l,Ot(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),tn(l,"style",h),Du(l,a.precedence,t),s.instance=l;case"stylesheet":h=tl(a.href);var f=t.querySelector(Co(h));if(f)return s.state.loading|=4,s.instance=f,Ot(f),f;l=By(a),(h=Jn.get(h))&&zf(l,h),f=(t.ownerDocument||t).createElement("link"),Ot(f);var _=f;return _._p=new Promise(function(x,C){_.onload=x,_.onerror=C}),tn(f,"link",l),s.state.loading|=4,Du(f,a.precedence,t),s.instance=f;case"script":return f=nl(a.src),(h=t.querySelector(Io(f)))?(s.instance=h,Ot(h),h):(l=a,(h=Jn.get(f))&&(l=A({},a),Bf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),tn(h,"link",l),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Du(l,a.precedence,t));return s.instance}function Du(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var x=l[_];if(x.dataset.precedence===s)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function zf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Bf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Ou=null;function Hy(t,s,a){if(Ou===null){var l=new Map,h=Ou=new Map;h.set(a,l)}else h=Ou,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ws]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(s)||"";_=t+_;var x=l.get(_);x?x.push(f):l.set(_,[f])}}return l}function Fy(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function Zw(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function $y(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ww(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=tl(l.href),f=s.querySelector(Co(h));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Vu.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=f,Ot(f);return}f=s.ownerDocument||s,l=By(l),(h=Jn.get(h))&&zf(l,h),f=f.createElement("link"),Ot(f);var _=f;_._p=new Promise(function(x,C){_.onload=x,_.onerror=C}),tn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vu.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var qf=0;function eE(t,s){return t.stylesheets&&t.count===0&&Mu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+s);0<t.imgBytes&&qf===0&&(qf=62500*Vw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>qf?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function Mu(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,s.forEach(tE,t),ku=null,Vu.call(t))}function tE(t,s){if(!(s.state.loading&4)){var a=ku.get(t);if(a)var l=a.get(null);else{a=new Map,ku.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=s.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Vu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var jo={$$typeof:ae,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function nE(t,s,a,l,h,f,_,x,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.hiddenUpdates=bs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Gy(t,s,a,l,h,f,_,x,C,U,$,Q){return t=new nE(t,s,a,_,C,U,$,Q,x),s=1,f===!0&&(s|=24),f=Dn(3,null,null,s),t.current=f,f.stateNode=t,s=bd(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:s},Td(f),t}function Ky(t){return t?(t=Oa,t):Oa}function Qy(t,s,a,l,h,f){h=Ky(h),l.context===null?l.context=h:l.pendingContext=h,l=Ui(s),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=zi(t,l,s),a!==null&&(Tn(a,t,s),oo(a,t,s))}function Yy(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Hf(t,s){Yy(t,s),(t=t.alternate)&&Yy(t,s)}function Xy(t){if(t.tag===13||t.tag===31){var s=Hr(t,67108864);s!==null&&Tn(s,t,67108864),Hf(t,67108864)}}function Jy(t){if(t.tag===13||t.tag===31){var s=Ln();s=jr(s);var a=Hr(t,s);a!==null&&Tn(a,t,s),Hf(t,s)}}var Lu=!0;function sE(t,s,a,l){var h=F.T;F.T=null;var f=se.p;try{se.p=2,Ff(t,s,a,l)}finally{se.p=f,F.T=h}}function iE(t,s,a,l){var h=F.T;F.T=null;var f=se.p;try{se.p=8,Ff(t,s,a,l)}finally{se.p=f,F.T=h}}function Ff(t,s,a,l){if(Lu){var h=$f(l);if(h===null)If(t,s,l,Pu,a),Wy(t,l);else if(aE(h,t,s,a,l))l.stopPropagation();else if(Wy(t,l),s&4&&-1<rE.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=vs(f.pendingLanes);if(_!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var C=1<<31-bt(_);x.entanglements[1]|=C,_&=~C}Ls(f),(Qe&6)===0&&(bu=jt()+500,Ao(0))}}break;case 31:case 13:x=Hr(f,2),x!==null&&Tn(x,f,2),wu(),Hf(f,2)}if(f=$f(l),f===null&&If(t,s,l,Pu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else If(t,s,l,null,a)}}function $f(t){return t=Bn(t),Gf(t)}var Pu=null;function Gf(t){if(Pu=null,t=Es(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=y(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Pu=t,null}function Zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ys()){case Nn:return 2;case W:return 8;case ue:case Fe:return 32;case fn:return 268435456;default:return 32}default:return 32}}var Kf=!1,Ji=null,Zi=null,Wi=null,Do=new Map,Oo=new Map,er=[],rE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wy(t,s){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Do.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(s.pointerId)}}function Vo(t,s,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},s!==null&&(s=zn(s),s!==null&&Xy(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function aE(t,s,a,l,h){switch(s){case"focusin":return Ji=Vo(Ji,t,s,a,l,h),!0;case"dragenter":return Zi=Vo(Zi,t,s,a,l,h),!0;case"mouseover":return Wi=Vo(Wi,t,s,a,l,h),!0;case"pointerover":var f=h.pointerId;return Do.set(f,Vo(Do.get(f)||null,t,s,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Oo.set(f,Vo(Oo.get(f)||null,t,s,a,l,h)),!0}return!1}function ev(t){var s=Es(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,ss(t.priority,function(){Jy(a)});return}}else if(s===31){if(s=y(a),s!==null){t.blockedOn=s,ss(t.priority,function(){Jy(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=$f(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Gl=l,a.target.dispatchEvent(l),Gl=null}else return s=zn(a),s!==null&&Xy(s),t.blockedOn=a,!1;s.shift()}return!0}function tv(t,s,a){Uu(t)&&a.delete(s)}function lE(){Kf=!1,Ji!==null&&Uu(Ji)&&(Ji=null),Zi!==null&&Uu(Zi)&&(Zi=null),Wi!==null&&Uu(Wi)&&(Wi=null),Do.forEach(tv),Oo.forEach(tv)}function zu(t,s){t.blockedOn===s&&(t.blockedOn=null,Kf||(Kf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lE)))}var Bu=null;function nv(t){Bu!==t&&(Bu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],h=t[s+2];if(typeof l!="function"){if(Gf(l||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(s,3),s-=3,Fd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function sl(t){function s(C){return zu(C,t)}Ji!==null&&zu(Ji,t),Zi!==null&&zu(Zi,t),Wi!==null&&zu(Wi,t),Do.forEach(s),Oo.forEach(s);for(var a=0;a<er.length;a++){var l=er[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<er.length&&(a=er[0],a.blockedOn===null);)ev(a),a.blockedOn===null&&er.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[Gt]||null;if(typeof f=="function")_||nv(a);else if(_){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Gt]||null)x=_.formAction;else if(Gf(h)!==null)continue}else x=_.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),nv(a)}}}function sv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Qf(t){this._internalRoot=t}qu.prototype.render=Qf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Ln();Qy(a,l,t,s,null,null)},qu.prototype.unmount=Qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Qy(t.current,2,null,t,null,null),wu(),s[xs]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var s=wc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<er.length&&s!==0&&s<er[a].priority;a++);er.splice(a,0,t),a===0&&ev(t)}};var iv=e.version;if(iv!=="19.2.4")throw Error(i(527,iv,"19.2.4"));se.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(s),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var oE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Rn=Hu.inject(oE),Ht=Hu}catch{}}return Mo.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",h=h0,f=d0,_=f0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Gy(t,1,!1,null,null,a,l,null,h,f,_,sv),t[xs]=s.current,Cf(t),new Qf(s)},Mo.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,h="",f=h0,_=d0,x=f0,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),s=Gy(t,1,!0,s,a??null,l,h,C,f,_,x,sv),s.context=Ky(null),a=s.current,l=Ln(),l=jr(l),h=Ui(l),h.callback=null,zi(a,h,l),a=l,s.current.lanes=a,Cr(s,a),Ls(s),t[xs]=s.current,Cf(t),new qu(s)},Mo.version="19.2.4",Mo}var mv;function bE(){if(mv)return Jf.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jf.exports=_E(),Jf.exports}var xE=bE();const Z_=(...r)=>r.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const wE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const EE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const pv=r=>{const e=EE(r);return e.charAt(0).toUpperCase()+e.slice(1)};var TE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const AE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const SE=fe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:d,...y},v)=>fe.createElement("svg",{ref:v,...TE,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:Z_("lucide",o),...!u&&!AE(y)&&{"aria-hidden":"true"},...y},[...d.map(([g,w])=>fe.createElement(g,w)),...Array.isArray(u)?u:[u]]));const ye=(r,e)=>{const n=fe.forwardRef(({className:i,...o},u)=>fe.createElement(SE,{ref:u,iconNode:e,className:Z_(`lucide-${wE(pv(r))}`,`lucide-${r}`,i),...o}));return n.displayName=pv(r),n};const NE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dl=ye("activity",NE);const RE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],CE=ye("bell",RE);const IE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jE=ye("chart-column",IE);const DE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],OE=ye("chevron-left",DE);const VE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],W_=ye("chevron-right",VE);const kE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ME=ye("circle-alert",kE);const LE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tm=ye("circle-check-big",LE);const PE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nm=ye("circle-x",PE);const UE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],zE=ye("clipboard-list",UE);const BE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qE=ye("clock",BE);const HE=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],sm=ye("database",HE);const FE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],$E=ye("download",FE);const GE=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],KE=ye("ellipsis",GE);const QE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],YE=ye("eye-off",QE);const XE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_m=ye("eye",XE);const JE=[["path",{d:"M13 22h5a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.3",key:"cvl1xm"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m7.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.879.001l-1.846.85a.5.5 0 0 1-.692-.593l1.29-4.88",key:"1ff7gj"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]],ZE=ye("file-badge",JE);const WE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],eT=ye("file-search",WE);const tT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],e1=ye("file-text",tT);const nT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],sT=ye("globe",nT);const iT=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],rT=ye("hard-drive",iT);const aT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],lT=ye("layers",aT);const oT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],gv=ye("layout-dashboard",oT);const cT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],yv=ye("life-buoy",cT);const uT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],bm=ye("lock-open",uT);const hT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ia=ye("lock",hT);const dT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fT=ye("log-out",dT);const mT=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],t1=ye("megaphone",mT);const pT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gT=ye("menu",pT);const yT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],vT=ye("message-square",yT);const _T=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],bT=ye("moon",_T);const xT=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],wT=ye("octagon-alert",xT);const ET=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],im=ye("package",ET);const TT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],AT=ye("pen",TT);const ST=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],xm=ye("power",ST);const NT=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],RT=ye("printer",NT);const CT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Rh=ye("refresh-cw",CT);const IT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jT=ye("save",IT);const DT=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],OT=ye("scan",DT);const VT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kT=ye("search",VT);const MT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],LT=ye("send",MT);const PT=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zo=ye("server",PT);const UT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zT=ye("settings",UT);const BT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$o=ye("shield-check",BT);const qT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],n1=ye("square-check-big",qT);const HT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],FT=ye("sun",HT);const $T=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],GT=ye("thermometer",$T);const KT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gn=ye("trash-2",KT);const QT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s1=ye("triangle-alert",QT);const YT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wm=ye("user",YT);const XT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],al=ye("users",XT);const JT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vv=ye("wifi-off",JT);const ZT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],_v=ye("wifi",ZT);const WT=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],bv=ye("wrench",WT);const e2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zo=ye("x",e2);const t2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],n2=ye("zap",t2),s2=()=>{};var xv={};const i1=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},i2=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],y=r[n++],v=((o&7)<<18|(u&63)<<12|(d&63)<<6|y&63)-65536;e[i++]=String.fromCharCode(55296+(v>>10)),e[i++]=String.fromCharCode(56320+(v&1023))}else{const u=r[n++],d=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},r1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,g=v?r[o+2]:0,w=u>>2,A=(u&3)<<4|y>>4;let N=(y&15)<<2|g>>6,q=g&63;v||(q=64,d||(N=64)),i.push(n[w],n[A],n[N],n[q])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(i1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):i2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],y=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||y==null||g==null||A==null)throw new r2;const N=u<<2|y>>4;if(i.push(N),g!==64){const q=y<<4&240|g>>2;if(i.push(q),A!==64){const X=g<<6&192|A;i.push(X)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class r2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a2=function(r){const e=i1(r);return r1.encodeByteArray(e,!0)},lh=function(r){return a2(r).replace(/\./g,"")},a1=function(r){try{return r1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const o2=()=>l2().__FIREBASE_DEFAULTS__,c2=()=>{if(typeof process>"u"||typeof xv>"u")return;const r=xv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},u2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&a1(r[1]);return e&&JSON.parse(e)},Ch=()=>{try{return s2()||o2()||c2()||u2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},l1=r=>Ch()?.emulatorHosts?.[r],h2=r=>{const e=l1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},o1=()=>Ch()?.config,c1=r=>Ch()?.[`_${r}`];class d2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Al(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function u1(r){return(await fetch(r,{credentials:"include"})).ok}function f2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lh(JSON.stringify(n)),lh(JSON.stringify(d)),""].join(".")}const Go={};function m2(){const r={prod:[],emulator:[]};for(const e of Object.keys(Go))Go[e]?r.emulator.push(e):r.prod.push(e);return r}function p2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let wv=!1;function h1(r,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||Go[r]===e||Go[r]||wv)return;Go[r]=e;function n(N){return`__firebase__banner__${N}`}const i="__firebase__banner",u=m2().prod.length>0;function d(){const N=document.getElementById(i);N&&N.remove()}function y(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function g(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{wv=!0,d()},N}function w(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=p2(i),q=n("text"),X=document.getElementById(q)||document.createElement("span"),J=n("learnmore"),ee=document.getElementById(J)||document.createElement("a"),re=n("preprendIcon"),te=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ae=N.element;y(ae),w(ee,J);const be=g();v(te,re),ae.append(te,X,ee,be),document.body.appendChild(ae)}u?(X.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function y2(){const r=Ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function b2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x2(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function w2(){return!y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E2(){try{return typeof indexedDB=="object"}catch{return!1}}function T2(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const A2="FirebaseError";class xi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=A2,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?S2(u,i):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new xi(o,y,i)}}function S2(r,e){return r.replace(N2,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const N2=/\{\$([^}]+)}/g;function R2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function la(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=r[o],d=e[o];if(Ev(u)&&Ev(d)){if(!la(u,d))return!1}else if(u!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Ev(r){return r!==null&&typeof r=="object"}function uc(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function C2(r,e){const n=new I2(r,e);return n.subscribe.bind(n)}class I2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");j2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=rm),o.error===void 0&&(o.error=rm),o.complete===void 0&&(o.complete=rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function rm(){}function dn(r){return r&&r._delegate?r._delegate:r}class oa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class D2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new d2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V2(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);i===y&&d.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:O2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O2(r){return r===sa?void 0:r}function V2(r){return r.instantiationMode==="EAGER"}class k2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new D2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const M2={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},L2=Le.INFO,P2={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},U2=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=P2[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=L2,this._logHandler=U2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const z2=(r,e)=>e.some(n=>r instanceof n);let Tv,Av;function B2(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q2(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d1=new WeakMap,Em=new WeakMap,f1=new WeakMap,am=new WeakMap,Xm=new WeakMap;function H2(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(or(r.result)),o()},d=()=>{i(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&d1.set(n,r)}).catch(()=>{}),Xm.set(e,r),e}function F2(r){if(Em.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Em.set(r,e)}let Tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||f1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function $2(r){Tm=r(Tm)}function G2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(lm(this),e,...n);return f1.set(i,e.sort?e.sort():[e]),or(i)}:q2().includes(r)?function(...e){return r.apply(lm(this),e),or(d1.get(this))}:function(...e){return or(r.apply(lm(this),e))}}function K2(r){return typeof r=="function"?G2(r):(r instanceof IDBTransaction&&F2(r),z2(r,B2())?new Proxy(r,Tm):r)}function or(r){if(r instanceof IDBRequest)return H2(r);if(am.has(r))return am.get(r);const e=K2(r);return e!==r&&(am.set(r,e),Xm.set(e,r)),e}const lm=r=>Xm.get(r);function Q2(r,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),y=or(d);return i&&d.addEventListener("upgradeneeded",v=>{i(or(d.result),v.oldVersion,v.newVersion,or(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),y.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),y}const Y2=["get","getKey","getAll","getAllKeys","count"],X2=["put","add","delete","clear"],om=new Map;function Sv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(om.get(e))return om.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=X2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Y2.includes(n)))return;const u=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let g=v.store;return i&&(g=g.index(y.shift())),(await Promise.all([g[n](...y),o&&v.done]))[0]};return om.set(e,u),u}$2(r=>({...r,get:(e,n,i)=>Sv(e,n)||r.get(e,n,i),has:(e,n)=>!!Sv(e,n)||r.has(e,n)}));class J2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Z2(r){return r.getComponent()?.type==="VERSION"}const Am="@firebase/app",Nv="0.14.8";const gi=new Ym("@firebase/app"),W2="@firebase/app-compat",eA="@firebase/analytics-compat",tA="@firebase/analytics",nA="@firebase/app-check-compat",sA="@firebase/app-check",iA="@firebase/auth",rA="@firebase/auth-compat",aA="@firebase/database",lA="@firebase/data-connect",oA="@firebase/database-compat",cA="@firebase/functions",uA="@firebase/functions-compat",hA="@firebase/installations",dA="@firebase/installations-compat",fA="@firebase/messaging",mA="@firebase/messaging-compat",pA="@firebase/performance",gA="@firebase/performance-compat",yA="@firebase/remote-config",vA="@firebase/remote-config-compat",_A="@firebase/storage",bA="@firebase/storage-compat",xA="@firebase/firestore",wA="@firebase/ai",EA="@firebase/firestore-compat",TA="firebase",AA="12.9.0";const Sm="[DEFAULT]",SA={[Am]:"fire-core",[W2]:"fire-core-compat",[tA]:"fire-analytics",[eA]:"fire-analytics-compat",[sA]:"fire-app-check",[nA]:"fire-app-check-compat",[iA]:"fire-auth",[rA]:"fire-auth-compat",[aA]:"fire-rtdb",[lA]:"fire-data-connect",[oA]:"fire-rtdb-compat",[cA]:"fire-fn",[uA]:"fire-fn-compat",[hA]:"fire-iid",[dA]:"fire-iid-compat",[fA]:"fire-fcm",[mA]:"fire-fcm-compat",[pA]:"fire-perf",[gA]:"fire-perf-compat",[yA]:"fire-rc",[vA]:"fire-rc-compat",[_A]:"fire-gcs",[bA]:"fire-gcs-compat",[xA]:"fire-fst",[EA]:"fire-fst-compat",[wA]:"fire-vertex","fire-js":"fire-js",[TA]:"fire-js-all"};const oh=new Map,NA=new Map,Nm=new Map;function Rv(r,e){try{r.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function _l(r){const e=r.name;if(Nm.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const n of oh.values())Rv(n,r);for(const n of NA.values())Rv(n,r);return!0}function Jm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function fs(r){return r==null?!1:r.settings!==void 0}const RA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new cc("app","Firebase",RA);class CA{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Sl=AA;function m1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:Sm,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(n||(n=o1()),!n)throw cr.create("no-options");const u=oh.get(o);if(u){if(la(n,u.options)&&la(i,u.config))return u;throw cr.create("duplicate-app",{appName:o})}const d=new k2(o);for(const v of Nm.values())d.addComponent(v);const y=new CA(n,i,d);return oh.set(o,y),y}function p1(r=Sm){const e=oh.get(r);if(!e&&r===Sm&&o1())return m1();if(!e)throw cr.create("no-app",{appName:r});return e}function ur(r,e,n){let i=SA[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(d.join(" "));return}_l(new oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const IA="firebase-heartbeat-database",jA=1,Wo="firebase-heartbeat-store";let cm=null;function g1(){return cm||(cm=Q2(IA,jA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(r=>{throw cr.create("idb-open",{originalErrorMessage:r.message})})),cm}async function DA(r){try{const n=(await g1()).transaction(Wo),i=await n.objectStore(Wo).get(y1(r));return await n.done,i}catch(e){if(e instanceof xi)gi.warn(e.message);else{const n=cr.create("idb-get",{originalErrorMessage:e?.message});gi.warn(n.message)}}}async function Cv(r,e){try{const i=(await g1()).transaction(Wo,"readwrite");await i.objectStore(Wo).put(e,y1(r)),await i.done}catch(n){if(n instanceof xi)gi.warn(n.message);else{const i=cr.create("idb-set",{originalErrorMessage:n?.message});gi.warn(i.message)}}}function y1(r){return`${r.name}!${r.options.appId}`}const OA=1024,VA=30;class kA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>VA){const o=PA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Iv(),{heartbeatsToSend:n,unsentEntries:i}=MA(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gi.warn(e),""}}}function Iv(){return new Date().toISOString().substring(0,10)}function MA(r,e=OA){const n=[];let i=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),jv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),jv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class LA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E2()?T2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jv(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function PA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function UA(r){_l(new oa("platform-logger",e=>new J2(e),"PRIVATE")),_l(new oa("heartbeat",e=>new kA(e),"PRIVATE")),ur(Am,Nv,r),ur(Am,Nv,"esm2020"),ur("fire-js","")}UA("");var zA="firebase",BA="12.9.0";ur(zA,BA,"app");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,v1;(function(){var r;function e(I,S){function T(){}T.prototype=S.prototype,I.F=S.prototype,I.prototype=new T,I.prototype.constructor=I,I.D=function(V,j,M){for(var R=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)R[lt-2]=arguments[lt];return S.prototype[j].apply(V,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,T){T||(T=0);const V=Array(16);if(typeof S=="string")for(var j=0;j<16;++j)V[j]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(j=0;j<16;++j)V[j]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=I.g[0],T=I.g[1],j=I.g[2];let M=I.g[3],R;R=S+(M^T&(j^M))+V[0]+3614090360&4294967295,S=T+(R<<7&4294967295|R>>>25),R=M+(j^S&(T^j))+V[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=j+(T^M&(S^T))+V[2]+606105819&4294967295,j=M+(R<<17&4294967295|R>>>15),R=T+(S^j&(M^S))+V[3]+3250441966&4294967295,T=j+(R<<22&4294967295|R>>>10),R=S+(M^T&(j^M))+V[4]+4118548399&4294967295,S=T+(R<<7&4294967295|R>>>25),R=M+(j^S&(T^j))+V[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=j+(T^M&(S^T))+V[6]+2821735955&4294967295,j=M+(R<<17&4294967295|R>>>15),R=T+(S^j&(M^S))+V[7]+4249261313&4294967295,T=j+(R<<22&4294967295|R>>>10),R=S+(M^T&(j^M))+V[8]+1770035416&4294967295,S=T+(R<<7&4294967295|R>>>25),R=M+(j^S&(T^j))+V[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=j+(T^M&(S^T))+V[10]+4294925233&4294967295,j=M+(R<<17&4294967295|R>>>15),R=T+(S^j&(M^S))+V[11]+2304563134&4294967295,T=j+(R<<22&4294967295|R>>>10),R=S+(M^T&(j^M))+V[12]+1804603682&4294967295,S=T+(R<<7&4294967295|R>>>25),R=M+(j^S&(T^j))+V[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=j+(T^M&(S^T))+V[14]+2792965006&4294967295,j=M+(R<<17&4294967295|R>>>15),R=T+(S^j&(M^S))+V[15]+1236535329&4294967295,T=j+(R<<22&4294967295|R>>>10),R=S+(j^M&(T^j))+V[1]+4129170786&4294967295,S=T+(R<<5&4294967295|R>>>27),R=M+(T^j&(S^T))+V[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=j+(S^T&(M^S))+V[11]+643717713&4294967295,j=M+(R<<14&4294967295|R>>>18),R=T+(M^S&(j^M))+V[0]+3921069994&4294967295,T=j+(R<<20&4294967295|R>>>12),R=S+(j^M&(T^j))+V[5]+3593408605&4294967295,S=T+(R<<5&4294967295|R>>>27),R=M+(T^j&(S^T))+V[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=j+(S^T&(M^S))+V[15]+3634488961&4294967295,j=M+(R<<14&4294967295|R>>>18),R=T+(M^S&(j^M))+V[4]+3889429448&4294967295,T=j+(R<<20&4294967295|R>>>12),R=S+(j^M&(T^j))+V[9]+568446438&4294967295,S=T+(R<<5&4294967295|R>>>27),R=M+(T^j&(S^T))+V[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=j+(S^T&(M^S))+V[3]+4107603335&4294967295,j=M+(R<<14&4294967295|R>>>18),R=T+(M^S&(j^M))+V[8]+1163531501&4294967295,T=j+(R<<20&4294967295|R>>>12),R=S+(j^M&(T^j))+V[13]+2850285829&4294967295,S=T+(R<<5&4294967295|R>>>27),R=M+(T^j&(S^T))+V[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=j+(S^T&(M^S))+V[7]+1735328473&4294967295,j=M+(R<<14&4294967295|R>>>18),R=T+(M^S&(j^M))+V[12]+2368359562&4294967295,T=j+(R<<20&4294967295|R>>>12),R=S+(T^j^M)+V[5]+4294588738&4294967295,S=T+(R<<4&4294967295|R>>>28),R=M+(S^T^j)+V[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=j+(M^S^T)+V[11]+1839030562&4294967295,j=M+(R<<16&4294967295|R>>>16),R=T+(j^M^S)+V[14]+4259657740&4294967295,T=j+(R<<23&4294967295|R>>>9),R=S+(T^j^M)+V[1]+2763975236&4294967295,S=T+(R<<4&4294967295|R>>>28),R=M+(S^T^j)+V[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=j+(M^S^T)+V[7]+4139469664&4294967295,j=M+(R<<16&4294967295|R>>>16),R=T+(j^M^S)+V[10]+3200236656&4294967295,T=j+(R<<23&4294967295|R>>>9),R=S+(T^j^M)+V[13]+681279174&4294967295,S=T+(R<<4&4294967295|R>>>28),R=M+(S^T^j)+V[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=j+(M^S^T)+V[3]+3572445317&4294967295,j=M+(R<<16&4294967295|R>>>16),R=T+(j^M^S)+V[6]+76029189&4294967295,T=j+(R<<23&4294967295|R>>>9),R=S+(T^j^M)+V[9]+3654602809&4294967295,S=T+(R<<4&4294967295|R>>>28),R=M+(S^T^j)+V[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=j+(M^S^T)+V[15]+530742520&4294967295,j=M+(R<<16&4294967295|R>>>16),R=T+(j^M^S)+V[2]+3299628645&4294967295,T=j+(R<<23&4294967295|R>>>9),R=S+(j^(T|~M))+V[0]+4096336452&4294967295,S=T+(R<<6&4294967295|R>>>26),R=M+(T^(S|~j))+V[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=j+(S^(M|~T))+V[14]+2878612391&4294967295,j=M+(R<<15&4294967295|R>>>17),R=T+(M^(j|~S))+V[5]+4237533241&4294967295,T=j+(R<<21&4294967295|R>>>11),R=S+(j^(T|~M))+V[12]+1700485571&4294967295,S=T+(R<<6&4294967295|R>>>26),R=M+(T^(S|~j))+V[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=j+(S^(M|~T))+V[10]+4293915773&4294967295,j=M+(R<<15&4294967295|R>>>17),R=T+(M^(j|~S))+V[1]+2240044497&4294967295,T=j+(R<<21&4294967295|R>>>11),R=S+(j^(T|~M))+V[8]+1873313359&4294967295,S=T+(R<<6&4294967295|R>>>26),R=M+(T^(S|~j))+V[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=j+(S^(M|~T))+V[6]+2734768916&4294967295,j=M+(R<<15&4294967295|R>>>17),R=T+(M^(j|~S))+V[13]+1309151649&4294967295,T=j+(R<<21&4294967295|R>>>11),R=S+(j^(T|~M))+V[4]+4149444226&4294967295,S=T+(R<<6&4294967295|R>>>26),R=M+(T^(S|~j))+V[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=j+(S^(M|~T))+V[2]+718787259&4294967295,j=M+(R<<15&4294967295|R>>>17),R=T+(M^(j|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+M&4294967295}i.prototype.v=function(I,S){S===void 0&&(S=I.length);const T=S-this.blockSize,V=this.C;let j=this.h,M=0;for(;M<S;){if(j==0)for(;M<=T;)o(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<S;)if(V[j++]=I.charCodeAt(M++),j==this.blockSize){o(this,V),j=0;break}}else for(;M<S;)if(V[j++]=I[M++],j==this.blockSize){o(this,V),j=0;break}}this.h=j,this.o+=S},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var T=I.length-8;T<I.length;++T)I[T]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,T=0;T<4;++T)for(let V=0;V<32;V+=8)I[S++]=this.g[T]>>>V&255;return I};function u(I,S){var T=y;return Object.prototype.hasOwnProperty.call(T,I)?T[I]:T[I]=S(I)}function d(I,S){this.h=S;const T=[];let V=!0;for(let j=I.length-1;j>=0;j--){const M=I[j]|0;V&&M==S||(T[j]=M,V=!1)}this.g=T}var y={};function v(I){return-128<=I&&I<128?u(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return ee(g(-I));const S=[];let T=1;for(let V=0;I>=T;V++)S[V]=I/T|0,T*=4294967296;return new d(S,0)}function w(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return ee(w(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=g(Math.pow(S,8));let V=A;for(let M=0;M<I.length;M+=8){var j=Math.min(8,I.length-M);const R=parseInt(I.substring(M,M+j),S);j<8?(j=g(Math.pow(S,j)),V=V.j(j).add(g(R))):(V=V.j(T),V=V.add(g(R)))}return V}var A=v(0),N=v(1),q=v(16777216);r=d.prototype,r.m=function(){if(J(this))return-ee(this).m();let I=0,S=1;for(let T=0;T<this.g.length;T++){const V=this.i(T);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(X(this))return"0";if(J(this))return"-"+ee(this).toString(I);const S=g(Math.pow(I,6));var T=this;let V="";for(;;){const j=be(T,S).g;T=re(T,j.j(S));let M=((T.g.length>0?T.g[0]:T.h)>>>0).toString(I);if(T=j,X(T))return M+V;for(;M.length<6;)M="0"+M;V=M+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function X(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function J(I){return I.h==-1}r.l=function(I){return I=re(this,I),J(I)?-1:X(I)?0:1};function ee(I){const S=I.g.length,T=[];for(let V=0;V<S;V++)T[V]=~I.g[V];return new d(T,~I.h).add(N)}r.abs=function(){return J(this)?ee(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),T=[];let V=0;for(let j=0;j<=S;j++){let M=V+(this.i(j)&65535)+(I.i(j)&65535),R=(M>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);V=R>>>16,M&=65535,R&=65535,T[j]=R<<16|M}return new d(T,T[T.length-1]&-2147483648?-1:0)};function re(I,S){return I.add(ee(S))}r.j=function(I){if(X(this)||X(I))return A;if(J(this))return J(I)?ee(this).j(ee(I)):ee(ee(this).j(I));if(J(I))return ee(this.j(ee(I)));if(this.l(q)<0&&I.l(q)<0)return g(this.m()*I.m());const S=this.g.length+I.g.length,T=[];for(var V=0;V<2*S;V++)T[V]=0;for(V=0;V<this.g.length;V++)for(let j=0;j<I.g.length;j++){const M=this.i(V)>>>16,R=this.i(V)&65535,lt=I.i(j)>>>16,vt=I.i(j)&65535;T[2*V+2*j]+=R*vt,te(T,2*V+2*j),T[2*V+2*j+1]+=M*vt,te(T,2*V+2*j+1),T[2*V+2*j+1]+=R*lt,te(T,2*V+2*j+1),T[2*V+2*j+2]+=M*lt,te(T,2*V+2*j+2)}for(I=0;I<S;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=S;I<2*S;I++)T[I]=0;return new d(T,0)};function te(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function ae(I,S){this.g=I,this.h=S}function be(I,S){if(X(S))throw Error("division by zero");if(X(I))return new ae(A,A);if(J(I))return S=be(ee(I),S),new ae(ee(S.g),ee(S.h));if(J(S))return S=be(I,ee(S)),new ae(ee(S.g),S.h);if(I.g.length>30){if(J(I)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var T=N,V=S;V.l(I)<=0;)T=ze(T),V=ze(V);var j=Re(T,1),M=Re(V,1);for(V=Re(V,2),T=Re(T,2);!X(V);){var R=M.add(V);R.l(I)<=0&&(j=j.add(T),M=R),V=Re(V,1),T=Re(T,1)}return S=re(I,j.j(S)),new ae(j,S)}for(j=A;I.l(S)>=0;){for(T=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(T)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),M=g(T),R=M.j(S);J(R)||R.l(I)>0;)T-=V,M=g(T),R=M.j(S);X(M)&&(M=N),j=j.add(M),I=re(I,R)}return new ae(j,I)}r.B=function(I){return be(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),T=[];for(let V=0;V<S;V++)T[V]=this.i(V)&I.i(V);return new d(T,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),T=[];for(let V=0;V<S;V++)T[V]=this.i(V)|I.i(V);return new d(T,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),T=[];for(let V=0;V<S;V++)T[V]=this.i(V)^I.i(V);return new d(T,this.h^I.h)};function ze(I){const S=I.g.length+1,T=[];for(let V=0;V<S;V++)T[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(T,I.h)}function Re(I,S){const T=S>>5;S%=32;const V=I.g.length-T,j=[];for(let M=0;M<V;M++)j[M]=S>0?I.i(M+T)>>>S|I.i(M+T+1)<<32-S:I.i(M+T);return new d(j,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,v1=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=w,hr=d}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _1,Bo,b1,Ju,Rm,x1,w1,E1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var p=0;p<c.length;++p){var b=c[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function o(c,p){if(p)e:{var b=i;c=c.split(".");for(var E=0;E<c.length-1;E++){var L=c[E];if(!(L in b))break e;b=b[L]}c=c[c.length-1],E=b[c],p=p(E),p!=E&&p!=null&&e(b,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var b=[],E;for(E in p)Object.prototype.hasOwnProperty.call(p,E)&&b.push([E,p[E]]);return b}});var u=u||{},d=this||self;function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function v(c,p,b){return c.call.apply(c.bind,arguments)}function g(c,p,b){return g=v,g.apply(null,arguments)}function w(c,p){var b=Array.prototype.slice.call(arguments,1);return function(){var E=b.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function A(c,p){function b(){}b.prototype=p.prototype,c.Z=p.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(E,L,B){for(var ne=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ne[Ce-2]=arguments[Ce];return p.prototype[L].apply(E,ne)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const p=c.length;if(p>0){const b=Array(p);for(let E=0;E<p;E++)b[E]=c[E];return b}return[]}function X(c,p){for(let E=1;E<arguments.length;E++){const L=arguments[E];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=c.length||0;const B=L.length||0;c.length=b+B;for(let ne=0;ne<B;ne++)c[b+ne]=L[ne]}else c.push(L)}}class J{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(c){d.setTimeout(()=>{throw c},0)}function re(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class te{constructor(){this.h=this.g=null}add(p,b){const E=ae.get();E.set(p,b),this.h?this.h.next=E:this.g=E,this.h=E}}var ae=new J(()=>new be,c=>c.reset());class be{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,Re=!1,I=new te,S=()=>{const c=Promise.resolve(void 0);ze=()=>{c.then(T)}};function T(){for(var c;c=re();){try{c.h.call(c.g)}catch(b){ee(b)}var p=ae;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,p),d.removeEventListener("test",b,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function lt(c,p){j.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}A(lt,j),lt.prototype.init=function(c,p){const b=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(b=="mouseover"?p=c.fromElement:b=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(c,p,b,E,L){this.listener=c,this.proxy=null,this.src=p,this.type=b,this.capture=!!E,this.ha=L,this.key=++F,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,p,b){for(const E in c)p.call(b,c[E],E,c)}function ve(c,p){for(const b in c)p.call(void 0,c[b],b,c)}function D(c){const p={};for(const b in c)p[b]=c[b];return p}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,p){let b,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(b in E)c[b]=E[b];for(let B=0;B<K.length;B++)b=K[B],Object.prototype.hasOwnProperty.call(E,b)&&(c[b]=E[b])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,p,b,E,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const ne=Ae(c,p,E,L);return ne>-1?(p=c[ne],b||(p.fa=!1)):(p=new se(p,this.src,B,!!E,L),p.fa=b,c.push(p)),p};function we(c,p){const b=p.type;if(b in c.g){var E=c.g[b],L=Array.prototype.indexOf.call(E,p,void 0),B;(B=L>=0)&&Array.prototype.splice.call(E,L,1),B&&(me(p),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ae(c,p,b,E){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==p&&B.capture==!!b&&B.ha==E)return L}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),wt={};function rt(c,p,b,E,L){if(Array.isArray(p)){for(let B=0;B<p.length;B++)rt(c,p[B],b,E,L);return null}return b=Nr(b),c&&c[vt]?c.J(p,b,y(E)?!!E.capture:!1,L):$s(c,p,b,!1,E,L)}function $s(c,p,b,E,L,B){if(!p)throw Error("Invalid event type");const ne=y(L)?!!L.capture:!!L;let Ce=Gs(c);if(Ce||(c[Ve]=Ce=new oe(c)),b=Ce.add(p,b,E,ne,B),b.proxy)return b;if(E=Xt(),b.proxy=E,E.src=c,E.listener=b,c.addEventListener)M||(L=ne),L===void 0&&(L=!1),c.addEventListener(p.toString(),E,L);else if(c.attachEvent)c.attachEvent(Un(p.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Xt(){function c(b){return p.call(c.src,c.listener,b)}const p=Ar;return c}function wi(c,p,b,E,L){if(Array.isArray(p))for(var B=0;B<p.length;B++)wi(c,p[B],b,E,L);else E=y(E)?!!E.capture:!!E,b=Nr(b),c&&c[vt]?(c=c.i,B=String(p).toString(),B in c.g&&(p=c.g[B],b=Ae(p,b,E,L),b>-1&&(me(p[b]),Array.prototype.splice.call(p,b,1),p.length==0&&(delete c.g[B],c.h--)))):c&&(c=Gs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ae(p,b,E,L)),(b=c>-1?p[c]:null)&&Ei(b))}function Ei(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[vt])we(p.i,c);else{var b=c.type,E=c.proxy;p.removeEventListener?p.removeEventListener(b,E,c.capture):p.detachEvent?p.detachEvent(Un(b),E):p.addListener&&p.removeListener&&p.removeListener(E),(b=Gs(p))?(we(b,c),b.h==0&&(b.src=null,p[Ve]=null)):me(c)}}}function Un(c){return c in wt?wt[c]:wt[c]="on"+c}function Ar(c,p){if(c.da)c=!0;else{p=new lt(p,this);const b=c.listener,E=c.ha||c.src;c.fa&&Ei(c),c=b.call(E,p)}return c}function Gs(c){return c=c[Ve],c instanceof oe?c:null}var Sr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Nr(c){return typeof c=="function"?c:(c[Sr]||(c[Sr]=function(p){return c.handleEvent(p)}),c[Sr])}function We(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}A(We,V),We.prototype[vt]=!0,We.prototype.removeEventListener=function(c,p,b,E){wi(this,c,p,b,E)};function _t(c,p){var b,E=c.G;if(E)for(b=[];E;E=E.G)b.push(E);if(c=c.M,E=p.type||p,typeof p=="string")p=new j(p,c);else if(p instanceof j)p.target=p.target||c;else{var L=p;p=new j(E,c),ie(p,L)}L=!0;let B,ne;if(b)for(ne=b.length-1;ne>=0;ne--)B=p.g=b[ne],L=an(B,E,!0,p)&&L;if(B=p.g=c,L=an(B,E,!0,p)&&L,L=an(B,E,!1,p)&&L,b)for(ne=0;ne<b.length;ne++)B=p.g=b[ne],L=an(B,E,!1,p)&&L}We.prototype.N=function(){if(We.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const b=c.g[p];for(let E=0;E<b.length;E++)me(b[E]);delete c.g[p],c.h--}}this.G=null},We.prototype.J=function(c,p,b,E){return this.i.add(String(c),p,!1,b,E)},We.prototype.K=function(c,p,b,E){return this.i.add(String(c),p,!0,b,E)};function an(c,p,b,E){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let B=0;B<p.length;++B){const ne=p[B];if(ne&&!ne.da&&ne.capture==b){const Ce=ne.listener,Nt=ne.ha||ne.src;ne.fa&&we(c.i,ne),L=Ce.call(Nt,E)!==!1&&L}}return L&&!E.defaultPrevented}function Vl(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(c,p||0)}function Rr(c){c.g=Vl(()=>{c.g=null,c.i&&(c.i=!1,Rr(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class jt extends V{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Rr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(c){V.call(this),this.h=c,this.g={}}A(ys,V);var Nn=[];function W(c){Be(c.g,function(p,b){this.g.hasOwnProperty(b)&&Ei(p)},c),c.g={}}ys.prototype.N=function(){ys.Z.N.call(this),W(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=d.JSON.stringify,Fe=d.JSON.parse,fn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ks(){}function ga(){}var Rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){j.call(this,"d")}A(Ht,j);function yn(){j.call(this,"c")}A(yn,j);var bt={},ya=null;function Ti(){return ya=ya||new We}bt.Ia="serverreachability";function mt(c){j.call(this,bt.Ia,c)}A(mt,j);function et(c){const p=Ti();_t(p,new mt(p))}bt.STAT_EVENT="statevent";function St(c,p){j.call(this,bt.STAT_EVENT,c),this.stat=p}A(St,j);function pt(c){const p=Ti();_t(p,new St(p,c))}bt.Ja="timingevent";function vs(c,p){j.call(this,bt.Ja,c),this.size=p}A(vs,j);function _s(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},p)}function ns(){this.g=!0}ns.prototype.ua=function(){this.g=!1};function Zh(c,p,b,E,L,B){c.info(function(){if(c.g)if(B){var ne="",Ce=B.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var Nt=Ce[Ke].split("=");if(Nt.length>1){const gt=Nt[0];Nt=Nt[1];const Hn=gt.split("_");ne=Hn.length>=2&&Hn[1]=="type"?ne+(gt+"="+Nt+"&"):ne+(gt+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+p+`
`+b+`
`+ne})}function xc(c,p,b,E,L,B,ne){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+p+`
`+b+`
`+B+" "+ne})}function bs(c,p,b,E){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Wh(c,b)+(E?" "+E:"")})}function Cr(c,p){c.info(function(){return"TIMEOUT: "+p})}ns.prototype.info=function(){};function Wh(c,p){if(!c.g)return p;if(!p)return null;try{const B=JSON.parse(p);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var b=B[c];if(!(b.length<2)){var E=b[1];if(Array.isArray(E)&&!(E.length<1)){var L=E[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<E.length;ne++)E[ne]=""}}}}return ue(B)}catch{return p}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ml;function jr(){}A(jr,Ks),jr.prototype.g=function(){return new XMLHttpRequest},Ml=new jr;function Qs(c){return encodeURIComponent(String(c))}function wc(c){var p=1;c=c.split(":");const b=[];for(;p>0&&c.length;)b.push(c.shift()),p--;return c.length&&b.push(c.join(":")),b}function ss(c,p,b,E){this.j=c,this.i=p,this.l=b,this.S=E||1,this.V=new ys(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new is}function is(){this.i=null,this.g="",this.h=!1}var Dt={},Gt={};function xs(c,p,b){c.M=1,c.A=Dr(Vt(p)),c.u=b,c.R=!0,va(c,null)}function va(c,p){c.F=Date.now(),ws(c),c.B=Vt(c.A);var b=c.B,E=c.S;Array.isArray(E)||(E=[String(E)]),wa(b.i,"t",E),c.C=0,b=c.j.L,c.h=new is,c.g=Lc(c.j,b?p:null,!c.u),c.P>0&&(c.O=new jt(g(c.Y,c,c.g),c.P)),p=c.V,b=c.g,E=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Nn[0]=L.toString()),L=Nn);for(let B=0;B<L.length;B++){const ne=rt(b,L[B],E||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),et(),Zh(c.i,c.v,c.B,c.l,c.S,c.u)}ss.prototype.ba=function(c){c=c.target;const p=this.O;p&&ls(c)==3?p.j():this.Y(c)},ss.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=ls(this.g),Nt=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Ce!=4||Nt==7||(Nt==8||Ke<=0?et(3):et(2)),Es(this);var p=this.g.ca();this.X=p;var b=ed(this);if(this.o=p==200,xc(this.i,this.v,this.B,this.l,this.S,Ce,p),this.o){if(this.U&&!this.L){t:{if(this.g){var E,L=this.g;if((E=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(E)){var B=E;break t}}B=null}if(c=B)bs(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ts(this,c);else{this.o=!1,this.m=3,pt(12),Cn(this),zn(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<b.length;)if(gt=Tc(this,b),gt==Gt){Ce==4&&(this.m=4,pt(14),c=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Dt){this.m=4,pt(15),bs(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else bs(this.i,this.l,gt,null),Ts(this,gt);if(Ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||b.length!=0||this.h.h||(this.m=1,pt(16),c=!1),this.o=this.o&&c,!c)bs(this.i,this.l,b,"[Invalid Chunked Response]"),Cn(this),zn(this);else if(b.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Jl(ne),ne.P=!0,pt(11))}}else bs(this.i,this.l,b,null),Ts(this,b);Ce==4&&Cn(this),this.o&&!this.K&&(Ce==4?Oc(this.j,this):(this.o=!1,ws(this)))}else Xs(this.g),p==400&&b.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),Cn(this),zn(this)}}}catch{}};function ed(c){if(!Ec(c))return c.g.la();const p=Jt(c.g);if(p==="")return"";let b="";const E=p.length,L=ls(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Cn(c),zn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<E;B++)c.h.h=!0,b+=c.h.i.decode(p[B],{stream:!(L&&B==E-1)});return p.length=0,c.h.g+=b,c.C=0,c.h.g}function Ec(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Tc(c,p){var b=c.C,E=p.indexOf(`
`,b);return E==-1?Gt:(b=Number(p.substring(b,E)),isNaN(b)?Dt:(E+=1,E+b>p.length?Gt:(p=p.slice(E,E+b),c.C=E+b,p)))}ss.prototype.cancel=function(){this.K=!0,Cn(this)};function ws(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=_s(g(c.aa,c),p)}function Es(c){c.D&&(d.clearTimeout(c.D),c.D=null)}ss.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(et(),pt(17)),Cn(this),this.m=2,zn(this)):_a(this,this.T-c)};function zn(c){c.j.I==0||c.K||Oc(c.j,c)}function Cn(c){Es(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,W(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function Ts(c,p){try{var b=c.j;if(b.I!=0&&(b.g==c||Ss(b.h,c))){if(!c.L&&Ss(b.h,c)&&b.I==3){try{var E=b.Ba.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Na(b),Di(b);else break e;Ur(b),pt(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=_s(g(b.Va,b),6e3));As(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ds(b,11)}else if((c.L||b.g==c)&&Na(b),!R(p))for(L=b.Ba.g.parse(p),p=0;p<L.length;p++){let Ke=L[p];const gt=Ke[0];if(!(gt<=b.K))if(b.K=gt,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const Hn=Ke[3];Hn!=null&&(b.ka=Hn,b.j.info("VER="+b.ka));const Os=Ke[4];Os!=null&&(b.za=Os,b.j.info("SVER="+b.za));const os=Ke[5];os!=null&&typeof os=="number"&&os>0&&(E=1.5*os,b.O=E,b.j.info("backChannelRequestTimeoutMs_="+E)),E=b;const cs=c.g;if(cs){const zr=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var B=E.h;B.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ul(B,B.h),B.h=null))}if(E.G){const Ra=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(E.wa=Ra,Xe(E.J,E.G,Ra))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),E=b;var ne=c;if(E.na=Mc(E,E.L?E.ba:null,E.W),ne.L){zl(E.h,ne);var Ce=ne,Nt=E.O;Nt&&(Ce.H=Nt),Ce.D&&(Es(Ce),ws(Ce)),E.g=ne}else jc(E);b.i.length>0&&js(b)}else Ke[0]!="stop"&&Ke[0]!="close"||Ds(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ds(b,7):Yl(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}et(4)}catch{}}var Ot=class{constructor(c,p){this.g=c,this.map=p}};function Ll(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function As(c){return c.h?1:c.g?c.g.size:0}function Ss(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ul(c,p){c.g?c.g.add(p):c.h=p}function zl(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ll.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const b of c.g.values())p=p.concat(b.G);return p}return q(c.i)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,p){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const E=c[b].indexOf("=");let L,B=null;E>=0?(L=c[b].substring(0,E),B=c[b].substring(E+1)):L=c[b],p(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function In(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof In?(this.l=c.l,Kt(this,c.j),this.o=c.o,this.g=c.g,Ai(this,c.u),this.h=c.h,ql(this,Cc(c.i)),this.m=c.m):c&&(p=String(c).match(Ac))?(this.l=!1,Kt(this,p[1]||"",!0),this.o=Ns(p[2]||""),this.g=Ns(p[3]||"",!0),Ai(this,p[4]),this.h=Ns(p[5]||"",!0),ql(this,p[6]||"",!0),this.m=Ns(p[7]||"")):(this.l=!1,this.i=new Ni(null,this.l))}In.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Or(p,xa,!0),":");var b=this.g;return(b||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Or(p,xa,!0),"@"),c.push(Qs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Or(b,b.charAt(0)=="/"?Hl:Sc,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Or(b,Nc)),c.join("")},In.prototype.resolve=function(c){const p=Vt(this);let b=!!c.j;b?Kt(p,c.j):b=!!c.o,b?p.o=c.o:b=!!c.g,b?p.g=c.g:b=c.u!=null;var E=c.h;if(b)Ai(p,c.u);else if(b=!!c.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var L=p.h.lastIndexOf("/");L!=-1&&(E=p.h.slice(0,L+1)+E)}if(L=E,L==".."||L==".")E="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){E=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ne=0;ne<L.length;){const Ce=L[ne++];Ce=="."?E&&ne==L.length&&B.push(""):Ce==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),E&&ne==L.length&&B.push("")):(B.push(Ce),E=!0)}E=B.join("/")}else E=L}return b?p.h=E:b=c.i.toString()!=="",b?ql(p,Cc(c.i)):b=!!c.m,b&&(p.m=c.m),p};function Vt(c){return new In(c)}function Kt(c,p,b){c.j=b?Ns(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ai(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function ql(c,p,b){p instanceof Ni?(c.i=p,Ea(c.i,c.l)):(b||(p=Or(p,Si)),c.i=new Ni(p,c.l))}function Xe(c,p,b){c.i.set(p,b)}function Dr(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ns(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Or(c,p,b){return typeof c=="string"?(c=encodeURI(c).replace(p,vn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xa=/[#\/\?@]/g,Sc=/[#\?:]/g,Hl=/[#\?]/g,Si=/[#\?@]/g,Nc=/#/g;function Ni(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(p,b){c.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}r=Ni.prototype,r.add=function(c,p){_n(this),this.i=null,c=Ri(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(p),this.h+=1,this};function Rc(c,p){_n(c),p=Ri(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Fl(c,p){return _n(c),p=Ri(c,p),c.g.has(p)}r.forEach=function(c,p){_n(this),this.g.forEach(function(b,E){b.forEach(function(L){c.call(p,L,E,this)},this)},this)};function $l(c,p){_n(c);let b=[];if(typeof p=="string")Fl(c,p)&&(b=b.concat(c.g.get(Ri(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)b=b.concat(c[p]);return b}r.set=function(c,p){return _n(this),this.i=null,c=Ri(this,c),Fl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=$l(this,c),c.length>0?String(c[0]):p):p};function wa(c,p,b){Rc(c,p),b.length>0&&(c.i=null,c.g.set(Ri(c,p),q(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let E=0;E<p.length;E++){var b=p[E];const L=Qs(b);b=$l(this,b);for(let B=0;B<b.length;B++){let ne=L;b[B]!==""&&(ne+="="+Qs(b[B])),c.push(ne)}}return this.i=c.join("&")};function Cc(c){const p=new Ni;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Ri(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Ea(c,p){p&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(b,E){const L=E.toLowerCase();E!=L&&(Rc(this,E),wa(this,L,b))},c)),c.j=p}function rs(c,p){const b=new ns;if(d.Image){const E=new Image;E.onload=w(Bn,b,"TestLoadImage: loaded",!0,p,E),E.onerror=w(Bn,b,"TestLoadImage: error",!1,p,E),E.onabort=w(Bn,b,"TestLoadImage: abort",!1,p,E),E.ontimeout=w(Bn,b,"TestLoadImage: timeout",!1,p,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else p(!1)}function Gl(c,p){const b=new ns,E=new AbortController,L=setTimeout(()=>{E.abort(),Bn(b,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:E.signal}).then(B=>{clearTimeout(L),B.ok?Bn(b,"TestPingServer: ok",!0,p):Bn(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Bn(b,"TestPingServer: error",!1,p)})}function Bn(c,p,b,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(b)}catch{}}function Ci(){this.g=new fn}function Rs(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Rs,Ks),Rs.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(c,p){We.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Vr,We),r=Vr.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,as(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ii(this):as(this),this.readyState==3&&Ta(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ii(this))},r.Na=function(c){this.g&&(this.response=c,Ii(this))},r.ga=function(){this.g&&Ii(this)};function Ii(c){c.readyState=4,c.l=null,c.j=null,c.B=null,as(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=p.next();return c.join(`\r
`)};function as(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qn(c){let p="";return Be(c,function(b,E){p+=E,p+=":",p+=b,p+=`\r
`}),p}function kr(c,p,b){e:{for(E in b){var E=!1;break e}E=!0}E||(b=qn(b),typeof c=="string"?b!=null&&Qs(b):Xe(c,p,b))}function tt(c){We.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(tt,We);var Cs=/^https?$/i,Kl=["POST","PUT"];r=tt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,b,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ml.g(),this.g.onreadystatechange=N(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(B){Mr(this,B);return}if(c=b||"",b=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)b.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())b.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Kl,p,void 0)>=0)||E||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of b)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Mr(this,B)}};function Mr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Ql(c),Ys(c)}function Ql(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,_t(this,"complete"),_t(this,"abort"),Ys(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ys(this,!0)),tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},r.Xa=function(){Lr(this)};function Lr(c){if(c.h&&typeof u<"u"){if(c.v&&ls(c)==4)setTimeout(c.Ca.bind(c),0);else if(_t(c,"readystatechange"),ls(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var E;if(E=B===0){let ne=String(c.D).match(Ac)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),E=!Cs.test(ne?ne.toLowerCase():"")}b=E}if(b)_t(c,"complete"),_t(c,"success");else{c.o=6;try{var L=ls(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Ql(c)}}finally{Ys(c)}}}}function Ys(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,p||_t(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ls(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ls(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Fe(p)}};function Jt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xs(c){const p={};c=(c.g&&ls(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(R(c[E]))continue;var b=wc(c[E]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=p[L]||[];p[L]=B,B.push(b)}ve(p,function(E){return E.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(c,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||p}function ji(c){this.za=0,this.i=[],this.j=new ns,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Is("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Is("baseRetryDelayMs",5e3,c),this.Za=Is("retryDelaySeedMs",1e4,c),this.Ta=Is("forwardChannelMaxRetries",2,c),this.va=Is("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ll(c&&c.concurrentRequestLimit),this.Ba=new Ci,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ji.prototype,r.ka=8,r.I=1,r.connect=function(c,p,b,E){pt(0),this.W=c,this.H=p||{},b&&E!==void 0&&(this.H.OSID=b,this.H.OAID=E),this.F=this.X,this.J=Mc(this,null,this.W),js(this)};function Yl(c){if(Aa(c),c.I==3){var p=c.V++,b=Vt(c.J);if(Xe(b,"SID",c.M),Xe(b,"RID",p),Xe(b,"TYPE","terminate"),Pr(c,b),p=new ss(c,c.j,p),p.M=2,p.A=Dr(Vt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=p.A,b=!0),b||(p.g=Lc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ws(p)}kc(c)}function Di(c){c.g&&(Jl(c),c.g.cancel(),c.g=null)}function Aa(c){Di(c),c.v&&(d.clearTimeout(c.v),c.v=null),Na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function js(c){if(!Pl(c.h)&&!c.m){c.m=!0;var p=c.Ea;ze||S(),Re||(ze(),Re=!0),I.add(p,c),c.D=0}}function Sa(c,p){return As(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=_s(g(c.Ea,c,p),Vc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new ss(this,this.j,c);let B=this.o;if(this.U&&(B?(B=D(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var E=this.i[b];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,p>4096){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=Ic(this,L,p),b=Vt(this.J),Xe(b,"RID",c),Xe(b,"CVER",22),this.G&&Xe(b,"X-HTTP-Session-Id",this.G),Pr(this,b),B&&(this.R?p="headers="+Qs(qn(B))+"&"+p:this.u&&kr(b,this.u,B)),Ul(this.h,L),this.Ra&&Xe(b,"TYPE","init"),this.S?(Xe(b,"$req",p),Xe(b,"SID","null"),L.U=!0,xs(L,b,null)):xs(L,b,p),this.I=2}}else this.I==3&&(c?Xl(this,c):this.i.length==0||Pl(this.h)||Xl(this))};function Xl(c,p){var b;p?b=p.l:b=c.V++;const E=Vt(c.J);Xe(E,"SID",c.M),Xe(E,"RID",b),Xe(E,"AID",c.K),Pr(c,E),c.u&&c.o&&kr(E,c.u,c.o),b=new ss(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Ic(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ul(c.h,b),xs(b,E,p)}function Pr(c,p){c.H&&Be(c.H,function(b,E){Xe(p,E,b)}),c.l&&Be({},function(b,E){Xe(p,E,b)})}function Ic(c,p,b){b=Math.min(c.i.length,b);const E=c.l?g(c.l.Ka,c.l,c):null;e:{var L=c.i;let Ce=-1;for(;;){const Nt=["count="+b];Ce==-1?b>0?(Ce=L[0].g,Nt.push("ofs="+Ce)):Ce=0:Nt.push("ofs="+Ce);let Ke=!0;for(let gt=0;gt<b;gt++){var B=L[gt].g;const Hn=L[gt].map;if(B-=Ce,B<0)Ce=Math.max(0,L[gt].g-100),Ke=!1;else try{B="req"+B+"_"||"";try{var ne=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Os,os]of ne){let cs=os;y(os)&&(cs=ue(os)),Nt.push(B+Os+"="+encodeURIComponent(cs))}}catch(Os){throw Nt.push(B+"type="+encodeURIComponent("_badmap")),Os}}catch{E&&E(Hn)}}if(Ke){ne=Nt.join("&");break e}}ne=void 0}return c=c.i.splice(0,b),p.G=c,ne}function jc(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ze||S(),Re||(ze(),Re=!0),I.add(p,c),c.A=0}}function Ur(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=_s(g(c.Da,c),Vc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Dc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=_s(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),Di(this),Dc(this))};function Jl(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Dc(c){c.g=new ss(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Vt(c.na);Xe(p,"RID","rpc"),Xe(p,"SID",c.M),Xe(p,"AID",c.K),Xe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(p,"TO",c.ia),Xe(p,"TYPE","xmlhttp"),Pr(c,p),c.u&&c.o&&kr(p,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Dr(Vt(p)),b.u=null,b.R=!0,va(b,c)}r.Va=function(){this.C!=null&&(this.C=null,Di(this),Ur(this),pt(19))};function Na(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Oc(c,p){var b=null;if(c.g==p){Na(c),Jl(c),c.g=null;var E=2}else if(Ss(c.h,p))b=p.G,zl(c.h,p),E=1;else return;if(c.I!=0){if(p.o)if(E==1){b=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;E=Ti(),_t(E,new vs(E,b)),js(c)}else jc(c);else if(L=p.m,L==3||L==0&&p.X>0||!(E==1&&Sa(c,p)||E==2&&Ur(c)))switch(b&&b.length>0&&(p=c.h,p.i=p.i.concat(b)),L){case 1:Ds(c,5);break;case 4:Ds(c,10);break;case 3:Ds(c,6);break;default:Ds(c,2)}}}function Vc(c,p){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*p}function Ds(c,p){if(c.j.info("Error code "+p),p==2){var b=g(c.bb,c),E=c.Ua;const L=!E;E=new In(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Kt(E,"https"),Dr(E),L?rs(E.toString(),b):Gl(E.toString(),b)}else pt(2);c.I=0,c.l&&c.l.pa(p),kc(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function kc(c){if(c.I=0,c.ja=[],c.l){const p=Bl(c.h);(p.length!=0||c.i.length!=0)&&(X(c.ja,p),X(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Mc(c,p,b){var E=b instanceof In?Vt(b):new In(b);if(E.g!="")p&&(E.g=p+"."+E.g),Ai(E,E.u);else{var L=d.location;E=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const B=new In(null);E&&Kt(B,E),p&&(B.g=p),L&&Ai(B,L),b&&(B.h=b),E=B}return b=c.G,p=c.wa,b&&p&&Xe(E,b,p),Xe(E,"VER",c.ka),Pr(c,E),E}function Lc(c,p,b){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new tt(new Rs({ab:b})):new tt(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}r=Pc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Oi(){}Oi.prototype.g=function(c,p){return new mn(c,p)};function mn(c,p){We.call(this),this.g=new ji(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Js(this)}A(mn,We),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yl(this.g)},mn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=ue(c),c=b);p.i.push(new Ot(p.Ya++,c)),p.I==3&&js(p)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,mn.Z.N.call(this)};function Uc(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const b in p){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}A(Uc,Ht);function zc(){yn.call(this),this.status=1}A(zc,yn);function Js(c){this.g=c}A(Js,Pc),Js.prototype.ra=function(){_t(this.g,"a")},Js.prototype.qa=function(c){_t(this.g,new Uc(c))},Js.prototype.pa=function(c){_t(this.g,new zc)},Js.prototype.oa=function(){_t(this.g,"b")},Oi.prototype.createWebChannel=Oi.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,E1=function(){return new Oi},w1=function(){return Ti()},x1=bt,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Ju=Ir,kl.COMPLETE="complete",b1=kl,ga.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",We.prototype.listen=We.prototype.J,Bo=ga,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,_1=tt}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Nl="12.9.0";function qA(r){Nl=r}const ca=new Ym("@firebase/firestore");function ll(){return ca.logLevel}function ce(r,...e){if(ca.logLevel<=Le.DEBUG){const n=e.map(Zm);ca.debug(`Firestore (${Nl}): ${r}`,...n)}}function yi(r,...e){if(ca.logLevel<=Le.ERROR){const n=e.map(Zm);ca.error(`Firestore (${Nl}): ${r}`,...n)}}function ua(r,...e){if(ca.logLevel<=Le.WARN){const n=e.map(Zm);ca.warn(`Firestore (${Nl}): ${r}`,...n)}}function Zm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function xe(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,T1(r,i,n)}function T1(r,e,n){let i=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw yi(i),new Error(i)}function Ye(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||T1(e,o,i)}function Ne(r,e){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class A1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class FA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $A{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let i=this.i;const o=v=>this.i!==i?(i=this.i,n(v)):Promise.resolve();let u=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new dr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new dr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string",31837,{l:i}),new A1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class GA{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KA{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new GA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const i=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ov(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class Wm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=YA(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function Pe(r,e){return r<e?-1:r>e?1:0}function Cm(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),u=e.charAt(i);if(o!==u)return um(o)===um(u)?Pe(o,u):um(o)?1:-1}return Pe(r.length,e.length)}const XA=55296,JA=57343;function um(r){const e=r.charCodeAt(0);return e>=XA&&e<=JA}function bl(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}const Vv="__name__";class Ps{constructor(e,n,i){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&xe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Ps.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const i=Ps.isNumericId(e),o=Ps.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Ps.extractNumericId(e).compare(Ps.extractNumericId(n)):Cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class ot extends Ps{construct(e,n,i){return new ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const ZA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Ps{construct(e,n,i){return new sn(e,n,i)}static isValidIdentifier(e){return ZA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new sn([Vv])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(i+=y,o++):(u(),o++)}if(u(),d)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ot.fromString(e))}static fromName(e){return new ge(ot.fromString(e).popFirst(5))}static empty(){return new ge(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ot(e.slice()))}}function S1(r,e,n){if(!n)throw new le(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WA(r,e,n,i){if(e===!0&&i===!0)throw new le(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function kv(r){if(!ge.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Mv(r){if(ge.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function N1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ih(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function es(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ih(r);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function qt(r,e){const n={typeString:r};return e&&(n.value=e),n}function hc(r,e){if(!N1(r))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const d=r[i];if(o&&typeof d!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new le(Y.INVALID_ARGUMENT,n);return!0}const Lv=-62135596800,Pv=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Pv);return new ft(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Lv)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:qt("string",ft._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new ft(0,0))}static max(){return new Te(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ec=-1;function eS(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(i===1e9?new ft(n+1,0):new ft(n,i));return new pr(o,ge.empty(),e)}function tS(r){return new pr(r.readTime,r.key,ec)}class pr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new pr(Te.min(),ge.empty(),ec)}static max(){return new pr(Te.max(),ge.empty(),ec)}}function nS(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const sS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rl(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==sS)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,i)=>{n(e)}))}static reject(e){return new Z(((n,i)=>{i(e)}))}static waitFor(e){return new Z(((n,i)=>{let o=0,u=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++u,d&&u===o&&n()}),(v=>i(v)))})),d=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const i of e)n=n.next((o=>o?Z.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,u)=>{i.push(n.call(this,o,u))})),this.waitFor(i)}static mapArray(e,n){return new Z(((i,o)=>{const u=e.length,d=new Array(u);let y=0;for(let v=0;v<u;v++){const g=v;n(e[g]).next((w=>{d[g]=w,++y,y===u&&i(d)}),(w=>o(w)))}}))}static doWhile(e,n){return new Z(((i,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):i()};u()}))}}function rS(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(r){return r.name==="IndexedDbTransactionError"}class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;const ep=-1;function Dh(r){return r==null}function ch(r){return r===0&&1/r==-1/0}function aS(r){return typeof r=="number"&&Number.isInteger(r)&&!ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const R1="";function lS(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Uv(e)),e=oS(r.get(n),e);return Uv(e)}function oS(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case R1:n+="";break;default:n+=u}}return n}function Uv(r){return r+R1+""}function zv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Er(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function C1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class xt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new nn(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(e){return new Bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class Bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new $t(sn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class I1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new I1("Invalid base64 string: "+u):u}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const cS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const n=cS.exec(r);if(Ye(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(r.seconds),nanos:It(r.nanos)}}function It(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yr(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}const j1="server_timestamp",D1="__type__",O1="__previous_value__",V1="__local_write_time__";function tp(r){return(r?.mapValue?.fields||{})[D1]?.stringValue===j1}function Oh(r){const e=r.mapValue.fields[O1];return tp(e)?Oh(e):e}function tc(r){const e=gr(r.mapValue.fields[V1].timestampValue);return new ft(e.seconds,e.nanos)}class uS{constructor(e,n,i,o,u,d,y,v,g,w,A){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=g,this.isUsingEmulator=w,this.apiKey=A}}const uh="(default)";class nc{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}function hS(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(r.options.projectId,e)}const k1="__type__",dS="__max__",Gu={mapValue:{}},M1="__vector__",hh="value";function vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tp(r)?4:mS(r)?9007199254740991:fS(r)?10:11:xe(28295,{value:r})}function Fs(r,e){if(r===e)return!0;const n=vr(r);if(n!==vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tc(r).isEqual(tc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=gr(o.timestampValue),y=gr(u.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return yr(o.bytesValue).isEqual(yr(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return It(o.geoPointValue.latitude)===It(u.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return It(o.integerValue)===It(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=It(o.doubleValue),y=It(u.doubleValue);return d===y?ch(d)===ch(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return bl(r.arrayValue.values||[],e.arrayValue.values||[],Fs);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},y=u.mapValue.fields||{};if(zv(d)!==zv(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Fs(d[v],y[v])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function sc(r,e){return(r.values||[]).find((n=>Fs(n,e)))!==void 0}function xl(r,e){if(r===e)return 0;const n=vr(r),i=vr(e);if(n!==i)return Pe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const y=It(u.integerValue||u.doubleValue),v=It(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return qv(r.timestampValue,e.timestampValue);case 4:return qv(tc(r),tc(e));case 5:return Cm(r.stringValue,e.stringValue);case 6:return(function(u,d){const y=yr(u),v=yr(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const y=u.split("/"),v=d.split("/");for(let g=0;g<y.length&&g<v.length;g++){const w=Pe(y[g],v[g]);if(w!==0)return w}return Pe(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const y=Pe(It(u.latitude),It(d.latitude));return y!==0?y:Pe(It(u.longitude),It(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Hv(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const y=u.fields||{},v=d.fields||{},g=y[hh]?.arrayValue,w=v[hh]?.arrayValue,A=Pe(g?.values?.length||0,w?.values?.length||0);return A!==0?A:Hv(g,w)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Gu.mapValue&&d===Gu.mapValue)return 0;if(u===Gu.mapValue)return 1;if(d===Gu.mapValue)return-1;const y=u.fields||{},v=Object.keys(y),g=d.fields||{},w=Object.keys(g);v.sort(),w.sort();for(let A=0;A<v.length&&A<w.length;++A){const N=Cm(v[A],w[A]);if(N!==0)return N;const q=xl(y[v[A]],g[w[A]]);if(q!==0)return q}return Pe(v.length,w.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function qv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=gr(r),i=gr(e),o=Pe(n.seconds,i.seconds);return o!==0?o:Pe(n.nanos,i.nanos)}function Hv(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=xl(n[o],i[o]);if(u)return u}return Pe(n.length,i.length)}function wl(r){return Im(r)}function Im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=gr(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return yr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=Im(u);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of i)u?u=!1:o+=",",o+=`${d}:${Im(n.fields[d])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Zu(r){switch(vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(r);return e?16+Zu(e):16;case 5:return 2*r.stringValue.length;case 6:return yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+Zu(u)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Er(i.fields,((u,d)=>{o+=u.length+Zu(d)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function Fv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jm(r){return!!r&&"integerValue"in r}function np(r){return!!r&&"arrayValue"in r}function $v(r){return!!r&&"nullValue"in r}function Gv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wu(r){return!!r&&"mapValue"in r}function fS(r){return(r?.mapValue?.fields||{})[k1]?.stringValue===M1}function Ko(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Er(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Ko(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ko(r.arrayValue.values[n]);return e}return{...r}}function mS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dS}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Wu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ko(n)}setAll(e){let n=sn.emptyPath(),i={},o=[];e.forEach(((d,y)=>{if(!n.isImmediateParentOf(y)){const v=this.getFieldsMap(n);this.applyChanges(v,i,o),i={},o=[],n=y.popLast()}d?i[y.lastSegment()]=Ko(d):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());Wu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Er(n,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new Sn(Ko(this.value))}}function L1(r){const e=[];return Er(r.fields,((n,i)=>{const o=new sn([n]);if(Wu(i)){const u=L1(i.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new Pn(e)}class un{constructor(e,n,i,o,u,d,y){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=d,this.documentState=y}static newInvalidDocument(e){return new un(e,0,Te.min(),Te.min(),Te.min(),Sn.empty(),0)}static newFoundDocument(e,n,i,o){return new un(e,1,n,Te.min(),i,o,0)}static newNoDocument(e,n){return new un(e,2,n,Te.min(),Te.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Te.min(),Te.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(e,n){this.position=e,this.inclusive=n}}function Kv(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?i=ge.comparator(ge.fromName(d.referenceValue),n.key):i=xl(d,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Qv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Fs(r.position[n],e.position[n]))return!1;return!0}class fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function pS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class P1{}class Bt extends P1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new yS(e,n,i):n==="array-contains"?new bS(e,i):n==="in"?new xS(e,i):n==="not-in"?new wS(e,i):n==="array-contains-any"?new ES(e,i):new Bt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new vS(e,i):new _S(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&vr(this.value)===vr(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gs extends P1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gs(e,n)}matches(e){return U1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function U1(r){return r.op==="and"}function z1(r){return gS(r)&&U1(r)}function gS(r){for(const e of r.filters)if(e instanceof gs)return!1;return!0}function Dm(r){if(r instanceof Bt)return r.field.canonicalString()+r.op.toString()+wl(r.value);if(z1(r))return r.filters.map((e=>Dm(e))).join(",");{const e=r.filters.map((n=>Dm(n))).join(",");return`${r.op}(${e})`}}function B1(r,e){return r instanceof Bt?(function(i,o){return o instanceof Bt&&i.op===o.op&&i.field.isEqual(o.field)&&Fs(i.value,o.value)})(r,e):r instanceof gs?(function(i,o){return o instanceof gs&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,d,y)=>u&&B1(d,o.filters[y])),!0):!1})(r,e):void xe(19439)}function q1(r){return r instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`})(r):r instanceof gs?(function(n){return n.op.toString()+" {"+n.getFilters().map(q1).join(" ,")+"}"})(r):"Filter"}class yS extends Bt{constructor(e,n,i){super(e,n,i),this.key=ge.fromName(i.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class vS extends Bt{constructor(e,n){super(e,"in",n),this.keys=H1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _S extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=H1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function H1(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class bS extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return np(n)&&sc(n.arrayValue,this.value)}}class xS extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sc(this.value.arrayValue,n)}}class wS extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sc(this.value.arrayValue,n)}}class ES extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>sc(this.value.arrayValue,i)))}}class TS{constructor(e,n=null,i=[],o=[],u=null,d=null,y=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=d,this.endAt=y,this.Te=null}}function Yv(r,e=null,n=[],i=[],o=null,u=null,d=null){return new TS(r,e,n,i,o,u,d)}function sp(r){const e=Ne(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Dm(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>wl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>wl(i))).join(",")),e.Te=n}return e.Te}function ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!pS(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!B1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Qv(r.startAt,e.startAt)&&Qv(r.endAt,e.endAt)}function Om(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dc{constructor(e,n=null,i=[],o=[],u=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function AS(r,e,n,i,o,u,d,y){return new dc(r,e,n,i,o,u,d,y)}function Vh(r){return new dc(r)}function Xv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function SS(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function F1(r){return r.collectionGroup!==null}function Qo(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new $t(sn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((g=>{g.isInequality()&&(y=y.add(g.field))}))})),y})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fh(u,i))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new fh(sn.keyField(),i))}return e.Ie}function Us(r){const e=Ne(r);return e.Ee||(e.Ee=NS(e,Qo(r))),e.Ee}function NS(r,e){if(r.limitType==="F")return Yv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fh(o.field,u)}));const n=r.endAt?new dh(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new dh(r.startAt.position,r.startAt.inclusive):null;return Yv(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function Vm(r,e){const n=r.filters.concat([e]);return new dc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function mh(r,e,n){return new dc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function kh(r,e){return ip(Us(r),Us(e))&&r.limitType===e.limitType}function $1(r){return`${sp(Us(r))}|lt:${r.limitType}`}function ol(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>q1(o))).join(", ")}]`),Dh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>wl(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>wl(o))).join(",")),`Target(${i})`})(Us(r))}; limitType=${r.limitType})`}function Mh(r,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):ge.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(r,e)&&(function(i,o){for(const u of Qo(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(d,y,v){const g=Kv(d,y,v);return d.inclusive?g<=0:g<0})(i.startAt,Qo(i),o)||i.endAt&&!(function(d,y,v){const g=Kv(d,y,v);return d.inclusive?g>=0:g>0})(i.endAt,Qo(i),o))})(r,e)}function RS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function G1(r){return(e,n)=>{let i=!1;for(const o of Qo(r)){const u=CS(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function CS(r,e,n){const i=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,d,y){const v=d.data.field(u),g=y.data.field(u);return v!==null&&g!==null?xl(v,g):xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:r.dir})}}class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,((n,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return C1(this.inner)}size(){return this.innerSize}}const IS=new xt(ge.comparator);function vi(){return IS}const K1=new xt(ge.comparator);function qo(...r){let e=K1;for(const n of r)e=e.insert(n.key,n);return e}function Q1(r){let e=K1;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ra(){return Yo()}function Y1(){return Yo()}function Yo(){return new fa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const jS=new xt(ge.comparator),DS=new $t(ge.comparator);function Ue(...r){let e=DS;for(const n of r)e=e.add(n);return e}const OS=new $t(Pe);function VS(){return OS}function rp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function X1(r){return{integerValue:""+r}}function kS(r,e){return aS(e)?X1(e):rp(r,e)}class Lh{constructor(){this._=void 0}}function MS(r,e,n){return r instanceof ic?(function(o,u){const d={fields:{[D1]:{stringValue:j1},[V1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tp(u)&&(u=Oh(u)),u&&(d.fields[O1]=u),{mapValue:d}})(n,e):r instanceof rc?Z1(r,e):r instanceof ac?W1(r,e):(function(o,u){const d=J1(o,u),y=Jv(d)+Jv(o.Ae);return jm(d)&&jm(o.Ae)?X1(y):rp(o.serializer,y)})(r,e)}function LS(r,e,n){return r instanceof rc?Z1(r,e):r instanceof ac?W1(r,e):n}function J1(r,e){return r instanceof ph?(function(i){return jm(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class ic extends Lh{}class rc extends Lh{constructor(e){super(),this.elements=e}}function Z1(r,e){const n=eb(e);for(const i of r.elements)n.some((o=>Fs(o,i)))||n.push(i);return{arrayValue:{values:n}}}class ac extends Lh{constructor(e){super(),this.elements=e}}function W1(r,e){let n=eb(e);for(const i of r.elements)n=n.filter((o=>!Fs(o,i)));return{arrayValue:{values:n}}}class ph extends Lh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Jv(r){return It(r.integerValue||r.doubleValue)}function eb(r){return np(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class PS{constructor(e,n){this.field=e,this.transform=n}}function US(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof rc&&o instanceof rc||i instanceof ac&&o instanceof ac?bl(i.elements,o.elements,Fs):i instanceof ph&&o instanceof ph?Fs(i.Ae,o.Ae):i instanceof ic&&o instanceof ic})(r.transform,e.transform)}class zS{constructor(e,n){this.version=e,this.transformResults=n}}class ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ph{}function tb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ap(r.key,ts.none()):new fc(r.key,r.data,ts.none());{const n=r.data,i=Sn.empty();let o=new $t(sn.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?i.delete(u):i.set(u,d),o=o.add(u)}return new Tr(r.key,i,new Pn(o.toArray()),ts.none())}}function BS(r,e,n){r instanceof fc?(function(o,u,d){const y=o.value.clone(),v=Wv(o.fieldTransforms,u,d.transformResults);y.setAll(v),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,n):r instanceof Tr?(function(o,u,d){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const y=Wv(o.fieldTransforms,u,d.transformResults),v=u.data;v.setAll(nb(o)),v.setAll(y),u.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Xo(r,e,n,i){return r instanceof fc?(function(u,d,y,v){if(!eh(u.precondition,d))return y;const g=u.value.clone(),w=e_(u.fieldTransforms,v,d);return g.setAll(w),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(r,e,n,i):r instanceof Tr?(function(u,d,y,v){if(!eh(u.precondition,d))return y;const g=e_(u.fieldTransforms,v,d),w=d.data;return w.setAll(nb(u)),w.setAll(g),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,i):(function(u,d,y){return eh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,n)}function qS(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),u=J1(i.transform,o||null);u!=null&&(n===null&&(n=Sn.empty()),n.set(i.field,u))}return n||null}function Zv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&bl(i,o,((u,d)=>US(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fc extends Ph{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends Ph{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function nb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function Wv(r,e,n){const i=new Map;Ye(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,y=e.data.field(u.field);i.set(u.field,LS(d,y,n[o]))}return i}function e_(r,e,n){const i=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);i.set(o.field,MS(u,d,e))}return i}class ap extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HS extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FS{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&BS(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Xo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Xo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Y1();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let y=this.applyToLocalView(d,u.mutatedFields);y=n.has(o.key)?null:y;const v=tb(d,y);v!==null&&i.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Te.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((n,i)=>Zv(n,i)))&&bl(this.baseMutations,e.baseMutations,((n,i)=>Zv(n,i)))}}class lp{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ye(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return jS})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,i[d].version);return new lp(e,n,i,o)}}class $S{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class GS{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,He;function KS(r){switch(r){case Y.OK:return xe(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function sb(r){if(r===void 0)return yi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Ut.OK:return Y.OK;case Ut.CANCELLED:return Y.CANCELLED;case Ut.UNKNOWN:return Y.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return Y.INTERNAL;case Ut.UNAVAILABLE:return Y.UNAVAILABLE;case Ut.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ut.NOT_FOUND:return Y.NOT_FOUND;case Ut.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ut.ABORTED:return Y.ABORTED;case Ut.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ut.DATA_LOSS:return Y.DATA_LOSS;default:return xe(39323,{code:r})}}(He=Ut||(Ut={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function QS(){return new TextEncoder}const YS=new hr([4294967295,4294967295],0);function t_(r){const e=QS().encode(r),n=new v1;return n.update(e),new Uint8Array(n.digest())}function n_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hr([n,i],0),new hr([o,u],0)]}class op{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ho(`Invalid padding: ${n}`);if(i<0)throw new Ho(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hr.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(hr.fromNumber(i)));return o.compare(YS)===1&&(o=new hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=t_(e),[i,o]=n_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);if(!this.we(d))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new op(u,o,n);return i.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const n=t_(e),[i,o]=n_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Uh(Te.min(),o,new xt(Pe),vi(),Ue())}}class mc{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new mc(i,n,Ue(),Ue(),Ue())}}class th{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class ib{constructor(e,n){this.targetId=e,this.Ce=n}}class rb{constructor(e,n,i=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class s_{constructor(){this.ve=0,this.Fe=i_(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),i=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:xe(38017,{changeType:u})}})),new mc(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=i_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class XS{constructor(e){this.Ge=e,this.ze=new Map,this.je=vi(),this.He=Ku(),this.Je=Ku(),this.Ze=new xt(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Om(u))if(i===0){const d=new ge(u.path);this.et(n,d,un.newNoDocument(d,Te.min()))}else Ye(i===1,20013,{expectedCount:i});else{const d=this._t(n);if(d!==i){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(n);const g=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let d,y;try{d=yr(i).toUint8Array()}catch(v){if(v instanceof I1)return ua("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new op(d,o,u)}catch(v){return ua(v instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((u=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const y=this.ot(d);if(y){if(u.current&&Om(y.target)){const v=new ge(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,un.newNoDocument(v,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let i=Ue();this.Je.forEach(((u,d)=>{let y=!0;d.forEachWhile((v=>{const g=this.ot(v);return!g||g.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(i=i.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Uh(e,n,this.Ze,this.je,i);return this.je=vi(),this.He=Ku(),this.Je=Ku(),this.Ze=new xt(Pe),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new s_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new $t(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new $t(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new s_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ku(){return new xt(ge.comparator)}function i_(){return new xt(ge.comparator)}const JS={asc:"ASCENDING",desc:"DESCENDING"},ZS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WS={and:"AND",or:"OR"};class eN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(r,e){return r.useProto3Json||Dh(e)?e:{value:e}}function gh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ab(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tN(r,e){return gh(r,e.toTimestamp())}function zs(r){return Ye(!!r,49232),Te.fromTimestamp((function(n){const i=gr(n);return new ft(i.seconds,i.nanos)})(r))}function cp(r,e){return Mm(r,e).canonicalString()}function Mm(r,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function lb(r){const e=ot.fromString(r);return Ye(db(e),10190,{key:e.toString()}),e}function Lm(r,e){return cp(r.databaseId,e.path)}function hm(r,e){const n=lb(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(cb(n))}function ob(r,e){return cp(r.databaseId,e)}function nN(r){const e=lb(r);return e.length===4?ot.emptyPath():cb(e)}function Pm(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cb(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function r_(r,e,n){return{name:Lm(r,e),fields:n.value.mapValue.fields}}function sN(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,w){return g.useProto3Json?(Ye(w===void 0||typeof w=="string",58123),rn.fromBase64String(w||"")):(Ye(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),rn.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(g){const w=g.code===void 0?Y.UNKNOWN:sb(g.code);return new le(w,g.message||"")})(d);n=new rb(i,o,u,y||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=hm(r,i.document.name),u=zs(i.document.updateTime),d=i.document.createTime?zs(i.document.createTime):Te.min(),y=new Sn({mapValue:{fields:i.document.fields}}),v=un.newFoundDocument(o,u,d,y),g=i.targetIds||[],w=i.removedTargetIds||[];n=new th(g,w,v.key,v)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=hm(r,i.document),u=i.readTime?zs(i.readTime):Te.min(),d=un.newNoDocument(o,u),y=i.removedTargetIds||[];n=new th([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=hm(r,i.document),u=i.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,d=new GS(o,u),y=i.targetId;n=new ib(y,d)}}return n}function iN(r,e){let n;if(e instanceof fc)n={update:r_(r,e.key,e.value)};else if(e instanceof ap)n={delete:Lm(r,e.key)};else if(e instanceof Tr)n={update:r_(r,e.key,e.data),updateMask:fN(e.fieldMask)};else{if(!(e instanceof HS))return xe(16599,{dt:e.type});n={verify:Lm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,d){const y=d.transform;if(y instanceof ic)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof rc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ac)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ph)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw xe(20930,{transform:d.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(r,e.precondition)),n}function rN(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map((n=>(function(o,u){let d=o.updateTime?zs(o.updateTime):zs(u);return d.isEqual(Te.min())&&(d=zs(u)),new zS(d,o.transformResults||[])})(n,e)))):[]}function aN(r,e){return{documents:[ob(r,e.path)]}}function lN(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=ob(r,o);const u=(function(g){if(g.length!==0)return hb(gs.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(g){if(g.length!==0)return g.map((w=>(function(N){return{field:cl(N.field),direction:uN(N.dir)}})(w)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const y=km(r,e.limit);return y!==null&&(n.structuredQuery.limit=y),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function oN(r){let e=nN(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ye(i===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=(function(A){const N=ub(A);return N instanceof gs&&z1(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((N=>(function(X){return new fh(ul(X.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(N)))})(n.orderBy));let y=null;n.limit&&(y=(function(A){let N;return N=typeof A=="object"?A.value:A,Dh(N)?null:N})(n.limit));let v=null;n.startAt&&(v=(function(A){const N=!!A.before,q=A.values||[];return new dh(q,N)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const N=!A.before,q=A.values||[];return new dh(q,N)})(n.endAt)),AS(e,o,d,u,y,"F",v,g)}function cN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ub(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ul(n.unaryFilter.field);return Bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ul(n.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ul(n.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ul(n.unaryFilter.field);return Bt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Bt.create(ul(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return gs.create(n.compositeFilter.filters.map((i=>ub(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(r):xe(30097,{filter:r})}function uN(r){return JS[r]}function hN(r){return ZS[r]}function dN(r){return WS[r]}function cl(r){return{fieldPath:r.canonicalString()}}function ul(r){return sn.fromServerFormat(r.fieldPath)}function hb(r){return r instanceof Bt?(function(n){if(n.op==="=="){if(Gv(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NAN"}};if($v(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gv(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NAN"}};if($v(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(n.field),op:hN(n.op),value:n.value}}})(r):r instanceof gs?(function(n){const i=n.getFilters().map((o=>hb(o)));return i.length===1?i[0]:{compositeFilter:{op:dN(n.op),filters:i}}})(r):xe(54877,{filter:r})}function fN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function db(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function fb(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class lr{constructor(e,n,i,o,u=Te.min(),d=Te.min(),y=rn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mN{constructor(e){this.yt=e}}function pN(r){const e=oN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mh(e,e.limit,"L"):e}class gN{constructor(){this.Sn=new yN}addToCollectionParentIndex(e,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(pr.min())}updateCollectionGroup(e,n,i){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class yN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new $t(ot.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new $t(ot.comparator)).toArray()}}const a_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mb=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(mb,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class El{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new El(0)}static ar(){return new El(-1)}}const l_="LruGarbageCollector",vN=1048576;function o_([r,e],[n,i]){const o=Pe(r,n);return o===0?Pe(e,i):o}class _N{constructor(e){this.Pr=e,this.buffer=new $t(o_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();o_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(l_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?ce(l_,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Ar(3e5)}))}}class xN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(jh.ce);const i=new _N(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(a_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,u,d,y,v,g;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(i=A,y=Date.now(),this.removeTargets(e,i,n)))).next((A=>(u=A,v=Date.now(),this.removeOrphanedDocuments(e,i)))).next((A=>(g=Date.now(),ll()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${u} targets in `+(v-y)+`ms
	Removed ${A} documents in `+(g-v)+`ms
Total Duration: ${g-w}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function wN(r,e){return new xN(r,e)}class EN{constructor(){this.changes=new fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Z.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class AN{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Xo(i.mutation,o,Pn.empty(),ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ue()){const o=ra();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((u=>{let d=qo();return u.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=ra();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ue())))}populateOverlays(e,n,i){const o=[];return i.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,y)=>{n.set(d,y)}))}))}computeViews(e,n,i,o){let u=vi();const d=Yo(),y=(function(){return Yo()})();return n.forEach(((v,g)=>{const w=i.get(g.key);o.has(g.key)&&(w===void 0||w.mutation instanceof Tr)?u=u.insert(g.key,g):w!==void 0?(d.set(g.key,w.mutation.getFieldMask()),Xo(w.mutation,g,w.mutation.getFieldMask(),ft.now())):d.set(g.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((g,w)=>d.set(g,w))),n.forEach(((g,w)=>y.set(g,new TN(w,d.get(g)??null)))),y)))}recalculateAndSaveOverlays(e,n){const i=Yo();let o=new xt(((d,y)=>d-y)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const y of d)y.keys().forEach((v=>{const g=n.get(v);if(g===null)return;let w=i.get(v)||Pn.empty();w=y.applyToLocalView(g,w),i.set(v,w);const A=(o.get(y.batchId)||Ue()).add(v);o=o.insert(y.batchId,A)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),g=v.key,w=v.value,A=Y1();w.forEach((N=>{if(!u.has(N)){const q=tb(n.get(N),i.get(N));q!==null&&A.set(N,q),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,A))}return Z.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return SS(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):Z.resolve(ra());let y=ec,v=u;return d.next((g=>Z.forEach(g,((w,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),u.get(w)?Z.resolve():this.remoteDocumentCache.getEntry(e,w).next((N=>{v=v.insert(w,N)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,v,g,Ue()))).next((w=>({batchId:y,changes:Q1(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((i=>{let o=qo();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let d=qo();return this.indexManager.getCollectionParents(e,u).next((y=>Z.forEach(y,(v=>{const g=(function(A,N){return new dc(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next((w=>{w.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o)))).next((d=>{u.forEach(((v,g)=>{const w=g.getKey();d.get(w)===null&&(d=d.insert(w,un.newInvalidDocument(w)))}));let y=qo();return d.forEach(((v,g)=>{const w=u.get(v);w!==void 0&&Xo(w.mutation,g,Pn.empty(),ft.now()),Mh(n,g)&&(y=y.insert(v,g))})),y}))}}class SN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zs(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:pN(o.bundledQuery),readTime:zs(o.readTime)}})(n)),Z.resolve()}}class NN{constructor(){this.overlays=new xt(ge.comparator),this.Lr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ra();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,u)=>{this.bt(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(i)),Z.resolve()}getOverlaysForCollection(e,n,i){const o=ra(),u=n.length+1,d=new ge(n.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,g=v.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&v.largestBatchId>i&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new xt(((g,w)=>g-w));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let w=u.get(g.largestBatchId);w===null&&(w=ra(),u=u.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const y=ra(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((g,w)=>y.set(g,w))),!(y.size()>=o)););return Z.resolve(y)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new $S(n,i));let u=this.Lr.get(n);u===void 0&&(u=Ue(),this.Lr.set(n,u)),this.Lr.set(n,u.add(i.key))}}class RN{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}class up{constructor(){this.kr=new $t(Yt.Kr),this.qr=new $t(Yt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Yt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Yt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ge(new ot([])),i=new Yt(n,e),o=new Yt(n,e+1),u=[];return this.qr.forEachInRange([i,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new ot([])),i=new Yt(n,e),o=new Yt(n,e+1);let u=Ue();return this.qr.forEachInRange([i,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Yt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Yt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class CN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new $t(Yt.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FS(u,n,i,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new Yt(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ep:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Yt(n,0),o=new Yt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([i,o],(d=>{const y=this.Zr(d.Hr);u.push(y)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new $t(Pe);return n.forEach((o=>{const u=new Yt(o,0),d=new Yt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(y=>{i=i.add(y.Hr)}))})),Z.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;ge.isDocumentKey(u)||(u=u.child(""));const d=new Yt(new ge(u),0);let y=new $t(Pe);return this.Jr.forEachWhile((v=>{const g=v.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(y=y.add(v.Hr)),!0)}),d),Z.resolve(this.Yr(y))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Z.forEach(n.mutations,(o=>{const u=new Yt(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Yt(n,0),o=this.Jr.firstAfterOrEqual(i);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class IN{constructor(e){this.ti=e,this.docs=(function(){return new xt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Z.resolve(i?i.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let i=vi();return n.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))})),Z.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=vi();const d=n.path,y=new ge(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:g,value:{document:w}}=v.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||nS(tS(w),i)<=0||(o.has(w.key)||Mh(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,i,o){xe(9500)}ni(e,n){return Z.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new jN(this)}getSize(e){return Z.resolve(this.size)}}class jN extends EN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),Z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class DN{constructor(e){this.persistence=e,this.ri=new fa((n=>sp(n)),ip),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new up,this.targetCount=0,this.oi=El._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),Z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new El(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.lr(n),Z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=n&&i.get(y.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return Z.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),Z.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return Z.resolve(i)}containsKey(e,n){return Z.resolve(this.si.containsKey(n))}}class pb{constructor(e,n){this._i={},this.overlays={},this.ai=new jh(0),this.ui=!1,this.ui=!0,this.ci=new RN,this.referenceDelegate=e(this),this.li=new DN(this),this.indexManager=new gN,this.remoteDocumentCache=(function(o){return new IN(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new mN(n),this.Pi=new SN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new CN(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const o=new ON(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return Z.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class ON extends iS{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.Ri=new up,this.Ai=null}static Vi(e){return new hp(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),Z.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(i=>{const o=ge.fromPath(i);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.fi=new fa((i=>lS(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=wN(this,n)}static Vi(e,n){return new yh(e,n)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return Z.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((y=>{y||(i++,u.removeEntry(d,Te.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zu(e.data.value)),n}wr(e,n,i){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dp{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new dp(e,n.fromCache,i,o)}}class VN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return w2()?8:rS(hn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,i).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new VN;return this.ys(e,n,d).next((y=>{if(u.result=y,this.As)return this.ws(e,n,d,y.size)}))})).next((()=>u.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(ll()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(ll()<=Le.DEBUG&&ce("QueryEngine","Query:",ol(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(ll()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Us(n))):Z.resolve())}gs(e,n){if(Xv(n))return Z.resolve(null);let i=Us(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=mh(n,null,"F"),i=Us(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const d=Ue(...u);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,i).next((v=>{const g=this.bs(n,y);return this.Ss(n,g,d,v.readTime)?this.gs(e,mh(n,null,"F")):this.Ds(e,g,n,v)}))))})))))}ps(e,n,i,o){return Xv(n)||o.isEqual(Te.min())?Z.resolve(null):this.fs.getDocuments(e,i).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,i,o)?Z.resolve(null):(ll()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ol(n)),this.Ds(e,d,n,eS(o,ec)).next((y=>y)))}))}bs(e,n){let i=new $t(G1(e));return n.forEach(((o,u)=>{Mh(e,u)&&(i=i.add(u))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,i){return ll()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ol(n)),this.fs.getDocumentsMatchingQuery(e,n,pr.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const fp="LocalStore",MN=3e8;class LN{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new xt(Pe),this.Fs=new fa((u=>sp(u)),ip),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function PN(r,e,n,i){return new LN(r,e,n,i)}async function gb(r,e){const n=Ne(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const d=[],y=[];let v=Ue();for(const g of o){d.push(g.batchId);for(const w of g.mutations)v=v.add(w.key)}for(const g of u){y.push(g.batchId);for(const w of g.mutations)v=v.add(w.key)}return n.localDocuments.getDocuments(i,v).next((g=>({Ns:g,removedBatchIds:d,addedBatchIds:y})))}))}))}function UN(r,e){const n=Ne(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(y,v,g,w){const A=g.batch,N=A.keys();let q=Z.resolve();return N.forEach((X=>{q=q.next((()=>w.getEntry(v,X))).next((J=>{const ee=g.docVersions.get(X);Ye(ee!==null,48541),J.version.compareTo(ee)<0&&(A.applyToRemoteDocument(J,g),J.isValidDocument()&&(J.setReadTime(g.commitVersion),w.addEntry(J)))}))})),q.next((()=>y.mutationQueue.removeMutationBatch(v,A)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(y){let v=Ue();for(let g=0;g<y.mutationResults.length;++g)y.mutationResults[g].transformResults.length>0&&(v=v.add(y.batch.mutations[g].key));return v})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function yb(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function zN(r,e){const n=Ne(r),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const y=[];e.targetChanges.forEach(((w,A)=>{const N=o.get(A);if(!N)return;y.push(n.li.removeMatchingKeys(u,w.removedDocuments,A).next((()=>n.li.addMatchingKeys(u,w.addedDocuments,A))));let q=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(rn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(w.resumeToken,i)),o=o.insert(A,q),(function(J,ee,re){return J.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=MN?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(N,q,w)&&y.push(n.li.updateTargetData(u,q))}));let v=vi(),g=Ue();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),y.push(BN(u,d,e.documentUpdates).next((w=>{v=w.Bs,g=w.Ls}))),!i.isEqual(Te.min())){const w=n.li.getLastRemoteSnapshotVersion(u).next((A=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,i)));y.push(w)}return Z.waitFor(y).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,v,g))).next((()=>v))})).then((u=>(n.vs=o,u)))}function BN(r,e,n){let i=Ue(),o=Ue();return n.forEach((u=>i=i.add(u))),e.getEntries(r,i).next((u=>{let d=vi();return n.forEach(((y,v)=>{const g=u.get(y);v.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Te.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!g.isValidDocument()||v.version.compareTo(g.version)>0||v.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ce(fp,"Ignoring outdated watch update for ",y,". Current version:",g.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function qN(r,e){const n=Ne(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=ep),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function HN(r,e){const n=Ne(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((u=>u?(o=u,Z.resolve(o)):n.li.allocateTargetId(i).next((d=>(o=new lr(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Um(r,e,n){const i=Ne(r),o=i.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(d=>i.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Cl(d))throw d;ce(fp,`Failed to update sequence numbers for target ${e}: ${d}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function c_(r,e,n){const i=Ne(r);let o=Te.min(),u=Ue();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,g,w){const A=Ne(v),N=A.Fs.get(w);return N!==void 0?Z.resolve(A.vs.get(N)):A.li.getTargetData(g,w)})(i,d,Us(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(d,y.targetId).next((v=>{u=v}))})).next((()=>i.Cs.getDocumentsMatchingQuery(d,e,n?o:Te.min(),n?u:Ue()))).next((y=>(FN(i,RS(e),y),{documents:y,ks:u})))))}function FN(r,e,n){let i=r.Ms.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),r.Ms.set(e,i)}class u_{constructor(){this.activeTargetIds=VS()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $N{constructor(){this.vo=new u_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new u_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GN{Mo(e){}shutdown(){}}const h_="ConnectivityMonitor";class d_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(h_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(h_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qu=null;function zm(){return Qu===null?Qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qu++,"0x"+Qu.toString(16)}const dm="RestConnection",KN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class QN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===uh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,u){const d=zm(),y=this.Qo(e,n.toUriEncodedString());ce(dm,`Sending RPC '${e}' ${d}:`,y,i);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,u);const{host:g}=new URL(y),w=Al(g);return this.zo(e,y,v,i,w).then((A=>(ce(dm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw ua(dm,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",i),A}))}jo(e,n,i,o,u,d){return this.Wo(e,n,i,o,u)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const i=KN[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class YN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const on="WebChannelConnection",Lo=(r,e,n)=>{r.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class fl extends QN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!fl.c_){const e=w1();Lo(e,x1.STAT_EVENT,(n=>{n.stat===Rm.PROXY?ce(on,"STAT_EVENT: detected buffering proxy"):n.stat===Rm.NOPROXY&&ce(on,"STAT_EVENT: detected no buffering proxy")})),fl.c_=!0}}zo(e,n,i,o,u){const d=zm();return new Promise(((y,v)=>{const g=new _1;g.setWithCredentials(!0),g.listenOnce(b1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ju.NO_ERROR:const A=g.getResponseJson();ce(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case Ju.TIMEOUT:ce(on,`RPC '${e}' ${d} timed out`),v(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const N=g.getStatus();if(ce(on,`RPC '${e}' ${d} failed with status:`,N,"response text:",g.getResponseText()),N>0){let q=g.getResponseJson();Array.isArray(q)&&(q=q[0]);const X=q?.error;if(X&&X.status&&X.message){const J=(function(re){const te=re.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(te)>=0?te:Y.UNKNOWN})(X.status);v(new le(J,X.message))}else v(new le(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else v(new le(Y.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(on,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);ce(on,`RPC '${e}' ${d} sending request:`,o),g.send(n,"POST",w,i,15)}))}T_(e,n,i){const o=zm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,n,i),y.encodeInitMessageHeaders=!0;const g=u.join("");ce(on,`Creating RPC '${e}' stream ${o}: ${g}`,y);const w=d.createWebChannel(g,y);this.I_(w);let A=!1,N=!1;const q=new YN({Ho:X=>{N?ce(on,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(A||(ce(on,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ce(on,`RPC '${e}' stream ${o} sending:`,X),w.send(X))},Jo:()=>w.close()});return Lo(w,Bo.EventType.OPEN,(()=>{N||(ce(on,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),Lo(w,Bo.EventType.CLOSE,(()=>{N||(N=!0,ce(on,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(w))})),Lo(w,Bo.EventType.ERROR,(X=>{N||(N=!0,ua(on,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),q.o_(new le(Y.UNAVAILABLE,"The operation could not be completed")))})),Lo(w,Bo.EventType.MESSAGE,(X=>{if(!N){const J=X.data[0];Ye(!!J,16349);const ee=J,re=ee?.error||ee[0]?.error;if(re){ce(on,`RPC '${e}' stream ${o} received error:`,re);const te=re.status;let ae=(function(Re){const I=Ut[Re];if(I!==void 0)return sb(I)})(te),be=re.message;te==="NOT_FOUND"&&be.includes("database")&&be.includes("does not exist")&&be.includes(this.databaseId.database)&&ua(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ae===void 0&&(ae=Y.INTERNAL,be="Unknown error status: "+te+" with message "+re.message),N=!0,q.o_(new le(ae,be)),w.close()}else ce(on,`RPC '${e}' stream ${o} received:`,J),q.__(J)}})),fl.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return E1()}}function XN(r){return new fl(r)}function fm(){return typeof document<"u"?document:null}function zh(r){return new eN(r,!0)}fl.c_=!1;class vb{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const f_="PersistentStream";class _b{constructor(e,n,i,o,u,d,y,v){this.Ci=e,this.b_=i,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new le(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(f_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(f_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JN extends _b{constructor(e,n,i,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sN(this.serializer,e),i=(function(u){if(!("targetChange"in u))return Te.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?zs(d.readTime):Te.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Pm(this.serializer),n.addTarget=(function(u,d){let y;const v=d.target;if(y=Om(v)?{documents:aN(u,v)}:{query:lN(u,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=ab(u,d.resumeToken);const g=km(u,d.expectedCount);g!==null&&(y.expectedCount=g)}else if(d.snapshotVersion.compareTo(Te.min())>0){y.readTime=gh(u,d.snapshotVersion.toTimestamp());const g=km(u,d.expectedCount);g!==null&&(y.expectedCount=g)}return y})(this.serializer,e);const i=cN(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.K_(n)}}class ZN extends _b{constructor(e,n,i,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rN(e.writeResults,e.commitTime),i=zs(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Pm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>iN(this.serializer,i)))};this.K_(n)}}class WN{}class e4 extends WN{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Mm(n,i),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Y.UNKNOWN,u.toString())}))}jo(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,Mm(n,i),o,d,y,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function t4(r,e,n,i){return new e4(r,e,n,i)}class n4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yi(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class s4{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{i.enqueueAndForget((async()=>{ma(this)&&(ce(ha,"Restarting streams for network reachability change."),await(async function(v){const g=Ne(v);g.Ea.add(4),await pc(g),g.Va.set("Unknown"),g.Ea.delete(4),await Bh(g)})(this))}))})),this.Va=new n4(i,o)}}async function Bh(r){if(ma(r))for(const e of r.Ra)await e(!0)}async function pc(r){for(const e of r.Ra)await e(!1)}function bb(r,e){const n=Ne(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yp(n)?gp(n):Il(n).O_()&&pp(n,e))}function mp(r,e){const n=Ne(r),i=Il(n);n.Ia.delete(e),i.O_()&&xb(n,e),n.Ia.size===0&&(i.O_()?i.L_():ma(n)&&n.Va.set("Unknown"))}function pp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(r).Z_(e)}function xb(r,e){r.da.$e(e),Il(r).X_(e)}function gp(r){r.da=new XS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Il(r).start(),r.Va.ua()}function yp(r){return ma(r)&&!Il(r).x_()&&r.Ia.size>0}function ma(r){return Ne(r).Ea.size===0}function wb(r){r.da=void 0}async function i4(r){r.Va.set("Online")}async function r4(r){r.Ia.forEach(((e,n)=>{pp(r,e)}))}async function a4(r,e){wb(r),yp(r)?(r.Va.ha(e),gp(r)):r.Va.set("Unknown")}async function l4(r,e,n){if(r.Va.set("Online"),e instanceof rb&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(r,e)}catch(i){ce(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await vh(r,i)}else if(e instanceof th?r.da.Xe(e):e instanceof ib?r.da.st(e):r.da.tt(e),!n.isEqual(Te.min()))try{const i=await yb(r.localStore);n.compareTo(i)>=0&&await(function(u,d){const y=u.da.Tt(d);return y.targetChanges.forEach(((v,g)=>{if(v.resumeToken.approximateByteSize()>0){const w=u.Ia.get(g);w&&u.Ia.set(g,w.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,g)=>{const w=u.Ia.get(v);if(!w)return;u.Ia.set(v,w.withResumeToken(rn.EMPTY_BYTE_STRING,w.snapshotVersion)),xb(u,v);const A=new lr(w.target,v,g,w.sequenceNumber);pp(u,A)})),u.remoteSyncer.applyRemoteEvent(y)})(r,n)}catch(i){ce(ha,"Failed to raise snapshot:",i),await vh(r,i)}}async function vh(r,e,n){if(!Cl(e))throw e;r.Ea.add(1),await pc(r),r.Va.set("Offline"),n||(n=()=>yb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ha,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Bh(r)}))}function Eb(r,e){return e().catch((n=>vh(r,n,e)))}async function qh(r){const e=Ne(r),n=_r(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ep;for(;o4(e);)try{const o=await qN(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,c4(e,o)}catch(o){await vh(e,o)}Tb(e)&&Ab(e)}function o4(r){return ma(r)&&r.Ta.length<10}function c4(r,e){r.Ta.push(e);const n=_r(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function Tb(r){return ma(r)&&!_r(r).x_()&&r.Ta.length>0}function Ab(r){_r(r).start()}async function u4(r){_r(r).ra()}async function h4(r){const e=_r(r);for(const n of r.Ta)e.ea(n.mutations)}async function d4(r,e,n){const i=r.Ta.shift(),o=lp.from(i,e,n);await Eb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await qh(r)}async function f4(r,e){e&&_r(r).Y_&&await(async function(i,o){if((function(d){return KS(d)&&d!==Y.ABORTED})(o.code)){const u=i.Ta.shift();_r(i).B_(),await Eb(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await qh(i)}})(r,e),Tb(r)&&Ab(r)}async function m_(r,e){const n=Ne(r);n.asyncQueue.verifyOperationInProgress(),ce(ha,"RemoteStore received new credentials");const i=ma(n);n.Ea.add(3),await pc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bh(n)}async function m4(r,e){const n=Ne(r);e?(n.Ea.delete(2),await Bh(n)):e||(n.Ea.add(2),await pc(n),n.Va.set("Unknown"))}function Il(r){return r.ma||(r.ma=(function(n,i,o){const u=Ne(n);return u.sa(),new JN(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:i4.bind(null,r),Yo:r4.bind(null,r),t_:a4.bind(null,r),J_:l4.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),yp(r)?gp(r):r.Va.set("Unknown")):(await r.ma.stop(),wb(r))}))),r.ma}function _r(r){return r.fa||(r.fa=(function(n,i,o){const u=Ne(n);return u.sa(),new ZN(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:u4.bind(null,r),t_:f4.bind(null,r),ta:h4.bind(null,r),na:d4.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await qh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ha,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class vp{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const d=Date.now()+i,y=new vp(e,n,d,o,u);return y.start(i),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(r,e){if(yi("AsyncQueue",`${e}: ${r}`),Cl(r))return new le(Y.UNAVAILABLE,`${e}: ${r}`);throw r}class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ge.comparator(n.key,i.key):(n,i)=>ge.comparator(n.key,i.key),this.keyedMap=qo(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ml;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class p_{constructor(){this.ga=new xt(ge.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Tl{constructor(e,n,i,o,u,d,y,v,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,o,u){const d=[];return n.forEach((y=>{d.push({type:0,doc:y})})),new Tl(e,n,ml.emptySet(n),d,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class p4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class g4{constructor(){this.queries=g_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ne(n),u=o.queries;o.queries=g_(),u.forEach(((d,y)=>{for(const v of y.ba)v.onError(i)}))})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function g_(){return new fa((r=>$1(r)),kh)}async function Sb(r,e){const n=Ne(r);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(i=2):(u=new p4,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const y=_p(d,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(y)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&bp(n)}async function Nb(r,e){const n=Ne(r),i=e.query;let o=3;const u=n.queries.get(i);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function y4(r,e){const n=Ne(r);let i=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const y of d.ba)y.Fa(o)&&(i=!0);d.wa=o}}i&&bp(n)}function v4(r,e,n){const i=Ne(r),o=i.queries.get(e);if(o)for(const u of o.ba)u.onError(n);i.queries.delete(e)}function bp(r){r.Ca.forEach((e=>{e.next()}))}var Bm,y_;(y_=Bm||(Bm={})).Ma="default",y_.Cache="cache";class Rb{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Tl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bm.Cache}}class Cb{constructor(e){this.key=e}}class Ib{constructor(e){this.key=e}}class _4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=G1(e),this.tu=new ml(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new p_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,A)=>{const N=o.get(w),q=Mh(this.query,A)?A:null,X=!!N&&this.mutatedKeys.has(N.key),J=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let ee=!1;N&&q?N.data.isEqual(q.data)?X!==J&&(i.track({type:3,doc:q}),ee=!0):this.su(N,q)||(i.track({type:2,doc:q}),ee=!0,(v&&this.eu(q,v)>0||g&&this.eu(q,g)<0)&&(y=!0)):!N&&q?(i.track({type:0,doc:q}),ee=!0):N&&!q&&(i.track({type:1,doc:N}),ee=!0,(v||g)&&(y=!0)),ee&&(q?(d=d.add(q),u=J?u.add(w):u.delete(w)):(d=d.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),u=u.delete(w.key),i.track({type:1,doc:w})}return{tu:d,iu:i,Ss:y,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,A)=>(function(q,X){const J=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:ee})}};return J(q)-J(X)})(w.type,A.type)||this.eu(w.doc,A.doc))),this.ou(i),o=o??!1;const y=n&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,g=v!==this.Xa;return this.Xa=v,d.length!==0||g?{snapshot:new Tl(this.query,e.tu,u,d,e.mutatedKeys,v===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new Ib(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new Cb(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xp="SyncEngine";class b4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class x4{constructor(e){this.key=e,this.hu=!1}}class w4{constructor(e,n,i,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((y=>$1(y)),kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new xt(ge.comparator),this.Au=new Map,this.Vu=new up,this.du={},this.mu=new Map,this.fu=El.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E4(r,e,n=!0){const i=Mb(r);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await jb(i,e,n,!0),o}async function T4(r,e){const n=Mb(r);await jb(n,e,!0,!1)}async function jb(r,e,n,i){const o=await HN(r.localStore,Us(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let y;return i&&(y=await A4(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&bb(r.remoteStore,o),y}async function A4(r,e,n,i,o){r.pu=(A,N,q)=>(async function(J,ee,re,te){let ae=ee.view.ru(re);ae.Ss&&(ae=await c_(J.localStore,ee.query,!1).then((({documents:I})=>ee.view.ru(I,ae))));const be=te&&te.targetChanges.get(ee.targetId),ze=te&&te.targetMismatches.get(ee.targetId)!=null,Re=ee.view.applyChanges(ae,J.isPrimaryClient,be,ze);return __(J,ee.targetId,Re.au),Re.snapshot})(r,A,N,q);const u=await c_(r.localStore,e,!0),d=new _4(e,u.ks),y=d.ru(u.documents),v=mc.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),g=d.applyChanges(y,r.isPrimaryClient,v);__(r,n,g.au);const w=new b4(e,n,d);return r.Tu.set(e,w),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function S4(r,e,n){const i=Ne(r),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((d=>!kh(d,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Um(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&mp(i.remoteStore,o.targetId),qm(i,o.targetId)})).catch(Rl)):(qm(i,o.targetId),await Um(i.localStore,o.targetId,!0))}async function N4(r,e){const n=Ne(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),mp(n.remoteStore,i.targetId))}async function R4(r,e,n){const i=k4(r);try{const o=await(function(d,y){const v=Ne(d),g=ft.now(),w=y.reduce(((q,X)=>q.add(X.key)),Ue());let A,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let X=vi(),J=Ue();return v.xs.getEntries(q,w).next((ee=>{X=ee,X.forEach(((re,te)=>{te.isValidDocument()||(J=J.add(re))}))})).next((()=>v.localDocuments.getOverlayedDocuments(q,X))).next((ee=>{A=ee;const re=[];for(const te of y){const ae=qS(te,A.get(te.key).overlayedDocument);ae!=null&&re.push(new Tr(te.key,ae,L1(ae.value.mapValue),ts.exists(!0)))}return v.mutationQueue.addMutationBatch(q,g,re,y)})).next((ee=>{N=ee;const re=ee.applyToLocalDocumentSet(A,J);return v.documentOverlayCache.saveOverlays(q,ee.batchId,re)}))})).then((()=>({batchId:N.batchId,changes:Q1(A)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let g=d.du[d.currentUser.toKey()];g||(g=new xt(Pe)),g=g.insert(y,v),d.du[d.currentUser.toKey()]=g})(i,o.batchId,n),await gc(i,o.changes),await qh(i.remoteStore)}catch(o){const u=_p(o,"Failed to persist write");n.reject(u)}}async function Db(r,e){const n=Ne(r);try{const i=await zN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ye(d.hu,14607):o.removedDocuments.size>0&&(Ye(d.hu,42227),d.hu=!1))})),await gc(n,i,e)}catch(i){await Rl(i)}}function v_(r,e,n){const i=Ne(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((u,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Ne(d);v.onlineState=y;let g=!1;v.queries.forEach(((w,A)=>{for(const N of A.ba)N.va(y)&&(g=!0)})),g&&bp(v)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function C4(r,e,n){const i=Ne(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let d=new xt(ge.comparator);d=d.insert(u,un.newNoDocument(u,Te.min()));const y=Ue().add(u),v=new Uh(Te.min(),new Map,new xt(Pe),d,y);await Db(i,v),i.Ru=i.Ru.remove(u),i.Au.delete(e),wp(i)}else await Um(i.localStore,e,!1).then((()=>qm(i,e,n))).catch(Rl)}async function I4(r,e){const n=Ne(r),i=e.batch.batchId;try{const o=await UN(n.localStore,e);Vb(n,i,null),Ob(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await gc(n,o)}catch(o){await Rl(o)}}async function j4(r,e,n){const i=Ne(r);try{const o=await(function(d,y){const v=Ne(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let w;return v.mutationQueue.lookupMutationBatch(g,y).next((A=>(Ye(A!==null,37113),w=A.keys(),v.mutationQueue.removeMutationBatch(g,A)))).next((()=>v.mutationQueue.performConsistencyCheck(g))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(g,w,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w))).next((()=>v.localDocuments.getDocuments(g,w)))}))})(i.localStore,e);Vb(i,e,n),Ob(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await gc(i,o)}catch(o){await Rl(o)}}function Ob(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Vb(r,e,n){const i=Ne(r);let o=i.du[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||kb(r,i)}))}function kb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(mp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),wp(r))}function __(r,e,n){for(const i of n)i instanceof Cb?(r.Vu.addReference(i.key,e),D4(r,i)):i instanceof Ib?(ce(xp,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||kb(r,i.key)):xe(19791,{wu:i})}function D4(r,e){const n=e.key,i=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(i)||(ce(xp,"New document in limbo: "+n),r.Eu.add(i),wp(r))}function wp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(ot.fromString(e)),i=r.fu.next();r.Au.set(i,new x4(n)),r.Ru=r.Ru.insert(n,i),bb(r.remoteStore,new lr(Us(Vh(n.path)),i,"TargetPurposeLimboResolution",jh.ce))}}async function gc(r,e,n){const i=Ne(r),o=[],u=[],d=[];i.Tu.isEmpty()||(i.Tu.forEach(((y,v)=>{d.push(i.pu(v,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const w=g?!g.fromCache:n?.targetChanges.get(v.targetId)?.current;i.sharedClientState.updateQueryState(v.targetId,w?"current":"not-current")}if(g){o.push(g);const w=dp.Es(v.targetId,g);u.push(w)}})))})),await Promise.all(d),i.Pu.J_(o),await(async function(v,g){const w=Ne(v);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(g,(N=>Z.forEach(N.Ts,(q=>w.persistence.referenceDelegate.addReference(A,N.targetId,q))).next((()=>Z.forEach(N.Is,(q=>w.persistence.referenceDelegate.removeReference(A,N.targetId,q)))))))))}catch(A){if(!Cl(A))throw A;ce(fp,"Failed to update sequence numbers: "+A)}for(const A of g){const N=A.targetId;if(!A.fromCache){const q=w.vs.get(N),X=q.snapshotVersion,J=q.withLastLimboFreeSnapshotVersion(X);w.vs=w.vs.insert(N,J)}}})(i.localStore,u))}async function O4(r,e){const n=Ne(r);if(!n.currentUser.isEqual(e)){ce(xp,"User change. New user:",e.toKey());const i=await gb(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((y=>{y.forEach((v=>{v.reject(new le(Y.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await gc(n,i.Ns)}}function V4(r,e){const n=Ne(r),i=n.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const y=n.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function Mb(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Db.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C4.bind(null,e),e.Pu.J_=y4.bind(null,e.eventManager),e.Pu.yu=v4.bind(null,e.eventManager),e}function k4(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j4.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PN(this.persistence,new kN,e.initialUser,this.serializer)}Cu(e){return new pb(hp.Vi,this.serializer)}Du(e){return new $N}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class M4 extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof yh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bN(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new pb((i=>yh.Vi(i,n)),this.serializer)}}class Hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>v_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=O4.bind(null,this.syncEngine),await m4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g4})()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),i=XN(e.databaseInfo);return t4(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,u,d,y){return new s4(i,o,u,d,y)})(this.localStore,this.datastore,e.asyncQueue,(n=>v_(this.syncEngine,n,0)),(function(){return d_.v()?new d_:new GN})())}createSyncEngine(e,n){return(function(o,u,d,y,v,g,w){const A=new w4(o,u,d,y,v,g);return w&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ne(n);ce(ha,"RemoteStore shutting down."),i.Ea.add(5),await pc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hm.provider={build:()=>new Hm};class Lb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const br="FirestoreClient";class L4{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async d=>{ce(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(ce(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=_p(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function mm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(br,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await gb(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function b_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await P4(r);ce(br,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>m_(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>m_(e.remoteStore,o))),r._onlineComponents=e}async function P4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(br,"Using user provided OfflineComponentProvider");try{await mm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await mm(r,new _h)}}else ce(br,"Using default OfflineComponentProvider"),await mm(r,new M4(void 0));return r._offlineComponents}async function Pb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(br,"Using user provided OnlineComponentProvider"),await b_(r,r._uninitializedComponentsProvider._online)):(ce(br,"Using default OnlineComponentProvider"),await b_(r,new Hm))),r._onlineComponents}function U4(r){return Pb(r).then((e=>e.syncEngine))}async function Fm(r){const e=await Pb(r),n=e.eventManager;return n.onListen=E4.bind(null,e.syncEngine),n.onUnlisten=S4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N4.bind(null,e.syncEngine),n}function z4(r,e,n,i){const o=new Lb(i),u=new Rb(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>Sb(await Fm(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Nb(await Fm(r),u)))}}function B4(r,e,n={}){const i=new dr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,y,v,g){const w=new Lb({next:N=>{w.Nu(),d.enqueueAndForget((()=>Nb(u,A)));const q=N.docs.has(y);!q&&N.fromCache?g.reject(new le(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&N.fromCache&&v&&v.source==="server"?g.reject(new le(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(N)},error:N=>g.reject(N)}),A=new Rb(Vh(y.path),w,{includeMetadataChanges:!0,Ka:!0});return Sb(u,A)})(await Fm(r),r.asyncQueue,e,n,i))),i.promise}function q4(r,e){const n=new dr;return r.asyncQueue.enqueueAndForget((async()=>R4(await U4(r),e,n))),n.promise}function Ub(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const H4="ComponentProvider",x_=new Map;function F4(r,e,n,i,o){return new uS(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Ub(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}const zb="firestore.googleapis.com",w_=!0;class E_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zb,this.ssl=w_}else this.host=e.host,this.ssl=e.ssl??w_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vN)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ub(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new HA;switch(i.type){case"firstParty":return new KA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=x_.get(n);i&&(ce(H4,"Removing Datastore"),x_.delete(n),i.terminate())})(this),Promise.resolve()}}function $4(r,e,n,i={}){r=es(r,Hh);const o=Al(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${n}`;o&&(u1(`https://${y}`),h1("Firestore",!0)),u.host!==zb&&u.host!==y&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:y,ssl:o,emulatorOptions:i};if(!la(v,d)&&(r._setSettings(v),i.mockUserToken)){let g,w;if(typeof i.mockUserToken=="string")g=i.mockUserToken,w=cn.MOCK_USER;else{g=f2(i.mockUserToken,r._app?.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new le(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new cn(A)}r._authCredentials=new FA(new A1(g,w))}}class pa{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class At{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(hc(n,At._jsonSchema))return new At(e,i||null,new ge(ot.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:qt("string",At._jsonSchemaVersion),referencePath:qt("string")};class fr extends pa{constructor(e,n,i){super(e,n,Vh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ge(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function fi(r,e,...n){if(r=dn(r),S1("collection","path",e),r instanceof Hh){const i=ot.fromString(e,...n);return Mv(i),new fr(r,null,i)}{if(!(r instanceof At||r instanceof fr))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ot.fromString(e,...n));return Mv(i),new fr(r.firestore,null,i)}}function zt(r,e,...n){if(r=dn(r),arguments.length===1&&(e=Wm.newId()),S1("doc","path",e),r instanceof Hh){const i=ot.fromString(e,...n);return kv(i),new At(r,null,new ge(i))}{if(!(r instanceof At||r instanceof fr))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ot.fromString(e,...n));return kv(i),new At(r.firestore,r instanceof fr?r.converter:null,new ge(i))}}const T_="AsyncQueue";class A_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vb(this,"async_queue_retry"),this._c=()=>{const i=fm();i&&ce(T_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;ce(T_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,yi("INTERNAL UNHANDLED ERROR: ",S_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=vp.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:S_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function S_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class xr extends Hh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new A_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A_(e),this._firestoreClient=void 0,await e}}}function G4(r,e){const n=typeof r=="object"?r:p1(),i=typeof r=="string"?r:uh,o=Jm(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=h2("firestore");u&&$4(o,...u)}return o}function Ep(r){if(r._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||K4(r),r._firestoreClient}function K4(r){const e=r._freezeSettings(),n=F4(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new L4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(rn.fromBase64String(e))}catch(n){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:qt("string",Wn._jsonSchemaVersion),bytes:qt("string")};class Tp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fh{constructor(e){this._methodName=e}}class Bs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(e){if(hc(e,Bs._jsonSchema))return new Bs(e.latitude,e.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:qt("string",Bs._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class ps{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ps(e.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:qt("string",ps._jsonSchemaVersion),vectorValues:qt("object")};const Q4=/^__.*__$/;class Y4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms):new fc(e,this.data,n,this.fieldTransforms)}}class Bb{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:r})}}class Ap{constructor(e,n,i,o,u,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(qb(this.dataSource)&&Q4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class X4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||zh(e)}createContext(e,n,i,o=!1){return new Ap({dataSource:e,methodName:n,targetDoc:i,path:sn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $h(r){const e=r._freezeSettings(),n=zh(r._databaseId);return new X4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Hb(r,e,n,i,o,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Np("Data must be an object, but it was:",d,i);const y=Fb(i,d);let v,g;if(u.merge)v=new Pn(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const w=[];for(const A of u.mergeFields){const N=lc(e,A,n);if(!d.contains(N))throw new le(Y.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Kb(w,N)||w.push(N)}v=new Pn(w),g=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,g=d.fieldTransforms;return new Y4(new Sn(y),v,g)}class Gh extends Fh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}class Sp extends Fh{_toFieldTransform(e){return new PS(e.path,new ic)}isEqual(e){return e instanceof Sp}}function J4(r,e,n,i){const o=r.createContext(1,e,n);Np("Data must be an object, but it was:",o,i);const u=[],d=Sn.empty();Er(i,((v,g)=>{const w=Gb(e,v,n);g=dn(g);const A=o.childContextForFieldPath(w);if(g instanceof Gh)u.push(w);else{const N=yc(g,A);N!=null&&(u.push(w),d.set(w,N))}}));const y=new Pn(u);return new Bb(d,y,o.fieldTransforms)}function Z4(r,e,n,i,o,u){const d=r.createContext(1,e,n),y=[lc(e,i,n)],v=[o];if(u.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)y.push(lc(e,u[N])),v.push(u[N+1]);const g=[],w=Sn.empty();for(let N=y.length-1;N>=0;--N)if(!Kb(g,y[N])){const q=y[N];let X=v[N];X=dn(X);const J=d.childContextForFieldPath(q);if(X instanceof Gh)g.push(q);else{const ee=yc(X,J);ee!=null&&(g.push(q),w.set(q,ee))}}const A=new Pn(g);return new Bb(w,A,d.fieldTransforms)}function W4(r,e,n,i=!1){return yc(n,r.createContext(i?4:3,e))}function yc(r,e){if($b(r=dn(r)))return Np("Unsupported field value:",e,r),Fb(r,e);if(r instanceof Fh)return(function(i,o){if(!qb(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const u=[];let d=0;for(const y of i){let v=yc(y,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),d++}return{arrayValue:{values:u}}})(r,e)}return(function(i,o){if((i=dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return kS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=ft.fromDate(i);return{timestampValue:gh(o.serializer,u)}}if(i instanceof ft){const u=new ft(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gh(o.serializer,u)}}if(i instanceof Bs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wn)return{bytesValue:ab(o.serializer,i._byteString)};if(i instanceof At){const u=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof ps)return(function(d,y){const v=d instanceof ps?d.toArray():d;return{mapValue:{fields:{[k1]:{stringValue:M1},[hh]:{arrayValue:{values:v.map((w=>{if(typeof w!="number")throw y.createError("VectorValues must only contain numeric values.");return rp(y.serializer,w)}))}}}}}})(i,o);if(fb(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ih(i)}`)})(r,e)}function Fb(r,e){const n={};return C1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(r,((i,o)=>{const u=yc(o,e.childContextForField(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function $b(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ft||r instanceof Bs||r instanceof Wn||r instanceof At||r instanceof Fh||r instanceof ps||fb(r))}function Np(r,e,n){if(!$b(n)||!N1(n)){const i=Ih(n);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function lc(r,e,n){if((e=dn(e))instanceof Tp)return e._internalPath;if(typeof e=="string")return Gb(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const e5=new RegExp("[~\\*/\\[\\]]");function Gb(r,e,n){if(e.search(e5)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Tp(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,e,n,i,o){const u=i&&!i.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${i}`),d&&(v+=` in document ${o}`),v+=")"),new le(Y.INVALID_ARGUMENT,y+r+v)}function Kb(r,e){return r.some((n=>n.isEqual(e)))}class t5{convertValue(e,n="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Er(e,((o,u)=>{i[o]=this.convertValue(u,n)})),i}convertVectorValue(e){const n=e.fields?.[hh].arrayValue?.values?.map((i=>It(i.doubleValue)));return new ps(n)}convertGeoPoint(e){return new Bs(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Oh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const n=gr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ot.fromString(e);Ye(db(i),9688,{name:e});const o=new nc(i.get(1),i.get(3)),u=new ge(i.popFirst(5));return o.isEqual(n)||yi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Qb extends t5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Po(){return new Sp("serverTimestamp")}const N_="@firebase/firestore",R_="4.11.0";function C_(r){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of i)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Yb{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(lc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n5 extends Yb{data(){return super.data()}}function s5(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rp{}class Xb extends Rp{}function il(r,e,...n){let i=[];e instanceof Rp&&i.push(e),i=i.concat(n),(function(u){const d=u.filter((v=>v instanceof Ip)).length,y=u.filter((v=>v instanceof Cp)).length;if(d>1||d>0&&y>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Cp extends Xb{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Cp(e,n,i)}_apply(e){const n=this._parse(e);return Jb(e._query,n),new pa(e.firestore,e.converter,Vm(e._query,n))}_parse(e){const n=$h(e.firestore);return(function(u,d,y,v,g,w,A){let N;if(g.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){D_(A,w);const X=[];for(const J of A)X.push(j_(v,u,J));N={arrayValue:{values:X}}}else N=j_(v,u,A)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||D_(A,w),N=W4(y,d,A,w==="in"||w==="not-in");return Bt.create(g,w,N)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ip extends Rp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ip(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:gs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const y=u.getFlattenedFilters();for(const v of y)Jb(d,v),d=Vm(d,v)})(e._query,n),new pa(e.firestore,e.converter,Vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jp extends Xb{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new jp(e,n,i)}_apply(e){return new pa(e.firestore,e.converter,mh(e._query,this._limit,this._limitType))}}function I_(r){return jp._create("limit",r,"F")}function j_(r,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F1(e)&&n.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ot.fromString(n));if(!ge.isDocumentKey(i))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Fv(r,new ge(i))}if(n instanceof At)return Fv(r,n._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function D_(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jb(r,e){const n=(function(o,u){for(const d of o)for(const y of d.getFlattenedFilters())if(u.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Zb(r,e,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,i}class Fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends Yb{constructor(e,n,i,o,u,d){super(e,n,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(lc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:qt("string",aa._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class nh extends aa{data(e={}){return super.data(e)}}class pl{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fo(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new nh(this._firestore,this._userDataWriter,i.key,i,new Fo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new nh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Fo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const v=new nh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Fo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,w=-1;return y.type!==0&&(g=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),w=d.indexOf(y.doc.key)),{type:i5(y.type),doc:v,oldIndex:g,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function i5(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:qt("string",pl._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};function r5(r){r=es(r,At);const e=es(r.firestore,xr),n=Ep(e);return B4(n,r._key).then((i=>ex(e,r,i)))}function Zn(r,e,n){r=es(r,At);const i=es(r.firestore,xr),o=Zb(r.converter,e,n),u=$h(i);return Kh(i,[Hb(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ts.none())])}function Uo(r,e,n,...i){r=es(r,At);const o=es(r.firestore,xr),u=$h(o);let d;return d=typeof(e=dn(e))=="string"||e instanceof Tp?Z4(u,"updateDoc",r._key,e,n,i):J4(u,"updateDoc",r._key,e),Kh(o,[d.toMutation(r._key,ts.exists(!0))])}function xh(r){return Kh(es(r.firestore,xr),[new ap(r._key,ts.none())])}function Wb(r,e){const n=es(r.firestore,xr),i=zt(r),o=Zb(r.converter,e),u=$h(r.firestore);return Kh(n,[Hb(u,"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,ts.exists(!1))]).then((()=>i))}function rl(r,...e){r=dn(r);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||C_(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(C_(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let u,d,y;if(r instanceof At)d=es(r.firestore,xr),y=Vh(r._key.path),u={next:g=>{e[i]&&e[i](ex(d,r,g))},error:e[i+1],complete:e[i+2]};else{const g=es(r,pa);d=es(g.firestore,xr),y=g._query;const w=new Qb(d);u={next:A=>{e[i]&&e[i](new pl(d,w,g,A))},error:e[i+1],complete:e[i+2]},s5(r._query)}const v=Ep(d);return z4(v,y,o,u)}function Kh(r,e){const n=Ep(r);return q4(n,e)}function ex(r,e,n){const i=n.docs.get(e._key),o=new Qb(r);return new aa(r,o,e._key,i,new Fo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){qA(Sl),_l(new oa("firestore",((i,{instanceIdentifier:o,options:u})=>{const d=i.getProvider("app").getImmediate(),y=new xr(new $A(i.getProvider("auth-internal")),new QA(d,i.getProvider("app-check-internal")),hS(d,o),d);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),ur(N_,R_,e),ur(N_,R_,"esm2020")})();function tx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a5=tx,nx=new cc("auth","Firebase",tx());const wh=new Ym("@firebase/auth");function l5(r,...e){wh.logLevel<=Le.WARN&&wh.warn(`Auth (${Sl}): ${r}`,...e)}function sh(r,...e){wh.logLevel<=Le.ERROR&&wh.error(`Auth (${Sl}): ${r}`,...e)}function _i(r,...e){throw Dp(r,...e)}function qs(r,...e){return Dp(r,...e)}function sx(r,e,n){const i={...a5(),[e]:n};return new cc("auth","Firebase",i).create(e,{appName:r.name})}function mr(r){return sx(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return nx.create(r,...e)}function Ee(r,e,...n){if(!r)throw Dp(e,...n)}function mi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sh(e),new Error(e)}function bi(r,e){r||mi(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function o5(){return O_()==="http:"||O_()==="https:"}function O_(){return typeof self<"u"&&self.location?.protocol||null}function c5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o5()||_2()||"connection"in navigator)?navigator.onLine:!0}function u5(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=g2()||b2()}get(){return c5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Op(r,e){bi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ix{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const h5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const d5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f5=new vc(3e4,6e4);function Qh(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function jl(r,e,n,i,o={}){return rx(r,o,async()=>{let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});const y=uc({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:v,...u};return v2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Al(r.emulatorConfig.host)&&(g.credentials="include"),ix.fetch()(await lx(r,r.config.apiHost,n,y),g)})}async function rx(r,e,n){r._canInitEmulator=!1;const i={...h5,...e};try{const o=new m5(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Yu(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const y=u.ok?d.errorMessage:d.error.message,[v,g]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Yu(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Yu(r,"user-disabled",d);const w=i[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw sx(r,w,g);_i(r,w)}}catch(o){if(o instanceof xi)throw o;_i(r,"network-request-failed",{message:String(o)})}}async function ax(r,e,n,i,o={}){const u=await jl(r,e,n,i,o);return"mfaPendingCredential"in u&&_i(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function lx(r,e,n,i){const o=`${e}${n}?${i}`,u=r,d=u.config.emulator?Op(r.config,o):`${r.config.apiScheme}://${o}`;return d5.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class m5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(qs(this.auth,"network-request-failed")),f5.get())})}}function Yu(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=qs(r,e,i);return o.customData._tokenResponse=n,o}async function p5(r,e){return jl(r,"POST","/v1/accounts:delete",e)}async function Eh(r,e){return jl(r,"POST","/v1/accounts:lookup",e)}function Jo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g5(r,e=!1){const n=dn(r),i=await n.getIdToken(e),o=Vp(i);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:i,authTime:Jo(pm(o.auth_time)),issuedAtTime:Jo(pm(o.iat)),expirationTime:Jo(pm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function pm(r){return Number(r)*1e3}function Vp(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=a1(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function V_(r){const e=Vp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function oc(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof xi&&y5(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function y5({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class v5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jo(this.lastLoginAt),this.creationTime=Jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Th(r){const e=r.auth,n=await r.getIdToken(),i=await oc(r,Eh(e,{idToken:n}));Ee(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?ox(o.providerUserInfo):[],d=b5(r.providerData,u),y=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,g=y?v:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,w)}async function _5(r){const e=dn(r);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b5(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function ox(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function x5(r,e){const n=await rx(r,{},async()=>{const i=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await lx(r,o,"/v1/token",`key=${u}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:i};return r.emulatorConfig&&Al(r.emulatorConfig.host)&&(v.credentials="include"),ix.fetch()(d,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w5(r,e){return jl(r,"POST","/v2/accounts:revokeToken",Qh(r,e))}class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=V_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await x5(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,d=new gl;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return mi("not implemented")}}function nr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ms{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new v5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await oc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g5(this,e)}reload(){return _5(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await oc(this,p5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,y=n.tenantId??void 0,v=n._redirectEventId??void 0,g=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:q,providerData:X,stsTokenManager:J}=n;Ee(A&&J,e,"internal-error");const ee=gl.fromJSON(this.name,J);Ee(typeof A=="string",e,"internal-error"),nr(i,e.name),nr(o,e.name),Ee(typeof N=="boolean",e,"internal-error"),Ee(typeof q=="boolean",e,"internal-error"),nr(u,e.name),nr(d,e.name),nr(y,e.name),nr(v,e.name),nr(g,e.name),nr(w,e.name);const re=new ms({uid:A,auth:e,email:o,emailVerified:N,displayName:i,isAnonymous:q,photoURL:d,phoneNumber:u,tenantId:y,stsTokenManager:ee,createdAt:g,lastLoginAt:w});return X&&Array.isArray(X)&&(re.providerData=X.map(te=>({...te}))),v&&(re._redirectEventId=v),re}static async _fromIdTokenResponse(e,n,i=!1){const o=new gl;o.updateFromServerResponse(n);const u=new ms({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Th(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ox(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,y=new gl;y.updateFromIdToken(i);const v=new ms({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(v,g),v}}const k_=new Map;function pi(r){bi(r instanceof Function,"Expected a class definition");let e=k_.get(r);return e?(bi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,k_.set(r,e),e)}class cx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cx.type="NONE";const M_=cx;function ih(r,e,n){return`firebase:${r}:${e}:${n}`}class yl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?ms._fromGetAccountInfoResponse(this.auth,n,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new yl(pi(M_),e,i);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||pi(M_);const d=ih(i,e.config.apiKey,e.name);let y=null;for(const g of n)try{const w=await g._get(d);if(w){let A;if(typeof w=="string"){const N=await Eh(e,{idToken:w}).catch(()=>{});if(!N)break;A=await ms._fromGetAccountInfoResponse(e,N,w)}else A=ms._fromJSON(e,w);g!==u&&(y=A),u=g;break}}catch{}const v=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new yl(u,e,i):(u=v[0],y&&await u._set(d,y.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new yl(u,e,i))}}function L_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ux(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(px(e))return"Blackberry";if(gx(e))return"Webos";if(hx(e))return"Safari";if((e.includes("chrome/")||dx(e))&&!e.includes("edge/"))return"Chrome";if(mx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function ux(r=hn()){return/firefox\//i.test(r)}function hx(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dx(r=hn()){return/crios\//i.test(r)}function fx(r=hn()){return/iemobile/i.test(r)}function mx(r=hn()){return/android/i.test(r)}function px(r=hn()){return/blackberry/i.test(r)}function gx(r=hn()){return/webos/i.test(r)}function kp(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function E5(r=hn()){return kp(r)&&!!window.navigator?.standalone}function T5(){return x2()&&document.documentMode===10}function yx(r=hn()){return kp(r)||mx(r)||gx(r)||px(r)||/windows phone/i.test(r)||fx(r)}function vx(r,e=[]){let n;switch(r){case"Browser":n=L_(hn());break;case"Worker":n=`${L_(hn())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sl}/${i}`}class A5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((d,y)=>{try{const v=e(u);d(v)}catch(v){y(v)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function S5(r,e={}){return jl(r,"GET","/v2/passwordPolicy",Qh(r,e))}const N5=6;class R5{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??N5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class C5{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P_(this),this.idTokenSubscription=new P_(this),this.beforeStateQueue=new A5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),i=await ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=i?._redirectEventId,y=await this.tryRedirectSignIn(e);(!u||u===d)&&y?.user&&(i=y.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(mr(this));const n=e?dn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S5(this),n=new R5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await w5(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(y,this,"internal-error"),y.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const v=e.addObserver(n,i,o);return()=>{d=!0,v()}}else{const v=e.addObserver(n);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&l5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yh(r){return dn(r)}class P_{constructor(e){this.auth=e,this.observer=null,this.addObserver=C2(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I5(r){Mp=r}function j5(r){return Mp.loadJS(r)}function D5(){return Mp.gapiScript}function O5(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function V5(r,e){const n=Jm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(la(u,e??{}))return o;_i(o,"already-initialized")}return n.initialize({options:e})}function k5(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function M5(r,e,n){const i=Yh(r);Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=_x(e),{host:d,port:y}=L5(e),v=y===null?"":`:${y}`,g={url:`${u}//${d}${v}/`},w=Object.freeze({host:d,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ee(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ee(la(g,i.config.emulator)&&la(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,Al(d)?(u1(`${u}//${d}${v}`),h1("Auth",!0)):P5()}function _x(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function L5(r){const e=_x(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:U_(i.substr(u.length+1))}}else{const[u,d]=i.split(":");return{host:u,port:U_(d)}}}function U_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function P5(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class bx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function vl(r,e){return ax(r,"POST","/v1/accounts:signInWithIdp",Qh(r,e))}const U5="http://localhost";class da extends bx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const d=new da(i,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return vl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,vl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vl(e,n)}buildRequest(){const e={requestUri:U5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uc(n)}return e}}class xx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _c extends xx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends _c{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class ir extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ir.credential(n,i)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class rr extends _c{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends _c{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ar.credential(n,i)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";async function z5(r,e){return ax(r,"POST","/v1/accounts:signUp",Qh(r,e))}class wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await ms._fromIdTokenResponse(e,i,o),d=z_(i);return new wr({user:u,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=z_(i);return new wr({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function z_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function B5(r){if(fs(r.app))return Promise.reject(mr(r));const e=Yh(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new wr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await z5(e,{returnSecureToken:!0}),i=await wr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(i.user),i}class Ah extends xi{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Ah(e,n,i,o)}}function wx(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,u,e,i):u})}async function q5(r,e,n=!1){const i=await oc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return wr._forOperation(r,"link",i)}async function H5(r,e,n=!1){const{auth:i}=r;if(fs(i.app))return Promise.reject(mr(i));const o="reauthenticate";try{const u=await oc(r,wx(i,o,e,r),n);Ee(u.idToken,i,"internal-error");const d=Vp(u.idToken);Ee(d,i,"internal-error");const{sub:y}=d;return Ee(r.uid===y,i,"user-mismatch"),wr._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&_i(i,"user-mismatch"),u}}async function F5(r,e,n=!1){if(fs(r.app))return Promise.reject(mr(r));const i="signIn",o=await wx(r,i,e),u=await wr._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(u.user),u}function $5(r,e,n,i){return dn(r).onIdTokenChanged(e,n,i)}function G5(r,e,n){return dn(r).beforeAuthStateChanged(e,n)}const Sh="__sak";class Ex{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const K5=1e3,Q5=10;class Tx extends Ex{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},u=this.storage.getItem(i);T5()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Q5):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},K5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tx.type="LOCAL";const Y5=Tx;class Ax extends Ex{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ax.type="SESSION";const Sx=Ax;function X5(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Xh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const y=Array.from(d).map(async g=>g(n.origin,u)),v=await X5(y);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:v})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];function Lp(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class J5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((y,v)=>{const g=Lp("",20);o.port1.start();const w=setTimeout(()=>{v(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(A){const N=A;if(N.data.eventId===g)switch(N.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(N.data.response);break;default:clearTimeout(w),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hs(){return window}function Z5(r){Hs().location.href=r}function Nx(){return typeof Hs().WorkerGlobalScope<"u"&&typeof Hs().importScripts=="function"}async function W5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eR(){return navigator?.serviceWorker?.controller||null}function tR(){return Nx()?self:null}const Rx="firebaseLocalStorageDb",nR=1,Nh="firebaseLocalStorage",Cx="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(r,e){return r.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function sR(){const r=indexedDB.deleteDatabase(Rx);return new bc(r).toPromise()}function Km(){const r=indexedDB.open(Rx,nR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Nh,{keyPath:Cx})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Nh)?e(i):(i.close(),await sR(),e(await Km()))})})}async function B_(r,e,n){const i=Jh(r,!0).put({[Cx]:e,value:n});return new bc(i).toPromise()}async function iR(r,e){const n=Jh(r,!1).get(e),i=await new bc(n).toPromise();return i===void 0?null:i.value}function q_(r,e){const n=Jh(r,!0).delete(e);return new bc(n).toPromise()}const rR=800,aR=3;class Ix{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>aR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(tR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await W5(),!this.activeServiceWorker)return;this.sender=new J5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await B_(e,Sh,"1"),await q_(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>B_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>iR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new bc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ix.type="LOCAL";const lR=Ix;new vc(3e4,6e4);function oR(r,e){return e?pi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pp extends bx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cR(r){return F5(r.auth,new Pp(r),r.bypassAuthState)}function uR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),H5(n,new Pp(r),r.bypassAuthState)}async function hR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),q5(n,new Pp(r),r.bypassAuthState)}class jx{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cR;case"linkViaPopup":case"linkViaRedirect":return hR;case"reauthViaPopup":case"reauthViaRedirect":return uR;default:_i(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dR=new vc(2e3,1e4);class hl extends jx{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dR.get())};e()}}hl.currentPopupAction=null;const fR="pendingRedirect",rh=new Map;class mR extends jx{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const i=await pR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pR(r,e){const n=vR(e),i=yR(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function gR(r,e){rh.set(r._key(),e)}function yR(r){return pi(r._redirectPersistence)}function vR(r){return ih(fR,r.config.apiKey,r.name)}async function _R(r,e,n=!1){if(fs(r.app))return Promise.reject(mr(r));const i=Yh(r),o=oR(i,e),d=await new mR(i,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}const bR=600*1e3;class xR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Dx(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bR&&this.cachedEventUids.clear(),this.cachedEventUids.has(H_(e))}saveEventToCache(e){this.cachedEventUids.add(H_(e)),this.lastProcessedEventTime=Date.now()}}function H_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Dx({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function wR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dx(r);default:return!1}}async function ER(r,e={}){return jl(r,"GET","/v1/projects",e)}const TR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AR=/^https?/;async function SR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ER(r);for(const n of e)try{if(NR(n))return}catch{}_i(r,"unauthorized-domain")}function NR(r){const e=$m(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!AR.test(n))return!1;if(TR.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const RR=new vc(3e4,6e4);function F_(){const r=Hs().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function CR(r){return new Promise((e,n)=>{function i(){F_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F_(),n(qs(r,"network-request-failed"))},timeout:RR.get()})}if(Hs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hs().gapi?.load)i();else{const o=O5("iframefcb");return Hs()[o]=()=>{gapi.load?i():n(qs(r,"network-request-failed"))},j5(`${D5()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ah=null,e})}let ah=null;function IR(r){return ah=ah||CR(r),ah}const jR=new vc(5e3,15e3),DR="__/auth/iframe",OR="emulator/auth/iframe",VR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MR(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Op(e,OR):`https://${r.config.authDomain}/${DR}`,i={apiKey:e.apiKey,appName:r.name,v:Sl},o=kR.get(r.config.apiHost);o&&(i.eid=o);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${uc(i).slice(1)}`}async function LR(r){const e=await IR(r),n=Hs().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:MR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VR,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const d=qs(r,"network-request-failed"),y=Hs().setTimeout(()=>{u(d)},jR.get());function v(){Hs().clearTimeout(y),o(i)}i.ping(v).then(v,()=>{u(d)})}))}const PR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UR=500,zR=600,BR="_blank",qR="http://localhost";class $_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HR(r,e,n,i=UR,o=zR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let y="";const v={...PR,width:i.toString(),height:o.toString(),top:u,left:d},g=hn().toLowerCase();n&&(y=dx(g)?BR:n),ux(g)&&(e=e||qR,v.scrollbars="yes");const w=Object.entries(v).reduce((N,[q,X])=>`${N}${q}=${X},`,"");if(E5(g)&&y!=="_self")return FR(e||"",y),new $_(null);const A=window.open(e||"",y,w);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new $_(A)}function FR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const $R="__/auth/handler",GR="emulator/auth/handler",KR=encodeURIComponent("fac");async function G_(r,e,n,i,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:Sl,eventId:o};if(e instanceof xx){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",R2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,A]of Object.entries({}))d[w]=A}if(e instanceof _c){const w=e.getScopes().filter(A=>A!=="");w.length>0&&(d.scopes=w.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const w of Object.keys(y))y[w]===void 0&&delete y[w];const v=await r._getAppCheckToken(),g=v?`#${KR}=${encodeURIComponent(v)}`:"";return`${QR(r)}?${uc(y).slice(1)}${g}`}function QR({config:r}){return r.emulator?Op(r,GR):`https://${r.authDomain}/${$R}`}const gm="webStorageSupport";class YR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sx,this._completeRedirectFn=_R,this._overrideRedirectResult=gR}async _openPopup(e,n,i,o){bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await G_(e,n,i,$m(),o);return HR(e,u,Lp())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await G_(e,n,i,$m(),o);return Z5(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bi(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await LR(e),i=new xR(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},o=>{const u=o?.[0]?.[gm];u!==void 0&&n(!!u),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yx()||hx()||kp()}}const XR=YR;var K_="@firebase/auth",Q_="1.12.0";class JR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WR(r){_l(new oa("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=i.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const v={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vx(r)},g=new C5(i,o,u,v);return k5(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_l(new oa("auth-internal",e=>{const n=Yh(e.getProvider("auth").getImmediate());return(i=>new JR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(K_,Q_,ZR(r)),ur(K_,Q_,"esm2020")}const eC=300,tC=c1("authIdTokenMaxAge")||eC;let Y_=null;const nC=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>tC)return;const o=n?.token;Y_!==o&&(Y_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sC(r=p1()){const e=Jm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=V5(r,{popupRedirectResolver:XR,persistence:[lR,Y5,Sx]}),i=c1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const d=nC(u.toString());G5(n,d,()=>d(n.currentUser)),$5(n,y=>d(y))}}const o=l1("auth");return o&&M5(n,`http://${o}`),n}function iC(){return document.getElementsByTagName("head")?.[0]??document}I5({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const u=qs("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",iC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WR("Browser");const rC={apiKey:"AIzaSyBT93hmr81TT_-KltaYxcYwms_xKxg3c1I",authDomain:"medivend-a3d51.firebaseapp.com",projectId:"medivend-a3d51",storageBucket:"medivend-a3d51.firebasestorage.app",messagingSenderId:"743343498567",appId:"1:743343498567:web:2d50fb42346f31350d1862"},Ox=m1(rC),ht=G4(Ox),aC=sC(Ox),dt="medivend-local",ym={username:"admin",password:"admin123",email:"admin@medivend.com",displayName:"System Administrator",photoUrl:"image_3f1ac4.png"};function na({id:r,label:e,icon:n,active:i,onClick:o,badge:u,isDarkMode:d}){return m.jsxs("button",{onClick:()=>o(r),className:`flex w-full items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 group relative ${i?"bg-indigo-500/10 text-indigo-500 shadow-sm ring-1 ring-indigo-500/20":d?"text-slate-400 hover:bg-white/5 hover:text-white":"text-slate-500 hover:bg-gray-100 hover:text-slate-900"}`,children:[i&&m.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-indigo-500 rounded-r-full shadow-[0_0_10px_2px_rgba(99,102,241,0.5)]"}),m.jsxs("div",{className:"flex items-center gap-3",children:[mE.cloneElement(n,{className:`w-5 h-5 transition-colors ${i?"text-indigo-500":d?"group-hover:text-white":"group-hover:text-slate-900"}`}),m.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:e})]}),u?m.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full text-white bg-indigo-600",children:u}):null,i&&m.jsx(W_,{className:"w-4 h-4 ml-auto opacity-50 text-indigo-500"})]})}function Xu({title:r,value:e,icon:n,color:i,subtext:o,onClick:u,isDarkMode:d}){const y={amber:"bg-amber-500/10 text-amber-500",blue:"bg-blue-500/10 text-blue-500",emerald:"bg-emerald-500/10 text-emerald-500",red:"bg-rose-500/10 text-rose-500"};return m.jsxs("div",{onClick:u,className:`p-3 rounded-xl border shadow-sm transition-all cursor-pointer group relative overflow-hidden flex flex-col justify-between h-32 sm:h-36 md:h-40 lg:h-44 ${d?"bg-white/5 border-white/5 hover:bg-white/10":"bg-white border-gray-200 hover:shadow-md"}`,children:[m.jsx("div",{className:"flex justify-between items-start mb-2",children:m.jsx("div",{className:`p-2 rounded-lg ${y[i]}`,children:n})}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("h4",{className:`text-lg font-bold ${d?"text-white":"text-slate-900"}`,children:e}),m.jsx("p",{className:`text-sm font-bold tracking-tight mt-1 whitespace-normal leading-tight ${d?"text-slate-300":"text-slate-600"}`,children:r}),o&&m.jsx("p",{className:"text-[10px] text-slate-500 mt-1 truncate",children:o})]})]})}function X_({status:r}){const e={active:"bg-emerald-500/10 text-emerald-500",pending:"bg-amber-500/10 text-amber-500",rejected:"bg-rose-500/10 text-rose-500"}[r];return m.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide ${e}`,children:r})}function J_({status:r}){const e={issued:"bg-emerald-500/10 text-emerald-500",partial:"bg-amber-500/10 text-amber-500",completed:"bg-white/10 text-slate-400"}[r]||"bg-white/5";return m.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wide ${e}`,children:r})}function vm({onClick:r,label:e,icon:n,variant:i,isDarkMode:o}){const u=i==="primary"?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-500/20":o?"bg-white/5 border border-white/10 text-slate-300 hover:bg-white/10":"bg-white border border-gray-200 text-slate-600 hover:bg-gray-50";return m.jsxs("button",{onClick:r,className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide shadow-sm transition-all ${u}`,children:[n,e]})}function Dl({currentPage:r,totalPages:e,onPageChange:n,isDarkMode:i}){return e<=1?null:m.jsxs("div",{className:`flex justify-between items-center p-4 border-t ${i?"border-white/10":"border-gray-200"}`,children:[m.jsxs("span",{className:`text-xs ${i?"text-slate-500":"text-slate-400"}`,children:["Page ",r," of ",e]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{disabled:r===1,onClick:()=>n(r-1),className:`px-3 py-1 text-xs font-bold rounded flex items-center gap-1 ${i?"bg-white/5 hover:bg-white/10 text-white disabled:opacity-30":"bg-gray-100 hover:bg-gray-200 text-slate-700 disabled:opacity-30"}`,children:[m.jsx(OE,{className:"w-3 h-3"})," Prev"]}),m.jsxs("button",{disabled:r===e,onClick:()=>n(r+1),className:`px-3 py-1 text-xs font-bold rounded flex items-center gap-1 ${i?"bg-white/5 hover:bg-white/10 text-white disabled:opacity-30":"bg-gray-100 hover:bg-gray-200 text-slate-700 disabled:opacity-30"}`,children:["Next ",m.jsx(W_,{className:"w-3 h-3"})]})]})]})}function Ol({children:r,isDarkMode:e}){const[n,i]=fe.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:o=>{o.stopPropagation(),i(!n)},className:`p-1.5 rounded-full transition-colors ${e?"text-slate-400 hover:bg-white/10":"text-slate-500 hover:bg-gray-100"}`,children:m.jsx(KE,{className:"w-5 h-5"})}),n&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:o=>{o.stopPropagation(),i(!1)}}),m.jsx("div",{className:`absolute right-0 top-8 w-48 rounded-xl shadow-xl border z-20 flex flex-col p-1.5 gap-1 animate-in fade-in zoom-in-95 duration-100 ${e?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:r})]})]})}function lC({onClose:r,currentCreds:e,onUpdate:n,isDarkMode:i}){const[o,u]=fe.useState({cur:"",new:"",conf:""});return m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:m.jsxs("div",{className:`p-6 rounded-xl w-full max-w-sm shadow-2xl border ${i?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:[m.jsx("h3",{className:`font-bold text-lg mb-4 ${i?"text-white":"text-slate-900"}`,children:"Change Password"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("input",{type:"password",placeholder:"Current",className:`w-full border p-2 rounded-lg text-sm ${i?"border-white/10 bg-[#0B0F19] text-white":"border-gray-200 bg-gray-50 text-slate-900"}`,value:o.cur,onChange:d=>u({...o,cur:d.target.value})}),m.jsx("input",{type:"password",placeholder:"New",className:`w-full border p-2 rounded-lg text-sm ${i?"border-white/10 bg-[#0B0F19] text-white":"border-gray-200 bg-gray-50 text-slate-900"}`,value:o.new,onChange:d=>u({...o,new:d.target.value})}),m.jsx("input",{type:"password",placeholder:"Confirm",className:`w-full border p-2 rounded-lg text-sm ${i?"border-white/10 bg-[#0B0F19] text-white":"border-gray-200 bg-gray-50 text-slate-900"}`,value:o.conf,onChange:d=>u({...o,conf:d.target.value})})]}),m.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[m.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-bold text-slate-400 hover:text-slate-500",children:"Cancel"}),m.jsx("button",{onClick:()=>{if(o.cur!==e.password)return alert("Wrong password");if(o.new!==o.conf)return alert("Mismatch");n(o.new)},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-xs font-bold hover:bg-indigo-700",children:"Update"})]})]})})}function oC({onClose:r,onSend:e,isDarkMode:n}){const[i,o]=fe.useState(""),[u,d]=fe.useState("normal"),[y,v]=fe.useState("all");return m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:m.jsxs("div",{className:`w-full max-w-md p-6 rounded-2xl shadow-2xl border ${n?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${n?"text-white":"text-slate-900"}`,children:[m.jsx(t1,{className:"w-5 h-5 text-indigo-500"}),"System Broadcast"]}),m.jsx("button",{onClick:r,className:`p-1 rounded-full ${n?"hover:bg-white/10 text-slate-400":"hover:bg-gray-100 text-slate-500"}`,children:m.jsx(Zo,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-slate-500 mb-1.5 block",children:"Message Content"}),m.jsx("textarea",{autoFocus:!0,rows:"3",className:`w-full p-3 rounded-xl border text-sm focus:ring-2 focus:ring-indigo-500/50 outline-none resize-none ${n?"bg-[#0B0F19] border-white/10 text-white":"bg-gray-50 border-gray-200 text-slate-900"}`,placeholder:"e.g., Server maintenance scheduled for Sunday at 12 PM...",value:i,onChange:g=>o(g.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-slate-500 mb-1.5 block",children:"Target Audience"}),m.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.jsxs("button",{onClick:()=>v("all"),className:`flex flex-col items-center justify-center py-3 rounded-lg border transition-all ${y==="all"?"bg-indigo-600 text-white border-indigo-600 ring-2 ring-indigo-500/30":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:[m.jsx(sT,{className:"w-4 h-4 mb-1"}),m.jsx("span",{className:"text-[10px] font-bold uppercase",children:"All Network"})]}),m.jsxs("button",{onClick:()=>v("doctors"),className:`flex flex-col items-center justify-center py-3 rounded-lg border transition-all ${y==="doctors"?"bg-blue-600 text-white border-blue-600 ring-2 ring-blue-500/30":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:[m.jsx(al,{className:"w-4 h-4 mb-1"}),m.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Doctors"})]}),m.jsxs("button",{onClick:()=>v("kiosks"),className:`flex flex-col items-center justify-center py-3 rounded-lg border transition-all ${y==="kiosks"?"bg-emerald-600 text-white border-emerald-600 ring-2 ring-emerald-500/30":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:[m.jsx(zo,{className:"w-4 h-4 mb-1"}),m.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Kiosks"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-slate-500 mb-1.5 block",children:"Priority Level"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>d("normal"),className:`flex-1 py-2 rounded-lg text-xs font-bold border transition-colors ${u==="normal"?"bg-slate-600 text-white border-slate-600":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:"Normal Info"}),m.jsx("button",{onClick:()=>d("high"),className:`flex-1 py-2 rounded-lg text-xs font-bold border transition-colors ${u==="high"?"bg-rose-500 text-white border-rose-500 shadow-lg shadow-rose-500/20":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:"High Priority Alert"})]})]})]}),m.jsxs("div",{className:"mt-6 flex justify-end gap-3 pt-4 border-t border-white/5",children:[m.jsx("button",{onClick:r,className:`px-4 py-2 rounded-lg text-sm font-bold ${n?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:"Cancel"}),m.jsxs("button",{onClick:()=>{i.trim()&&e(i,u,y)},disabled:!i.trim(),className:"flex items-center gap-2 px-6 py-2 rounded-lg text-sm font-bold bg-indigo-600 hover:bg-indigo-700 text-white disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-500/20 transition-transform active:scale-95",children:[m.jsx(LT,{className:"w-3.5 h-3.5"}),"Send Broadcast"]})]})]})})}function cC({transactions:r,isDarkMode:e}){const n={};r&&r.length>0&&r.forEach(u=>{const d=u.items||[];d.length>0&&d.forEach(y=>{const v=y.name||y.medicine||"Unknown",g=Number(y.qty||y.quantity||1);n[v]=(n[v]||0)+g})});const i=Object.entries(n).sort((u,d)=>d[1]-u[1]).slice(0,5),o=Math.max(...i.map(u=>u[1]),1);return m.jsxs("div",{className:"space-y-4",children:[i.map(([u,d],y)=>m.jsxs("div",{className:"group",children:[m.jsxs("div",{className:"flex justify-between text-xs mb-1.5 font-bold uppercase tracking-wide",children:[m.jsx("span",{className:e?"text-slate-300":"text-slate-700",children:u}),m.jsxs("span",{className:"text-indigo-500",children:[d," dispensed"]})]}),m.jsx("div",{className:`w-full h-3 rounded-full overflow-hidden ${e?"bg-white/5":"bg-gray-100"}`,children:m.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${d/o*100}%`}})})]},y)),i.length===0&&m.jsx("p",{className:"text-slate-500 text-sm italic",children:"Not enough data to display analytics."})]})}function uC({medicines:r,db:e,appId:n,isDarkMode:i}){const[o,u]=fe.useState({name:"",generic:"",stock:0,price:0}),[d,y]=fe.useState(!1),[v,g]=fe.useState(1),w=10,A=Math.ceil(r.length/w),N=r.slice((v-1)*w,v*w),q=async J=>{J.preventDefault();try{await Wb(fi(e,"artifacts",n,"public","data","medicines"),o),y(!1),u({name:"",generic:"",stock:0,price:0}),alert("Medicine added to Master Database. Live on all kiosks.")}catch(ee){alert(ee.message)}},X=async J=>{window.confirm("Delete this medicine from Master Database?")&&await xh(zt(e,"artifacts",n,"public","data","medicines",J))};return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${i?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-bold text-base ${i?"text-white":"text-slate-900"}`,children:"Master Medicine Database"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Global inventory. Updates push to all doctors immediately."})]}),m.jsx("button",{onClick:()=>y(!d),className:"px-4 py-2 bg-indigo-600 text-white text-xs font-bold rounded-lg hover:bg-indigo-700",children:d?"Cancel":"+ Add New Medicine"})]}),d&&m.jsxs("form",{onSubmit:q,className:`p-5 border-b grid grid-cols-1 md:grid-cols-5 gap-3 ${i?"bg-indigo-900/10 border-indigo-500/20":"bg-indigo-50 border-indigo-100"}`,children:[m.jsx("input",{placeholder:"Brand Name",required:!0,className:`p-2 rounded border text-sm ${i?"bg-white/10 border-white/10 text-white":"bg-white"}`,value:o.name,onChange:J=>u({...o,name:J.target.value})}),m.jsx("input",{placeholder:"Generic Name",required:!0,className:`p-2 rounded border text-sm ${i?"bg-white/10 border-white/10 text-white":"bg-white"}`,value:o.generic,onChange:J=>u({...o,generic:J.target.value})}),m.jsx("input",{type:"number",placeholder:"Stock",required:!0,className:`p-2 rounded border text-sm ${i?"bg-white/10 border-white/10 text-white":"bg-white"}`,value:o.stock,onChange:J=>u({...o,stock:parseInt(J.target.value)})}),m.jsx("input",{type:"number",placeholder:"Price (PHP)",required:!0,className:`p-2 rounded border text-sm ${i?"bg-white/10 border-white/10 text-white":"bg-white"}`,value:o.price,onChange:J=>u({...o,price:parseFloat(J.target.value)})}),m.jsx("button",{type:"submit",className:"bg-emerald-500 text-white font-bold rounded p-2 text-sm",children:"Save to DB"})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:N.length===0?m.jsx("div",{className:"p-8 text-center text-xs text-slate-500 italic",children:"No medicines in database."}):N.map(J=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-2 ${i?"bg-transparent":"bg-white"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Ol,{isDarkMode:i,children:m.jsxs("button",{onClick:()=>X(J.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(gn,{className:"w-3.5 h-3.5"})," Delete Item"]})})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:J.name}),m.jsx("p",{className:"text-xs text-slate-400 italic",children:J.generic})]}),m.jsxs("div",{className:"flex gap-4 mt-1",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Stock"}),m.jsx("span",{className:`text-xs font-mono ${i?"text-white":"text-slate-900"}`,children:J.stock})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Price"}),m.jsxs("span",{className:"text-xs font-bold text-emerald-500",children:["",J.price]})]})]})]},J.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:`text-xs uppercase text-slate-400 ${i?"bg-white/5":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Name"}),m.jsx("th",{className:"px-6 py-3",children:"Generic"}),m.jsx("th",{className:"px-6 py-3",children:"Global Stock"}),m.jsx("th",{className:"px-6 py-3",children:"Price"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-gray-100"}`,children:N.map(J=>m.jsxs("tr",{className:i?"hover:bg-white/5":"hover:bg-gray-50",children:[m.jsx("td",{className:`px-6 py-3 font-bold ${i?"text-white":"text-slate-900"}`,children:J.name}),m.jsx("td",{className:"px-6 py-3 text-slate-400",children:J.generic}),m.jsx("td",{className:"px-6 py-3",children:m.jsx("span",{className:"bg-white/10 px-2 py-1 rounded text-xs font-mono",children:J.stock})}),m.jsxs("td",{className:"px-6 py-3 text-emerald-500 font-bold",children:["",J.price]}),m.jsx("td",{className:"px-6 py-3 text-right",children:m.jsx("button",{onClick:()=>X(J.id),className:"text-rose-500 hover:text-rose-400",children:m.jsx(gn,{className:"w-4 h-4"})})})]},J.id))})]})}),m.jsx(Dl,{currentPage:v,totalPages:A,onPageChange:g,isDarkMode:i})]})}function hC({tickets:r,db:e,appId:n,isDarkMode:i,onHide:o}){const[u,d]=fe.useState("all"),[y,v]=fe.useState(1),g=10,[w,A]=fe.useState([]),N=async(te,ae)=>{try{await Zn(zt(e,"artifacts",n,"public","data","support_tickets",te.id),{...te,status:ae},{merge:!0})}catch(be){console.error("Ticket update failed:",be),alert("Failed to update status. Check console.")}},q=async te=>{if(window.confirm("Are you sure you want to delete this ticket?")){A(ae=>[...ae,te]);try{await xh(zt(e,"artifacts",n,"public","data","support_tickets",te))}catch(ae){console.error("Delete failed (likely mock data):",ae)}}},J=r.filter(te=>!w.includes(te.id)).filter(te=>u==="all"?!0:te.status===u),ee=Math.ceil(J.length/g),re=J.slice((y-1)*g,y*g);return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`p-5 border-b flex flex-col md:flex-row justify-between items-center gap-4 ${i?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-bold text-base ${i?"text-white":"text-slate-900"}`,children:"Support Ticketing System"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Manage doctor issues and automated kiosk alerts."})]}),m.jsx("div",{className:"flex gap-2 bg-white/5 p-1 rounded-lg",children:["all","open","in_progress","resolved"].map(te=>m.jsx("button",{onClick:()=>d(te),className:`px-3 py-1.5 rounded-md text-xs font-bold uppercase tracking-wide transition-all ${u===te?"bg-indigo-600 text-white shadow":"text-slate-400 hover:text-white"}`,children:te.replace("_"," ")},te))})]}),m.jsx("div",{className:"divide-y divide-white/5",children:re.length===0?m.jsx("div",{className:"p-8 text-center text-slate-500 italic",children:"No tickets found."}):re.map(te=>m.jsxs("div",{className:`p-4 flex flex-col md:flex-row justify-between items-start gap-4 ${i?"hover:bg-white/5":"hover:bg-gray-50"} ${te.priority==="high"?"bg-rose-900/10 border-l-2 border-rose-500":""}`,children:[m.jsxs("div",{className:"flex gap-4 items-start w-full relative",children:[m.jsx("div",{className:"absolute top-0 right-0 md:hidden z-20",children:m.jsxs(Ol,{isDarkMode:i,children:[te.status==="open"&&m.jsx("button",{onClick:()=>N(te,"in_progress"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-indigo-500 hover:bg-indigo-500/10",children:"Mark In Progress"}),te.status!=="resolved"&&m.jsx("button",{onClick:()=>N(te,"resolved"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-500 hover:bg-emerald-500/10",children:"Mark Resolved"}),m.jsxs("button",{onClick:()=>q(te.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(gn,{className:"w-3.5 h-3.5"})," Delete Ticket"]})]})}),m.jsx("div",{className:`p-3 rounded-full flex-shrink-0 ${te.priority==="high"?"bg-rose-500/20 text-rose-500":"bg-indigo-500/10 text-indigo-500"}`,children:te.type==="kiosk_alert"?m.jsx(ME,{className:"w-5 h-5"}):m.jsx(vT,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex-1 pr-8 md:pr-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[m.jsx("h4",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:te.subject}),te.priority==="high"&&m.jsx("span",{className:"text-[10px] font-bold bg-rose-500 text-white px-2 py-0.5 rounded-full uppercase",children:"High Priority"}),m.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded-full ${te.status==="open"?"bg-amber-500/10 text-amber-500":te.status==="resolved"?"bg-emerald-500/10 text-emerald-500":"bg-blue-500/10 text-blue-500"}`,children:te.status.replace("_"," ")})]}),m.jsx("p",{className:"text-xs text-slate-400 break-words",children:te.message}),m.jsxs("div",{className:"flex gap-3 mt-2 text-[10px] text-slate-500",children:[m.jsxs("span",{children:["From: ",m.jsx("span",{className:"font-bold text-slate-400",children:te.sender})]}),m.jsx("span",{children:""}),m.jsx("span",{children:te.timestamp?.seconds?new Date(te.timestamp.seconds*1e3).toLocaleString():"Just now"})]})]})]}),m.jsxs("div",{className:"hidden md:flex gap-2 self-center",children:[te.status==="open"&&m.jsx("button",{onClick:()=>N(te,"in_progress"),className:"px-3 py-1.5 border border-indigo-500/30 text-indigo-500 hover:bg-indigo-500/10 rounded-lg text-xs font-bold transition-colors",children:"Mark In Progress"}),te.status!=="resolved"&&m.jsxs("button",{onClick:()=>N(te,"resolved"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-xs font-bold shadow transition-colors",children:[m.jsx(n1,{className:"w-3.5 h-3.5"})," Resolve"]}),m.jsx("button",{onClick:()=>q(te.id),className:"p-1.5 text-rose-500 hover:bg-rose-500/10 rounded-lg transition-colors",title:"Delete Ticket",children:m.jsx(gn,{className:"w-4 h-4"})})]})]},te.id))}),m.jsx(Dl,{currentPage:y,totalPages:ee,onPageChange:v,isDarkMode:i})]})}function dC({doctors:r,filter:e,setFilter:n,onRefresh:i,onUpdateStatus:o,onUpdatePassword:u,onDelete:d,loading:y,isDarkMode:v}){const[g,w]=fe.useState(null),[A,N]=fe.useState(""),[q,X]=fe.useState(!1),[J,ee]=fe.useState(!1),[re,te]=fe.useState(""),[ae,be]=fe.useState(1),ze=10,Re=r.filter(T=>(T.name?.toLowerCase()||"").includes(A.toLowerCase())||(T.email?.toLowerCase()||"").includes(A.toLowerCase())||(T.license?.toLowerCase()||"").includes(A.toLowerCase())),I=Math.ceil(Re.length/ze),S=Re.slice((ae-1)*ze,ae*ze);return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${v?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${v?"border-white/5":"border-gray-100"}`,children:[m.jsx("h3",{className:`font-bold text-base ${v?"text-white":"text-slate-900"}`,children:"Medical Practitioners"}),m.jsxs("button",{onClick:i,className:"text-xs font-bold uppercase text-slate-400 flex items-center gap-1 hover:text-emerald-500 transition-colors",children:[m.jsx(Rh,{className:`w-3 h-3 ${y?"animate-spin":""}`})," Refresh"]})]}),m.jsxs("div",{className:`p-3 border-b flex flex-col sm:flex-row gap-3 justify-between items-center ${v?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsx("div",{className:"flex gap-2 overflow-x-auto w-full sm:w-auto pb-1 sm:pb-0",children:["pending","active","rejected","all"].map(T=>m.jsx("button",{onClick:()=>n(T),className:`px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wide transition-all whitespace-nowrap ${e===T?"bg-emerald-600 text-white shadow":v?"bg-transparent border border-white/10 text-slate-400 hover:bg-white/10":"bg-white border border-gray-300 text-slate-500 hover:bg-gray-100"}`,children:T},T))}),m.jsxs("div",{className:"relative w-full sm:w-64",children:[m.jsx(kT,{className:"w-4 h-4 absolute left-3 top-2.5 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"Search doctors...",value:A,onChange:T=>N(T.target.value),className:`w-full pl-9 pr-4 py-2 rounded-lg text-sm border outline-none focus:ring-2 focus:ring-emerald-500/50 ${v?"bg-white/5 border-white/10 text-white placeholder-slate-500":"bg-white border-gray-300 text-slate-700 placeholder-slate-400"}`})]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:S.length===0?m.jsx("div",{className:"p-8 text-center text-xs text-slate-500 italic",children:"No doctors found matching your criteria."}):S.map(T=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-3 ${v?"bg-transparent":"bg-white"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsxs(Ol,{isDarkMode:v,children:[m.jsxs("button",{onClick:()=>{w(T),X(!1),ee(!1)},className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left ${v?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(_m,{className:"w-3.5 h-3.5"})," View Details"]}),T.status==="pending"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>o(T.id,"active"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-500 hover:bg-emerald-500/10",children:[m.jsx(tm,{className:"w-3.5 h-3.5"})," Approve"]}),m.jsxs("button",{onClick:()=>o(T.id,"rejected"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(nm,{className:"w-3.5 h-3.5"})," Reject"]})]}),T.status==="active"&&m.jsxs("button",{onClick:()=>o(T.id,"rejected"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(nm,{className:"w-3.5 h-3.5"})," Revoke Access"]}),T.status==="rejected"&&m.jsxs("button",{onClick:()=>o(T.id,"active"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-500 hover:bg-emerald-500/10",children:[m.jsx(tm,{className:"w-3.5 h-3.5"})," Restore Access"]}),m.jsxs("button",{onClick:()=>d(T.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(gn,{className:"w-3.5 h-3.5"})," Delete Account"]})]})}),m.jsxs("div",{children:[m.jsx("div",{className:`font-bold text-sm ${v?"text-white":"text-slate-900"}`,children:T.name}),m.jsx("div",{className:"text-xs text-slate-500",children:T.email}),m.jsx("div",{className:`text-[10px] mt-1 font-mono ${v?"text-slate-400":"text-slate-600"}`,children:T.license})]}),m.jsx("div",{className:"mt-1",children:m.jsx(X_,{status:T.status})})]},T.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:`text-[10px] uppercase font-bold text-slate-400 ${v?"bg-white/5":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-5 py-3",children:"Name"}),m.jsx("th",{className:"px-5 py-3",children:"License Info"}),m.jsx("th",{className:"px-5 py-3",children:"Status"}),m.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),m.jsx("tbody",{className:`divide-y ${v?"divide-white/5":"divide-gray-100"}`,children:S.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-8 text-center text-xs text-slate-500 italic",children:"No doctors found matching your criteria."})}):S.map(T=>m.jsxs("tr",{className:`transition-colors ${v?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:"px-5 py-3",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs border ${v?"bg-slate-700 text-white border-white/10":"bg-indigo-50 text-indigo-600 border-indigo-100"}`,children:T.name?T.name.charAt(0):"?"}),m.jsxs("div",{children:[m.jsx("div",{className:`font-bold text-sm ${v?"text-white":"text-slate-900"}`,children:T.name}),m.jsx("div",{className:"text-[10px] text-slate-400",children:T.email})]})]})}),m.jsx("td",{className:"px-5 py-3 text-xs text-slate-400",children:m.jsx("span",{className:`font-mono px-1 rounded ${v?"bg-white/10 text-slate-300":"bg-gray-100 text-slate-600"}`,children:T.license})}),m.jsx("td",{className:"px-5 py-3",children:m.jsx(X_,{status:T.status})}),m.jsx("td",{className:"px-5 py-3 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>{w(T),X(!1),ee(!1)},className:`p-1.5 rounded ${v?"text-slate-400 hover:text-blue-400 hover:bg-blue-500/10":"text-slate-500 hover:text-blue-600 hover:bg-blue-50"}`,title:"Verify Details",children:m.jsx(_m,{className:"w-4 h-4"})}),T.status==="pending"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>o(T.id,"active"),className:"p-1.5 text-emerald-500 bg-emerald-500/10 rounded hover:bg-emerald-500/20",children:m.jsx(tm,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>o(T.id,"rejected"),className:"p-1.5 text-rose-500 bg-rose-500/10 rounded hover:bg-rose-500/20",children:m.jsx(nm,{className:"w-4 h-4"})})]}),T.status==="active"&&m.jsx("button",{onClick:()=>o(T.id,"rejected"),className:"text-[10px] font-bold text-rose-500 border border-rose-500/30 px-2 py-1 rounded hover:bg-rose-500/10",children:"Revoke"}),T.status==="rejected"&&m.jsx("button",{onClick:()=>o(T.id,"active"),className:"text-[10px] font-bold text-emerald-500 border border-emerald-500/30 px-2 py-1 rounded hover:bg-emerald-500/10",children:"Restore"}),m.jsx("button",{onClick:()=>d(T.id),className:"p-1.5 ml-2 rounded border border-rose-500/30 text-rose-500 hover:bg-rose-500/10",title:"Delete Permanently",children:m.jsx(gn,{className:"w-4 h-4"})})]})})]},T.id))})]})}),m.jsx(Dl,{currentPage:ae,totalPages:I,onPageChange:be,isDarkMode:v}),g&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:m.jsxs("div",{className:`rounded-xl shadow-2xl max-w-lg w-full overflow-hidden border animate-in fade-in zoom-in duration-200 ${v?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${v?"border-white/10":"border-gray-100"}`,children:[m.jsx("h3",{className:`font-bold text-base ${v?"text-white":"text-slate-900"}`,children:"Verification Details"}),m.jsx("button",{onClick:()=>w(null),children:m.jsx(Zo,{className:`w-5 h-5 ${v?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`})})]}),m.jsxs("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[m.jsxs("div",{className:`p-4 rounded-lg border text-center ${v?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsx(ZE,{className:"w-10 h-10 text-slate-500 mx-auto mb-2"}),m.jsx("p",{className:`text-sm font-bold ${v?"text-slate-300":"text-slate-700"}`,children:"PRC License ID Image"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Mockup: No image uploaded"})]}),m.jsxs("div",{children:[m.jsx("h4",{className:`text-xs font-bold uppercase tracking-wider mb-3 ${v?"text-slate-500":"text-slate-400"}`,children:"Account Credentials"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Full Name"}),m.jsx("p",{className:`font-semibold ${v?"text-white":"text-slate-900"}`,children:g.name})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Email"}),m.jsx("p",{className:`font-mono ${v?"text-white":"text-slate-900"}`,children:g.email})]}),m.jsxs("div",{className:"col-span-2 relative",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold mb-1",children:"Password"}),J?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"text",className:`flex-1 p-2 rounded border text-sm outline-none focus:ring-2 focus:ring-emerald-500/50 ${v?"bg-[#0B0F19] border-white/10 text-white":"bg-white border-gray-200 text-slate-900"}`,value:re,onChange:T=>te(T.target.value),placeholder:"Enter new password"}),m.jsx("button",{onClick:async()=>{if(!re.trim())return alert("Password cannot be empty");await u(g.id,re),ee(!1),w(T=>({...T,password:re}))},className:"p-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded transition-colors",title:"Save New Password",children:m.jsx(n1,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>ee(!1),className:"p-2 bg-rose-600 hover:bg-rose-700 text-white rounded transition-colors",title:"Cancel",children:m.jsx(Zo,{className:"w-4 h-4"})})]}):m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:`font-mono ${v?"text-white":"text-slate-900"}`,children:q?g.password:""}),m.jsxs("div",{className:"flex gap-3 items-center",children:[m.jsx("button",{onClick:()=>{ee(!0),te(g.password)},className:`text-[10px] font-bold uppercase tracking-wide transition-colors ${v?"text-emerald-400 hover:text-emerald-300":"text-emerald-600 hover:text-emerald-700"}`,children:"Edit"}),m.jsx("button",{onClick:()=>X(!q),className:`text-[10px] font-bold uppercase tracking-wide transition-colors ${v?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-700"}`,children:q?"Hide":"Show"})]})]})]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:`text-xs font-bold uppercase tracking-wider mb-3 ${v?"text-slate-500":"text-slate-400"}`,children:"Clinic Information"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Clinic Name"}),m.jsx("p",{className:`${v?"text-white":"text-slate-900"}`,children:g.clinicDetails?.name||"N/A"})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Address"}),m.jsx("p",{className:`${v?"text-white":"text-slate-900"}`,children:g.clinicDetails?.address||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Contact No."}),m.jsx("p",{className:`${v?"text-white":"text-slate-900"}`,children:g.clinicDetails?.contactNumber||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"License No."}),m.jsx("p",{className:`font-mono ${v?"text-white":"text-slate-900"}`,children:g.license})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"PTR No."}),m.jsx("p",{className:`font-mono ${v?"text-white":"text-slate-900"}`,children:g.clinicDetails?.ptr||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"S2 License"}),m.jsx("p",{className:`font-mono ${v?"text-white":"text-slate-900"}`,children:g.clinicDetails?.s2||"N/A"})]})]})]})]}),m.jsx("div",{className:`p-4 border-t flex justify-end ${v?"bg-white/5 border-white/10":"bg-gray-50 border-gray-200"}`,children:m.jsx("button",{onClick:()=>w(null),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-xs font-bold uppercase tracking-wide hover:bg-indigo-700",children:"Close"})})]})})]})}function fC({machines:r,onPing:e,onRunDiagnostics:n,onReboot:i,onLock:o,onDelete:u,isDarkMode:d}){const[y,v]=fe.useState(1),g=10,w=Math.ceil(r.length/g),A=r.slice((y-1)*g,y*g);return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${d?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsx("div",{className:`p-5 border-b ${d?"border-white/5":"border-gray-100"}`,children:m.jsx("h3",{className:`font-bold text-base ${d?"text-white":"text-slate-900"}`,children:"Kiosk Network"})}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:A.length===0?m.jsx("div",{className:"p-8 text-center text-xs text-slate-500 italic",children:"No kiosks connected."}):A.map(N=>m.jsxs("div",{className:"p-4 relative flex flex-col gap-3",children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsxs(Ol,{isDarkMode:d,children:[m.jsxs("button",{onClick:()=>e(N.id),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(dl,{className:"w-3.5 h-3.5"})," Ping"]}),m.jsxs("button",{onClick:()=>n(N),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(bv,{className:"w-3.5 h-3.5"})," Diagnostics"]}),m.jsxs("button",{onClick:()=>i(N.id),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(xm,{className:"w-3.5 h-3.5"})," Reboot"]}),m.jsxs("button",{onClick:()=>o(N.id,N.status),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[N.status==="locked"?m.jsx(bm,{className:"w-3.5 h-3.5"}):m.jsx(ia,{className:"w-3.5 h-3.5"})," ",N.status==="locked"?"Unlock":"Lock"]}),m.jsxs("button",{onClick:()=>u(N.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(gn,{className:"w-3.5 h-3.5"})," Remove"]})]})}),m.jsxs("div",{children:[m.jsx("div",{className:`font-bold text-sm ${d?"text-white":"text-slate-900"}`,children:N.id}),m.jsx("div",{className:"text-xs text-slate-500",children:N.location})]}),m.jsx("div",{className:"mt-1",children:m.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${N.status==="online"?"bg-emerald-500/20 text-emerald-500":N.status==="rebooting"?"bg-amber-500/20 text-amber-500":N.status==="locked"?"bg-slate-500/20 text-slate-400":"bg-rose-500/20 text-rose-500"}`,children:[N.status==="online"?m.jsx(_v,{className:"w-3 h-3"}):N.status==="locked"?m.jsx(ia,{className:"w-3 h-3"}):m.jsx(vv,{className:"w-3 h-3"})," ",N.status]})})]},N.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:`text-xs uppercase text-slate-400 ${d?"bg-white/5":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"ID"}),m.jsx("th",{className:"px-6 py-3",children:"Location"}),m.jsx("th",{className:"px-6 py-3",children:"Status"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Controls"})]})}),m.jsx("tbody",{className:`divide-y ${d?"divide-white/5":"divide-gray-100"}`,children:A.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-4 text-center text-xs text-slate-500",children:"No kiosks connected."})}):A.map(N=>m.jsxs("tr",{className:`transition-colors ${d?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:`px-6 py-3 font-bold ${d?"text-white":"text-slate-900"}`,children:N.id}),m.jsx("td",{className:"px-6 py-3 text-slate-400",children:N.location}),m.jsx("td",{className:"px-6 py-3",children:m.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${N.status==="online"?"bg-emerald-500/20 text-emerald-500":N.status==="rebooting"?"bg-amber-500/20 text-amber-500":N.status==="locked"?"bg-slate-500/20 text-slate-400":"bg-rose-500/20 text-rose-500"}`,children:[N.status==="online"?m.jsx(_v,{className:"w-3 h-3"}):N.status==="locked"?m.jsx(ia,{className:"w-3 h-3"}):m.jsx(vv,{className:"w-3 h-3"})," ",N.status]})}),m.jsx("td",{className:"px-6 py-3 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>e(N.id),className:`p-1.5 rounded ${d?"bg-white/10 hover:bg-white/20 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-slate-600"}`,title:"Ping",children:m.jsx(dl,{size:14})}),m.jsx("button",{onClick:()=>n(N),className:`p-1.5 rounded ${d?"bg-white/10 hover:bg-white/20 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-slate-600"}`,title:"Diagnostics",children:m.jsx(bv,{size:14})}),m.jsx("button",{onClick:()=>i(N.id),className:`p-1.5 rounded ${d?"bg-white/10 hover:bg-white/20 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-slate-600"}`,title:"Reboot",children:m.jsx(xm,{size:14})}),m.jsx("button",{onClick:()=>o(N.id,N.status),className:`p-1.5 rounded ${d?"bg-white/10 hover:bg-white/20 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-slate-600"}`,title:N.status==="locked"?"Unlock":"Lock",children:N.status==="locked"?m.jsx(bm,{size:14}):m.jsx(ia,{size:14})}),m.jsx("button",{onClick:()=>u(N.id),className:"p-1.5 bg-rose-500/10 hover:bg-rose-500/20 rounded text-rose-500",title:"Remove",children:m.jsx(gn,{size:14})})]})})]},N.id))})]})}),m.jsx(Dl,{currentPage:y,totalPages:w,onPageChange:v,isDarkMode:d})]})}function mC({transactions:r,onHide:e,onClearView:n,isDarkMode:i}){const[o,u]=fe.useState(1),d=10,y=Math.ceil(r.length/d),v=r.slice((o-1)*d,o*d);return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${i?"border-white/5":"border-gray-100"}`,children:[m.jsx("h3",{className:`font-bold text-base ${i?"text-white":"text-slate-900"}`,children:"Prescription Registry"}),m.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 px-3 py-1.5 bg-rose-500/10 text-rose-500 hover:bg-rose-500/20 rounded-lg text-xs font-bold uppercase tracking-wide transition-colors",children:[m.jsx(gn,{className:"w-3.5 h-3.5"})," Clear View"]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:v.length===0?m.jsx("div",{className:"p-8 text-center text-xs text-slate-500 italic",children:"No transactions recorded."}):v.map(g=>m.jsxs("div",{className:"p-4 relative flex flex-col gap-3",children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Ol,{isDarkMode:i,children:m.jsxs("button",{onClick:()=>e(g.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(gn,{className:"w-3.5 h-3.5"})," Hide"]})})}),m.jsxs("div",{children:[m.jsx("div",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:g.doctorName}),m.jsx("div",{className:"text-xs text-slate-500",children:g.patient?.name}),m.jsx("div",{className:"text-[10px] font-mono text-slate-600 mt-1",children:g.id})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"font-bold text-emerald-500 text-sm",children:["",g.grandTotal?.toFixed(2)]}),m.jsx(J_,{status:g.status||"issued"})]})]},g.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:`text-[10px] uppercase font-bold text-slate-400 ${i?"bg-white/5":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-5 py-3",children:"ID"}),m.jsx("th",{className:"px-5 py-3",children:"Prescribing Doctor"}),m.jsx("th",{className:"px-5 py-3",children:"Patient"}),m.jsx("th",{className:"px-5 py-3",children:"Value"}),m.jsx("th",{className:"px-5 py-3",children:"Status"}),m.jsx("th",{className:"px-5 py-3 text-center",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-gray-100"}`,children:v.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"p-4 text-center text-xs text-slate-500",children:"No transactions recorded."})}):v.map(g=>m.jsxs("tr",{className:`transition-colors ${i?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:"px-5 py-3 font-mono text-xs text-slate-500",children:g.id}),m.jsx("td",{className:`px-5 py-3 text-sm font-semibold ${i?"text-white":"text-slate-900"}`,children:g.doctorName}),m.jsx("td",{className:"px-5 py-3 text-sm text-slate-400",children:g.patient?.name}),m.jsxs("td",{className:"px-5 py-3 text-sm font-bold text-emerald-500",children:["",g.grandTotal?.toFixed(2)]}),m.jsx("td",{className:"px-5 py-3",children:m.jsx(J_,{status:g.status||"issued"})}),m.jsx("td",{className:"px-5 py-3 text-center",children:m.jsx("button",{onClick:()=>e(g.id),className:`p-2 rounded-lg transition-colors ${i?"text-slate-500 hover:text-rose-400 hover:bg-rose-900/20":"text-slate-400 hover:text-rose-600 hover:bg-rose-50"}`,title:"Hide from list",children:m.jsx(gn,{className:"w-4 h-4"})})})]},g.id))})]})}),m.jsx(Dl,{currentPage:o,totalPages:y,onPageChange:u,isDarkMode:i})]})}function pC({logs:r,onHide:e,onClearView:n,isDarkMode:i}){const[o,u]=fe.useState(1),d=10,y=Math.ceil(r.length/d),v=r.slice((o-1)*d,o*d);return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`p-4 border-b flex justify-between items-center ${i?"border-white/5":"border-gray-100"}`,children:[m.jsx("h3",{className:`font-bold ${i?"text-white":"text-slate-900"}`,children:"Audit Log"}),m.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 px-3 py-1.5 bg-rose-500/10 text-rose-500 hover:bg-rose-500/20 rounded-lg text-xs font-bold uppercase tracking-wide transition-colors",children:[m.jsx(gn,{className:"w-3.5 h-3.5"})," Clear View"]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:v.length===0?m.jsx("div",{className:"p-8 text-center text-xs text-slate-500 italic",children:"No logs available."}):v.map((g,w)=>m.jsxs("div",{className:"p-4 relative flex flex-col gap-2",children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Ol,{isDarkMode:i,children:m.jsxs("button",{onClick:()=>e(g.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(gn,{className:"w-3.5 h-3.5"})," Hide"]})})}),m.jsxs("div",{children:[m.jsx("div",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:g.action}),m.jsx("div",{className:"text-xs text-slate-400 mt-1",children:g.details})]}),m.jsxs("div",{className:"text-right mt-1",children:[m.jsx("div",{className:"text-[10px] font-mono text-slate-500",children:g.time}),m.jsx("div",{className:"text-[10px] text-slate-600 mt-1",children:g.user})]})]},w))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:`text-xs uppercase text-slate-400 ${i?"bg-white/5":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Action"}),m.jsx("th",{className:"px-6 py-3",children:"Details"}),m.jsx("th",{className:"px-6 py-3",children:"User"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Time"}),m.jsx("th",{className:"px-6 py-3 text-center",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-gray-100"}`,children:v.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"5",className:"p-4 text-center text-xs text-slate-500",children:"No logs available."})}):v.map((g,w)=>m.jsxs("tr",{className:`transition-colors ${i?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:`px-6 py-3 font-bold ${i?"text-white":"text-slate-900"}`,children:g.action}),m.jsx("td",{className:"px-6 py-3 text-slate-400",children:g.details}),m.jsx("td",{className:"px-6 py-3 font-mono text-xs text-slate-500",children:g.user}),m.jsx("td",{className:"px-6 py-3 text-right text-slate-500 text-xs",children:g.time}),m.jsx("td",{className:"px-6 py-3 text-center",children:m.jsx("button",{onClick:()=>e(g.id),className:`p-2 rounded-lg transition-colors ${i?"text-slate-500 hover:text-rose-400 hover:bg-rose-900/20":"text-slate-400 hover:text-rose-600 hover:bg-rose-50"}`,title:"Hide from list",children:m.jsx(gn,{className:"w-4 h-4"})})})]},w))})]})}),m.jsx(Dl,{currentPage:o,totalPages:y,onPageChange:u,isDarkMode:i})]})}function gC({profile:r,setProfile:e,onSave:n,isEditing:i,setIsEditing:o,setShowPassword:u,isDarkMode:d,transactions:y,auditLogs:v,doctors:g,machines:w,medicines:A,supportTickets:N}){const[q,X]=fe.useState("profile"),J=(re,te)=>{if(!re||!re.length)return alert("No data to export.");if(typeof re[0]!="object"||re[0]===null)return alert("Invalid data format.");const ae=(T,V)=>V===null?"":V,be=Object.keys(re[0]),ze=[be.join(","),...re.map(T=>be.map(V=>JSON.stringify(T[V],ae)).join(","))].join(`\r
`),Re=new Blob([ze],{type:"text/csv"}),I=window.URL.createObjectURL(Re),S=document.createElement("a");S.setAttribute("hidden",""),S.setAttribute("href",I),S.setAttribute("download",te),document.body.appendChild(S),S.click(),document.body.removeChild(S)},ee=()=>{const re={timestamp:new Date().toISOString(),doctors:g,machines:w,transactions:y,auditLogs:v,medicines:A,supportTickets:N},te=new Blob([JSON.stringify(re,null,2)],{type:"application/json"}),ae=URL.createObjectURL(te),be=document.createElement("a");be.href=ae,be.download=`medivend_full_backup_${Date.now()}.json`,document.body.appendChild(be),be.click(),document.body.removeChild(be)};return m.jsxs("div",{className:`w-full rounded-xl border overflow-hidden flex flex-col md:flex-row ${d?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`hidden md:block w-64 border-r p-4 ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsx("h3",{className:`font-bold mb-4 px-2 ${d?"text-white":"text-slate-900"}`,children:"Settings"}),m.jsxs("nav",{className:"space-y-1",children:[m.jsxs("button",{onClick:()=>X("profile"),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${q==="profile"?"bg-indigo-600 text-white shadow-lg":d?"text-slate-400 hover:text-white hover:bg-white/5":"text-slate-600 hover:text-slate-900 hover:bg-gray-200"}`,children:[m.jsx(wm,{className:"w-4 h-4"})," Profile"]}),m.jsxs("button",{onClick:()=>X("security"),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${q==="security"?"bg-indigo-600 text-white shadow-lg":d?"text-slate-400 hover:text-white hover:bg-white/5":"text-slate-600 hover:text-slate-900 hover:bg-gray-200"}`,children:[m.jsx($o,{className:"w-4 h-4"})," Security"]}),m.jsxs("button",{onClick:()=>X("data"),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${q==="data"?"bg-indigo-600 text-white shadow-lg":d?"text-slate-400 hover:text-white hover:bg-white/5":"text-slate-600 hover:text-slate-900 hover:bg-gray-200"}`,children:[m.jsx(sm,{className:"w-4 h-4"})," Data Management"]})]})]}),m.jsx("div",{className:`md:hidden w-full border-b ${d?"border-white/10":"border-gray-200"}`,children:m.jsxs("div",{className:"flex overflow-x-auto",children:[m.jsxs("button",{onClick:()=>X("profile"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wide border-b-2 transition-colors whitespace-nowrap ${q==="profile"?"border-indigo-500 text-indigo-500":"border-transparent text-slate-500"}`,children:[m.jsx(wm,{className:"w-4 h-4 inline mr-1"})," Profile"]}),m.jsxs("button",{onClick:()=>X("security"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wide border-b-2 transition-colors whitespace-nowrap ${q==="security"?"border-indigo-500 text-indigo-500":"border-transparent text-slate-500"}`,children:[m.jsx($o,{className:"w-4 h-4 inline mr-1"})," Security"]}),m.jsxs("button",{onClick:()=>X("data"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wide border-b-2 transition-colors whitespace-nowrap ${q==="data"?"border-indigo-500 text-indigo-500":"border-transparent text-slate-500"}`,children:[m.jsx(sm,{className:"w-4 h-4 inline mr-1"})," Data"]})]})}),m.jsxs("div",{className:"flex-1 p-4 md:p-8",children:[q==="profile"&&m.jsxs("div",{className:"space-y-4 md:space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center border-b pb-3 md:pb-4 gap-3 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h4",{className:`font-bold text-base md:text-lg ${d?"text-white":"text-slate-900"}`,children:"Admin Profile"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Manage your personal account details."})]}),i?m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>o(!1),className:`px-3 py-1.5 text-xs font-bold uppercase tracking-wide text-slate-400 border rounded-lg ${d?"bg-white/5 border-white/10 hover:bg-white/10":"bg-gray-100 border-gray-200 hover:bg-gray-200"}`,children:"Cancel"}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-bold uppercase tracking-wide text-white bg-indigo-600 rounded-lg hover:bg-indigo-700",children:[m.jsx(jT,{className:"w-3.5 h-3.5"})," Save"]})]}):m.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-1.5 text-xs font-bold uppercase tracking-wide text-indigo-500 bg-indigo-500/10 border border-indigo-500/20 rounded-lg hover:bg-indigo-500/20",children:[m.jsx(AT,{className:"w-3.5 h-3.5"})," Edit"]})]}),m.jsxs("div",{className:"space-y-3 md:space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wide mb-1.5",children:"Display Name"}),m.jsx("input",{type:"text",disabled:!i,className:`w-full px-3 md:px-4 py-2 border rounded-lg outline-none text-sm ${i?"border-indigo-500 focus:ring-2 focus:ring-indigo-500/50":"border-transparent"} ${d?"bg-white/5 text-slate-300":"bg-gray-100 text-slate-700"}`,value:r?.displayName||"",onChange:re=>e({...r,displayName:re.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wide mb-1.5",children:"Username"}),m.jsx("input",{type:"text",disabled:!i,className:`w-full px-3 md:px-4 py-2 border rounded-lg outline-none text-sm ${i?"border-indigo-500 focus:ring-2 focus:ring-indigo-500/50":"border-transparent"} ${d?"bg-white/5 text-slate-300":"bg-gray-100 text-slate-700"}`,value:r?.username||"",onChange:re=>e({...r,username:re.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wide mb-1.5",children:"Email"}),m.jsx("input",{type:"email",disabled:!i,className:`w-full px-3 md:px-4 py-2 border rounded-lg outline-none text-sm ${i?"border-indigo-500 focus:ring-2 focus:ring-indigo-500/50":"border-transparent"} ${d?"bg-white/5 text-slate-300":"bg-gray-100 text-slate-700"}`,value:r?.email||"",onChange:re=>e({...r,email:re.target.value})})]})]}),m.jsx("div",{className:`pt-3 md:pt-4 border-t ${d?"border-white/10":"border-gray-100"}`,children:m.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-xs text-indigo-500 font-bold uppercase tracking-wide hover:text-indigo-400",children:[m.jsx(ia,{className:"w-3.5 h-3.5"})," Change Password"]})})]}),q==="security"&&m.jsxs("div",{className:"space-y-4 md:space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsxs("div",{className:`border-b pb-3 md:pb-4 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsx("h4",{className:`font-bold text-base md:text-lg ${d?"text-white":"text-slate-900"}`,children:"Security"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Manage account security and access."})]}),m.jsxs("div",{className:"p-3 md:p-4 bg-indigo-500/10 border border-indigo-500/20 rounded-lg md:rounded-xl flex items-start gap-3",children:[m.jsx($o,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-500 mt-0.5 flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"text-xs md:text-sm font-bold text-indigo-500",children:"Two-Factor Authentication"}),m.jsxs("p",{className:"text-xs text-indigo-500/80 mt-1",children:["2FA is currently ",m.jsx("span",{className:"font-bold",children:"Enabled"})," via Email."]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"Session Timeout"}),m.jsxs("select",{className:`w-full border rounded-lg p-2 md:p-2.5 text-sm ${d?"bg-[#0B0F19] border-white/10 text-white":"bg-white border-gray-200 text-slate-700"}`,children:[m.jsx("option",{children:"15 Minutes"}),m.jsx("option",{children:"30 Minutes"}),m.jsx("option",{children:"1 Hour"}),m.jsx("option",{children:"Never"})]})]}),m.jsxs("div",{className:`border-t pt-3 md:pt-4 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsx("h5",{className:"font-bold text-xs md:text-sm text-slate-400 mb-2",children:"Recent Login Activity"}),m.jsxs("div",{className:`p-2 md:p-3 rounded-lg border text-xs text-slate-400 space-y-1 ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Manila, PH (Current)"}),m.jsx("span",{className:"whitespace-nowrap ml-2",children:"Just now"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Cebu, PH"}),m.jsx("span",{className:"whitespace-nowrap ml-2",children:"2 hrs ago"})]})]})]})]}),q==="data"&&m.jsxs("div",{className:"space-y-4 md:space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsxs("div",{className:`border-b pb-3 md:pb-4 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsx("h4",{className:`font-bold text-base md:text-lg ${d?"text-white":"text-slate-900"}`,children:"Data Management"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Export logs or clear system caches."})]}),m.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-2 gap-1 md:gap-4",children:[m.jsxs("button",{onClick:()=>J(y,"transactions.csv"),className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group ${d?"border-white/10 hover:bg-white/5":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx($E,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-emerald-500 mb-1 md:mb-2"}),m.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 text-center line-clamp-2",children:"Export Rx Logs"})]}),m.jsxs("button",{onClick:()=>J(v,"security_audit.csv"),className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group ${d?"border-white/10 hover:bg-white/5":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx(e1,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-emerald-500 mb-1 md:mb-2"}),m.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 text-center line-clamp-2",children:"Export Audit"})]}),m.jsxs("button",{onClick:()=>alert("Cache Cleared"),className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group border-dashed ${d?"border-white/10 hover:bg-rose-500/10":"border-gray-300 hover:bg-rose-50"}`,children:[m.jsx(gn,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-rose-500 mb-1 md:mb-2"}),m.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 group-hover:text-rose-500 text-center line-clamp-2",children:"Clear Cache"})]}),m.jsxs("button",{onClick:ee,className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group ${d?"border-white/10 hover:bg-blue-500/10":"border-gray-200 hover:bg-blue-50"}`,children:[m.jsx(sm,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-blue-500 mb-1 md:mb-2"}),m.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 text-center line-clamp-2",children:"Backup DB"})]})]}),m.jsxs("div",{className:"p-3 md:p-4 bg-amber-500/10 border border-amber-500/20 rounded-lg md:rounded-xl flex gap-2 md:gap-3",children:[m.jsx(rT,{className:"w-4 h-4 md:w-5 md:h-5 text-amber-500 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-xs md:text-sm font-bold text-amber-500",children:"Storage Usage"}),m.jsx("div",{className:"w-full bg-amber-500/20 h-1.5 rounded-full mt-2 mb-1 overflow-hidden",children:m.jsx("div",{className:"bg-amber-500 h-full w-[45%]"})}),m.jsx("p",{className:"text-xs text-amber-500/80",children:"45% used of 5GB quota"})]})]})]})]})]})}function yC({onLogin:r,cloudProfile:e}){const[n,i]=fe.useState(""),[o,u]=fe.useState(""),[d,y]=fe.useState(!1),[v,g]=fe.useState(""),[w,A]=fe.useState(!1),[N,q]=fe.useState(0),[X,J]=fe.useState(!1),[ee,re]=fe.useState(0);fe.useEffect(()=>{let ae;return X&&ee>0?ae=setInterval(()=>{re(be=>be-1)},1e3):ee===0&&X&&(J(!1),q(0),g("")),()=>clearInterval(ae)},[X,ee]);const te=ae=>{ae.preventDefault(),!X&&(A(!0),g(""),setTimeout(()=>{const be=e?.username||"admin",ze=e?.password||"admin123";if(n===be&&o===ze)r();else{const Re=N+1;q(Re),A(!1),Re>=5?(J(!0),re(10),g("Too many failed attempts. Locked for 10s.")):g(`Invalid credentials. ${5-Re} attempts remaining.`)}},800))};return m.jsxs("div",{className:"flex h-screen w-full bg-[#0B0F19] font-sans text-slate-900 overflow-hidden relative",children:[m.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/40 via-[#0B0F19] to-black opacity-90"}),m.jsx("div",{className:"w-full lg:w-1/2 h-full flex flex-col justify-center items-center p-6 md:p-12 relative z-10",children:m.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-3xl shadow-2xl border-4 border-slate-200/20 animate-in fade-in slide-in-from-bottom-8 duration-700 relative overflow-hidden ring-1 ring-white/10",children:[m.jsxs("div",{className:"text-center mb-8 relative z-10",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-tr from-indigo-600 to-blue-600 rounded-2xl shadow-lg shadow-indigo-500/30 mb-6 transform transition-transform hover:scale-105 ring-4 ring-white",children:m.jsx($o,{className:"w-8 h-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-slate-900 mb-2",children:"Super Admin"}),m.jsx("p",{className:"text-slate-500 text-sm",children:"MediVend Network Control"})]}),m.jsxs("form",{onSubmit:te,className:"space-y-5 relative z-10",children:[m.jsxs("div",{className:"relative group",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Username"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(wm,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),m.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium",placeholder:"Enter username",value:n,onChange:ae=>i(ae.target.value),disabled:X})]})]}),m.jsxs("div",{className:"relative group",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(ia,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),m.jsx("input",{required:!0,type:d?"text":"password",className:"w-full pl-10 pr-10 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium",placeholder:"",value:o,onChange:ae=>u(ae.target.value),disabled:X}),m.jsx("button",{type:"button",onClick:()=>y(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-indigo-500 transition-colors focus:outline-none",children:d?m.jsx(YE,{className:"h-5 w-5"}):m.jsx(_m,{className:"h-5 w-5"})})]})]}),v&&m.jsxs("div",{className:`p-3 rounded-xl text-sm font-medium border flex items-center gap-2 animate-in slide-in-from-top-2 ${X?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:[m.jsx(s1,{className:"w-4 h-4"})," ",X?`Security Lockout: Try again in ${ee}s`:v]}),m.jsx("button",{type:"submit",disabled:w||X,className:"w-full bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-indigo-600/30 disabled:opacity-70 disabled:cursor-not-allowed transition-all transform active:scale-[0.98] flex justify-center items-center",children:w?m.jsx(Rh,{className:"w-5 h-5 animate-spin"}):X?"Locked":"Access Portal"})]}),m.jsx("div",{className:"text-center text-[10px] text-slate-400 pt-8 mt-4 border-t border-slate-100",children:m.jsx("p",{children:"Authorized Personnel Only  Secure Connection"})})]})}),m.jsxs("div",{className:"hidden lg:flex w-1/2 bg-[#0B0F19] relative overflow-hidden items-center justify-center border-l border-white/5",children:[m.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/40 via-[#0B0F19] to-black opacity-90"}),m.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-[0.03]"}),m.jsxs("div",{className:"relative z-10 p-12 text-white max-w-lg text-center",children:[m.jsx(dl,{className:"w-24 h-24 text-emerald-400 mx-auto mb-6 opacity-80 drop-shadow-lg"}),m.jsx("h1",{className:"text-4xl font-bold mb-4 tracking-tight text-white",children:"System Status: Optimal"}),m.jsx("p",{className:"text-slate-400 text-lg",children:"Real-time monitoring active."})]})]})]})}function vC({onLogout:r,initialProfile:e}){const[n,i]=fe.useState(!0),[o,u]=fe.useState("overview"),[d,y]=fe.useState([]),[v,g]=fe.useState([]),[w,A]=fe.useState([]),[N,q]=fe.useState([]),[X,J]=fe.useState([]),[ee,re]=fe.useState([]),[te,ae]=fe.useState(!0),[be,ze]=fe.useState("pending"),[Re,I]=fe.useState(new Date),[S,T]=fe.useState(e),[V,j]=fe.useState(!1),[M,R]=fe.useState(!1),[lt,vt]=fe.useState(!1),[F,se]=fe.useState(!1),[me,Be]=fe.useState(0),[ve,D]=fe.useState(null),K=()=>{Be(W=>W+1)};fe.useEffect(()=>{const W=setInterval(()=>I(new Date),1e3);return()=>clearInterval(W)},[]),fe.useEffect(()=>{ae(!0);const W=fi(ht,"artifacts",dt,"public","data","doctors"),ue=rl(il(W),mt=>{y(mt.docs.map(et=>({id:et.id,...et.data()})))},mt=>console.error("Error doctors:",mt)),Fe=fi(ht,"artifacts",dt,"public","data","prescriptions"),fn=rl(il(Fe,I_(100)),mt=>{const et=mt.docs.map(St=>({id:St.id,...St.data()})).filter(St=>!St.isHidden);et.sort((St,pt)=>(pt.createdAt?.seconds||0)-(St.createdAt?.seconds||0)),g(et),ae(!1)},mt=>console.error("Error transactions:",mt)),Ks=fi(ht,"artifacts",dt,"public","data","machines"),ga=rl(il(Ks),mt=>{A(mt.docs.map(et=>({id:et.id,...et.data()})))},mt=>console.error("Error machines:",mt)),Rn=fi(ht,"artifacts",dt,"public","data","audit_logs"),Ht=rl(il(Rn,I_(100)),mt=>{const et=mt.docs.map(St=>({id:St.id,...St.data()})).filter(St=>!St.isHidden);et.sort((St,pt)=>(pt.timestamp?.seconds||0)-(St.timestamp?.seconds||0)),q(et),ae(!1)},mt=>{console.error("Error audit:",mt),ae(!1)}),yn=fi(ht,"artifacts",dt,"public","data","medicines"),bt=rl(il(yn),mt=>{J(mt.docs.map(et=>({id:et.id,...et.data()})))}),ya=fi(ht,"artifacts",dt,"public","data","support_tickets"),Ti=rl(il(ya),mt=>{re(mt.docs.map(et=>({id:et.id,...et.data()})))});return()=>{ue(),fn(),ga(),Ht(),bt(),Ti()}},[me]);const ie=async(W,ue)=>{try{const Fe=zt(ht,"artifacts",dt,"public","data","doctors",W);await Zn(Fe,{status:ue,adminReviewedAt:Po()},{merge:!0}),await Xt("Doctor Status Update",`Set ${W} to ${ue}`)}catch(Fe){alert("Update failed: "+Fe.message)}},oe=async(W,ue)=>{if(ue)try{const Fe=zt(ht,"artifacts",dt,"public","data","doctors",W);await Uo(Fe,{password:ue}),await Xt("Doctor Mgmt",`Updated password for doctor ${W}`),alert("Doctor password updated successfully.")}catch(Fe){alert("Update failed: "+Fe.message)}},we=async W=>{if(window.confirm(`Are you sure you want to PERMANENTLY DELETE the doctor account: ${W}?

This action cannot be undone and will remove all their access.`))try{const ue=zt(ht,"artifacts",dt,"public","data","doctors",W);await xh(ue),await Xt("Doctor Deletion",`Permanently removed doctor account: ${W}`),alert("Doctor account deleted successfully.")}catch(ue){alert("Deletion failed: "+ue.message)}},Ae=async W=>{try{const ue=zt(ht,"artifacts",dt,"public","data","machines",W);await Zn(ue,{lastPing:Po(),status:"online"},{merge:!0}),alert(`Ping signal sent to ${W}. Connection OK.`),await Xt("System Ping",`Pinged ${W}`)}catch(ue){alert("Failed to ping: "+ue.message)}},Ve=async W=>{const ue=W.status==="online";let Fe;if(W.diagnosticReport&&W.diagnosticReport.timestamp>Date.now()-36e5)Fe=W.diagnosticReport;else{Fe={...W,timestamp:Date.now(),cpuTemp:ue?(35+Math.random()*15).toFixed(1)+"C":"N/A",printerPaper:ue?Math.floor(Math.random()*100)+"%":"Unknown",printerStatus:ue?"Ready":"Offline",motorStatus:ue?"Optimal":"Offline",scannerStatus:ue?"Active":"Not Detected",slots:(W.slots||Array.from({length:10},(fn,Ks)=>({id:Ks+1,medicine:["Biogesic","Neozep","Amoxicillin","Solmux","Bioflu","Alaxan","Decolgen","Tuseran","Diatabs","Kremil-S"][Ks],stock:Math.floor(Math.random()*100),max:100,status:Math.random()>.95?"Jam":"OK"}))).slice(0,10),healthScore:ue?"98%":"0%",recommendation:ue?"System functioning normally.":"Check power/network connection."};try{await Zn(zt(ht,"artifacts",dt,"public","data","machines",W.id),{diagnosticReport:Fe},{merge:!0})}catch(fn){console.error("Failed to save diagnostic report:",fn)}}D(Fe)},wt=async W=>{if(window.confirm(`Are you sure you want to reboot ${W}?`))try{const ue=zt(ht,"artifacts",dt,"public","data","machines",W);await Zn(ue,{status:"rebooting"},{merge:!0}),setTimeout(async()=>{await Zn(ue,{status:"offline"},{merge:!0}),setTimeout(async()=>{await Zn(ue,{status:"online",lastPing:Po()},{merge:!0}),alert(`${W} rebooted successfully.`),await Xt("System Reboot",`Rebooted ${W}`)},3e3)},1500)}catch(ue){alert("Reboot command failed: "+ue.message)}},rt=async(W,ue)=>{const Fe=ue==="locked"?"online":"locked";if(window.confirm(`Are you sure you want to ${Fe.toUpperCase()} kiosk ${W}?`))try{const fn=zt(ht,"artifacts",dt,"public","data","machines",W);await Zn(fn,{status:Fe},{merge:!0}),await Xt("Security Lock",`${Fe.toUpperCase()} kiosk ${W}`)}catch(fn){alert("Command failed: "+fn.message)}},$s=async W=>{if(window.confirm(`Remove ${W} from network? This cannot be undone.`))try{const ue=zt(ht,"artifacts",dt,"public","data","machines",W);await xh(ue),await Xt("System Removal",`Removed kiosk ${W}`)}catch(ue){alert("Deletion failed: "+ue.message)}},Xt=async(W,ue)=>{try{const Fe=fi(ht,"artifacts",dt,"public","data","audit_logs");await Zn(zt(Fe),{action:W,details:ue,user:S.username,time:new Date().toLocaleTimeString(),timestamp:Po()})}catch(Fe){console.error("Failed to log audit:",Fe)}},wi=async(W,ue,Fe)=>{try{await Wb(fi(ht,"artifacts",dt,"public","data","broadcasts"),{message:W,priority:ue,target:Fe,timestamp:Po(),active:!0,sentBy:S.username,type:"admin_broadcast"}),await Xt("System Broadcast",`Sent: ${W} (${ue} to ${Fe})`),alert(`Broadcast sent to ${Fe==="all"?"Entire Network":Fe}!`),vt(!1)}catch(fn){console.error("Broadcast failed:",fn),alert("Failed to send broadcast.")}},Ei=async W=>{if(window.confirm(`Are you sure you want to remove this record from your view?

This will hide it from the dashboard but keep the record in the database.`))try{await Uo(zt(ht,"artifacts",dt,"public","data","audit_logs",W),{isHidden:!0})}catch(ue){console.error("Failed to hide audit log:",ue)}},Un=async()=>{if(window.confirm(`Are you sure you want to clear ALL visible records from this view?

This will hide them from the dashboard but keep records in the database.`))for(const W of N)try{await Uo(zt(ht,"artifacts",dt,"public","data","audit_logs",W.id),{isHidden:!0})}catch(ue){console.error("Failed to hide:",ue)}},Ar=async W=>{if(window.confirm(`Are you sure you want to remove this record from your view?

This will hide it from the dashboard but keep the record in the database.`))try{await Uo(zt(ht,"artifacts",dt,"public","data","prescriptions",W),{isHidden:!0})}catch(ue){console.error("Failed to hide transaction:",ue)}},Gs=async()=>{if(window.confirm(`Are you sure you want to clear ALL visible records from this view?

This will hide them from the dashboard but keep records in the database.`))for(const W of v)try{await Uo(zt(ht,"artifacts",dt,"public","data","prescriptions",W.id),{isHidden:!0})}catch(ue){console.error("Failed to hide:",ue)}},Sr=async()=>{try{const W=zt(ht,"artifacts",dt,"public","data","settings","admin_profile");await Zn(W,S),j(!1),alert("Profile updated and synced to cloud."),await Xt("Profile Update","Admin profile details updated")}catch(W){alert("Failed to save profile: "+W.message)}},Nr=async W=>{try{const ue={...S,password:W},Fe=zt(ht,"artifacts",dt,"public","data","settings","admin_profile");await Zn(Fe,ue,{merge:!0}),T(ue),R(!1),alert("Password updated and synced to cloud."),await Xt("Password Change","Admin password updated")}catch(ue){alert("Failed to update password: "+ue.message)}},We=d.filter(W=>W.status==="pending").length,_t=d.filter(W=>W.status==="active").length,an=w.filter(W=>W.status==="online").length,Vl=d.filter(W=>be==="all"?!0:W.status===be),Rr=v,jt=N,ys=[...Rr.map(W=>({...W,type:"rx",sortTime:W.createdAt?.seconds||0})),...jt.map(W=>({...W,type:"audit",sortTime:W.timestamp?.seconds||0}))].sort((W,ue)=>ue.sortTime-W.sortTime).slice(0,6),Nn=W=>{u(W),se(!1),D(null)};return m.jsxs("div",{className:`flex h-screen font-sans overflow-hidden transition-colors duration-300 ${n?"bg-[#0B0F19] text-slate-300":"bg-gray-50 text-slate-600"}`,children:[F&&m.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 backdrop-blur-sm md:hidden",onClick:()=>se(!1)}),m.jsxs("aside",{className:`fixed inset-y-0 left-0 z-30 w-72 border-r shadow-2xl transform transition-all duration-300 ease-in-out flex flex-col ${F?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 ${n?"bg-[#0B0F19] border-white/5":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`relative z-10 p-6 flex items-center gap-3 border-b ${n?"border-white/5":"border-gray-100"}`,children:[m.jsx("div",{className:"bg-gradient-to-tr from-indigo-500 to-blue-600 p-2.5 rounded-xl shadow-lg shadow-indigo-500/20 ring-1 ring-white/10",children:m.jsx($o,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:`font-bold text-lg tracking-wide ${n?"text-white":"text-slate-900"}`,children:"MediVend"}),m.jsx("p",{className:"text-[10px] uppercase font-bold text-indigo-500 tracking-wider",children:"Super Admin"})]}),m.jsx("button",{onClick:()=>se(!1),className:`md:hidden ml-auto ${n?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:m.jsx(Zo,{className:"w-5 h-5"})})]}),m.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:[m.jsx("div",{className:"px-3 mb-2 mt-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Workspace"}),m.jsx(na,{id:"overview",label:"Dashboard",icon:m.jsx(gv,{className:"w-5 h-5"}),active:o==="overview",onClick:Nn,isDarkMode:n}),m.jsx("div",{className:"px-3 mt-8 mb-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Network"}),m.jsx(na,{id:"doctors",label:"Doctors",icon:m.jsx(al,{className:"w-5 h-5"}),active:o==="doctors",onClick:Nn,badge:We,isDarkMode:n}),m.jsx(na,{id:"machines",label:"Kiosks",icon:m.jsx(zo,{className:"w-5 h-5"}),active:o==="machines",onClick:Nn,isDarkMode:n}),m.jsx("div",{className:"px-3 mt-8 mb-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Inventory & Support"}),m.jsx(na,{id:"inventory",label:"Master List",icon:m.jsx(im,{className:"w-5 h-5"}),active:o==="inventory",onClick:Nn,isDarkMode:n}),m.jsx(na,{id:"support",label:"Support",icon:m.jsx(yv,{className:"w-5 h-5"}),active:o==="support",onClick:Nn,isDarkMode:n}),m.jsx("div",{className:"px-3 mt-8 mb-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Compliance"}),m.jsx(na,{id:"transactions",label:"Logs",icon:m.jsx(e1,{className:"w-5 h-5"}),active:o==="transactions",onClick:Nn,isDarkMode:n}),m.jsx(na,{id:"audit",label:"Audit",icon:m.jsx(zE,{className:"w-5 h-5"}),active:o==="audit",onClick:Nn,isDarkMode:n})]}),m.jsx("div",{className:`p-4 border-t ${n?"bg-[#05080F] border-white/5":"bg-gray-50 border-gray-200"}`,children:m.jsxs("button",{onClick:r,className:"flex w-full items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-slate-400 hover:bg-rose-500/10 hover:text-rose-500 transition-all text-sm font-medium group",children:[m.jsx(fT,{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform"})," Sign Out"]})})]}),m.jsxs("div",{className:`flex-1 flex flex-col min-w-0 overflow-hidden relative ${n?"bg-[#0B0F19]":"bg-gray-50"}`,children:[m.jsxs("header",{className:`h-16 border-b flex items-center justify-between px-6 shadow-sm z-10 sticky top-0 transition-colors ${n?"bg-[#0B0F19] border-white/5":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>se(!0),className:`md:hidden p-2 -ml-2 rounded-lg ${n?"text-slate-400 hover:bg-white/5":"text-slate-600 hover:bg-gray-100"}`,children:m.jsx(gT,{className:"w-6 h-6"})}),m.jsxs("h2",{className:`text-lg md:text-xl font-bold capitalize tracking-tight flex items-center gap-2 ${n?"text-white":"text-slate-900"}`,children:[o==="overview"&&m.jsx(gv,{className:"w-5 h-5 text-indigo-500 hidden sm:block"}),o==="doctors"&&m.jsx(al,{className:"w-5 h-5 text-indigo-500 hidden sm:block"}),o==="machines"&&m.jsx(zo,{className:"w-5 h-5 text-emerald-500 hidden sm:block"}),o==="inventory"&&m.jsx(im,{className:"w-5 h-5 text-indigo-500 hidden sm:block"}),o==="support"&&m.jsx(yv,{className:"w-5 h-5 text-rose-500 hidden sm:block"}),o==="settings"&&m.jsx(zT,{className:"w-5 h-5 text-slate-400 hidden sm:block"}),o.replace("-"," ")]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:K,className:`p-2 rounded-full transition-all ${n?"bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-slate-600 hover:text-slate-900"}`,title:"Refresh Data",children:m.jsx(Rh,{className:`w-4 h-4 ${te?"animate-spin":""}`})}),m.jsx("button",{onClick:()=>i(!n),className:`p-2 rounded-full transition-all ${n?"bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-slate-600 hover:text-slate-900"}`,title:"Toggle Theme",children:n?m.jsx(FT,{className:"w-4 h-4 text-amber-400"}):m.jsx(bT,{className:"w-4 h-4 text-indigo-500"})}),m.jsxs("div",{className:`hidden lg:flex items-center gap-2 px-3 py-1.5 rounded-full border text-xs font-semibold ${n?"bg-white/5 border-white/10 text-slate-300":"bg-gray-100 border-gray-200 text-slate-600"}`,children:[m.jsx(qE,{className:"w-3.5 h-3.5 text-indigo-500"}),Re.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),m.jsxs("button",{onClick:()=>{u("doctors"),ze("pending")},className:`p-2 transition-colors relative rounded-full ${n?"text-slate-400 hover:text-indigo-400 hover:bg-white/5":"text-slate-600 hover:text-indigo-600 hover:bg-gray-100"}`,children:[m.jsx(CE,{className:"w-5 h-5"}),We>0&&m.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-rose-500 rounded-full border border-white/10"})]}),m.jsx("div",{onClick:()=>u("settings"),className:`flex items-center gap-3 cursor-pointer p-1.5 -mr-1.5 rounded-lg transition-colors group ${n?"hover:bg-white/5":"hover:bg-gray-100"}`,children:m.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-xs ring-2 ring-white/10 shadow-md group-hover:ring-indigo-500/50 transition-all",children:S?.displayName?.charAt(0)||"A"})})]})]}),m.jsxs("main",{className:`flex-1 overflow-y-auto p-4 lg:p-6 ${n?"bg-[#0B0F19]":"bg-gray-50"}`,children:[o==="overview"&&m.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-5 items-stretch",children:[m.jsx(Xu,{title:"Pending Approvals",value:We,icon:m.jsx(al,{className:"w-5 h-5 text-amber-400"}),color:"amber",subtext:"Requires attention",onClick:()=>{u("doctors"),ze("pending")},isDarkMode:n}),m.jsx(Xu,{title:"Active Kiosks",value:`${an}/${w.length>0?w.length:0}`,icon:m.jsx(zo,{className:"w-5 h-5 text-emerald-400"}),color:"emerald",subtext:"Network Status",onClick:()=>u("machines"),isDarkMode:n}),m.jsx(Xu,{title:"Master Inventory",value:X.length,icon:m.jsx(im,{className:"w-5 h-5 text-blue-400"}),color:"blue",subtext:"SKUs in database",onClick:()=>u("inventory"),isDarkMode:n}),m.jsx(Xu,{title:"Security Alerts",value:jt.length,icon:m.jsx(wT,{className:"w-5 h-5 text-rose-400"}),color:"red",subtext:"System events",onClick:()=>u("audit"),isDarkMode:n},`audit-${jt.length}`)]}),m.jsxs("div",{className:`p-6 rounded-xl border shadow-lg ${n?"bg-white/5 border-white/5":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-bold text-lg ${n?"text-white":"text-slate-900"}`,children:"Network Health"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Real-time infrastructure status & capacity"})]}),m.jsx("div",{className:"flex gap-2",children:m.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-emerald-500 bg-emerald-500/10 px-3 py-1 rounded-full border border-emerald-500/20 whitespace-nowrap flex-shrink-0",children:[m.jsx(dl,{className:"w-3 h-3"})," System Normal"]})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsxs("h4",{className:`text-sm font-bold mb-4 flex items-center gap-2 ${n?"text-slate-300":"text-slate-700"}`,children:[m.jsx(zo,{className:"w-4 h-4 text-emerald-500"})," Kiosk Connectivity"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[m.jsxs("span",{className:"font-medium text-slate-400",children:["Online (",an,")"]}),m.jsxs("span",{className:"text-emerald-500 font-bold",children:[w.length>0?Math.round(an/w.length*100):0,"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/10":"bg-gray-100"}`,children:m.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all duration-1000",style:{width:`${w.length>0?an/w.length*100:0}%`}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[m.jsxs("span",{className:"font-medium text-slate-400",children:["Offline / Maintenance (",w.length-an,")"]}),m.jsxs("span",{className:"text-slate-500 font-bold",children:[w.length>0?Math.round((w.length-an)/w.length*100):0,"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/10":"bg-gray-100"}`,children:m.jsx("div",{className:"bg-slate-500 h-2 rounded-full transition-all duration-1000",style:{width:`${w.length>0?(w.length-an)/w.length*100:0}%`}})})]})]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:`text-sm font-bold mb-4 flex items-center gap-2 ${n?"text-slate-300":"text-slate-700"}`,children:[m.jsx(al,{className:"w-4 h-4 text-blue-500"})," Provider Status"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[m.jsxs("span",{className:"font-medium text-slate-400",children:["Active Physicians (",_t,")"]}),m.jsxs("span",{className:"text-blue-500 font-bold",children:[d.length>0?Math.round(_t/d.length*100):0,"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/10":"bg-gray-100"}`,children:m.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-1000",style:{width:`${d.length>0?_t/d.length*100:0}%`}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[m.jsxs("span",{className:"font-medium text-slate-400",children:["Pending Approval (",We,")"]}),m.jsxs("span",{className:"text-amber-500 font-bold",children:[d.length>0?Math.round(We/d.length*100):0,"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/10":"bg-gray-100"}`,children:m.jsx("div",{className:"bg-amber-500 h-2 rounded-full transition-all duration-1000",style:{width:`${d.length>0?We/d.length*100:0}%`}})})]})]})]})]})]}),m.jsxs("div",{className:`p-6 rounded-xl border shadow-lg ${n?"bg-white/5 border-white/5":"bg-white border-gray-200"}`,children:[m.jsxs("h3",{className:`font-bold text-lg mb-6 flex items-center gap-2 ${n?"text-white":"text-slate-900"}`,children:[m.jsx(jE,{className:"w-5 h-5 text-indigo-500"})," Top Prescribed Medicines"]}),m.jsx(cC,{transactions:v,isDarkMode:n})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:`p-5 rounded-xl border h-full ${n?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsx("h3",{className:`font-bold text-base mb-4 ${n?"text-white":"text-slate-900"}`,children:"Quick Actions"}),m.jsxs("div",{className:"flex gap-2 flex-col",children:[m.jsx(vm,{onClick:()=>{u("doctors"),ze("pending")},icon:m.jsx(al,{className:"w-4 h-4"}),label:`Review ${We} Doctors`,variant:"primary"}),m.jsx(vm,{onClick:()=>vt(!0),icon:m.jsx(t1,{className:"w-4 h-4"}),label:"System Broadcast",variant:"secondary",isDarkMode:n}),m.jsx(vm,{onClick:()=>u("audit"),icon:m.jsx(eT,{className:"w-4 h-4"}),label:"View Security Audit",variant:"secondary",isDarkMode:n})]})]}),m.jsxs("div",{className:`lg:col-span-2 p-5 rounded-xl border ${n?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsx("h3",{className:`font-bold text-base mb-4 ${n?"text-white":"text-slate-900"}`,children:"Live Activity Feed"}),m.jsxs("div",{className:"space-y-0 relative",children:[m.jsx("div",{className:`absolute left-3 top-2 bottom-2 w-px ${n?"bg-white/10":"bg-gray-200"}`}),ys.length===0?m.jsx("div",{className:"pl-8 py-4 text-sm text-slate-500 italic",children:"No recent activity"}):ys.map((W,ue)=>m.jsxs("div",{className:`py-3 pl-8 relative flex justify-between items-center text-sm group rounded-lg -ml-2 pr-2 transition-colors ${n?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:`absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 border-2 rounded-full z-10 ${W.type==="rx"?"bg-blue-900 border-blue-500":"bg-amber-900 border-amber-500"}`}),m.jsx("div",{className:"flex items-center gap-3",children:m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-xs ${n?"text-white":"text-slate-900"}`,children:W.type==="rx"?"Prescription Issued":W.action}),m.jsx("p",{className:"text-xs text-slate-400",children:W.type==="rx"?`Dr. ${W.doctorName}`:W.details})]})}),m.jsx("span",{className:"text-xs text-slate-500 font-mono",children:W.type==="rx"?W.date:W.time})]},W.id+ue))]})]})]})]}),o==="doctors"&&m.jsx(dC,{doctors:Vl,filter:be,setFilter:ze,onRefresh:K,onUpdateStatus:ie,onUpdatePassword:oe,onDelete:we,loading:te,isDarkMode:n}),o==="machines"&&m.jsx(fC,{machines:w,onPing:Ae,onRunDiagnostics:Ve,onReboot:wt,onLock:rt,onDelete:$s,isDarkMode:n}),o==="inventory"&&m.jsx(uC,{medicines:X,db:ht,appId:dt,isDarkMode:n}),o==="support"&&m.jsx(hC,{tickets:ee,db:ht,appId:dt,isDarkMode:n}),o==="transactions"&&m.jsx(mC,{transactions:Rr,onHide:Ar,onClearView:Gs,isDarkMode:n}),o==="audit"&&m.jsx(pC,{logs:jt,onHide:Ei,onClearView:Un,isDarkMode:n}),o==="settings"&&m.jsx(gC,{profile:S,setProfile:T,onSave:Sr,isEditing:V,setIsEditing:j,setShowPassword:()=>R(!0),isDarkMode:n,transactions:v,auditLogs:N,doctors:d,machines:w,medicines:X,supportTickets:ee})]}),M&&m.jsx(lC,{onClose:()=>R(!1),currentCreds:S,onUpdate:Nr,isDarkMode:n}),lt&&m.jsx(oC,{onClose:()=>vt(!1),onSend:wi,isDarkMode:n}),ve&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:m.jsxs("div",{className:`rounded-xl shadow-2xl max-w-2xl w-full overflow-hidden border flex flex-col max-h-[90vh] ${n?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center flex-shrink-0 ${n?"border-white/10":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsxs("h3",{className:`font-bold text-lg flex items-center gap-2 ${n?"text-white":"text-slate-900"}`,children:[m.jsx(dl,{className:"w-5 h-5 text-emerald-500"})," Kiosk Diagnostics"]}),m.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[ve.id,"  ",ve.location]})]}),m.jsx("button",{onClick:()=>D(null),children:m.jsx(Zo,{className:`w-5 h-5 ${n?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`})})]}),m.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[m.jsxs("div",{className:"flex-1 text-center p-4 rounded-xl border border-dashed border-slate-500/20 flex flex-col justify-center items-center",children:[m.jsx("div",{className:`text-5xl font-bold mb-1 ${ve.status==="online"?"text-emerald-500":"text-rose-500"}`,children:ve.healthScore}),m.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest font-bold",children:"System Health"})]}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Remote Commands"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("button",{onClick:()=>Ae(ve.id),className:`flex items-center justify-center gap-2 p-2 rounded-lg text-xs font-bold transition-colors ${n?"bg-white/5 hover:bg-white/10 text-white":"bg-gray-100 hover:bg-gray-200 text-slate-700"}`,children:[m.jsx(dl,{size:14})," Ping"]}),m.jsxs("button",{onClick:()=>wt(ve.id),className:`flex items-center justify-center gap-2 p-2 rounded-lg text-xs font-bold transition-colors ${n?"bg-white/5 hover:bg-white/10 text-white":"bg-gray-100 hover:bg-gray-200 text-slate-700"}`,children:[m.jsx(xm,{size:14})," Reboot"]}),m.jsxs("button",{onClick:()=>rt(ve.id,ve.status),className:`col-span-2 flex items-center justify-center gap-2 p-2 rounded-lg text-xs font-bold transition-colors ${ve.status==="locked"?"bg-emerald-500/20 text-emerald-500 hover:bg-emerald-500/30":"bg-rose-500/20 text-rose-500 hover:bg-rose-500/30"}`,children:[ve.status==="locked"?m.jsx(bm,{size:14}):m.jsx(ia,{size:14}),ve.status==="locked"?"Unlock Kiosk":"Lock / Disable"]})]})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-3",children:"Hardware Sensors"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[m.jsxs("div",{className:`p-3 rounded-xl border ${n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(GT,{className:"w-3.5 h-3.5 text-rose-400"}),m.jsx("span",{className:`text-[10px] font-bold uppercase ${n?"text-slate-400":"text-slate-500"}`,children:"CPU Temp"})]}),m.jsx("p",{className:`text-sm font-mono font-bold ${n?"text-white":"text-slate-900"}`,children:ve.cpuTemp})]}),m.jsxs("div",{className:`p-3 rounded-xl border ${n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(RT,{className:"w-3.5 h-3.5 text-blue-400"}),m.jsx("span",{className:`text-[10px] font-bold uppercase ${n?"text-slate-400":"text-slate-500"}`,children:"Paper Lvl"})]}),m.jsx("p",{className:`text-sm font-mono font-bold ${n?"text-white":"text-slate-900"}`,children:ve.printerPaper})]}),m.jsxs("div",{className:`p-3 rounded-xl border ${n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(n2,{className:"w-3.5 h-3.5 text-amber-400"}),m.jsx("span",{className:`text-[10px] font-bold uppercase ${n?"text-slate-400":"text-slate-500"}`,children:"Motor"})]}),m.jsx("p",{className:`text-sm font-mono font-bold ${n?"text-white":"text-slate-900"}`,children:ve.motorStatus})]}),m.jsxs("div",{className:`p-3 rounded-xl border ${n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(OT,{className:"w-3.5 h-3.5 text-purple-400"}),m.jsx("span",{className:`text-[10px] font-bold uppercase ${n?"text-slate-400":"text-slate-500"}`,children:"Scanner"})]}),m.jsx("p",{className:`text-sm font-mono font-bold ${n?"text-white":"text-slate-900"}`,children:ve.scannerStatus})]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide flex items-center gap-2",children:[m.jsx(lT,{className:"w-4 h-4"})," Real-Time Inventory (10 Slots)"]}),m.jsx("span",{className:"text-[10px] text-slate-500 bg-white/5 px-2 py-1 rounded",children:"Live Feed"})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:ve.slots&&ve.slots.map(W=>m.jsxs("div",{className:`p-2.5 rounded-lg border relative overflow-hidden group ${W.status==="Jam"?"border-rose-500/50 bg-rose-500/10":n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-1 relative z-10",children:[m.jsxs("span",{className:"text-[10px] font-bold opacity-50",children:["#",W.id]}),W.status==="Jam"&&m.jsx(s1,{className:"w-3 h-3 text-rose-500"})]}),m.jsx("p",{className:`text-xs font-bold truncate relative z-10 ${n?"text-white":"text-slate-900"}`,children:W.medicine}),m.jsxs("div",{className:"mt-2 relative z-10",children:[m.jsxs("div",{className:"flex justify-between text-[10px] mb-0.5",children:[m.jsx("span",{className:"text-slate-400",children:"Lvl"}),m.jsxs("span",{className:W.stock<20?"text-rose-500 font-bold":"text-emerald-500 font-bold",children:[W.stock,"%"]})]}),m.jsx("div",{className:`w-full h-1.5 rounded-full overflow-hidden ${n?"bg-black/40":"bg-gray-200"}`,children:m.jsx("div",{className:`h-full rounded-full ${W.stock<20?"bg-rose-500":"bg-emerald-500"}`,style:{width:`${W.stock}%`}})})]})]},W.id))})]}),m.jsxs("div",{className:`p-4 rounded-xl border ${ve.status==="online"?"bg-emerald-500/10 border-emerald-500/20":"bg-rose-500/10 border-rose-500/20"}`,children:[m.jsx("p",{className:`text-xs font-bold uppercase mb-1 ${ve.status==="online"?"text-emerald-500":"text-rose-500"}`,children:"AI Recommendation"}),m.jsx("p",{className:`text-sm ${n?"text-slate-300":"text-slate-700"}`,children:ve.recommendation})]})]}),m.jsx("div",{className:`p-4 border-t flex justify-end flex-shrink-0 ${n?"bg-white/5 border-white/10":"bg-gray-50 border-gray-200"}`,children:m.jsx("button",{onClick:()=>D(null),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-xs font-bold uppercase rounded-lg shadow-lg",children:"Close Diagnostics"})})]})})]})]})}function _C(){const[r,e]=fe.useState(!1),[n,i]=fe.useState(null),[o,u]=fe.useState(!0);return fe.useEffect(()=>{(async()=>{try{await B5(aC);const y=zt(ht,"artifacts",dt,"public","data","settings","admin_profile"),v=await r5(y);v.exists()?i(v.data()):(await Zn(y,ym),i(ym))}catch(y){console.error("Failed to initialize admin:",y),i(ym)}finally{u(!1)}})()},[]),o?m.jsx("div",{className:"flex h-screen items-center justify-center bg-[#0B0F19]",children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx(Rh,{className:"w-8 h-8 text-indigo-500 animate-spin"}),m.jsx("p",{className:"text-sm font-semibold text-slate-400",children:"Connecting to Secure Server..."})]})}):r?m.jsx(vC,{onLogout:()=>e(!1),initialProfile:n}):m.jsx(yC,{onLogin:()=>e(!0),cloudProfile:n})}xE.createRoot(document.getElementById("root")).render(m.jsx(fe.StrictMode,{children:m.jsx(_C,{})}));
