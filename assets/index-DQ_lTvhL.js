(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function gT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zf={exports:{}},Mo={};var cv;function pT(){if(cv)return Mo;cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:u}}return Mo.Fragment=e,Mo.jsx=n,Mo.jsxs=n,Mo}var uv;function yT(){return uv||(uv=1,Zf.exports=pT()),Zf.exports}var m=yT(),Wf={exports:{}},Ne={};var hv;function vT(){if(hv)return Ne;hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),R=Symbol.iterator;function L(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,te={};function de(V,X,ae){this.props=V,this.context=X,this.refs=te,this.updater=ae||K}de.prototype.isReactComponent={},de.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},de.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function me(){}me.prototype=de.prototype;function ne(V,X,ae){this.props=V,this.context=X,this.refs=te,this.updater=ae||K}var pe=ne.prototype=new me;pe.constructor=ne,ie(pe,de.prototype),pe.isPureReactComponent=!0;var $=Array.isArray;function ve(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(V,X,ae){var oe=ae.ref;return{$$typeof:r,type:V,key:X,ref:oe!==void 0?oe:null,props:ae}}function N(V,X){return I(V.type,X,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function M(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return X[ae]})}var S=/\/+/g;function ct(V,X){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):X.toString(36)}function yt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ve,ve):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,X,ae,oe,fe){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var Ve=!1;if(V===null)Ve=!0;else switch(Ae){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(V.$$typeof){case r:case e:Ve=!0;break;case w:return Ve=V._init,F(Ve(V._payload),X,ae,oe,fe)}}if(Ve)return fe=fe(V),Ve=oe===""?"."+ct(V,0):oe,$(fe)?(ae="",Ve!=null&&(ae=Ve.replace(S,"$&/")+"/"),F(fe,X,ae,"",function(Ke){return Ke})):fe!=null&&(O(fe)&&(fe=N(fe,ae+(fe.key==null||V&&V.key===fe.key?"":(""+fe.key).replace(S,"$&/")+"/")+Ve)),X.push(fe)),1;Ve=0;var Xe=oe===""?".":oe+":";if($(V))for(var Ge=0;Ge<V.length;Ge++)oe=V[Ge],Ae=Xe+ct(oe,Ge),Ve+=F(oe,X,ae,Ae,fe);else if(Ge=L(V),typeof Ge=="function")for(V=Ge.call(V),Ge=0;!(oe=V.next()).done;)oe=oe.value,Ae=Xe+ct(oe,Ge++),Ve+=F(oe,X,ae,Ae,fe);else if(Ae==="object"){if(typeof V.then=="function")return F(yt(V),X,ae,oe,fe);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function re(V,X,ae){if(V==null)return V;var oe=[],fe=0;return F(V,oe,"","",function(Ae){return X.call(ae,Ae,fe++)}),oe}function ye(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var De=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Fe={map:re,forEach:function(V,X,ae){re(V,function(){X.apply(this,arguments)},ae)},count:function(V){var X=0;return re(V,function(){X++}),X},toArray:function(V){return re(V,function(X){return X})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ne.Activity=E,Ne.Children=Fe,Ne.Component=de,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=ne,Ne.StrictMode=s,Ne.Suspense=v,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(V,X,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=ie({},V.props),fe=V.key;if(X!=null)for(Ae in X.key!==void 0&&(fe=""+X.key),X)!A.call(X,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&X.ref===void 0||(oe[Ae]=X[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=ae;else if(1<Ae){for(var Ve=Array(Ae),Xe=0;Xe<Ae;Xe++)Ve[Xe]=arguments[Xe+2];oe.children=Ve}return I(V.type,fe,oe)},Ne.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ne.createElement=function(V,X,ae){var oe,fe={},Ae=null;if(X!=null)for(oe in X.key!==void 0&&(Ae=""+X.key),X)A.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=X[oe]);var Ve=arguments.length-2;if(Ve===1)fe.children=ae;else if(1<Ve){for(var Xe=Array(Ve),Ge=0;Ge<Ve;Ge++)Xe[Ge]=arguments[Ge+2];fe.children=Xe}if(V&&V.defaultProps)for(oe in Ve=V.defaultProps,Ve)fe[oe]===void 0&&(fe[oe]=Ve[oe]);return I(V,Ae,fe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:y,render:V}},Ne.isValidElement=O,Ne.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:ye}},Ne.memo=function(V,X){return{$$typeof:p,type:V,compare:X===void 0?null:X}},Ne.startTransition=function(V){var X=C.T,ae={};C.T=ae;try{var oe=V(),fe=C.S;fe!==null&&fe(ae,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ve,De)}catch(Ae){De(Ae)}finally{X!==null&&ae.types!==null&&(X.types=ae.types),C.T=X}},Ne.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ne.use=function(V){return C.H.use(V)},Ne.useActionState=function(V,X,ae){return C.H.useActionState(V,X,ae)},Ne.useCallback=function(V,X){return C.H.useCallback(V,X)},Ne.useContext=function(V){return C.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,X){return C.H.useDeferredValue(V,X)},Ne.useEffect=function(V,X){return C.H.useEffect(V,X)},Ne.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Ne.useId=function(){return C.H.useId()},Ne.useImperativeHandle=function(V,X,ae){return C.H.useImperativeHandle(V,X,ae)},Ne.useInsertionEffect=function(V,X){return C.H.useInsertionEffect(V,X)},Ne.useLayoutEffect=function(V,X){return C.H.useLayoutEffect(V,X)},Ne.useMemo=function(V,X){return C.H.useMemo(V,X)},Ne.useOptimistic=function(V,X){return C.H.useOptimistic(V,X)},Ne.useReducer=function(V,X,ae){return C.H.useReducer(V,X,ae)},Ne.useRef=function(V){return C.H.useRef(V)},Ne.useState=function(V){return C.H.useState(V)},Ne.useSyncExternalStore=function(V,X,ae){return C.H.useSyncExternalStore(V,X,ae)},Ne.useTransition=function(){return C.H.useTransition()},Ne.version="19.2.4",Ne}var dv;function Qm(){return dv||(dv=1,Wf.exports=vT()),Wf.exports}var le=Qm();const Z_=gT(le);var em={exports:{}},Lo={},tm={exports:{}},nm={};var fv;function _T(){return fv||(fv=1,(function(r){function e(F,re){var ye=F.length;F.push(re);e:for(;0<ye;){var De=ye-1>>>1,Fe=F[De];if(0<o(Fe,re))F[De]=re,F[ye]=Fe,ye=De;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var re=F[0],ye=F.pop();if(ye!==re){F[0]=ye;e:for(var De=0,Fe=F.length,V=Fe>>>1;De<V;){var X=2*(De+1)-1,ae=F[X],oe=X+1,fe=F[oe];if(0>o(ae,ye))oe<Fe&&0>o(fe,ae)?(F[De]=fe,F[oe]=ye,De=oe):(F[De]=ae,F[X]=ye,De=X);else if(oe<Fe&&0>o(fe,ye))F[De]=fe,F[oe]=ye,De=oe;else break e}}return re}function o(F,re){var ye=F.sortIndex-re.sortIndex;return ye!==0?ye:F.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],p=[],w=1,E=null,R=3,L=!1,K=!1,ie=!1,te=!1,de=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function pe(F){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=F)s(p),re.sortIndex=re.expirationTime,e(v,re);else break;re=n(p)}}function $(F){if(ie=!1,pe(F),!K)if(n(v)!==null)K=!0,ve||(ve=!0,M());else{var re=n(p);re!==null&&yt($,re.startTime-F)}}var ve=!1,C=-1,A=5,I=-1;function N(){return te?!0:!(r.unstable_now()-I<A)}function O(){if(te=!1,ve){var F=r.unstable_now();I=F;var re=!0;try{e:{K=!1,ie&&(ie=!1,me(C),C=-1),L=!0;var ye=R;try{t:{for(pe(F),E=n(v);E!==null&&!(E.expirationTime>F&&N());){var De=E.callback;if(typeof De=="function"){E.callback=null,R=E.priorityLevel;var Fe=De(E.expirationTime<=F);if(F=r.unstable_now(),typeof Fe=="function"){E.callback=Fe,pe(F),re=!0;break t}E===n(v)&&s(v),pe(F)}else s(v);E=n(v)}if(E!==null)re=!0;else{var V=n(p);V!==null&&yt($,V.startTime-F),re=!1}}break e}finally{E=null,R=ye,L=!1}re=void 0}}finally{re?M():ve=!1}}}var M;if(typeof ne=="function")M=function(){ne(O)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,ct=S.port2;S.port1.onmessage=O,M=function(){ct.postMessage(null)}}else M=function(){de(O,0)};function yt(F,re){C=de(function(){F(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(F){switch(R){case 1:case 2:case 3:var re=3;break;default:re=R}var ye=R;R=re;try{return F()}finally{R=ye}},r.unstable_requestPaint=function(){te=!0},r.unstable_runWithPriority=function(F,re){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ye=R;R=F;try{return re()}finally{R=ye}},r.unstable_scheduleCallback=function(F,re,ye){var De=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?De+ye:De):ye=De,F){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ye+Fe,F={id:w++,callback:re,priorityLevel:F,startTime:ye,expirationTime:Fe,sortIndex:-1},ye>De?(F.sortIndex=ye,e(p,F),n(v)===null&&F===n(p)&&(ie?(me(C),C=-1):ie=!0,yt($,ye-De))):(F.sortIndex=Fe,e(v,F),K||L||(K=!0,ve||(ve=!0,M()))),F},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(F){var re=R;return function(){var ye=R;R=re;try{return F.apply(this,arguments)}finally{R=ye}}}})(nm)),nm}var mv;function bT(){return mv||(mv=1,tm.exports=_T()),tm.exports}var im={exports:{}},rn={};var gv;function xT(){if(gv)return rn;gv=1;var r=Qm();function e(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,p,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:v,containerInfo:p,implementation:w}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(v,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(v,p,null,w)},rn.flushSync=function(v){var p=d.T,w=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=p,s.p=w,s.d.f()}},rn.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(v,p))},rn.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},rn.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var w=p.as,E=y(w,p.crossOrigin),R=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;w==="style"?s.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:R,fetchPriority:L}):w==="script"&&s.d.X(v,{crossOrigin:E,integrity:R,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var w=y(p.as,p.crossOrigin);s.d.M(v,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(v)},rn.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var w=p.as,E=y(w,p.crossOrigin);s.d.L(v,w,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(v,p){if(typeof v=="string")if(p){var w=y(p.as,p.crossOrigin);s.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(v)},rn.requestFormReset=function(v){s.d.r(v)},rn.unstable_batchedUpdates=function(v,p){return v(p)},rn.useFormState=function(v,p,w){return d.H.useFormState(v,p,w)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.4",rn}var pv;function wT(){if(pv)return im.exports;pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),im.exports=xT(),im.exports}var yv;function TT(){if(yv)return Lo;yv=1;var r=bT(),e=Qm(),n=wT();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),t;if(f===l)return v(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,x=h.child;x;){if(x===a){_=!0,a=h,l=f;break}if(x===l){_=!0,l=h,a=f;break}x=x.sibling}if(!_){for(x=f.child;x;){if(x===a){_=!0,a=f,l=h;break}if(x===l){_=!0,l=f,a=h;break}x=x.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function w(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=w(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function ct(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case de:return"Profiler";case te:return"StrictMode";case $:return"Suspense";case ve:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case ne:return t.displayName||"Context";case me:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:ct(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return ct(t(i))}catch{}}return null}var yt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},De=[],Fe=-1;function V(t){return{current:t}}function X(t){0>Fe||(t.current=De[Fe],De[Fe]=null,Fe--)}function ae(t,i){Fe++,De[Fe]=t.current,t.current=i}var oe=V(null),fe=V(null),Ae=V(null),Ve=V(null);function Xe(t,i){switch(ae(Ae,i),ae(fe,t),ae(oe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Oy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Oy(i),t=Dy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(oe),ae(oe,t)}function Ge(){X(oe),X(fe),X(Ae)}function Ke(t){t.memoizedState!==null&&ae(Ve,t);var i=oe.current,a=Dy(i,t.type);i!==a&&(ae(fe,t),ae(oe,a))}function Wn(t){fe.current===t&&(X(oe),X(fe)),Ve.current===t&&(X(Ve),Oo._currentValue=ye)}var bs,xs;function Mn(t){if(bs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);bs=i&&i[1]||"",xs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+t+xs}var ws=!1;function Hi(t,i){if(!t||ws)return"";ws=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var B=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){B=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){B=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],x=f[1];if(_&&x){var j=_.split(`
`),z=x.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===z.length)for(l=j.length-1,h=z.length-1;1<=l&&0<=h&&j[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==z[h]){var G=`
`+j[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{ws=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mn(a):""}function Ts(t,i){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return t.child!==i&&i!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Hi(t.type,!1);case 11:return Hi(t.type.render,!1);case 1:return Hi(t.type,!0);case 31:return Mn("Activity");default:return""}}function Es(t){try{var i="",a=null;do i+=Ts(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,We=r.unstable_scheduleCallback,gi=r.unstable_cancelCallback,kl=r.unstable_shouldYield,ga=r.unstable_requestPaint,Gt=r.unstable_now,$i=r.unstable_getCurrentPriorityLevel,Nr=r.unstable_ImmediatePriority,Cr=r.unstable_UserBlockingPriority,Kt=r.unstable_NormalPriority,pa=r.unstable_LowPriority,Fi=r.unstable_IdlePriority,Ln=r.log,pi=r.unstable_setDisableYieldValue,En=null,Rt=null;function sn(t){if(typeof Ln=="function"&&pi(t),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(En,t)}catch{}}var mt=Math.clz32?Math.clz32:Q,ya=Math.log,As=Math.LN2;function Q(t){return t>>>=0,t===0?32:31-(ya(t)/As|0)|0}var ee=256,Re=262144,Le=4194304;function mn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?h=mn(l):(_&=x,_!==0?h=mn(_):a||(a=x&~t,a!==0&&(h=mn(a))))):(x=l&~f,x!==0?h=mn(x):_!==0?h=mn(_):a||(a=l&~t,a!==0&&(h=mn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function ei(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function td(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var t=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),t}function vi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Rr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nd(t,i,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,j=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-mt(a),J=1<<G;x[G]=0,j[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&Ir(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function Ir(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ml(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ll(t,i){var a=i&-i;return a=(a&42)!==0?1:jr(a),(a&(t.suspendedLanes|i))!==0?0:a}function jr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:nv(t.type))}function ti(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var ni=Math.random().toString(36).slice(2),It="__reactFiber$"+ni,qt="__reactProps$"+ni,_i="__reactContainer$"+ni,va="__reactEvents$"+ni,id="__reactListeners$"+ni,Tc="__reactHandles$"+ni,Ec="__reactResources$"+ni,bi="__reactMarker$"+ni;function _a(t){delete t[It],delete t[qt],delete t[va],delete t[id],delete t[Tc]}function xi(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_i]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=zy(t);t!==null;){if(a=t[It])return a;t=zy(t)}return i}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[It]||t[_i]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function wi(t){var i=t[Ec];return i||(i=t[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function jt(t){t[bi]=!0}var Pl=new Set,Ul={};function Ti(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Ul[t]=i,t=0;t<i.length;t++)Pl.add(i[t])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},ql={};function Ac(t){return _t.call(ql,t)?!0:_t.call(Bl,t)?!1:zl.test(t)?ql[t]=!0:(Bl[t]=!0,!1)}function ba(t,i,a){if(Ac(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Sn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ot(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ss(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Hl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function tt(t){if(!t._valueTracker){var i=Ss(t)?"checked":"value";t._valueTracker=Hl(t,i,""+t[i])}}function Or(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ss(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function gn(t){return t.replace(Dr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xa(t,i,a,l,h,f,_,x){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?$l(t,_,Ht(i)):a!=null?$l(t,_,Ht(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ht(x):t.removeAttribute("name")}function Sc(t,i,a,l,h,f,_,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){tt(t);return}a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,x||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),tt(t)}function $l(t,i,a){i==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ns(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Nc(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function Cs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(yt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),tt(t)}function pn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Cc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Gl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Fl(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Fl(t,f,i[f])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var Kl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Is=null,Si=null;function Vr(t){var i=Pn(t);if(i&&(t=i.stateNode)){var a=t[qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[qt]||null;if(!h)throw Error(s(90));xa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Or(l)}break e;case"textarea":Nc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ns(t,!!a.multiple,i,!1)}}}var Ea=!1;function js(t,i,a){if(Ea)return t(i,a);Ea=!0;try{var l=t(i);return l}finally{if(Ea=!1,(Is!==null||Si!==null)&&(wu(),Is&&(i=Is,t=Si,Si=Is=null,Vr(i),t)))for(i=0;i<t.length;i++)Vr(t[i])}}function si(t,i){var a=t.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(zn)try{var st={};Object.defineProperty(st,"passive",{get:function(){kr=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{kr=!1}var Ni=null,Ql=null,Mr=null;function Yl(){if(Mr)return Mr;var t,i=Ql,a=i.length,l,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[f-l];l++);return Mr=h.slice(t,1<l?1-l:void 0)}function Lr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ri(){return!1}function Qt(t){function i(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ri,this.isPropagationStopped=ri,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),i}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Qt(Qi),Os=E({},Qi,{view:0,detail:0}),Xl=Qt(Os),Ds,Aa,Ri,Sa=E({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Ds=t.screenX-Ri.screenX,Aa=t.screenY-Ri.screenY):Aa=Ds=0,Ri=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Jl=Qt(Sa),Pr=E({},Sa,{dataTransfer:0}),Ic=Qt(Pr),jc=E({},Os,{relatedTarget:0}),Ur=Qt(jc),Zl=E({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Oc=Qt(Zl),Na=E({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dc=Qt(Na),Vc=E({},Qi,{data:0}),Ii=Qt(Vc),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Lc[t])?!!i[t]:!1}function Vs(){return Pc}var hn=E({},Os,{key:function(t){if(t.key){var i=kc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uc=Qt(hn),zc=E({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Qt(zc),c=E({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),g=Qt(c),b=E({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qt(b),P=E({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Qt(P),se=E({},Qi,{newState:0,oldState:0}),Ie=Qt(se),At=[9,13,27,32],Je=zn&&"CompositionEvent"in window,gt=null;zn&&"documentMode"in document&&(gt=document.documentMode);var Bn=zn&&"TextEvent"in window&&!gt,ji=zn&&(!Je||gt&&8<gt&&11>=gt),ai=" ",li=!1;function zr(t,i){switch(t){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function Ux(t,i){switch(t){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:(li=!0,ai);case"textInput":return t=i.data,t===ai&&li?null:t;default:return null}}function zx(t,i){if(Ra)return t==="compositionend"||!Je&&zr(t,i)?(t=Yl(),Mr=Ql=Ni=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ji&&i.locale!=="ko"?null:i.data;default:return null}}var Bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Bx[t.type]:i==="textarea"}function $g(t,i,a,l){Is?Si?Si.push(l):Si=[l]:Is=l,i=Ru(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wl=null,eo=null;function qx(t){Sy(t,0)}function Bc(t){var i=An(t);if(Or(i))return t}function Fg(t,i){if(t==="change")return i}var Gg=!1;if(zn){var sd;if(zn){var rd="oninput"in document;if(!rd){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),rd=typeof Kg.oninput=="function"}sd=rd}else sd=!1;Gg=sd&&(!document.documentMode||9<document.documentMode)}function Qg(){Wl&&(Wl.detachEvent("onpropertychange",Yg),eo=Wl=null)}function Yg(t){if(t.propertyName==="value"&&Bc(eo)){var i=[];$g(i,eo,t,Un(t)),js(qx,i)}}function Hx(t,i,a){t==="focusin"?(Qg(),Wl=i,eo=a,Wl.attachEvent("onpropertychange",Yg)):t==="focusout"&&Qg()}function $x(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bc(eo)}function Fx(t,i){if(t==="click")return Bc(i)}function Gx(t,i){if(t==="input"||t==="change")return Bc(i)}function Kx(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Nn=typeof Object.is=="function"?Object.is:Kx;function to(t,i){if(Nn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(i,h)||!Nn(t[h],i[h]))return!1}return!0}function Xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jg(t,i){var a=Xg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xg(a)}}function Zg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Zg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ai(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ai(t.document)}return i}function ad(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Qx=zn&&"documentMode"in document&&11>=document.documentMode,Ia=null,ld=null,no=null,od=!1;function ep(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;od||Ia==null||Ia!==Ai(l)||(l=Ia,"selectionStart"in l&&ad(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),no&&to(no,l)||(no=l,l=Ru(ld,"onSelect"),0<l.length&&(i=new Ci("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ia)))}function Br(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ja={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},cd={},tp={};zn&&(tp=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function qr(t){if(cd[t])return cd[t];if(!ja[t])return t;var i=ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in tp)return cd[t]=i[a];return t}var np=qr("animationend"),ip=qr("animationiteration"),sp=qr("animationstart"),Yx=qr("transitionrun"),Xx=qr("transitionstart"),Jx=qr("transitioncancel"),rp=qr("transitionend"),ap=new Map,ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ud.push("scrollEnd");function oi(t,i){ap.set(t,i),Ti(i,[t])}var qc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],Oa=0,hd=0;function Hc(){for(var t=Oa,i=hd=Oa=0;i<t;){var a=qn[i];qn[i++]=null;var l=qn[i];qn[i++]=null;var h=qn[i];qn[i++]=null;var f=qn[i];if(qn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&lp(a,h,f)}}function $c(t,i,a,l){qn[Oa++]=t,qn[Oa++]=i,qn[Oa++]=a,qn[Oa++]=l,hd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function dd(t,i,a,l){return $c(t,i,a,l),Fc(t)}function Hr(t,i){return $c(t,null,null,i),Fc(t)}function lp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-mt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),f):null}function Fc(t){if(50<Ao)throw Ao=0,wf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function Zx(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,i,a,l){return new Zx(t,i,a,l)}function fd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,i){var a=t.alternate;return a===null?(a=Cn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function op(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gc(t,i,a,l,h,f){var _=0;if(l=t,typeof t=="function")fd(t)&&(_=1);else if(typeof t=="string")_=iT(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Cn(31,a,i,h),t.elementType=I,t.lanes=f,t;case ie:return $r(a.children,h,f,i);case te:_=8,h|=24;break;case de:return t=Cn(12,a,i,h|2),t.elementType=de,t.lanes=f,t;case $:return t=Cn(13,a,i,h),t.elementType=$,t.lanes=f,t;case ve:return t=Cn(19,a,i,h),t.elementType=ve,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:_=10;break e;case me:_=9;break e;case pe:_=11;break e;case C:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Cn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function $r(t,i,a,l){return t=Cn(7,t,l,i),t.lanes=a,t}function md(t,i,a){return t=Cn(6,t,null,i),t.lanes=a,t}function cp(t){var i=Cn(18,null,null,0);return i.stateNode=t,i}function gd(t,i,a){return i=Cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var up=new WeakMap;function Hn(t,i){if(typeof t=="object"&&t!==null){var a=up.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Es(i)},up.set(t,i),i)}return{value:t,source:i,stack:Es(i)}}var Va=[],ka=0,Kc=null,io=0,$n=[],Fn=0,ks=null,Oi=1,Di="";function Ji(t,i){Va[ka++]=io,Va[ka++]=Kc,Kc=t,io=i}function hp(t,i,a){$n[Fn++]=Oi,$n[Fn++]=Di,$n[Fn++]=ks,ks=t;var l=Oi;t=Di;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var f=32-mt(i)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Oi=1<<32-mt(i)+h|a<<h|l,Di=f+t}else Oi=1<<f|a<<h|l,Di=t}function pd(t){t.return!==null&&(Ji(t,1),hp(t,1,0))}function yd(t){for(;t===Kc;)Kc=Va[--ka],Va[ka]=null,io=Va[--ka],Va[ka]=null;for(;t===ks;)ks=$n[--Fn],$n[Fn]=null,Di=$n[--Fn],$n[Fn]=null,Oi=$n[--Fn],$n[Fn]=null}function dp(t,i){$n[Fn++]=Oi,$n[Fn++]=Di,$n[Fn++]=ks,Oi=i.id,Di=i.overflow,ks=t}var Yt=null,ht=null,He=!1,Ms=null,Gn=!1,vd=Error(s(519));function Ls(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw so(Hn(i,t)),vd}function fp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[qt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<No.length;a++)Me(No[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Sc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Cs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Iy(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=ii),i=!0):i=!1,i||Ls(t,!0)}function mp(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Yt=Yt.return}}function Ma(t){if(t!==Yt)return!1;if(!He)return mp(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Lf(t.type,t.memoizedProps)),a=!a),a&&ht&&Ls(t),mp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ht=Uy(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ht=Uy(t)}else i===27?(i=ht,Js(t.type)?(t=qf,qf=null,ht=t):ht=i):ht=Yt?Qn(t.stateNode.nextSibling):null;return!0}function Fr(){ht=Yt=null,He=!1}function _d(){var t=Ms;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Ms=null),t}function so(t){Ms===null?Ms=[t]:Ms.push(t)}var bd=V(null),Gr=null,Zi=null;function Ps(t,i,a){ae(bd,i._currentValue),i._currentValue=a}function Wi(t){t._currentValue=bd.current,X(bd)}function xd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function wd(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=h;for(var j=0;j<i.length;j++)if(x.context===i[j]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),xd(f.return,a,t),l||(_=null);break e}f=x.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),xd(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function La(t,i,a,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var x=h.type;Nn(h.pendingProps.value,_.value)||(t!==null?t.push(x):t=[x])}}else if(h===Ve.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}h=h.return}t!==null&&wd(i,t,a,l),i.flags|=262144}function Qc(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Gr=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return gp(Gr,t)}function Yc(t,i){return Gr===null&&Kr(t),gp(t,i)}function gp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(s(308));Zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zi=Zi.next=i;return a}var Wx=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ew=r.unstable_scheduleCallback,tw=r.unstable_NormalPriority,Dt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Td(){return{controller:new Wx,data:new Map,refCount:0}}function ro(t){t.refCount--,t.refCount===0&&ew(tw,function(){t.controller.abort()})}var ao=null,Ed=0,Pa=0,Ua=null;function nw(t,i){if(ao===null){var a=ao=[];Ed=0,Pa=Cf(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ed++,i.then(pp,pp),i}function pp(){if(--Ed===0&&ao!==null){Ua!==null&&(Ua.status="fulfilled");var t=ao;ao=null,Pa=0,Ua=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function iw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yp=F.S;F.S=function(t,i){ey=Gt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&nw(t,i),yp!==null&&yp(t,i)};var Qr=V(null);function Ad(){var t=Qr.current;return t!==null?t:ot.pooledCache}function Xc(t,i){i===null?ae(Qr,Qr.current):ae(Qr,i.pool)}function vp(){var t=Ad();return t===null?null:{parent:Dt._currentValue,pool:t}}var za=Error(s(460)),Sd=Error(s(474)),Jc=Error(s(542)),Zc={then:function(){}};function _p(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ii,ii),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wp(t),t;default:if(typeof i.status=="string")i.then(ii,ii);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wp(t),t}throw Xr=i,za}}function Yr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xr=a,za):a}}var Xr=null;function xp(){if(Xr===null)throw Error(s(459));var t=Xr;return Xr=null,t}function wp(t){if(t===za||t===Jc)throw Error(s(483))}var Ba=null,lo=0;function Wc(t){var i=lo;return lo+=1,Ba===null&&(Ba=[]),bp(Ba,t,i)}function oo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function eu(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Tp(t){function i(k,D){if(t){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Xi(k,D),k.index=0,k.sibling=null,k}function f(k,D,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function x(k,D,U,Y){return D===null||D.tag!==6?(D=md(U,k.mode,Y),D.return=k,D):(D=h(D,U),D.return=k,D)}function j(k,D,U,Y){var _e=U.type;return _e===ie?G(k,D,U.props.children,Y,U.key):D!==null&&(D.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Yr(_e)===D.type)?(D=h(D,U.props),oo(D,U),D.return=k,D):(D=Gc(U.type,U.key,U.props,null,k.mode,Y),oo(D,U),D.return=k,D)}function z(k,D,U,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=gd(U,k.mode,Y),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function G(k,D,U,Y,_e){return D===null||D.tag!==7?(D=$r(U,k.mode,Y,_e),D.return=k,D):(D=h(D,U),D.return=k,D)}function J(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=md(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case L:return U=Gc(D.type,D.key,D.props,null,k.mode,U),oo(U,D),U.return=k,U;case K:return D=gd(D,k.mode,U),D.return=k,D;case A:return D=Yr(D),J(k,D,U)}if(yt(D)||M(D))return D=$r(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return J(k,Wc(D),U);if(D.$$typeof===ne)return J(k,Yc(k,D),U);eu(k,D)}return null}function B(k,D,U,Y){var _e=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return _e!==null?null:x(k,D,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case L:return U.key===_e?j(k,D,U,Y):null;case K:return U.key===_e?z(k,D,U,Y):null;case A:return U=Yr(U),B(k,D,U,Y)}if(yt(U)||M(U))return _e!==null?null:G(k,D,U,Y,null);if(typeof U.then=="function")return B(k,D,Wc(U),Y);if(U.$$typeof===ne)return B(k,D,Yc(k,U),Y);eu(k,U)}return null}function H(k,D,U,Y,_e){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(U)||null,x(D,k,""+Y,_e);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return k=k.get(Y.key===null?U:Y.key)||null,j(D,k,Y,_e);case K:return k=k.get(Y.key===null?U:Y.key)||null,z(D,k,Y,_e);case A:return Y=Yr(Y),H(k,D,U,Y,_e)}if(yt(Y)||M(Y))return k=k.get(U)||null,G(D,k,Y,_e,null);if(typeof Y.then=="function")return H(k,D,U,Wc(Y),_e);if(Y.$$typeof===ne)return H(k,D,U,Yc(D,Y),_e);eu(D,Y)}return null}function he(k,D,U,Y){for(var _e=null,Qe=null,ge=D,Oe=D=0,Ue=null;ge!==null&&Oe<U.length;Oe++){ge.index>Oe?(Ue=ge,ge=null):Ue=ge.sibling;var Ye=B(k,ge,U[Oe],Y);if(Ye===null){ge===null&&(ge=Ue);break}t&&ge&&Ye.alternate===null&&i(k,ge),D=f(Ye,D,Oe),Qe===null?_e=Ye:Qe.sibling=Ye,Qe=Ye,ge=Ue}if(Oe===U.length)return a(k,ge),He&&Ji(k,Oe),_e;if(ge===null){for(;Oe<U.length;Oe++)ge=J(k,U[Oe],Y),ge!==null&&(D=f(ge,D,Oe),Qe===null?_e=ge:Qe.sibling=ge,Qe=ge);return He&&Ji(k,Oe),_e}for(ge=l(ge);Oe<U.length;Oe++)Ue=H(ge,k,Oe,U[Oe],Y),Ue!==null&&(t&&Ue.alternate!==null&&ge.delete(Ue.key===null?Oe:Ue.key),D=f(Ue,D,Oe),Qe===null?_e=Ue:Qe.sibling=Ue,Qe=Ue);return t&&ge.forEach(function(nr){return i(k,nr)}),He&&Ji(k,Oe),_e}function we(k,D,U,Y){if(U==null)throw Error(s(151));for(var _e=null,Qe=null,ge=D,Oe=D=0,Ue=null,Ye=U.next();ge!==null&&!Ye.done;Oe++,Ye=U.next()){ge.index>Oe?(Ue=ge,ge=null):Ue=ge.sibling;var nr=B(k,ge,Ye.value,Y);if(nr===null){ge===null&&(ge=Ue);break}t&&ge&&nr.alternate===null&&i(k,ge),D=f(nr,D,Oe),Qe===null?_e=nr:Qe.sibling=nr,Qe=nr,ge=Ue}if(Ye.done)return a(k,ge),He&&Ji(k,Oe),_e;if(ge===null){for(;!Ye.done;Oe++,Ye=U.next())Ye=J(k,Ye.value,Y),Ye!==null&&(D=f(Ye,D,Oe),Qe===null?_e=Ye:Qe.sibling=Ye,Qe=Ye);return He&&Ji(k,Oe),_e}for(ge=l(ge);!Ye.done;Oe++,Ye=U.next())Ye=H(ge,k,Oe,Ye.value,Y),Ye!==null&&(t&&Ye.alternate!==null&&ge.delete(Ye.key===null?Oe:Ye.key),D=f(Ye,D,Oe),Qe===null?_e=Ye:Qe.sibling=Ye,Qe=Ye);return t&&ge.forEach(function(mT){return i(k,mT)}),He&&Ji(k,Oe),_e}function lt(k,D,U,Y){if(typeof U=="object"&&U!==null&&U.type===ie&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case L:e:{for(var _e=U.key;D!==null;){if(D.key===_e){if(_e=U.type,_e===ie){if(D.tag===7){a(k,D.sibling),Y=h(D,U.props.children),Y.return=k,k=Y;break e}}else if(D.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Yr(_e)===D.type){a(k,D.sibling),Y=h(D,U.props),oo(Y,U),Y.return=k,k=Y;break e}a(k,D);break}else i(k,D);D=D.sibling}U.type===ie?(Y=$r(U.props.children,k.mode,Y,U.key),Y.return=k,k=Y):(Y=Gc(U.type,U.key,U.props,null,k.mode,Y),oo(Y,U),Y.return=k,k=Y)}return _(k);case K:e:{for(_e=U.key;D!==null;){if(D.key===_e)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(k,D.sibling),Y=h(D,U.children||[]),Y.return=k,k=Y;break e}else{a(k,D);break}else i(k,D);D=D.sibling}Y=gd(U,k.mode,Y),Y.return=k,k=Y}return _(k);case A:return U=Yr(U),lt(k,D,U,Y)}if(yt(U))return he(k,D,U,Y);if(M(U)){if(_e=M(U),typeof _e!="function")throw Error(s(150));return U=_e.call(U),we(k,D,U,Y)}if(typeof U.then=="function")return lt(k,D,Wc(U),Y);if(U.$$typeof===ne)return lt(k,D,Yc(k,U),Y);eu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(k,D.sibling),Y=h(D,U),Y.return=k,k=Y):(a(k,D),Y=md(U,k.mode,Y),Y.return=k,k=Y),_(k)):a(k,D)}return function(k,D,U,Y){try{lo=0;var _e=lt(k,D,U,Y);return Ba=null,_e}catch(ge){if(ge===za||ge===Jc)throw ge;var Qe=Cn(29,ge,null,k.mode);return Qe.lanes=Y,Qe.return=k,Qe}}}var Jr=Tp(!0),Ep=Tp(!1),Us=!1;function Nd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Fc(t),lp(t,null,a),i}return $c(t,l,i,a),Fc(t)}function co(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ml(t,a)}}function Rd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Id=!1;function uo(){if(Id){var t=Ua;if(t!==null)throw t}}function ho(t,i,a,l){Id=!1;var h=t.updateQueue;Us=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var j=x,z=j.next;j.next=null,_===null?f=z:_.next=z,_=j;var G=t.alternate;G!==null&&(G=G.updateQueue,x=G.lastBaseUpdate,x!==_&&(x===null?G.firstBaseUpdate=z:x.next=z,G.lastBaseUpdate=j))}if(f!==null){var J=h.baseState;_=0,G=z=j=null,x=f;do{var B=x.lane&-536870913,H=B!==x.lane;if(H?(Pe&B)===B:(l&B)===B){B!==0&&B===Pa&&(Id=!0),G!==null&&(G=G.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=t,we=x;B=i;var lt=a;switch(we.tag){case 1:if(he=we.payload,typeof he=="function"){J=he.call(lt,J,B);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=we.payload,B=typeof he=="function"?he.call(lt,J,B):he,B==null)break e;J=E({},J,B);break e;case 2:Us=!0}}B=x.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:x.tag,payload:x.payload,callback:x.callback,next:null},G===null?(z=G=H,j=J):G=G.next=H,_|=B;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;H=x,x=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(j=J),h.baseState=j,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Gs|=_,t.lanes=_,t.memoizedState=J}}function Ap(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Sp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ap(a[t],i)}var qa=V(null),tu=V(0);function Np(t,i){t=os,ae(tu,t),ae(qa,i),os=t|i.baseLanes}function jd(){ae(tu,os),ae(qa,qa.current)}function Od(){os=tu.current,X(qa),X(tu)}var Rn=V(null),Kn=null;function qs(t){var i=t.alternate;ae(St,St.current&1),ae(Rn,t),Kn===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Kn=t)}function Dd(t){ae(St,St.current),ae(Rn,t),Kn===null&&(Kn=t)}function Cp(t){t.tag===22?(ae(St,St.current),ae(Rn,t),Kn===null&&(Kn=t)):Hs()}function Hs(){ae(St,St.current),ae(Rn,Rn.current)}function In(t){X(Rn),Kn===t&&(Kn=null),X(St)}var St=V(0);function nu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zf(a)||Bf(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var es=0,je=null,rt=null,Vt=null,iu=!1,Ha=!1,Zr=!1,su=0,fo=0,$a=null,sw=0;function bt(){throw Error(s(321))}function Vd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Nn(t[a],i[a]))return!1;return!0}function kd(t,i,a,l,h,f){return es=f,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?h0:Xd,Zr=!1,f=a(l,h),Zr=!1,Ha&&(f=Ip(i,a,l,h)),Rp(t),f}function Rp(t){F.H=po;var i=rt!==null&&rt.next!==null;if(es=0,Vt=rt=je=null,iu=!1,fo=0,$a=null,i)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Qc(t)&&(kt=!0))}function Ip(t,i,a,l){je=t;var h=0;do{if(Ha&&($a=null),fo=0,Ha=!1,25<=h)throw Error(s(301));if(h+=1,Vt=rt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=d0,f=i(a,l)}while(Ha);return f}function rw(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?mo(i):i,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(je.flags|=1024),i}function Md(){var t=su!==0;return su=0,t}function Ld(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Pd(t){if(iu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}iu=!1}es=0,Vt=rt=je=null,Ha=!1,fo=su=0,$a=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?je.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Nt(){if(rt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var i=Vt===null?je.memoizedState:Vt.next;if(i!==null)Vt=i,rt=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Vt===null?je.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(t){var i=fo;return fo+=1,$a===null&&($a=[]),t=bp($a,t,i),i=je,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?h0:Xd),t}function au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mo(t);if(t.$$typeof===ne)return Xt(t)}throw Error(s(438,String(t)))}function Ud(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ru(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function ts(t,i){return typeof i=="function"?i(t):i}function lu(t){var i=Nt();return zd(i,rt,t)}function zd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var x=_=null,j=null,z=i,G=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Pe&J)===J:(es&J)===J){var B=z.revertLane;if(B===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Pa&&(G=!0);else if((es&B)===B){z=z.next,B===Pa&&(G=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},j===null?(x=j=J,_=f):j=j.next=J,je.lanes|=B,Gs|=B;J=z.action,Zr&&a(f,J),f=z.hasEagerState?z.eagerState:a(f,J)}else B={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},j===null?(x=j=B,_=f):j=j.next=B,je.lanes|=J,Gs|=J;z=z.next}while(z!==null&&z!==i);if(j===null?_=f:j.next=x,!Nn(f,t.memoizedState)&&(kt=!0,G&&(a=Ua,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=j,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Bd(t){var i=Nt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Nn(f,i.memoizedState)||(kt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function jp(t,i,a){var l=je,h=Nt(),f=He;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Nn((rt||h).memoizedState,a);if(_&&(h.memoizedState=a,kt=!0),h=h.queue,$d(Vp.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},Dp.bind(null,l,h,a,i),null),ot===null)throw Error(s(349));f||(es&127)!==0||Op(l,i,a)}return a}function Op(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=ru(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Dp(t,i,a,l){i.value=a,i.getSnapshot=l,kp(i)&&Mp(t)}function Vp(t,i,a){return a(function(){kp(i)&&Mp(t)})}function kp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Nn(t,a)}catch{return!0}}function Mp(t){var i=Hr(t,2);i!==null&&xn(i,t,2)}function qd(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),Zr){sn(!0);try{a()}finally{sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},i}function Lp(t,i,a,l){return t.baseState=a,zd(t,rt,typeof l=="function"?l:ts)}function aw(t,i,a,l,h){if(uu(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,Pp(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Pp(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=F.T,_={};F.T=_;try{var x=a(h,l),j=F.S;j!==null&&j(_,x),Up(t,i,x)}catch(z){Hd(t,i,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,l),Up(t,i,f)}catch(z){Hd(t,i,z)}}function Up(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zp(t,i,l)},function(l){return Hd(t,i,l)}):zp(t,i,a)}function zp(t,i,a){i.status="fulfilled",i.value=a,Bp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Pp(t,a)))}function Hd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Bp(i),i=i.next;while(i!==l)}t.action=null}function Bp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function qp(t,i){return i}function Hp(t,i){if(He){var a=ot.formState;if(a!==null){e:{var l=je;if(He){if(ht){t:{for(var h=ht,f=Gn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=Qn(h.nextSibling),l=h.data==="F!";break e}}Ls(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:i},a.queue=l,a=o0.bind(null,je,l),l.dispatch=a,l=qd(!1),f=Yd.bind(null,je,!1,l.queue),l=dn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=aw.bind(null,je,h,f,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function $p(t){var i=Nt();return Fp(i,rt,t)}function Fp(t,i,a){if(i=zd(t,i,qp)[0],t=lu(ts)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=mo(i)}catch(_){throw _===za?Jc:_}else l=i;i=Nt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(je.flags|=2048,Fa(9,{destroy:void 0},lw.bind(null,h,a),null)),[l,f,t]}function lw(t,i){t.action=i}function Gp(t){var i=Nt(),a=rt;if(a!==null)return Fp(i,a,t);Nt(),i=i.memoizedState,a=Nt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Fa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=je.updateQueue,i===null&&(i=ru(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Kp(){return Nt().memoizedState}function ou(t,i,a,l){var h=dn();je.flags|=t,h.memoizedState=Fa(1|i,{destroy:void 0},a,l===void 0?null:l)}function cu(t,i,a,l){var h=Nt();l=l===void 0?null:l;var f=h.memoizedState.inst;rt!==null&&l!==null&&Vd(l,rt.memoizedState.deps)?h.memoizedState=Fa(i,f,a,l):(je.flags|=t,h.memoizedState=Fa(1|i,f,a,l))}function Qp(t,i){ou(8390656,8,t,i)}function $d(t,i){cu(2048,8,t,i)}function ow(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=ru(),je.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Yp(t){var i=Nt().memoizedState;return ow({ref:i,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Xp(t,i){return cu(4,2,t,i)}function Jp(t,i){return cu(4,4,t,i)}function Zp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Wp(t,i,a){a=a!=null?a.concat([t]):null,cu(4,4,Zp.bind(null,i,t),a)}function Fd(){}function e0(t,i){var a=Nt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Vd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function t0(t,i){var a=Nt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Vd(i,l[1]))return l[0];if(l=t(),Zr){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,i],l}function Gd(t,i,a){return a===void 0||(es&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=ny(),je.lanes|=t,Gs|=t,a)}function n0(t,i,a,l){return Nn(a,i)?a:qa.current!==null?(t=Gd(t,a,l),Nn(t,i)||(kt=!0),t):(es&42)===0||(es&1073741824)!==0&&(Pe&261930)===0?(kt=!0,t.memoizedState=a):(t=ny(),je.lanes|=t,Gs|=t,i)}function i0(t,i,a,l,h){var f=re.p;re.p=f!==0&&8>f?f:8;var _=F.T,x={};F.T=x,Yd(t,!1,i,a);try{var j=h(),z=F.S;if(z!==null&&z(x,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=iw(j,l);go(t,i,G,Dn(t))}else go(t,i,l,Dn(t))}catch(J){go(t,i,{then:function(){},status:"rejected",reason:J},Dn())}finally{re.p=f,_!==null&&x.types!==null&&(_.types=x.types),F.T=_}}function cw(){}function Kd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=s0(t).queue;i0(t,h,i,ye,a===null?cw:function(){return r0(t),a(l)})}function s0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function r0(t){var i=s0(t);i.next===null&&(i=t.alternate.memoizedState),go(t,i.next.queue,{},Dn())}function Qd(){return Xt(Oo)}function a0(){return Nt().memoizedState}function l0(){return Nt().memoizedState}function uw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=zs(a);var l=Bs(i,t,a);l!==null&&(xn(l,i,a),co(l,i,a)),i={cache:Td()},t.payload=i;return}i=i.return}}function hw(t,i,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uu(t)?c0(i,a):(a=dd(t,i,a,l),a!==null&&(xn(a,t,l),u0(a,i,l)))}function o0(t,i,a){var l=Dn();go(t,i,a,l)}function go(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uu(t))c0(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,x=f(_,a);if(h.hasEagerState=!0,h.eagerState=x,Nn(x,_))return $c(t,i,h,0),ot===null&&Hc(),!1}catch{}if(a=dd(t,i,h,l),a!==null)return xn(a,t,l),u0(a,i,l),!0}return!1}function Yd(t,i,a,l){if(l={lane:2,revertLane:Cf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uu(t)){if(i)throw Error(s(479))}else i=dd(t,a,l,2),i!==null&&xn(i,t,2)}function uu(t){var i=t.alternate;return t===je||i!==null&&i===je}function c0(t,i){Ha=iu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function u0(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ml(t,a)}}var po={readContext:Xt,use:au,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};po.useEffectEvent=bt;var h0={readContext:Xt,use:au,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:Qp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ou(4194308,4,Zp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ou(4194308,4,t,i)},useInsertionEffect:function(t,i){ou(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var l=t();if(Zr){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=dn();if(a!==void 0){var h=a(i);if(Zr){sn(!0);try{a(i)}finally{sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=hw.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=qd(t);var i=t.queue,a=o0.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Fd,useDeferredValue:function(t,i){var a=dn();return Gd(a,t,i)},useTransition:function(){var t=qd(!1);return t=i0.bind(null,je,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=je,h=dn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ot===null)throw Error(s(349));(Pe&127)!==0||Op(l,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Qp(Vp.bind(null,l,f,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},Dp.bind(null,l,f,a,i),null),a},useId:function(){var t=dn(),i=ot.identifierPrefix;if(He){var a=Di,l=Oi;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=su++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=sw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Qd,useFormState:Hp,useActionState:Hp,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yd.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ud,useCacheRefresh:function(){return dn().memoizedState=uw.bind(null,je)},useEffectEvent:function(t){var i=dn(),a={impl:t};return i.memoizedState=a,function(){if((Ze&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Xd={readContext:Xt,use:au,useCallback:e0,useContext:Xt,useEffect:$d,useImperativeHandle:Wp,useInsertionEffect:Xp,useLayoutEffect:Jp,useMemo:t0,useReducer:lu,useRef:Kp,useState:function(){return lu(ts)},useDebugValue:Fd,useDeferredValue:function(t,i){var a=Nt();return n0(a,rt.memoizedState,t,i)},useTransition:function(){var t=lu(ts)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:mo(t),i]},useSyncExternalStore:jp,useId:a0,useHostTransitionStatus:Qd,useFormState:$p,useActionState:$p,useOptimistic:function(t,i){var a=Nt();return Lp(a,rt,t,i)},useMemoCache:Ud,useCacheRefresh:l0};Xd.useEffectEvent=Yp;var d0={readContext:Xt,use:au,useCallback:e0,useContext:Xt,useEffect:$d,useImperativeHandle:Wp,useInsertionEffect:Xp,useLayoutEffect:Jp,useMemo:t0,useReducer:Bd,useRef:Kp,useState:function(){return Bd(ts)},useDebugValue:Fd,useDeferredValue:function(t,i){var a=Nt();return rt===null?Gd(a,t,i):n0(a,rt.memoizedState,t,i)},useTransition:function(){var t=Bd(ts)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:mo(t),i]},useSyncExternalStore:jp,useId:a0,useHostTransitionStatus:Qd,useFormState:Gp,useActionState:Gp,useOptimistic:function(t,i){var a=Nt();return rt!==null?Lp(a,rt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ud,useCacheRefresh:l0};d0.useEffectEvent=Yp;function Jd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Dn(),h=zs(l);h.payload=i,a!=null&&(h.callback=a),i=Bs(t,h,l),i!==null&&(xn(i,t,l),co(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Dn(),h=zs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Bs(t,h,l),i!==null&&(xn(i,t,l),co(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),l=zs(a);l.tag=2,i!=null&&(l.callback=i),i=Bs(t,l,a),i!==null&&(xn(i,t,a),co(i,t,a))}};function f0(t,i,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):i.prototype&&i.prototype.isPureReactComponent?!to(a,l)||!to(h,f):!0}function m0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Zd.enqueueReplaceState(i,i.state,null)}function Wr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function g0(t){qc(t)}function p0(t){console.error(t)}function y0(t){qc(t)}function hu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function v0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wd(t,i,a){return a=zs(a),a.tag=3,a.payload={element:null},a.callback=function(){hu(t,i)},a}function _0(t){return t=zs(t),t.tag=3,t}function b0(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){v0(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){v0(i,a,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function dw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&La(i,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Kn===null?Tu():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Zc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Af(t,l,h)),!1;case 22:return a.flags|=65536,l===Zc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Af(t,l,h)),!1}throw Error(s(435,a.tag))}return Af(t,l,h),Tu(),!1}if(He)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==vd&&(t=Error(s(422),{cause:l}),so(Hn(t,a)))):(l!==vd&&(i=Error(s(423),{cause:l}),so(Hn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Hn(l,a),h=Wd(t.stateNode,l,h),Rd(t,h),xt!==4&&(xt=2)),!1;var f=Error(s(520),{cause:l});if(f=Hn(f,a),Eo===null?Eo=[f]:Eo.push(f),xt!==4&&(xt=2),i===null)return!0;l=Hn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Wd(a.stateNode,l,t),Rd(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_0(h),b0(h,t,a,l),Rd(a,h),!1}a=a.return}while(a!==null);return!1}var ef=Error(s(461)),kt=!1;function Jt(t,i,a,l){i.child=t===null?Ep(i,null,a,l):Jr(i,t.child,a,l)}function x0(t,i,a,l,h){a=a.render;var f=i.ref;if("ref"in l){var _={};for(var x in l)x!=="ref"&&(_[x]=l[x])}else _=l;return Kr(i),l=kd(t,i,a,_,f,h),x=Md(),t!==null&&!kt?(Ld(t,i,h),ns(t,i,h)):(He&&x&&pd(i),i.flags|=1,Jt(t,i,l,h),i.child)}function w0(t,i,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!fd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,T0(t,i,f,l,h)):(t=Gc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!cf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:to,a(_,l)&&t.ref===i.ref)return ns(t,i,h)}return i.flags|=1,t=Xi(f,l),t.ref=i.ref,t.return=i,i.child=t}function T0(t,i,a,l,h){if(t!==null){var f=t.memoizedProps;if(to(f,l)&&t.ref===i.ref)if(kt=!1,i.pendingProps=l=f,cf(t,h))(t.flags&131072)!==0&&(kt=!0);else return i.lanes=t.lanes,ns(t,i,h)}return tf(t,i,a,l,h)}function E0(t,i,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,i.child=null;return A0(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xc(i,f!==null?f.cachePool:null),f!==null?Np(i,f):jd(),Cp(i);else return l=i.lanes=536870912,A0(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Xc(i,f.cachePool),Np(i,f),Hs(),i.memoizedState=null):(t!==null&&Xc(i,null),jd(),Hs());return Jt(t,i,h,a),i.child}function yo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function A0(t,i,a,l,h){var f=Ad();return f=f===null?null:{parent:Dt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Xc(i,null),jd(),Cp(i),t!==null&&La(t,i,l,!0),i.childLanes=h,null}function du(t,i){return i=mu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function S0(t,i,a){return Jr(i,t.child,null,a),t=du(i,i.pendingProps),t.flags|=2,In(i),i.memoizedState=null,t}function fw(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=du(i,l),i.lanes=536870912,yo(null,t);if(Dd(i),(t=ht)?(t=Py(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Oi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=cp(t),a.return=i,i.child=a,Yt=i,ht=null)):t=null,t===null)throw Ls(i);return i.lanes=536870912,null}return du(i,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Dd(i),h)if(i.flags&256)i.flags&=-257,i=S0(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(kt||La(t,i,a,!1),h=(a&t.childLanes)!==0,kt||h){if(l=ot,l!==null&&(_=Ll(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Hr(t,_),xn(l,t,_),ef;Tu(),i=S0(t,i,a)}else t=f.treeContext,ht=Qn(_.nextSibling),Yt=i,He=!0,Ms=null,Gn=!1,t!==null&&dp(i,t),i=du(i,l),i.flags|=4096;return i}return t=Xi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function fu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function tf(t,i,a,l,h){return Kr(i),a=kd(t,i,a,l,void 0,h),l=Md(),t!==null&&!kt?(Ld(t,i,h),ns(t,i,h)):(He&&l&&pd(i),i.flags|=1,Jt(t,i,a,h),i.child)}function N0(t,i,a,l,h,f){return Kr(i),i.updateQueue=null,a=Ip(i,l,a,h),Rp(t),l=Md(),t!==null&&!kt?(Ld(t,i,f),ns(t,i,f)):(He&&l&&pd(i),i.flags|=1,Jt(t,i,a,f),i.child)}function C0(t,i,a,l,h){if(Kr(i),i.stateNode===null){var f=Da,_=a.contextType;typeof _=="object"&&_!==null&&(f=Xt(_)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zd,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Nd(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Xt(_):Da,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jd(i,a,_,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Zd.enqueueReplaceState(f,f.state,null),ho(i,l,f,h),uo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var x=i.memoizedProps,j=Wr(a,x);f.props=j;var z=f.context,G=a.contextType;_=Da,typeof G=="object"&&G!==null&&(_=Xt(G));var J=a.getDerivedStateFromProps;G=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||z!==_)&&m0(i,f,l,_),Us=!1;var B=i.memoizedState;f.state=B,ho(i,l,f,h),uo(),z=i.memoizedState,x||B!==z||Us?(typeof J=="function"&&(Jd(i,a,J,l),z=i.memoizedState),(j=Us||f0(i,a,j,l,B,z,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),f.props=l,f.state=z,f.context=_,l=j):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Cd(t,i),_=i.memoizedProps,G=Wr(a,_),f.props=G,J=i.pendingProps,B=f.context,z=a.contextType,j=Da,typeof z=="object"&&z!==null&&(j=Xt(z)),x=a.getDerivedStateFromProps,(z=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==J||B!==j)&&m0(i,f,l,j),Us=!1,B=i.memoizedState,f.state=B,ho(i,l,f,h),uo();var H=i.memoizedState;_!==J||B!==H||Us||t!==null&&t.dependencies!==null&&Qc(t.dependencies)?(typeof x=="function"&&(Jd(i,a,x,l),H=i.memoizedState),(G=Us||f0(i,a,G,l,B,H,j)||t!==null&&t.dependencies!==null&&Qc(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,j)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=j,l=G):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,fu(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=Jr(i,t.child,null,h),i.child=Jr(i,null,a,h)):Jt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=ns(t,i,h),t}function R0(t,i,a,l){return Fr(),i.flags|=256,Jt(t,i,a,l),i.child}var nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sf(t){return{baseLanes:t,cachePool:vp()}}function rf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=On),t}function I0(t,i,a){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?qs(i):Hs(),(t=ht)?(t=Py(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Oi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=cp(t),a.return=i,i.child=a,Yt=i,ht=null)):t=null,t===null)throw Ls(i);return Bf(t)?i.lanes=32:i.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Hs(),h=i.mode,x=mu({mode:"hidden",children:x},h),l=$r(l,h,a,null),x.return=i,l.return=i,x.sibling=l,i.child=x,l=i.child,l.memoizedState=sf(a),l.childLanes=rf(t,_,a),i.memoizedState=nf,yo(null,l)):(qs(i),af(i,x))}var j=t.memoizedState;if(j!==null&&(x=j.dehydrated,x!==null)){if(f)i.flags&256?(qs(i),i.flags&=-257,i=lf(t,i,a)):i.memoizedState!==null?(Hs(),i.child=t.child,i.flags|=128,i=null):(Hs(),x=l.fallback,h=i.mode,l=mu({mode:"visible",children:l.children},h),x=$r(x,h,a,null),x.flags|=2,l.return=i,x.return=i,l.sibling=x,i.child=l,Jr(i,t.child,null,a),l=i.child,l.memoizedState=sf(a),l.childLanes=rf(t,_,a),i.memoizedState=nf,i=yo(null,l));else if(qs(i),Bf(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,so({value:l,source:null,stack:null}),i=lf(t,i,a)}else if(kt||La(t,i,a,!1),_=(a&t.childLanes)!==0,kt||_){if(_=ot,_!==null&&(l=Ll(_,a),l!==0&&l!==j.retryLane))throw j.retryLane=l,Hr(t,l),xn(_,t,l),ef;zf(x)||Tu(),i=lf(t,i,a)}else zf(x)?(i.flags|=192,i.child=t.child,i=null):(t=j.treeContext,ht=Qn(x.nextSibling),Yt=i,He=!0,Ms=null,Gn=!1,t!==null&&dp(i,t),i=af(i,l.children),i.flags|=4096);return i}return h?(Hs(),x=l.fallback,h=i.mode,j=t.child,z=j.sibling,l=Xi(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,z!==null?x=Xi(z,x):(x=$r(x,h,a,null),x.flags|=2),x.return=i,l.return=i,l.sibling=x,i.child=l,yo(null,l),l=i.child,x=t.child.memoizedState,x===null?x=sf(a):(h=x.cachePool,h!==null?(j=Dt._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=vp(),x={baseLanes:x.baseLanes|a,cachePool:h}),l.memoizedState=x,l.childLanes=rf(t,_,a),i.memoizedState=nf,yo(t.child,l)):(qs(i),a=t.child,t=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function af(t,i){return i=mu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function mu(t,i){return t=Cn(22,t,null,i),t.lanes=0,t}function lf(t,i,a){return Jr(i,t.child,null,a),t=af(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function j0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),xd(t.return,i,a)}function of(t,i,a,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function O0(t,i,a){var l=i.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=St.current,x=(_&2)!==0;if(x?(_=_&1|2,i.flags|=128):_&=1,ae(St,_),Jt(t,i,l,a),l=He?io:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j0(t,a,i);else if(t.tag===19)j0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&nu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),of(i,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&nu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}of(i,!0,a,null,f,l);break;case"together":of(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ns(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Gs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(La(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Xi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Xi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function cf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Qc(t)))}function mw(t,i,a){switch(i.tag){case 3:Xe(i,i.stateNode.containerInfo),Ps(i,Dt,t.memoizedState.cache),Fr();break;case 27:case 5:Ke(i);break;case 4:Xe(i,i.stateNode.containerInfo);break;case 10:Ps(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Dd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?I0(t,i,a):(qs(i),t=ns(t,i,a),t!==null?t.sibling:null);qs(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(La(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return O0(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(St,St.current),l)break;return null;case 22:return i.lanes=0,E0(t,i,a,i.pendingProps);case 24:Ps(i,Dt,t.memoizedState.cache)}return ns(t,i,a)}function D0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)kt=!0;else{if(!cf(t,a)&&(i.flags&128)===0)return kt=!1,mw(t,i,a);kt=(t.flags&131072)!==0}else kt=!1,He&&(i.flags&1048576)!==0&&hp(i,io,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Yr(i.elementType),i.type=t,typeof t=="function")fd(t)?(l=Wr(t,l),i.tag=1,i=C0(null,i,t,l,a)):(i.tag=0,i=tf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===pe){i.tag=11,i=x0(null,i,t,l,a);break e}else if(h===C){i.tag=14,i=w0(null,i,t,l,a);break e}}throw i=ct(t)||t,Error(s(306,i,""))}}return i;case 0:return tf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Wr(l,i.pendingProps),C0(t,i,l,h,a);case 3:e:{if(Xe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,Cd(t,i),ho(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ps(i,Dt,l),l!==f.cache&&wd(i,[Dt],a,!0),uo(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=R0(t,i,l,a);break e}else if(l!==h){h=Hn(Error(s(424)),i),so(h),i=R0(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ht=Qn(t.firstChild),Yt=i,He=!0,Ms=null,Gn=!0,a=Ep(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fr(),l===h){i=ns(t,i,a);break e}Jt(t,i,l,a)}i=i.child}return i;case 26:return fu(t,i),t===null?(a=$y(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=Iu(Ae.current).createElement(a),l[It]=i,l[qt]=t,Zt(l,a,t),jt(l),i.stateNode=l):i.memoizedState=$y(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ke(i),t===null&&He&&(l=i.stateNode=By(i.type,i.pendingProps,Ae.current),Yt=i,Gn=!0,h=ht,Js(i.type)?(qf=h,ht=Qn(l.firstChild)):ht=h),Jt(t,i,i.pendingProps.children,a),fu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=l=ht)&&(l=$w(l,i.type,i.pendingProps,Gn),l!==null?(i.stateNode=l,Yt=i,ht=Qn(l.firstChild),Gn=!1,h=!0):h=!1),h||Ls(i)),Ke(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Lf(h,f)?l=null:_!==null&&Lf(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=kd(t,i,rw,null,null,a),Oo._currentValue=h),fu(t,i),Jt(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ht)&&(a=Fw(a,i.pendingProps,Gn),a!==null?(i.stateNode=a,Yt=i,ht=null,t=!0):t=!1),t||Ls(i)),null;case 13:return I0(t,i,a);case 4:return Xe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Jr(i,null,l,a):Jt(t,i,l,a),i.child;case 11:return x0(t,i,i.type,i.pendingProps,a);case 7:return Jt(t,i,i.pendingProps,a),i.child;case 8:return Jt(t,i,i.pendingProps.children,a),i.child;case 12:return Jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ps(i,i.type,l.value),Jt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Kr(i),h=Xt(h),l=l(h),i.flags|=1,Jt(t,i,l,a),i.child;case 14:return w0(t,i,i.type,i.pendingProps,a);case 15:return T0(t,i,i.type,i.pendingProps,a);case 19:return O0(t,i,a);case 31:return fw(t,i,a);case 22:return E0(t,i,a,i.pendingProps);case 24:return Kr(i),l=Xt(Dt),t===null?(h=Ad(),h===null&&(h=ot,f=Td(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:l,cache:h},Nd(i),Ps(i,Dt,h)):((t.lanes&a)!==0&&(Cd(t,i),ho(i,null,null,a),uo()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ps(i,Dt,l)):(l=f.cache,Ps(i,Dt,l),l!==h.cache&&wd(i,[Dt],a,!0))),Jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function is(t){t.flags|=4}function uf(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ay())t.flags|=8192;else throw Xr=Zc,Sd}else t.flags&=-16777217}function V0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Yy(i))if(ay())t.flags|=8192;else throw Xr=Zc,Sd}function gu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xc():536870912,t.lanes|=i,Ya|=i)}function vo(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function gw(t,i,a){var l=i.pendingProps;switch(yd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wi(Dt),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?is(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_d())),dt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(is(i),f!==null?(dt(i),V0(i,f)):(dt(i),uf(i,h,null,l,a))):f?f!==t.memoizedState?(is(i),dt(i),V0(i,f)):(dt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&is(i),dt(i),uf(i,h,t,l,a)),null;case 27:if(Wn(i),a=Ae.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&is(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return dt(i),null}t=oe.current,Ma(i)?fp(i):(t=By(h,l,a),i.stateNode=t,is(i))}return dt(i),null;case 5:if(Wn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&is(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return dt(i),null}if(f=oe.current,Ma(i))fp(i);else{var _=Iu(Ae.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[It]=i,f[qt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(Zt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&is(i)}}return dt(i),uf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&is(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Iy(t.nodeValue,a)),t||Ls(i,!0)}else t=Iu(t).createTextNode(l),t[It]=i,i.stateNode=t}return dt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[It]=i}else Fr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),t=!1}else a=_d(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(In(i),i):(In(i),null);if((i.flags&128)!==0)throw Error(s(558))}return dt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else Fr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),h=!1}else h=_d(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(In(i),i):(In(i),null)}return In(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),gu(i,i.updateQueue),dt(i),null);case 4:return Ge(),t===null&&Of(i.stateNode.containerInfo),dt(i),null;case 10:return Wi(i.type),dt(i),null;case 19:if(X(St),l=i.memoizedState,l===null)return dt(i),null;if(h=(i.flags&128)!==0,f=l.rendering,f===null)if(h)vo(l,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=nu(t),f!==null){for(i.flags|=128,vo(l,!1),t=f.updateQueue,i.updateQueue=t,gu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)op(a,t),a=a.sibling;return ae(St,St.current&1|2),He&&Ji(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Gt()>bu&&(i.flags|=128,h=!0,vo(l,!1),i.lanes=4194304)}else{if(!h)if(t=nu(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,gu(i,t),vo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return dt(i),null}else 2*Gt()-l.renderingStartTime>bu&&a!==536870912&&(i.flags|=128,h=!0,vo(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Gt(),t.sibling=null,a=St.current,ae(St,h?a&1|2:a&1),He&&Ji(i,l.treeForkCount),t):(dt(i),null);case 22:case 23:return In(i),Od(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),a=i.updateQueue,a!==null&&gu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&X(Qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wi(Dt),dt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function pw(t,i){switch(yd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Wi(Dt),Ge(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Wn(i),null;case 31:if(i.memoizedState!==null){if(In(i),i.alternate===null)throw Error(s(340));Fr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(In(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Fr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(St),null;case 4:return Ge(),null;case 10:return Wi(i.type),null;case 22:case 23:return In(i),Od(),t!==null&&X(Qr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Wi(Dt),null;case 25:return null;default:return null}}function k0(t,i){switch(yd(i),i.tag){case 3:Wi(Dt),Ge();break;case 26:case 27:case 5:Wn(i);break;case 4:Ge();break;case 31:i.memoizedState!==null&&In(i);break;case 13:In(i);break;case 19:X(St);break;case 10:Wi(i.type);break;case 22:case 23:In(i),Od(),t!==null&&X(Qr);break;case 24:Wi(Dt)}}function _o(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(x){it(i,i.return,x)}}function $s(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,h=i;var j=a,z=x;try{z()}catch(G){it(h,j,G)}}}l=l.next}while(l!==f)}}catch(G){it(i,i.return,G)}}function M0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Sp(i,a)}catch(l){it(t,t.return,l)}}}function L0(t,i,a){a.props=Wr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,i,l)}}function bo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){it(t,i,h)}}function Vi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,i,h)}else a.current=null}function P0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function hf(t,i,a){try{var l=t.stateNode;Pw(l,t.type,a,i),l[qt]=i}catch(h){it(t,t.return,h)}}function U0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ff(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ii));else if(l!==4&&(l===27&&Js(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ff(t,i,a),t=t.sibling;t!==null;)ff(t,i,a),t=t.sibling}function pu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Js(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pu(t,i,a),t=t.sibling;t!==null;)pu(t,i,a),t=t.sibling}function z0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Zt(i,l,a),i[It]=t,i[qt]=a}catch(f){it(t,t.return,f)}}var ss=!1,Mt=!1,mf=!1,B0=typeof WeakSet=="function"?WeakSet:Set,$t=null;function yw(t,i){if(t=t.containerInfo,kf=Lu,t=Wg(t),ad(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,x=-1,j=-1,z=0,G=0,J=t,B=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(x=_+h),J!==f||l!==0&&J.nodeType!==3||(j=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(H=J.firstChild)!==null;)B=J,J=H;for(;;){if(J===t)break t;if(B===a&&++z===h&&(x=_),B===f&&++G===l&&(j=_),(H=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=H}a=x===-1||j===-1?null:{start:x,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mf={focusedElem:t,selectionRange:a},Lu=!1,$t=i;$t!==null;)if(i=$t,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,$t=t;else for(;$t!==null;){switch(i=$t,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=Wr(a.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){it(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Uf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Uf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,$t=t;break}$t=i.return}}function q0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:as(t,a),l&4&&_o(5,a);break;case 1:if(as(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){it(a,a.return,_)}else{var h=Wr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){it(a,a.return,_)}}l&64&&M0(a),l&512&&bo(a,a.return);break;case 3:if(as(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Sp(t,i)}catch(_){it(a,a.return,_)}}break;case 27:i===null&&l&4&&z0(a);case 26:case 5:as(t,a),i===null&&l&4&&P0(a),l&512&&bo(a,a.return);break;case 12:as(t,a);break;case 31:as(t,a),l&4&&F0(t,a);break;case 13:as(t,a),l&4&&G0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Sw.bind(null,a),Gw(t,a))));break;case 22:if(l=a.memoizedState!==null||ss,!l){i=i!==null&&i.memoizedState!==null||Mt,h=ss;var f=Mt;ss=l,(Mt=i)&&!f?ls(t,a,(a.subtreeFlags&8772)!==0):as(t,a),ss=h,Mt=f}break;case 30:break;default:as(t,a)}}function H0(t){var i=t.alternate;i!==null&&(t.alternate=null,H0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_a(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,yn=!1;function rs(t,i,a){for(a=a.child;a!==null;)$0(t,i,a),a=a.sibling}function $0(t,i,a){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(En,a)}catch{}switch(a.tag){case 26:Mt||Vi(a,i),rs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Vi(a,i);var l=pt,h=yn;Js(a.type)&&(pt=a.stateNode,yn=!1),rs(t,i,a),Ro(a.stateNode),pt=l,yn=h;break;case 5:Mt||Vi(a,i);case 6:if(l=pt,h=yn,pt=null,rs(t,i,a),pt=l,yn=h,pt!==null)if(yn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(f){it(a,i,f)}else try{pt.removeChild(a.stateNode)}catch(f){it(a,i,f)}break;case 18:pt!==null&&(yn?(t=pt,My(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),il(t)):My(pt,a.stateNode));break;case 4:l=pt,h=yn,pt=a.stateNode.containerInfo,yn=!0,rs(t,i,a),pt=l,yn=h;break;case 0:case 11:case 14:case 15:$s(2,a,i),Mt||$s(4,a,i),rs(t,i,a);break;case 1:Mt||(Vi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&L0(a,i,l)),rs(t,i,a);break;case 21:rs(t,i,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,rs(t,i,a),Mt=l;break;default:rs(t,i,a)}}function F0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{il(t)}catch(a){it(i,i.return,a)}}}function G0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{il(t)}catch(a){it(i,i.return,a)}}function vw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new B0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new B0),i;default:throw Error(s(435,t.tag))}}function yu(t,i){var a=vw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Nw.bind(null,t,l);l.then(h,h)}})}function vn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=i,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(Js(x.type)){pt=x.stateNode,yn=!1;break e}break;case 5:pt=x.stateNode,yn=!1;break e;case 3:case 4:pt=x.stateNode.containerInfo,yn=!0;break e}x=x.return}if(pt===null)throw Error(s(160));$0(f,_,h),pt=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)K0(i,t),i=i.sibling}var ci=null;function K0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(i,t),_n(t),l&4&&($s(3,t,t.return),_o(3,t),$s(5,t,t.return));break;case 1:vn(i,t),_n(t),l&512&&(Mt||a===null||Vi(a,a.return)),l&64&&ss&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ci;if(vn(i,t),_n(t),l&512&&(Mt||a===null||Vi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[bi]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Zt(f,l,a),f[It]=t,jt(f),l=f;break e;case"link":var _=Ky("link","href",h).get(l+(a.href||""));if(_){for(var x=0;x<_.length;x++)if(f=_[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(x,1);break t}}f=h.createElement(l),Zt(f,l,a),h.head.appendChild(f);break;case"meta":if(_=Ky("meta","content",h).get(l+(a.content||""))){for(x=0;x<_.length;x++)if(f=_[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(x,1);break t}}f=h.createElement(l),Zt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[It]=t,jt(f),l=f}t.stateNode=l}else Qy(h,t.type,t.stateNode);else t.stateNode=Gy(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Qy(h,t.type,t.stateNode):Gy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hf(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(i,t),_n(t),l&512&&(Mt||a===null||Vi(a,a.return)),a!==null&&l&4&&hf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(i,t),_n(t),l&512&&(Mt||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(he){it(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,hf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(mf=!0);break;case 6:if(vn(i,t),_n(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){it(t,t.return,he)}}break;case 3:if(Du=null,h=ci,ci=ju(i.containerInfo),vn(i,t),ci=h,_n(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{il(i.containerInfo)}catch(he){it(t,t.return,he)}mf&&(mf=!1,Q0(t));break;case 4:l=ci,ci=ju(t.stateNode.containerInfo),vn(i,t),_n(t),ci=l;break;case 12:vn(i,t),_n(t);break;case 31:vn(i,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 13:vn(i,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_u=Gt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 22:h=t.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,z=ss,G=Mt;if(ss=z||h,Mt=G||j,vn(i,t),Mt=G,ss=z,_n(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||j||ss||Mt||ea(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){j=a=i;try{if(f=j.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=j.stateNode;var J=j.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;x.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){it(j,j.return,he)}}}else if(i.tag===6){if(a===null){j=i;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(he){it(j,j.return,he)}}}else if(i.tag===18){if(a===null){j=i;try{var H=j.stateNode;h?Ly(H,!0):Ly(j.stateNode,!1)}catch(he){it(j,j.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yu(t,a))));break;case 19:vn(i,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 30:break;case 21:break;default:vn(i,t),_n(t)}}function _n(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(U0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=df(t);pu(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(pn(_,""),a.flags&=-33);var x=df(t);pu(t,x,_);break;case 3:case 4:var j=a.stateNode.containerInfo,z=df(t);ff(t,z,j);break;default:throw Error(s(161))}}catch(G){it(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Q0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Q0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function as(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)q0(t,i.alternate,i),i=i.sibling}function ea(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:$s(4,i,i.return),ea(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&L0(i,i.return,a),ea(i);break;case 27:Ro(i.stateNode);case 26:case 5:Vi(i,i.return),ea(i);break;case 22:i.memoizedState===null&&ea(i);break;case 30:ea(i);break;default:ea(i)}t=t.sibling}}function ls(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,a),_o(4,f);break;case 1:if(ls(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){it(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var x=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)Ap(j[h],x)}catch(z){it(l,l.return,z)}}a&&_&64&&M0(f),bo(f,f.return);break;case 27:z0(f);case 26:case 5:ls(h,f,a),a&&l===null&&_&4&&P0(f),bo(f,f.return);break;case 12:ls(h,f,a);break;case 31:ls(h,f,a),a&&_&4&&F0(h,f);break;case 13:ls(h,f,a),a&&_&4&&G0(h,f);break;case 22:f.memoizedState===null&&ls(h,f,a),bo(f,f.return);break;case 30:break;default:ls(h,f,a)}i=i.sibling}}function gf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ro(a))}function pf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ro(t))}function ui(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Y0(t,i,a,l),i=i.sibling}function Y0(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ui(t,i,a,l),h&2048&&_o(9,i);break;case 1:ui(t,i,a,l);break;case 3:ui(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ro(t)));break;case 12:if(h&2048){ui(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,x=f.onPostCommit;typeof x=="function"&&x(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){it(i,i.return,j)}}else ui(t,i,a,l);break;case 31:ui(t,i,a,l);break;case 13:ui(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?ui(t,i,a,l):xo(t,i):f._visibility&2?ui(t,i,a,l):(f._visibility|=2,Ga(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&gf(_,i);break;case 24:ui(t,i,a,l),h&2048&&pf(i.alternate,i);break;default:ui(t,i,a,l)}}function Ga(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,x=a,j=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(f,_,x,j,h),_o(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Ga(f,_,x,j,h):xo(f,_):(G._visibility|=2,Ga(f,_,x,j,h)),h&&z&2048&&gf(_.alternate,_);break;case 24:Ga(f,_,x,j,h),h&&z&2048&&pf(_.alternate,_);break;default:Ga(f,_,x,j,h)}i=i.sibling}}function xo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:xo(a,l),h&2048&&gf(l.alternate,l);break;case 24:xo(a,l),h&2048&&pf(l.alternate,l);break;default:xo(a,l)}i=i.sibling}}var wo=8192;function Ka(t,i,a){if(t.subtreeFlags&wo)for(t=t.child;t!==null;)X0(t,i,a),t=t.sibling}function X0(t,i,a){switch(t.tag){case 26:Ka(t,i,a),t.flags&wo&&t.memoizedState!==null&&sT(a,ci,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,i,a);break;case 3:case 4:var l=ci;ci=ju(t.stateNode.containerInfo),Ka(t,i,a),ci=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wo,wo=16777216,Ka(t,i,a),wo=l):Ka(t,i,a));break;default:Ka(t,i,a)}}function J0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function To(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,W0(l,t)}J0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Z0(t),t=t.sibling}function Z0(t){switch(t.tag){case 0:case 11:case 15:To(t),t.flags&2048&&$s(9,t,t.return);break;case 3:To(t);break;case 12:To(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,vu(t)):To(t);break;default:To(t)}}function vu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,W0(l,t)}J0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:$s(8,i,i.return),vu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,vu(i));break;default:vu(i)}t=t.sibling}}function W0(t,i){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:$s(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ro(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=t;$t!==null;){l=$t;var h=l.sibling,f=l.return;if(H0(l),l===a){$t=null;break e}if(h!==null){h.return=f,$t=h;break e}$t=f}}}var _w={getCacheForType:function(t){var i=Xt(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Xt(Dt).controller.signal}},bw=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ot=null,ke=null,Pe=0,nt=0,jn=null,Fs=!1,Qa=!1,yf=!1,os=0,xt=0,Gs=0,ta=0,vf=0,On=0,Ya=0,Eo=null,bn=null,_f=!1,_u=0,ey=0,bu=1/0,xu=null,Ks=null,zt=0,Qs=null,Xa=null,cs=0,bf=0,xf=null,ty=null,Ao=0,wf=null;function Dn(){return(Ze&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?Cf():wc()}function ny(){if(On===0)if((Pe&536870912)===0||He){var t=Re;Re<<=1,(Re&3932160)===0&&(Re=262144),On=t}else On=536870912;return t=Rn.current,t!==null&&(t.flags|=32),On}function xn(t,i,a){(t===ot&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Ys(t,Pe,On,!1)),Rr(t,a),((Ze&2)===0||t!==ot)&&(t===ot&&((Ze&2)===0&&(ta|=a),xt===4&&Ys(t,Pe,On,!1)),ki(t))}function iy(t,i,a){if((Ze&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ei(t,i),h=l?Tw(t,i):Ef(t,i,!0),f=l;do{if(h===0){Qa&&!l&&Ys(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!xw(a)){h=Ef(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var x=t;h=Eo;var j=x.current.memoizedState.isDehydrated;if(j&&(Ja(x,_).flags|=256),_=Ef(x,_,!1),_!==2){if(yf&&!j){x.errorRecoveryDisabledLanes|=f,ta|=f,h=4;break e}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),Ys(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ys(l,i,On,!Fs);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=_u+300-Gt(),10<h)){if(Ys(l,i,On,!Fs),yi(l,0,!0)!==0)break e;cs=i,l.timeoutHandle=Vy(sy.bind(null,l,a,bn,xu,_f,i,On,ta,Ya,Fs,f,"Throttled",-0,0),h);break e}sy(l,a,bn,xu,_f,i,On,ta,Ya,Fs,f,null,-0,0)}}break}while(!0);ki(t)}function sy(t,i,a,l,h,f,_,x,j,z,G,J,B,H){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},X0(i,f,J);var he=(f&62914560)===f?_u-Gt():(f&4194048)===f?ey-Gt():0;if(he=rT(J,he),he!==null){cs=f,t.cancelPendingCommit=he(dy.bind(null,t,i,f,a,l,h,_,x,j,G,J,null,B,H)),Ys(t,f,_,!z);return}}dy(t,i,f,a,l,h,_,x,j)}function xw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ys(t,i,a,l){i&=~vf,i&=~ta,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-mt(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&Ir(t,a,i)}function wu(){return(Ze&6)===0?(So(0),!1):!0}function Tf(){if(ke!==null){if(nt===0)var t=ke.return;else t=ke,Zi=Gr=null,Pd(t),Ba=null,lo=0,t=ke;for(;t!==null;)k0(t.alternate,t),t=t.return;ke=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Bw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cs=0,Tf(),ot=t,ke=a=Xi(t.current,null),Pe=i,nt=0,jn=null,Fs=!1,Qa=ei(t,i),yf=!1,Ya=On=vf=ta=Gs=xt=0,bn=Eo=null,_f=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-mt(l),f=1<<h;i|=t[h],l&=~f}return os=i,Hc(),a}function ry(t,i){je=null,F.H=po,i===za||i===Jc?(i=xp(),nt=3):i===Sd?(i=xp(),nt=4):nt=i===ef?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jn=i,ke===null&&(xt=1,hu(t,Hn(i,t.current)))}function ay(){var t=Rn.current;return t===null?!0:(Pe&4194048)===Pe?Kn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Kn:!1}function ly(){var t=F.H;return F.H=po,t===null?po:t}function oy(){var t=F.A;return F.A=_w,t}function Tu(){xt=4,Fs||(Pe&4194048)!==Pe&&Rn.current!==null||(Qa=!0),(Gs&134217727)===0&&(ta&134217727)===0||ot===null||Ys(ot,Pe,On,!1)}function Ef(t,i,a){var l=Ze;Ze|=2;var h=ly(),f=oy();(ot!==t||Pe!==i)&&(xu=null,Ja(t,i)),i=!1;var _=xt;e:do try{if(nt!==0&&ke!==null){var x=ke,j=jn;switch(nt){case 8:Tf(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var z=nt;if(nt=0,jn=null,Za(t,x,j,z),a&&Qa){_=0;break e}break;default:z=nt,nt=0,jn=null,Za(t,x,j,z)}}ww(),_=xt;break}catch(G){ry(t,G)}while(!0);return i&&t.shellSuspendCounter++,Zi=Gr=null,Ze=l,F.H=h,F.A=f,ke===null&&(ot=null,Pe=0,Hc()),_}function ww(){for(;ke!==null;)cy(ke)}function Tw(t,i){var a=Ze;Ze|=2;var l=ly(),h=oy();ot!==t||Pe!==i?(xu=null,bu=Gt()+500,Ja(t,i)):Qa=ei(t,i);e:do try{if(nt!==0&&ke!==null){i=ke;var f=jn;t:switch(nt){case 1:nt=0,jn=null,Za(t,i,f,1);break;case 2:case 9:if(_p(f)){nt=0,jn=null,uy(i);break}i=function(){nt!==2&&nt!==9||ot!==t||(nt=7),ki(t)},f.then(i,i);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:_p(f)?(nt=0,jn=null,uy(i)):(nt=0,jn=null,Za(t,i,f,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var x=ke;if(_?Yy(_):x.stateNode.complete){nt=0,jn=null;var j=x.sibling;if(j!==null)ke=j;else{var z=x.return;z!==null?(ke=z,Eu(z)):ke=null}break t}}nt=0,jn=null,Za(t,i,f,5);break;case 6:nt=0,jn=null,Za(t,i,f,6);break;case 8:Tf(),xt=6;break e;default:throw Error(s(462))}}Ew();break}catch(G){ry(t,G)}while(!0);return Zi=Gr=null,F.H=l,F.A=h,Ze=a,ke!==null?0:(ot=null,Pe=0,Hc(),xt)}function Ew(){for(;ke!==null&&!kl();)cy(ke)}function cy(t){var i=D0(t.alternate,t,os);t.memoizedProps=t.pendingProps,i===null?Eu(t):ke=i}function uy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=N0(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=N0(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:Pd(i);default:k0(a,i),i=ke=op(i,os),i=D0(a,i,os)}t.memoizedProps=t.pendingProps,i===null?Eu(t):ke=i}function Za(t,i,a,l){Zi=Gr=null,Pd(i),Ba=null,lo=0;var h=i.return;try{if(dw(t,h,i,a,Pe)){xt=1,hu(t,Hn(a,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;xt=1,hu(t,Hn(a,t.current)),ke=null;return}i.flags&32768?(He||l===1?t=!0:Qa||(Pe&536870912)!==0?t=!1:(Fs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),hy(i,t)):Eu(i)}function Eu(t){var i=t;do{if((i.flags&32768)!==0){hy(i,Fs);return}t=i.return;var a=gw(i.alternate,i,os);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);xt===0&&(xt=5)}function hy(t,i){do{var a=pw(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);xt=6,ke=null}function dy(t,i,a,l,h,f,_,x,j){t.cancelPendingCommit=null;do Au();while(zt!==0);if((Ze&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=hd,nd(t,a,f,_,x,j),t===ot&&(ke=ot=null,Pe=0),Xa=i,Qs=t,cs=a,bf=f,xf=h,ty=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Cw(Kt,function(){return yy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=re.p,re.p=2,_=Ze,Ze|=4;try{yw(t,i,a)}finally{Ze=_,re.p=h,F.T=l}}zt=1,fy(),my(),gy()}}function fy(){if(zt===1){zt=0;var t=Qs,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=re.p;re.p=2;var h=Ze;Ze|=4;try{K0(i,t);var f=Mf,_=Wg(t.containerInfo),x=f.focusedElem,j=f.selectionRange;if(_!==x&&x&&x.ownerDocument&&Zg(x.ownerDocument.documentElement,x)){if(j!==null&&ad(x)){var z=j.start,G=j.end;if(G===void 0&&(G=z),"selectionStart"in x)x.selectionStart=z,x.selectionEnd=Math.min(G,x.value.length);else{var J=x.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var H=B.getSelection(),he=x.textContent.length,we=Math.min(j.start,he),lt=j.end===void 0?we:Math.min(j.end,he);!H.extend&&we>lt&&(_=lt,lt=we,we=_);var k=Jg(x,we),D=Jg(x,lt);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=J.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),we>lt?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(J=[],H=x;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<J.length;x++){var Y=J[x];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Lu=!!kf,Mf=kf=null}finally{Ze=h,re.p=l,F.T=a}}t.current=i,zt=2}}function my(){if(zt===2){zt=0;var t=Qs,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=re.p;re.p=2;var h=Ze;Ze|=4;try{q0(t,i.alternate,i)}finally{Ze=h,re.p=l,F.T=a}}zt=3}}function gy(){if(zt===4||zt===3){zt=0,ga();var t=Qs,i=Xa,a=cs,l=ty;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,Xa=Qs=null,py(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ks=null),Gi(a),i=i.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(En,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=re.p,re.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var x=l[_];f(x.value,{componentStack:x.stack})}}finally{F.T=i,re.p=h}}(cs&3)!==0&&Au(),ki(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===wf?Ao++:(Ao=0,wf=t):Ao=0,So(0)}}function py(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ro(i)))}function Au(){return fy(),my(),gy(),yy()}function yy(){if(zt!==5)return!1;var t=Qs,i=bf;bf=0;var a=Gi(cs),l=F.T,h=re.p;try{re.p=32>a?32:a,F.T=null,a=xf,xf=null;var f=Qs,_=cs;if(zt=0,Xa=Qs=null,cs=0,(Ze&6)!==0)throw Error(s(331));var x=Ze;if(Ze|=4,Z0(f.current),Y0(f,f.current,_,a),Ze=x,So(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(En,f)}catch{}return!0}finally{re.p=h,F.T=l,py(t,i)}}function vy(t,i,a){i=Hn(a,i),i=Wd(t.stateNode,i,2),t=Bs(t,i,2),t!==null&&(Rr(t,2),ki(t))}function it(t,i,a){if(t.tag===3)vy(t,t,a);else for(;i!==null;){if(i.tag===3){vy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){t=Hn(a,t),a=_0(2),l=Bs(i,a,2),l!==null&&(b0(a,l,i,t),Rr(l,2),ki(l));break}}i=i.return}}function Af(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new bw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(yf=!0,h.add(a),t=Aw.bind(null,t,i,a),i.then(t,t))}function Aw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(Pe&a)===a&&(xt===4||xt===3&&(Pe&62914560)===Pe&&300>Gt()-_u?(Ze&2)===0&&Ja(t,0):vf|=a,Ya===Pe&&(Ya=0)),ki(t)}function _y(t,i){i===0&&(i=xc()),t=Hr(t,i),t!==null&&(Rr(t,i),ki(t))}function Sw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),_y(t,a)}function Nw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),_y(t,a)}function Cw(t,i){return We(t,i)}var Su=null,Wa=null,Sf=!1,Nu=!1,Nf=!1,Xs=0;function ki(t){t!==Wa&&t.next===null&&(Wa===null?Su=Wa=t:Wa=Wa.next=t),Nu=!0,Sf||(Sf=!0,Iw())}function So(t,i){if(!Nf&&Nu){Nf=!0;do for(var a=!1,l=Su;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=h&~(_&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ty(l,f))}else f=Pe,f=yi(l,l===ot?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ei(l,f)||(a=!0,Ty(l,f));l=l.next}while(a);Nf=!1}}function Rw(){by()}function by(){Nu=Sf=!1;var t=0;Xs!==0&&zw()&&(t=Xs);for(var i=Gt(),a=null,l=Su;l!==null;){var h=l.next,f=xy(l,i);f===0?(l.next=null,a===null?Su=h:a.next=h,h===null&&(Wa=a)):(a=l,(t!==0||(f&3)!==0)&&(Nu=!0)),l=h}zt!==0&&zt!==5||So(t),Xs!==0&&(Xs=0)}function xy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-mt(f),x=1<<_,j=h[_];j===-1?((x&a)===0||(x&l)!==0)&&(h[_]=td(x,i)):j<=i&&(t.expiredLanes|=x),f&=~x}if(i=ot,a=Pe,a=yi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ei(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&gi(l),Gi(a)){case 2:case 8:a=Cr;break;case 32:a=Kt;break;case 268435456:a=Fi;break;default:a=Kt}return l=wy.bind(null,t),a=We(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&gi(l),t.callbackPriority=2,t.callbackNode=null,2}function wy(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Au()&&t.callbackNode!==a)return null;var l=Pe;return l=yi(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(iy(t,l,i),xy(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?wy.bind(null,t):null)}function Ty(t,i){if(Au())return null;iy(t,i,!0)}function Iw(){qw(function(){(Ze&6)!==0?We(Nr,Rw):by()})}function Cf(){if(Xs===0){var t=Pa;t===0&&(t=ee,ee<<=1,(ee&261888)===0&&(ee=256)),Xs=t}return Xs}function Ey(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function Ay(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function jw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var f=Ey((h[qt]||null).action),_=l.submitter;_&&(i=(i=_[qt]||null)?Ey(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var x=new Ci("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var j=_?Ay(h,_):new FormData(h);Kd(a,{pending:!0,data:j,method:h.method,action:f},null,j)}}else typeof f=="function"&&(x.preventDefault(),j=_?Ay(h,_):new FormData(h),Kd(a,{pending:!0,data:j,method:h.method,action:f},f,j))},currentTarget:h}]})}}for(var Rf=0;Rf<ud.length;Rf++){var If=ud[Rf],Ow=If.toLowerCase(),Dw=If[0].toUpperCase()+If.slice(1);oi(Ow,"on"+Dw)}oi(np,"onAnimationEnd"),oi(ip,"onAnimationIteration"),oi(sp,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(Yx,"onTransitionRun"),oi(Xx,"onTransitionStart"),oi(Jx,"onTransitionCancel"),oi(rp,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function Sy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var _=l.length-1;0<=_;_--){var x=l[_],j=x.instance,z=x.currentTarget;if(x=x.listener,j!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=z;try{f(h)}catch(G){qc(G)}h.currentTarget=null,f=j}else for(_=0;_<l.length;_++){if(x=l[_],j=x.instance,z=x.currentTarget,x=x.listener,j!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=z;try{f(h)}catch(G){qc(G)}h.currentTarget=null,f=j}}}}function Me(t,i){var a=i[va];a===void 0&&(a=i[va]=new Set);var l=t+"__bubble";a.has(l)||(Ny(i,t,2,!1),a.add(l))}function jf(t,i,a){var l=0;i&&(l|=4),Ny(a,t,l,i)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[Cu]){t[Cu]=!0,Pl.forEach(function(a){a!=="selectionchange"&&(Vw.has(a)||jf(a,!1,t),jf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cu]||(i[Cu]=!0,jf("selectionchange",!1,i))}}function Ny(t,i,a,l){switch(nv(i)){case 2:var h=oT;break;case 8:h=cT;break;default:h=Kf}a=h.bind(null,i,a,t),h=void 0,!kr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Df(t,i,a,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var x=l.stateNode.containerInfo;if(x===h)break;if(_===4)for(_=l.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;x!==null;){if(_=xi(x),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){l=f=_;continue e}x=x.parentNode}}l=l.return}js(function(){var z=f,G=Un(a),J=[];e:{var B=ap.get(t);if(B!==void 0){var H=Ci,he=t;switch(t){case"keypress":if(Lr(a)===0)break e;case"keydown":case"keyup":H=Uc;break;case"focusin":he="focus",H=Ur;break;case"focusout":he="blur",H=Ur;break;case"beforeblur":case"afterblur":H=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case np:case ip:case sp:H=Oc;break;case rp:H=T;break;case"scroll":case"scrollend":H=Xl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Yi;break;case"toggle":case"beforetoggle":H=Ie}var we=(i&4)!==0,lt=!we&&(t==="scroll"||t==="scrollend"),k=we?B!==null?B+"Capture":null:B;we=[];for(var D=z,U;D!==null;){var Y=D;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||k===null||(Y=si(D,k),Y!=null&&we.push(Co(D,Y,U))),lt)break;D=D.return}0<we.length&&(B=new H(B,he,null,a,G),J.push({event:B,listeners:we}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Kl&&(he=a.relatedTarget||a.fromElement)&&(xi(he)||he[_i]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=z,he=he?xi(he):null,he!==null&&(lt=u(he),we=he.tag,he!==lt||we!==5&&we!==27&&we!==6)&&(he=null)):(H=null,he=z),H!==he)){if(we=Jl,Y="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(we=Yi,Y="onPointerLeave",k="onPointerEnter",D="pointer"),lt=H==null?B:An(H),U=he==null?B:An(he),B=new we(Y,D+"leave",H,a,G),B.target=lt,B.relatedTarget=U,Y=null,xi(G)===z&&(we=new we(k,D+"enter",he,a,G),we.target=U,we.relatedTarget=lt,Y=we),lt=Y,H&&he)t:{for(we=kw,k=H,D=he,U=0,Y=k;Y;Y=we(Y))U++;Y=0;for(var _e=D;_e;_e=we(_e))Y++;for(;0<U-Y;)k=we(k),U--;for(;0<Y-U;)D=we(D),Y--;for(;U--;){if(k===D||D!==null&&k===D.alternate){we=k;break t}k=we(k),D=we(D)}we=null}else we=null;H!==null&&Cy(J,B,H,we,!1),he!==null&&lt!==null&&Cy(J,lt,he,we,!0)}}e:{if(B=z?An(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Qe=Fg;else if(Hg(B))if(Gg)Qe=Gx;else{Qe=$x;var ge=Hx}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&wa(z.elementType)&&(Qe=Fg):Qe=Fx;if(Qe&&(Qe=Qe(t,z))){$g(J,Qe,a,G);break e}ge&&ge(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&$l(B,"number",B.value)}switch(ge=z?An(z):window,t){case"focusin":(Hg(ge)||ge.contentEditable==="true")&&(Ia=ge,ld=z,no=null);break;case"focusout":no=ld=Ia=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,ep(J,a,G);break;case"selectionchange":if(Qx)break;case"keydown":case"keyup":ep(J,a,G)}var Oe;if(Je)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ra?zr(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(ji&&a.locale!=="ko"&&(Ra||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ra&&(Oe=Yl()):(Ni=G,Ql="value"in Ni?Ni.value:Ni.textContent,Ra=!0)),ge=Ru(z,Ue),0<ge.length&&(Ue=new Ii(Ue,t,null,a,G),J.push({event:Ue,listeners:ge}),Oe?Ue.data=Oe:(Oe=Ca(a),Oe!==null&&(Ue.data=Oe)))),(Oe=Bn?Ux(t,a):zx(t,a))&&(Ue=Ru(z,"onBeforeInput"),0<Ue.length&&(ge=new Ii("onBeforeInput","beforeinput",null,a,G),J.push({event:ge,listeners:Ue}),ge.data=Oe)),jw(J,t,z,a,G)}Sy(J,i)})}function Co(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ru(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(t,a),h!=null&&l.unshift(Co(t,h,f)),h=si(t,i),h!=null&&l.push(Co(t,h,f))),t.tag===3)return l;t=t.return}return[]}function kw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cy(t,i,a,l,h){for(var f=i._reactName,_=[];a!==null&&a!==l;){var x=a,j=x.alternate,z=x.stateNode;if(x=x.tag,j!==null&&j===l)break;x!==5&&x!==26&&x!==27||z===null||(j=z,h?(z=si(a,f),z!=null&&_.unshift(Co(a,z,j))):h||(z=si(a,f),z!=null&&_.push(Co(a,z,j)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Mw=/\r\n?/g,Lw=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(Mw,`
`).replace(Lw,"")}function Iy(t,i){return i=Ry(i),Ry(t)===i}function at(t,i,a,l,h,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&pn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":Gl(t,l,f);break;case"data":if(i!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&at(t,i,"name",h.name,h,null),at(t,i,"formEncType",h.formEncType,h,null),at(t,i,"formMethod",h.formMethod,h,null),at(t,i,"formTarget",h.formTarget,h,null)):(at(t,i,"encType",h.encType,h,null),at(t,i,"method",h.method,h,null),at(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ii);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rc.get(a)||a,ba(t,a,l))}}function Vf(t,i,a,l,h,f){switch(a){case"style":Gl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[qt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ba(t,a,l)}}}function Zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:at(t,i,f,_,a,null)}}h&&at(t,i,"srcSet",a.srcSet,a,null),l&&at(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var x=f=_=h=null,j=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":j=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:at(t,i,l,G,a,null)}}Sc(t,f,x,j,z,_,h,!1);return;case"select":Me("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":_=x;break;case"multiple":l=x;default:at(t,i,h,x,a,null)}i=f,a=_,t.multiple=!!l,i!=null?Ns(t,!!l,i,!1):a!=null&&Ns(t,!!l,a,!0);return;case"textarea":Me("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(x=a[_],x!=null))switch(_){case"value":l=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:at(t,i,_,x,a,null)}Cs(t,l,h,f);return;case"option":for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!=null)&&(j==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":at(t,i,j,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<No.length;l++)Me(No[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:at(t,i,z,l,a,null)}return;default:if(wa(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Vf(t,i,G,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&at(t,i,x,l,a,null))}function Pw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,x=null,j=null,z=null,G=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":j=J;default:l.hasOwnProperty(H)||at(t,i,H,null,l,J)}}for(var B in l){var H=l[B];if(J=a[B],l.hasOwnProperty(B)&&(H!=null||J!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==J&&at(t,i,B,H,l,J)}}xa(t,_,x,j,z,G,f,h);return;case"select":H=_=x=B=null;for(f in a)if(j=a[f],a.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":H=j;default:l.hasOwnProperty(f)||at(t,i,f,null,l,j)}for(h in l)if(f=l[h],j=a[h],l.hasOwnProperty(h)&&(f!=null||j!=null))switch(h){case"value":B=f;break;case"defaultValue":x=f;break;case"multiple":_=f;default:f!==j&&at(t,i,h,f,l,j)}i=x,a=_,l=H,B!=null?Ns(t,!!a,B,!1):!!l!=!!a&&(i!=null?Ns(t,!!a,i,!0):Ns(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:at(t,i,x,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&at(t,i,_,h,l,f)}Nc(t,B,H);return;case"option":for(var he in a)B=a[he],a.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:at(t,i,he,null,l,B));for(j in l)B=l[j],H=a[j],l.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null)&&(j==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":at(t,i,j,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)B=a[we],a.hasOwnProperty(we)&&B!=null&&!l.hasOwnProperty(we)&&at(t,i,we,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:at(t,i,z,B,l,H)}return;default:if(wa(i)){for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!==void 0&&!l.hasOwnProperty(lt)&&Vf(t,i,lt,void 0,l,B);for(G in l)B=l[G],H=a[G],!l.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Vf(t,i,G,B,l,H);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&at(t,i,k,null,l,B);for(J in l)B=l[J],H=a[J],!l.hasOwnProperty(J)||B===H||B==null&&H==null||at(t,i,J,B,l,H)}function jy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,x=h.duration;if(f&&x&&jy(_)){for(_=0,x=h.responseEnd,l+=1;l<a.length;l++){var j=a[l],z=j.startTime;if(z>x)break;var G=j.transferSize,J=j.initiatorType;G&&jy(J)&&(j=j.responseEnd,_+=G*(j<x?1:(x-z)/(j-z)))}if(--l,i+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kf=null,Mf=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function Oy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Lf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pf=null;function zw(){var t=window.event;return t&&t.type==="popstate"?t===Pf?!1:(Pf=t,!0):(Pf=null,!1)}var Vy=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,qw=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(t){return ky.resolve(null).then(t).catch(Hw)}:Vy;function Hw(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function My(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),il(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ro(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ro(a);for(var f=a.firstChild;f;){var _=f.nextSibling,x=f.nodeName;f[bi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Ro(t.ownerDocument.body);a=h}while(a);il(i)}function Ly(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Uf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Uf(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $w(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function Fw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function Py(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Qn(t.nextSibling),t===null))return null;return t}function zf(t){return t.data==="$?"||t.data==="$~"}function Bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Gw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var qf=null;function Uy(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Qn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function zy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function By(t,i,a){switch(i=Iu(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ro(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_a(t)}var Yn=new Map,qy=new Set;function ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=re.d;re.d={f:Kw,r:Qw,D:Yw,C:Xw,L:Jw,m:Zw,X:eT,S:Ww,M:tT};function Kw(){var t=us.f(),i=wu();return t||i}function Qw(t){var i=Pn(t);i!==null&&i.tag===5&&i.type==="form"?r0(i):us.r(t)}var el=typeof document>"u"?null:document;function Hy(t,i,a){var l=el;if(l&&typeof i=="string"&&i){var h=gn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),qy.has(h)||(qy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Zt(i,"link",t),jt(i),l.head.appendChild(i)))}}function Yw(t){us.D(t),Hy("dns-prefetch",t,null)}function Xw(t,i){us.C(t,i),Hy("preconnect",t,i)}function Jw(t,i,a){us.L(t,i,a);var l=el;if(l&&t&&i){var h='link[rel="preload"][as="'+gn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(i){case"style":f=tl(t);break;case"script":f=nl(t)}Yn.has(f)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Yn.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Io(f))||i==="script"&&l.querySelector(jo(f))||(i=l.createElement("link"),Zt(i,"link",t),jt(i),l.head.appendChild(i)))}}function Zw(t,i){us.m(t,i);var a=el;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=nl(t)}if(!Yn.has(f)&&(t=E({rel:"modulepreload",href:t},i),Yn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jo(f)))return}l=a.createElement("link"),Zt(l,"link",t),jt(l),a.head.appendChild(l)}}}function Ww(t,i,a){us.S(t,i,a);var l=el;if(l&&t){var h=wi(l).hoistableStyles,f=tl(t);i=i||"default";var _=h.get(f);if(!_){var x={loading:0,preload:null};if(_=l.querySelector(Io(f)))x.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Yn.get(f))&&Hf(t,a);var j=_=l.createElement("link");jt(j),Zt(j,"link",t),j._p=new Promise(function(z,G){j.onload=z,j.onerror=G}),j.addEventListener("load",function(){x.loading|=1}),j.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ou(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:x},h.set(f,_)}}}function eT(t,i){us.X(t,i);var a=el;if(a&&t){var l=wi(a).hoistableScripts,h=nl(t),f=l.get(h);f||(f=a.querySelector(jo(h)),f||(t=E({src:t,async:!0},i),(i=Yn.get(h))&&$f(t,i),f=a.createElement("script"),jt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function tT(t,i){us.M(t,i);var a=el;if(a&&t){var l=wi(a).hoistableScripts,h=nl(t),f=l.get(h);f||(f=a.querySelector(jo(h)),f||(t=E({src:t,async:!0,type:"module"},i),(i=Yn.get(h))&&$f(t,i),f=a.createElement("script"),jt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function $y(t,i,a,l){var h=(h=Ae.current)?ju(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=tl(a.href),a=wi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=tl(a.href);var f=wi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Io(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Yn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(t,a),f||nT(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=nl(a),a=wi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function tl(t){return'href="'+gn(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function Fy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function nT(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Zt(i,"link",a),jt(i),t.head.appendChild(i))}function nl(t){return'[src="'+gn(t)+'"]'}function jo(t){return"script[async]"+t}function Gy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(l)return i.instance=l,jt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),Zt(l,"style",h),Ou(l,a.precedence,t),i.instance=l;case"stylesheet":h=tl(a.href);var f=t.querySelector(Io(h));if(f)return i.state.loading|=4,i.instance=f,jt(f),f;l=Fy(a),(h=Yn.get(h))&&Hf(l,h),f=(t.ownerDocument||t).createElement("link"),jt(f);var _=f;return _._p=new Promise(function(x,j){_.onload=x,_.onerror=j}),Zt(f,"link",l),i.state.loading|=4,Ou(f,a.precedence,t),i.instance=f;case"script":return f=nl(a.src),(h=t.querySelector(jo(f)))?(i.instance=h,jt(h),h):(l=a,(h=Yn.get(f))&&(l=E({},a),$f(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),jt(h),Zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ou(l,a.precedence,t));return i.instance}function Ou(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var x=l[_];if(x.dataset.precedence===i)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Hf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $f(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Du=null;function Ky(t,i,a){if(Du===null){var l=new Map,h=Du=new Map;h.set(a,l)}else h=Du,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[bi]||f[It]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var x=l.get(_);x?x.push(f):l.set(_,[f])}}return l}function Qy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function iT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Yy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sT(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=tl(l.href),f=i.querySelector(Io(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Vu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,jt(f);return}f=i.ownerDocument||i,l=Fy(l),(h=Yn.get(h))&&Hf(l,h),f=f.createElement("link"),jt(f);var _=f;_._p=new Promise(function(x,j){_.onload=x,_.onerror=j}),Zt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Ff=0;function rT(t,i){return t.stylesheets&&t.count===0&&Mu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Ff===0&&(Ff=62500*Uw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ff?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function Mu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,i.forEach(aT,t),ku=null,Vu.call(t))}function aT(t,i){if(!(i.state.loading&4)){var a=ku.get(t);if(a)var l=a.get(null);else{a=new Map,ku.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Vu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Oo={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function lT(t,i,a,l,h,f,_,x,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Xy(t,i,a,l,h,f,_,x,j,z,G,J){return t=new lT(t,i,a,_,j,z,G,J,x),i=1,f===!0&&(i|=24),f=Cn(3,null,null,i),t.current=f,f.stateNode=t,i=Td(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},Nd(f),t}function Jy(t){return t?(t=Da,t):Da}function Zy(t,i,a,l,h,f){h=Jy(h),l.context===null?l.context=h:l.pendingContext=h,l=zs(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Bs(t,l,i),a!==null&&(xn(a,t,i),co(a,t,i))}function Wy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Gf(t,i){Wy(t,i),(t=t.alternate)&&Wy(t,i)}function ev(t){if(t.tag===13||t.tag===31){var i=Hr(t,67108864);i!==null&&xn(i,t,67108864),Gf(t,67108864)}}function tv(t){if(t.tag===13||t.tag===31){var i=Dn();i=jr(i);var a=Hr(t,i);a!==null&&xn(a,t,i),Gf(t,i)}}var Lu=!0;function oT(t,i,a,l){var h=F.T;F.T=null;var f=re.p;try{re.p=2,Kf(t,i,a,l)}finally{re.p=f,F.T=h}}function cT(t,i,a,l){var h=F.T;F.T=null;var f=re.p;try{re.p=8,Kf(t,i,a,l)}finally{re.p=f,F.T=h}}function Kf(t,i,a,l){if(Lu){var h=Qf(l);if(h===null)Df(t,i,l,Pu,a),iv(t,l);else if(hT(h,t,i,a,l))l.stopPropagation();else if(iv(t,l),i&4&&-1<uT.indexOf(t)){for(;h!==null;){var f=Pn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=mn(f.pendingLanes);if(_!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var j=1<<31-mt(_);x.entanglements[1]|=j,_&=~j}ki(f),(Ze&6)===0&&(bu=Gt()+500,So(0))}}break;case 31:case 13:x=Hr(f,2),x!==null&&xn(x,f,2),wu(),Gf(f,2)}if(f=Qf(l),f===null&&Df(t,i,l,Pu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Df(t,i,l,null,a)}}function Qf(t){return t=Un(t),Yf(t)}var Pu=null;function Yf(t){if(Pu=null,t=xi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=y(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Pu=t,null}function nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($i()){case Nr:return 2;case Cr:return 8;case Kt:case pa:return 32;case Fi:return 268435456;default:return 32}default:return 32}}var Xf=!1,Zs=null,Ws=null,er=null,Do=new Map,Vo=new Map,tr=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(t,i){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Do.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(i.pointerId)}}function ko(t,i,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Pn(i),i!==null&&ev(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function hT(t,i,a,l,h){switch(i){case"focusin":return Zs=ko(Zs,t,i,a,l,h),!0;case"dragenter":return Ws=ko(Ws,t,i,a,l,h),!0;case"mouseover":return er=ko(er,t,i,a,l,h),!0;case"pointerover":var f=h.pointerId;return Do.set(f,ko(Do.get(f)||null,t,i,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Vo.set(f,ko(Vo.get(f)||null,t,i,a,l,h)),!0}return!1}function sv(t){var i=xi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,ti(t.priority,function(){tv(a)});return}}else if(i===31){if(i=y(a),i!==null){t.blockedOn=i,ti(t.priority,function(){tv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Qf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Kl=l,a.target.dispatchEvent(l),Kl=null}else return i=Pn(a),i!==null&&ev(i),t.blockedOn=a,!1;i.shift()}return!0}function rv(t,i,a){Uu(t)&&a.delete(i)}function dT(){Xf=!1,Zs!==null&&Uu(Zs)&&(Zs=null),Ws!==null&&Uu(Ws)&&(Ws=null),er!==null&&Uu(er)&&(er=null),Do.forEach(rv),Vo.forEach(rv)}function zu(t,i){t.blockedOn===i&&(t.blockedOn=null,Xf||(Xf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dT)))}var Bu=null;function av(t){Bu!==t&&(Bu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Yf(l||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(i,3),i-=3,Kd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function il(t){function i(j){return zu(j,t)}Zs!==null&&zu(Zs,t),Ws!==null&&zu(Ws,t),er!==null&&zu(er,t),Do.forEach(i),Vo.forEach(i);for(var a=0;a<tr.length;a++){var l=tr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<tr.length&&(a=tr[0],a.blockedOn===null);)sv(a),a.blockedOn===null&&tr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[qt]||null;if(typeof f=="function")_||av(a);else if(_){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[qt]||null)x=_.formAction;else if(Yf(h)!==null)continue}else x=_.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),av(a)}}}function lv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Jf(t){this._internalRoot=t}qu.prototype.render=Jf.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Dn();Zy(a,l,t,i,null,null)},qu.prototype.unmount=Jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Zy(t.current,2,null,t,null,null),wu(),i[_i]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var i=wc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<tr.length&&i!==0&&i<tr[a].priority;a++);tr.splice(a,0,t),a===0&&sv(t)}};var ov=e.version;if(ov!=="19.2.4")throw Error(s(527,ov,"19.2.4"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var fT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{En=Hu.inject(fT),Rt=Hu}catch{}}return Lo.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=g0,f=p0,_=y0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Xy(t,1,!1,null,null,a,l,null,h,f,_,lv),t[_i]=i.current,Of(t),new Jf(i)},Lo.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=g0,_=p0,x=y0,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),i=Xy(t,1,!0,i,a??null,l,h,j,f,_,x,lv),i.context=Jy(null),a=i.current,l=Dn(),l=jr(l),h=zs(l),h.callback=null,Bs(a,h,l),a=l,i.current.lanes=a,Rr(i,a),ki(i),t[_i]=i.current,Of(t),new qu(i)},Lo.version="19.2.4",Lo}var vv;function ET(){if(vv)return em.exports;vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),em.exports=TT(),em.exports}var AT=ET();const W_=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const ST=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const NT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const _v=r=>{const e=NT(r);return e.charAt(0).toUpperCase()+e.slice(1)};var CT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const IT=le.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:d,...y},v)=>le.createElement("svg",{ref:v,...CT,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:W_("lucide",o),...!u&&!RT(y)&&{"aria-hidden":"true"},...y},[...d.map(([p,w])=>le.createElement(p,w)),...Array.isArray(u)?u:[u]]));const xe=(r,e)=>{const n=le.forwardRef(({className:s,...o},u)=>le.createElement(IT,{ref:u,iconNode:e,className:W_(`lucide-${ST(_v(r))}`,`lucide-${r}`,s),...o}));return n.displayName=_v(r),n};const jT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Xo=xe("activity",jT);const OT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],DT=xe("bell",OT);const VT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],eb=xe("chart-column",VT);const kT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],MT=xe("chevron-left",kT);const LT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tb=xe("chevron-right",LT);const PT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],UT=xe("circle-alert",PT);const zT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sm=xe("circle-check-big",zT);const BT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_m=xe("circle-check",BT);const qT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rm=xe("circle-x",qT);const HT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],nb=xe("clipboard-list",HT);const $T=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FT=xe("clock",$T);const GT=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],bv=xe("database",GT);const KT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],QT=xe("download",KT);const YT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],XT=xe("ellipsis",YT);const JT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ib=xe("eye-off",JT);const ZT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oh=xe("eye",ZT);const WT=[["path",{d:"M13 22h5a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.3",key:"cvl1xm"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m7.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.879.001l-1.846.85a.5.5 0 0 1-.692-.593l1.29-4.88",key:"1ff7gj"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]],eE=xe("file-badge",WT);const tE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ym=xe("file-text",tE);const nE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],iE=xe("globe",nE);const sE=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],rE=xe("hard-drive",sE);const aE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],lE=xe("layout-dashboard",aE);const oE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],Ju=xe("life-buoy",oE);const cE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],bm=xe("lock-open",cE);const uE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cr=xe("lock",uE);const hE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dE=xe("log-out",hE);const fE=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],sb=xe("megaphone",fE);const mE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gE=xe("menu",mE);const pE=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],yE=xe("message-square",pE);const vE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],_E=xe("moon",vE);const bE=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],xE=xe("octagon-alert",bE);const wE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],xm=xe("package",wE);const TE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],EE=xe("pen",TE);const AE=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],wm=xe("power",AE);const SE=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],NE=xe("radio",SE);const CE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lc=xe("refresh-cw",CE);const RE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IE=xe("save",RE);const jE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rb=xe("search",jE);const OE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],DE=xe("send",OE);const VE=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],ch=xe("server",VE);const kE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jh=xe("shield-check",kE);const ME=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ab=xe("shield",ME);const LE=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lb=xe("square-check-big",LE);const PE=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],UE=xe("stethoscope",PE);const zE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],BE=xe("sun",zE);const qE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fn=xe("trash-2",qE);const HE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xm=xe("triangle-alert",HE);const $E=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ob=xe("user",$E);const FE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ia=xe("users",FE);const GE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],KE=xe("wifi-off",GE);const QE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],YE=xe("wifi",QE);const XE=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],xv=xe("wrench",XE);const JE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vl=xe("x",JE),ZE=()=>{};var wv={};const cb=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},WE=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],y=r[n++],v=((o&7)<<18|(u&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const u=r[n++],d=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,p=v?r[o+2]:0,w=u>>2,E=(u&3)<<4|y>>4;let R=(y&15)<<2|p>>6,L=p&63;v||(L=64,d||(R=64)),s.push(n[w],n[E],n[R],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(cb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):WE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],y=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||y==null||p==null||E==null)throw new e2;const R=u<<2|y>>4;if(s.push(R),p!==64){const L=y<<4&240|p>>2;if(s.push(L),E!==64){const K=p<<6&192|E;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class e2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t2=function(r){const e=cb(r);return ub.encodeByteArray(e,!0)},uh=function(r){return t2(r).replace(/\./g,"")},hb=function(r){try{return ub.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function n2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const i2=()=>n2().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof wv>"u")return;const r=wv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},r2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&hb(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return ZE()||i2()||s2()||r2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},db=r=>Oh()?.emulatorHosts?.[r],a2=r=>{const e=db(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},fb=()=>Oh()?.config,mb=r=>Oh()?.[`_${r}`];class l2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Al(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gb(r){return(await fetch(r,{credentials:"include"})).ok}function o2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[uh(JSON.stringify(n)),uh(JSON.stringify(d)),""].join(".")}const $o={};function c2(){const r={prod:[],emulator:[]};for(const e of Object.keys($o))$o[e]?r.emulator.push(e):r.prod.push(e);return r}function u2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Tv=!1;function pb(r,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||$o[r]===e||$o[r]||Tv)return;$o[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=c2().prod.length>0;function d(){const R=document.getElementById(s);R&&R.remove()}function y(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function p(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Tv=!0,d()},R}function w(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function E(){const R=u2(s),L=n("text"),K=document.getElementById(L)||document.createElement("span"),ie=n("learnmore"),te=document.getElementById(ie)||document.createElement("a"),de=n("preprendIcon"),me=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ne=R.element;y(ne),w(te,ie);const pe=p();v(me,de),ne.append(me,K,te,pe),document.body.appendChild(ne)}u?(K.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function d2(){const r=Oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function g2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p2(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function y2(){return!d2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v2(){try{return typeof indexedDB=="object"}catch{return!1}}function _2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const b2="FirebaseError";class _s extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=b2,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?x2(u,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new _s(o,y,s)}}function x2(r,e){return r.replace(w2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const w2=/\{\$([^}]+)}/g;function T2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function aa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],d=e[o];if(Ev(u)&&Ev(d)){if(!aa(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Ev(r){return r!==null&&typeof r=="object"}function cc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function E2(r,e){const n=new A2(r,e);return n.subscribe.bind(n)}class A2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");S2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=am),o.error===void 0&&(o.error=am),o.complete===void 0&&(o.complete=am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function am(){}function un(r){return r&&r._delegate?r._delegate:r}class la{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class N2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new l2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R2(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);s===y&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:C2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C2(r){return r===na?void 0:r}function R2(r){return r.instantiationMode==="EAGER"}class I2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new N2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const j2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},O2=ze.INFO,D2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},V2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=D2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=O2,this._logHandler=V2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const k2=(r,e)=>e.some(n=>r instanceof n);let Av,Sv;function M2(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L2(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yb=new WeakMap,Tm=new WeakMap,vb=new WeakMap,lm=new WeakMap,Zm=new WeakMap;function P2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(ur(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&yb.set(n,r)}).catch(()=>{}),Zm.set(e,r),e}function U2(r){if(Tm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Tm.set(r,e)}let Em={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Tm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||vb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function z2(r){Em=r(Em)}function B2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(om(this),e,...n);return vb.set(s,e.sort?e.sort():[e]),ur(s)}:L2().includes(r)?function(...e){return r.apply(om(this),e),ur(yb.get(this))}:function(...e){return ur(r.apply(om(this),e))}}function q2(r){return typeof r=="function"?B2(r):(r instanceof IDBTransaction&&U2(r),k2(r,M2())?new Proxy(r,Em):r)}function ur(r){if(r instanceof IDBRequest)return P2(r);if(lm.has(r))return lm.get(r);const e=q2(r);return e!==r&&(lm.set(r,e),Zm.set(e,r)),e}const om=r=>Zm.get(r);function H2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),y=ur(d);return s&&d.addEventListener("upgradeneeded",v=>{s(ur(d.result),v.oldVersion,v.newVersion,ur(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),y.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),y}const $2=["get","getKey","getAll","getAllKeys","count"],F2=["put","add","delete","clear"],cm=new Map;function Nv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=F2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$2.includes(n)))return;const u=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let p=v.store;return s&&(p=p.index(y.shift())),(await Promise.all([p[n](...y),o&&v.done]))[0]};return cm.set(e,u),u}z2(r=>({...r,get:(e,n,s)=>Nv(e,n)||r.get(e,n,s),has:(e,n)=>!!Nv(e,n)||r.has(e,n)}));class G2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function K2(r){return r.getComponent()?.type==="VERSION"}const Am="@firebase/app",Cv="0.14.8";const ms=new Jm("@firebase/app"),Q2="@firebase/app-compat",Y2="@firebase/analytics-compat",X2="@firebase/analytics",J2="@firebase/app-check-compat",Z2="@firebase/app-check",W2="@firebase/auth",eA="@firebase/auth-compat",tA="@firebase/database",nA="@firebase/data-connect",iA="@firebase/database-compat",sA="@firebase/functions",rA="@firebase/functions-compat",aA="@firebase/installations",lA="@firebase/installations-compat",oA="@firebase/messaging",cA="@firebase/messaging-compat",uA="@firebase/performance",hA="@firebase/performance-compat",dA="@firebase/remote-config",fA="@firebase/remote-config-compat",mA="@firebase/storage",gA="@firebase/storage-compat",pA="@firebase/firestore",yA="@firebase/ai",vA="@firebase/firestore-compat",_A="firebase",bA="12.9.0";const Sm="[DEFAULT]",xA={[Am]:"fire-core",[Q2]:"fire-core-compat",[X2]:"fire-analytics",[Y2]:"fire-analytics-compat",[Z2]:"fire-app-check",[J2]:"fire-app-check-compat",[W2]:"fire-auth",[eA]:"fire-auth-compat",[tA]:"fire-rtdb",[nA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[sA]:"fire-fn",[rA]:"fire-fn-compat",[aA]:"fire-iid",[lA]:"fire-iid-compat",[oA]:"fire-fcm",[cA]:"fire-fcm-compat",[uA]:"fire-perf",[hA]:"fire-perf-compat",[dA]:"fire-rc",[fA]:"fire-rc-compat",[mA]:"fire-gcs",[gA]:"fire-gcs-compat",[pA]:"fire-fst",[vA]:"fire-fst-compat",[yA]:"fire-vertex","fire-js":"fire-js",[_A]:"fire-js-all"};const hh=new Map,wA=new Map,Nm=new Map;function Rv(r,e){try{r.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function _l(r){const e=r.name;if(Nm.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const n of hh.values())Rv(n,r);for(const n of wA.values())Rv(n,r);return!0}function Wm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function hi(r){return r==null?!1:r.settings!==void 0}const TA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new oc("app","Firebase",TA);class EA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const Sl=bA;function _b(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Sm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(n||(n=fb()),!n)throw hr.create("no-options");const u=hh.get(o);if(u){if(aa(n,u.options)&&aa(s,u.config))return u;throw hr.create("duplicate-app",{appName:o})}const d=new I2(o);for(const v of Nm.values())d.addComponent(v);const y=new EA(n,s,d);return hh.set(o,y),y}function bb(r=Sm){const e=hh.get(r);if(!e&&r===Sm&&fb())return _b();if(!e)throw hr.create("no-app",{appName:r});return e}function dr(r,e,n){let s=xA[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}_l(new la(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const AA="firebase-heartbeat-database",SA=1,Jo="firebase-heartbeat-store";let um=null;function xb(){return um||(um=H2(AA,SA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Jo)}catch(n){console.warn(n)}}}}).catch(r=>{throw hr.create("idb-open",{originalErrorMessage:r.message})})),um}async function NA(r){try{const n=(await xb()).transaction(Jo),s=await n.objectStore(Jo).get(wb(r));return await n.done,s}catch(e){if(e instanceof _s)ms.warn(e.message);else{const n=hr.create("idb-get",{originalErrorMessage:e?.message});ms.warn(n.message)}}}async function Iv(r,e){try{const s=(await xb()).transaction(Jo,"readwrite");await s.objectStore(Jo).put(e,wb(r)),await s.done}catch(n){if(n instanceof _s)ms.warn(n.message);else{const s=hr.create("idb-set",{originalErrorMessage:n?.message});ms.warn(s.message)}}}function wb(r){return`${r.name}!${r.options.appId}`}const CA=1024,RA=30;class IA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>RA){const o=DA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jv(),{heartbeatsToSend:n,unsentEntries:s}=jA(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ms.warn(e),""}}}function jv(){return new Date().toISOString().substring(0,10)}function jA(r,e=CA){const n=[];let s=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Ov(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ov(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v2()?_2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ov(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function DA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function VA(r){_l(new la("platform-logger",e=>new G2(e),"PRIVATE")),_l(new la("heartbeat",e=>new IA(e),"PRIVATE")),dr(Am,Cv,r),dr(Am,Cv,"esm2020"),dr("fire-js","")}VA("");var kA="firebase",MA="12.9.0";dr(kA,MA,"app");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,Tb;(function(){var r;function e(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(N,O,M){for(var S=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)S[ct-2]=arguments[ct];return A.prototype[O].apply(N,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,I){I||(I=0);const N=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)N[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)N[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],O=C.g[2];let M=C.g[3],S;S=A+(M^I&(O^M))+N[0]+3614090360&4294967295,A=I+(S<<7&4294967295|S>>>25),S=M+(O^A&(I^O))+N[1]+3905402710&4294967295,M=A+(S<<12&4294967295|S>>>20),S=O+(I^M&(A^I))+N[2]+606105819&4294967295,O=M+(S<<17&4294967295|S>>>15),S=I+(A^O&(M^A))+N[3]+3250441966&4294967295,I=O+(S<<22&4294967295|S>>>10),S=A+(M^I&(O^M))+N[4]+4118548399&4294967295,A=I+(S<<7&4294967295|S>>>25),S=M+(O^A&(I^O))+N[5]+1200080426&4294967295,M=A+(S<<12&4294967295|S>>>20),S=O+(I^M&(A^I))+N[6]+2821735955&4294967295,O=M+(S<<17&4294967295|S>>>15),S=I+(A^O&(M^A))+N[7]+4249261313&4294967295,I=O+(S<<22&4294967295|S>>>10),S=A+(M^I&(O^M))+N[8]+1770035416&4294967295,A=I+(S<<7&4294967295|S>>>25),S=M+(O^A&(I^O))+N[9]+2336552879&4294967295,M=A+(S<<12&4294967295|S>>>20),S=O+(I^M&(A^I))+N[10]+4294925233&4294967295,O=M+(S<<17&4294967295|S>>>15),S=I+(A^O&(M^A))+N[11]+2304563134&4294967295,I=O+(S<<22&4294967295|S>>>10),S=A+(M^I&(O^M))+N[12]+1804603682&4294967295,A=I+(S<<7&4294967295|S>>>25),S=M+(O^A&(I^O))+N[13]+4254626195&4294967295,M=A+(S<<12&4294967295|S>>>20),S=O+(I^M&(A^I))+N[14]+2792965006&4294967295,O=M+(S<<17&4294967295|S>>>15),S=I+(A^O&(M^A))+N[15]+1236535329&4294967295,I=O+(S<<22&4294967295|S>>>10),S=A+(O^M&(I^O))+N[1]+4129170786&4294967295,A=I+(S<<5&4294967295|S>>>27),S=M+(I^O&(A^I))+N[6]+3225465664&4294967295,M=A+(S<<9&4294967295|S>>>23),S=O+(A^I&(M^A))+N[11]+643717713&4294967295,O=M+(S<<14&4294967295|S>>>18),S=I+(M^A&(O^M))+N[0]+3921069994&4294967295,I=O+(S<<20&4294967295|S>>>12),S=A+(O^M&(I^O))+N[5]+3593408605&4294967295,A=I+(S<<5&4294967295|S>>>27),S=M+(I^O&(A^I))+N[10]+38016083&4294967295,M=A+(S<<9&4294967295|S>>>23),S=O+(A^I&(M^A))+N[15]+3634488961&4294967295,O=M+(S<<14&4294967295|S>>>18),S=I+(M^A&(O^M))+N[4]+3889429448&4294967295,I=O+(S<<20&4294967295|S>>>12),S=A+(O^M&(I^O))+N[9]+568446438&4294967295,A=I+(S<<5&4294967295|S>>>27),S=M+(I^O&(A^I))+N[14]+3275163606&4294967295,M=A+(S<<9&4294967295|S>>>23),S=O+(A^I&(M^A))+N[3]+4107603335&4294967295,O=M+(S<<14&4294967295|S>>>18),S=I+(M^A&(O^M))+N[8]+1163531501&4294967295,I=O+(S<<20&4294967295|S>>>12),S=A+(O^M&(I^O))+N[13]+2850285829&4294967295,A=I+(S<<5&4294967295|S>>>27),S=M+(I^O&(A^I))+N[2]+4243563512&4294967295,M=A+(S<<9&4294967295|S>>>23),S=O+(A^I&(M^A))+N[7]+1735328473&4294967295,O=M+(S<<14&4294967295|S>>>18),S=I+(M^A&(O^M))+N[12]+2368359562&4294967295,I=O+(S<<20&4294967295|S>>>12),S=A+(I^O^M)+N[5]+4294588738&4294967295,A=I+(S<<4&4294967295|S>>>28),S=M+(A^I^O)+N[8]+2272392833&4294967295,M=A+(S<<11&4294967295|S>>>21),S=O+(M^A^I)+N[11]+1839030562&4294967295,O=M+(S<<16&4294967295|S>>>16),S=I+(O^M^A)+N[14]+4259657740&4294967295,I=O+(S<<23&4294967295|S>>>9),S=A+(I^O^M)+N[1]+2763975236&4294967295,A=I+(S<<4&4294967295|S>>>28),S=M+(A^I^O)+N[4]+1272893353&4294967295,M=A+(S<<11&4294967295|S>>>21),S=O+(M^A^I)+N[7]+4139469664&4294967295,O=M+(S<<16&4294967295|S>>>16),S=I+(O^M^A)+N[10]+3200236656&4294967295,I=O+(S<<23&4294967295|S>>>9),S=A+(I^O^M)+N[13]+681279174&4294967295,A=I+(S<<4&4294967295|S>>>28),S=M+(A^I^O)+N[0]+3936430074&4294967295,M=A+(S<<11&4294967295|S>>>21),S=O+(M^A^I)+N[3]+3572445317&4294967295,O=M+(S<<16&4294967295|S>>>16),S=I+(O^M^A)+N[6]+76029189&4294967295,I=O+(S<<23&4294967295|S>>>9),S=A+(I^O^M)+N[9]+3654602809&4294967295,A=I+(S<<4&4294967295|S>>>28),S=M+(A^I^O)+N[12]+3873151461&4294967295,M=A+(S<<11&4294967295|S>>>21),S=O+(M^A^I)+N[15]+530742520&4294967295,O=M+(S<<16&4294967295|S>>>16),S=I+(O^M^A)+N[2]+3299628645&4294967295,I=O+(S<<23&4294967295|S>>>9),S=A+(O^(I|~M))+N[0]+4096336452&4294967295,A=I+(S<<6&4294967295|S>>>26),S=M+(I^(A|~O))+N[7]+1126891415&4294967295,M=A+(S<<10&4294967295|S>>>22),S=O+(A^(M|~I))+N[14]+2878612391&4294967295,O=M+(S<<15&4294967295|S>>>17),S=I+(M^(O|~A))+N[5]+4237533241&4294967295,I=O+(S<<21&4294967295|S>>>11),S=A+(O^(I|~M))+N[12]+1700485571&4294967295,A=I+(S<<6&4294967295|S>>>26),S=M+(I^(A|~O))+N[3]+2399980690&4294967295,M=A+(S<<10&4294967295|S>>>22),S=O+(A^(M|~I))+N[10]+4293915773&4294967295,O=M+(S<<15&4294967295|S>>>17),S=I+(M^(O|~A))+N[1]+2240044497&4294967295,I=O+(S<<21&4294967295|S>>>11),S=A+(O^(I|~M))+N[8]+1873313359&4294967295,A=I+(S<<6&4294967295|S>>>26),S=M+(I^(A|~O))+N[15]+4264355552&4294967295,M=A+(S<<10&4294967295|S>>>22),S=O+(A^(M|~I))+N[6]+2734768916&4294967295,O=M+(S<<15&4294967295|S>>>17),S=I+(M^(O|~A))+N[13]+1309151649&4294967295,I=O+(S<<21&4294967295|S>>>11),S=A+(O^(I|~M))+N[4]+4149444226&4294967295,A=I+(S<<6&4294967295|S>>>26),S=M+(I^(A|~O))+N[11]+3174756917&4294967295,M=A+(S<<10&4294967295|S>>>22),S=O+(A^(M|~I))+N[2]+718787259&4294967295,O=M+(S<<15&4294967295|S>>>17),S=I+(M^(O|~A))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(O+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+M&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,N=this.C;let O=this.h,M=0;for(;M<A;){if(O==0)for(;M<=I;)o(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<A;)if(N[O++]=C.charCodeAt(M++),O==this.blockSize){o(this,N),O=0;break}}else for(;M<A;)if(N[O++]=C[M++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let N=0;N<32;N+=8)C[A++]=this.g[I]>>>N&255;return C};function u(C,A){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let N=!0;for(let O=C.length-1;O>=0;O--){const M=C[O]|0;N&&M==A||(I[O]=M,N=!1)}this.g=I}var y={};function v(C){return-128<=C&&C<128?u(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return te(p(-C));const A=[];let I=1;for(let N=0;C>=I;N++)A[N]=C/I|0,I*=4294967296;return new d(A,0)}function w(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return te(w(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(A,8));let N=E;for(let M=0;M<C.length;M+=8){var O=Math.min(8,C.length-M);const S=parseInt(C.substring(M,M+O),A);O<8?(O=p(Math.pow(A,O)),N=N.j(O).add(p(S))):(N=N.j(I),N=N.add(p(S)))}return N}var E=v(0),R=v(1),L=v(16777216);r=d.prototype,r.m=function(){if(ie(this))return-te(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const N=this.i(I);C+=(N>=0?N:4294967296+N)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(K(this))return"0";if(ie(this))return"-"+te(this).toString(C);const A=p(Math.pow(C,6));var I=this;let N="";for(;;){const O=pe(I,A).g;I=de(I,O.j(A));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,K(I))return M+N;for(;M.length<6;)M="0"+M;N=M+N}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function K(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function ie(C){return C.h==-1}r.l=function(C){return C=de(this,C),ie(C)?-1:K(C)?0:1};function te(C){const A=C.g.length,I=[];for(let N=0;N<A;N++)I[N]=~C.g[N];return new d(I,~C.h).add(R)}r.abs=function(){return ie(this)?te(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let N=0;for(let O=0;O<=A;O++){let M=N+(this.i(O)&65535)+(C.i(O)&65535),S=(M>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);N=S>>>16,M&=65535,S&=65535,I[O]=S<<16|M}return new d(I,I[I.length-1]&-2147483648?-1:0)};function de(C,A){return C.add(te(A))}r.j=function(C){if(K(this)||K(C))return E;if(ie(this))return ie(C)?te(this).j(te(C)):te(te(this).j(C));if(ie(C))return te(this.j(te(C)));if(this.l(L)<0&&C.l(L)<0)return p(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var N=0;N<2*A;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<C.g.length;O++){const M=this.i(N)>>>16,S=this.i(N)&65535,ct=C.i(O)>>>16,yt=C.i(O)&65535;I[2*N+2*O]+=S*yt,me(I,2*N+2*O),I[2*N+2*O+1]+=M*yt,me(I,2*N+2*O+1),I[2*N+2*O+1]+=S*ct,me(I,2*N+2*O+1),I[2*N+2*O+2]+=M*ct,me(I,2*N+2*O+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function me(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function ne(C,A){this.g=C,this.h=A}function pe(C,A){if(K(A))throw Error("division by zero");if(K(C))return new ne(E,E);if(ie(C))return A=pe(te(C),A),new ne(te(A.g),te(A.h));if(ie(A))return A=pe(C,te(A)),new ne(te(A.g),A.h);if(C.g.length>30){if(ie(C)||ie(A))throw Error("slowDivide_ only works with positive integers.");for(var I=R,N=A;N.l(C)<=0;)I=$(I),N=$(N);var O=ve(I,1),M=ve(N,1);for(N=ve(N,2),I=ve(I,2);!K(N);){var S=M.add(N);S.l(C)<=0&&(O=O.add(I),M=S),N=ve(N,1),I=ve(I,1)}return A=de(C,O.j(A)),new ne(O,A)}for(O=E;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),M=p(I),S=M.j(A);ie(S)||S.l(C)>0;)I-=N,M=p(I),S=M.j(A);K(M)&&(M=R),O=O.add(M),C=de(C,S)}return new ne(O,C)}r.B=function(C){return pe(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<A;N++)I[N]=this.i(N)&C.i(N);return new d(I,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<A;N++)I[N]=this.i(N)|C.i(N);return new d(I,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<A;N++)I[N]=this.i(N)^C.i(N);return new d(I,this.h^C.h)};function $(C){const A=C.g.length+1,I=[];for(let N=0;N<A;N++)I[N]=C.i(N)<<1|C.i(N-1)>>>31;return new d(I,C.h)}function ve(C,A){const I=A>>5;A%=32;const N=C.g.length-I,O=[];for(let M=0;M<N;M++)O[M]=A>0?C.i(M+I)>>>A|C.i(M+I+1)<<32-A:C.i(M+I);return new d(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Tb=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=w,fr=d}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Eb,zo,Ab,Zu,Cm,Sb,Nb,Cb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var b=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var P=c[T];if(!(P in b))break e;b=b[P]}c=c[c.length-1],T=b[c],g=g(T),g!=T&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var b=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&b.push([T,g[T]]);return b}});var u=u||{},d=this||self;function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,b){return c.call.apply(c.bind,arguments)}function p(c,g,b){return p=v,p.apply(null,arguments)}function w(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function E(c,g){function b(){}b.prototype=g.prototype,c.Z=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(T,P,q){for(var se=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)se[Ie-2]=arguments[Ie];return g.prototype[P].apply(T,se)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const b=Array(g);for(let T=0;T<g;T++)b[T]=c[T];return b}return[]}function K(c,g){for(let T=1;T<arguments.length;T++){const P=arguments[T];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=c.length||0;const q=P.length||0;c.length=b+q;for(let se=0;se<q;se++)c[b+se]=P[se]}else c.push(P)}}class ie{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(c){d.setTimeout(()=>{throw c},0)}function de(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class me{constructor(){this.h=this.g=null}add(g,b){const T=ne.get();T.set(g,b),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new ie(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let $,ve=!1,C=new me,A=()=>{const c=Promise.resolve(void 0);$=()=>{c.then(I)}};function I(){for(var c;c=de();){try{c.h.call(c.g)}catch(b){te(b)}var g=ne;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ve=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,g),d.removeEventListener("test",b,g)}catch{}return c})();function S(c){return/^[\s\xa0]*$/.test(c)}function ct(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}E(ct,O),ct.prototype.init=function(c,g){const b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ct.Z.h.call(this)},ct.prototype.h=function(){ct.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),F=0;function re(c,g,b,T,P){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!T,this.ha=P,this.key=++F,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function De(c,g,b){for(const T in c)g.call(b,c[T],T,c)}function Fe(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function V(c){const g={};for(const b in c)g[b]=c[b];return g}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,g){let b,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(b in T)c[b]=T[b];for(let q=0;q<X.length;q++)b=X[q],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,g,b,T,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const se=Ae(c,g,T,P);return se>-1?(g=c[se],b||(g.fa=!1)):(g=new re(g,this.src,q,!!T,P),g.fa=b,c.push(g)),g};function fe(c,g){const b=g.type;if(b in c.g){var T=c.g[b],P=Array.prototype.indexOf.call(T,g,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(ye(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ae(c,g,b,T){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==g&&q.capture==!!b&&q.ha==T)return P}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Xe={};function Ge(c,g,b,T,P){if(Array.isArray(g)){for(let q=0;q<g.length;q++)Ge(c,g[q],b,T,P);return null}return b=Es(b),c&&c[yt]?c.J(g,b,y(T)?!!T.capture:!1,P):Ke(c,g,b,!1,T,P)}function Ke(c,g,b,T,P,q){if(!g)throw Error("Invalid event type");const se=y(P)?!!P.capture:!!P;let Ie=Hi(c);if(Ie||(c[Ve]=Ie=new oe(c)),b=Ie.add(g,b,T,se,q),b.proxy)return b;if(T=Wn(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)M||(P=se),P===void 0&&(P=!1),c.addEventListener(g.toString(),T,P);else if(c.attachEvent)c.attachEvent(Mn(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Wn(){function c(b){return g.call(c.src,c.listener,b)}const g=ws;return c}function bs(c,g,b,T,P){if(Array.isArray(g))for(var q=0;q<g.length;q++)bs(c,g[q],b,T,P);else T=y(T)?!!T.capture:!!T,b=Es(b),c&&c[yt]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],b=Ae(g,b,T,P),b>-1&&(ye(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=Hi(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ae(g,b,T,P)),(b=c>-1?g[c]:null)&&xs(b))}function xs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[yt])fe(g.i,c);else{var b=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(b,T,c.capture):g.detachEvent?g.detachEvent(Mn(b),T):g.addListener&&g.removeListener&&g.removeListener(T),(b=Hi(g))?(fe(b,c),b.h==0&&(b.src=null,g[Ve]=null)):ye(c)}}}function Mn(c){return c in Xe?Xe[c]:Xe[c]="on"+c}function ws(c,g){if(c.da)c=!0;else{g=new ct(g,this);const b=c.listener,T=c.ha||c.src;c.fa&&xs(c),c=b.call(T,g)}return c}function Hi(c){return c=c[Ve],c instanceof oe?c:null}var Ts="__closure_events_fn_"+(Math.random()*1e9>>>0);function Es(c){return typeof c=="function"?c:(c[Ts]||(c[Ts]=function(g){return c.handleEvent(g)}),c[Ts])}function _t(){N.call(this),this.i=new oe(this),this.M=this,this.G=null}E(_t,N),_t.prototype[yt]=!0,_t.prototype.removeEventListener=function(c,g,b,T){bs(this,c,g,b,T)};function We(c,g){var b,T=c.G;if(T)for(b=[];T;T=T.G)b.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var P=g;g=new O(T,c),ae(g,P)}P=!0;let q,se;if(b)for(se=b.length-1;se>=0;se--)q=g.g=b[se],P=gi(q,T,!0,g)&&P;if(q=g.g=c,P=gi(q,T,!0,g)&&P,P=gi(q,T,!1,g)&&P,b)for(se=0;se<b.length;se++)q=g.g=b[se],P=gi(q,T,!1,g)&&P}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const b=c.g[g];for(let T=0;T<b.length;T++)ye(b[T]);delete c.g[g],c.h--}}this.G=null},_t.prototype.J=function(c,g,b,T){return this.i.add(String(c),g,!1,b,T)},_t.prototype.K=function(c,g,b,T){return this.i.add(String(c),g,!0,b,T)};function gi(c,g,b,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let q=0;q<g.length;++q){const se=g[q];if(se&&!se.da&&se.capture==b){const Ie=se.listener,At=se.ha||se.src;se.fa&&fe(c.i,se),P=Ie.call(At,T)!==!1&&P}}return P&&!T.defaultPrevented}function kl(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(c,g||0)}function ga(c){c.g=kl(()=>{c.g=null,c.i&&(c.i=!1,ga(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Gt extends N{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ga(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(c){N.call(this),this.h=c,this.g={}}E($i,N);var Nr=[];function Cr(c){De(c.g,function(g,b){this.g.hasOwnProperty(b)&&xs(g)},c),c.g={}}$i.prototype.N=function(){$i.Z.N.call(this),Cr(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=d.JSON.stringify,pa=d.JSON.parse,Fi=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ln(){}function pi(){}var En={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rt(){O.call(this,"d")}E(Rt,O);function sn(){O.call(this,"c")}E(sn,O);var mt={},ya=null;function As(){return ya=ya||new _t}mt.Ia="serverreachability";function Q(c){O.call(this,mt.Ia,c)}E(Q,O);function ee(c){const g=As();We(g,new Q(g))}mt.STAT_EVENT="statevent";function Re(c,g){O.call(this,mt.STAT_EVENT,c),this.stat=g}E(Re,O);function Le(c){const g=As();We(g,new Re(g,c))}mt.Ja="timingevent";function mn(c,g){O.call(this,mt.Ja,c),this.size=g}E(mn,O);function yi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function td(c,g,b,T,P,q){c.info(function(){if(c.g)if(q){var se="",Ie=q.split("&");for(let Je=0;Je<Ie.length;Je++){var At=Ie[Je].split("=");if(At.length>1){const gt=At[0];At=At[1];const Bn=gt.split("_");se=Bn.length>=2&&Bn[1]=="type"?se+(gt+"="+At+"&"):se+(gt+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+g+`
`+b+`
`+se})}function xc(c,g,b,T,P,q,se){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+g+`
`+b+`
`+q+" "+se})}function vi(c,g,b,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+nd(c,b)+(T?" "+T:"")})}function Rr(c,g){c.info(function(){return"TIMEOUT: "+g})}ei.prototype.info=function(){};function nd(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var b=q[c];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return Kt(q)}catch{return g}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ll;function jr(){}E(jr,Ln),jr.prototype.g=function(){return new XMLHttpRequest},Ll=new jr;function Gi(c){return encodeURIComponent(String(c))}function wc(c){var g=1;c=c.split(":");const b=[];for(;g>0&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function ti(c,g,b,T){this.j=c,this.i=g,this.l=b,this.S=T||1,this.V=new $i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var It={},qt={};function _i(c,g,b){c.M=1,c.A=Or(Ot(g)),c.u=b,c.R=!0,va(c,null)}function va(c,g){c.F=Date.now(),bi(c),c.B=Ot(c.A);var b=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),wa(b.i,"t",T),c.C=0,b=c.j.L,c.h=new ni,c.g=Lc(c.j,b?g:null,!c.u),c.P>0&&(c.O=new Gt(p(c.Y,c,c.g),c.P)),g=c.V,b=c.g,T=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Nr[0]=P.toString()),P=Nr);for(let q=0;q<P.length;q++){const se=Ge(b,P[q],T||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ee(),td(c.i,c.v,c.B,c.l,c.S,c.u)}ti.prototype.ba=function(c){c=c.target;const g=this.O;g&&ri(c)==3?g.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=ri(this.g),At=this.g.ya(),Je=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ie!=4||At==7||(At==8||Je<=0?ee(3):ee(2)),xi(this);var g=this.g.ca();this.X=g;var b=id(this);if(this.o=g==200,xc(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var q=T;break t}}q=null}if(c=q)vi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,c);else{this.o=!1,this.m=3,Le(12),An(this),Pn(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<b.length;)if(gt=Ec(this,b),gt==qt){Ie==4&&(this.m=4,Le(14),c=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==It){this.m=4,Le(15),vi(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else vi(this.i,this.l,gt,null),wi(this,gt);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,Le(16),c=!1),this.o=this.o&&c,!c)vi(this.i,this.l,b,"[Invalid Chunked Response]"),An(this),Pn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Zl(se),se.P=!0,Le(11))}}else vi(this.i,this.l,b,null),wi(this,b);Ie==4&&An(this),this.o&&!this.K&&(Ie==4?Dc(this.j,this):(this.o=!1,bi(this)))}else Qi(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,Le(12)):(this.m=0,Le(13)),An(this),Pn(this)}}}catch{}};function id(c){if(!Tc(c))return c.g.la();const g=Qt(c.g);if(g==="")return"";let b="";const T=g.length,P=ri(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),Pn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<T;q++)c.h.h=!0,b+=c.h.i.decode(g[q],{stream:!(P&&q==T-1)});return g.length=0,c.h.g+=b,c.C=0,c.h.g}function Tc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ec(c,g){var b=c.C,T=g.indexOf(`
`,b);return T==-1?qt:(b=Number(g.substring(b,T)),isNaN(b)?It:(T+=1,T+b>g.length?qt:(g=g.slice(T,T+b),c.C=T+b,g)))}ti.prototype.cancel=function(){this.K=!0,An(this)};function bi(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=yi(p(c.aa,c),g)}function xi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}ti.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(ee(),Le(17)),An(this),this.m=2,Pn(this)):_a(this,this.T-c)};function Pn(c){c.j.I==0||c.K||Dc(c.j,c)}function An(c){xi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Cr(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function wi(c,g){try{var b=c.j;if(b.I!=0&&(b.g==c||Ei(b.h,c))){if(!c.L&&Ei(b.h,c)&&b.I==3){try{var T=b.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Na(b),Ds(b);else break e;Ur(b),Le(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=yi(p(b.Va,b),6e3));Ti(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ii(b,11)}else if((c.L||b.g==c)&&Na(b),!S(g))for(P=b.Ba.g.parse(g),g=0;g<P.length;g++){let Je=P[g];const gt=Je[0];if(!(gt<=b.K))if(b.K=gt,Je=Je[1],b.I==2)if(Je[0]=="c"){b.M=Je[1],b.ba=Je[2];const Bn=Je[3];Bn!=null&&(b.ka=Bn,b.j.info("VER="+b.ka));const ji=Je[4];ji!=null&&(b.za=ji,b.j.info("SVER="+b.za));const ai=Je[5];ai!=null&&typeof ai=="number"&&ai>0&&(T=1.5*ai,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const li=c.g;if(li){const zr=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var q=T.h;q.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(zl(q,q.h),q.h=null))}if(T.G){const Ca=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(T.wa=Ca,tt(T.J,T.G,Ca))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var se=c;if(T.na=Mc(T,T.L?T.ba:null,T.W),se.L){Bl(T.h,se);var Ie=se,At=T.O;At&&(Ie.H=At),Ie.D&&(xi(Ie),bi(Ie)),T.g=se}else jc(T);b.i.length>0&&Ri(b)}else Je[0]!="stop"&&Je[0]!="close"||Ii(b,7);else b.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Ii(b,7):Xl(b):Je[0]!="noop"&&b.l&&b.l.qa(Je),b.A=0)}}ee(4)}catch{}}var jt=class{constructor(c,g){this.g=c,this.map=g}};function Pl(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ti(c){return c.h?1:c.g?c.g.size:0}function Ei(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function zl(c,g){c.g?c.g.add(g):c.h=g}function Bl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Pl.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ql(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.G);return g}return L(c.i)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,g){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const T=c[b].indexOf("=");let P,q=null;T>=0?(P=c[b].substring(0,T),q=c[b].substring(T+1)):P=c[b],g(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Sn?(this.l=c.l,Ht(this,c.j),this.o=c.o,this.g=c.g,Ss(this,c.u),this.h=c.h,Hl(this,Rc(c.i)),this.m=c.m):c&&(g=String(c).match(Ac))?(this.l=!1,Ht(this,g[1]||"",!0),this.o=Ai(g[2]||""),this.g=Ai(g[3]||"",!0),Ss(this,g[4]),this.h=Ai(g[5]||"",!0),Hl(this,g[6]||"",!0),this.m=Ai(g[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}Sn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Dr(g,xa,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Dr(g,xa,!0),"@"),c.push(Gi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Dr(b,b.charAt(0)=="/"?$l:Sc,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Dr(b,Nc)),c.join("")},Sn.prototype.resolve=function(c){const g=Ot(this);let b=!!c.j;b?Ht(g,c.j):b=!!c.o,b?g.o=c.o:b=!!c.g,b?g.g=c.g:b=c.u!=null;var T=c.h;if(b)Ss(g,c.u);else if(b=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=g.h.lastIndexOf("/");P!=-1&&(T=g.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let se=0;se<P.length;){const Ie=P[se++];Ie=="."?T&&se==P.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&se==P.length&&q.push("")):(q.push(Ie),T=!0)}T=q.join("/")}else T=P}return b?g.h=T:b=c.i.toString()!=="",b?Hl(g,Rc(c.i)):b=!!c.m,b&&(g.m=c.m),g};function Ot(c){return new Sn(c)}function Ht(c,g,b){c.j=b?Ai(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ss(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Hl(c,g,b){g instanceof Cs?(c.i=g,Ta(c.i,c.l)):(b||(g=Dr(g,Ns)),c.i=new Cs(g,c.l))}function tt(c,g,b){c.i.set(g,b)}function Or(c){return tt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ai(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dr(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,gn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xa=/[#\/\?@]/g,Sc=/[#\?:]/g,$l=/[#\?]/g,Ns=/[#\?@]/g,Nc=/#/g;function Cs(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function pn(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}r=Cs.prototype,r.add=function(c,g){pn(this),this.i=null,c=Rs(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function Cc(c,g){pn(c),g=Rs(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Fl(c,g){return pn(c),g=Rs(c,g),c.g.has(g)}r.forEach=function(c,g){pn(this),this.g.forEach(function(b,T){b.forEach(function(P){c.call(g,P,T,this)},this)},this)};function Gl(c,g){pn(c);let b=[];if(typeof g=="string")Fl(c,g)&&(b=b.concat(c.g.get(Rs(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)b=b.concat(c[g]);return b}r.set=function(c,g){return pn(this),this.i=null,c=Rs(this,c),Fl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Gl(this,c),c.length>0?String(c[0]):g):g};function wa(c,g,b){Cc(c,g),b.length>0&&(c.i=null,c.g.set(Rs(c,g),L(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var b=g[T];const P=Gi(b);b=Gl(this,b);for(let q=0;q<b.length;q++){let se=P;b[q]!==""&&(se+="="+Gi(b[q])),c.push(se)}}return this.i=c.join("&")};function Rc(c){const g=new Cs;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Rs(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ta(c,g){g&&!c.j&&(pn(c),c.i=null,c.g.forEach(function(b,T){const P=T.toLowerCase();T!=P&&(Cc(this,T),wa(this,P,b))},c)),c.j=g}function ii(c,g){const b=new ei;if(d.Image){const T=new Image;T.onload=w(Un,b,"TestLoadImage: loaded",!0,g,T),T.onerror=w(Un,b,"TestLoadImage: error",!1,g,T),T.onabort=w(Un,b,"TestLoadImage: abort",!1,g,T),T.ontimeout=w(Un,b,"TestLoadImage: timeout",!1,g,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Kl(c,g){const b=new ei,T=new AbortController,P=setTimeout(()=>{T.abort(),Un(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Un(b,"TestPingServer: ok",!0,g):Un(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Un(b,"TestPingServer: error",!1,g)})}function Un(c,g,b,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(b)}catch{}}function Is(){this.g=new Fi}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}E(Si,Ln),Si.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(c,g){_t.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Vr,_t),r=Vr.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?js(this):si(this),this.readyState==3&&Ea(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,js(this))},r.Na=function(c){this.g&&(this.response=c,js(this))},r.ga=function(){this.g&&js(this)};function js(c){c.readyState=4,c.l=null,c.j=null,c.B=null,si(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zn(c){let g="";return De(c,function(b,T){g+=T,g+=":",g+=b,g+=`\r
`}),g}function kr(c,g,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=zn(b),typeof c=="string"?b!=null&&Gi(b):tt(c,g,b))}function st(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(st,_t);var Ni=/^https?$/i,Ql=["POST","PUT"];r=st.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ll.g(),this.g.onreadystatechange=R(p(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Mr(this,q);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)b.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())b.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Ql,g,void 0)>=0)||T||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of b)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Mr(this,q)}};function Mr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Yl(c),Ki(c)}function Yl(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,We(this,"complete"),We(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),st.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},r.Xa=function(){Lr(this)};function Lr(c){if(c.h&&typeof u<"u"){if(c.v&&ri(c)==4)setTimeout(c.Ca.bind(c),0);else if(We(c,"readystatechange"),ri(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var T;if(T=q===0){let se=String(c.D).match(Ac)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),T=!Ni.test(se?se.toLowerCase():"")}b=T}if(b)We(c,"complete"),We(c,"success");else{c.o=6;try{var P=ri(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Yl(c)}}finally{Ki(c)}}}}function Ki(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,g||We(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ri(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),pa(g)}};function Qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(c){const g={};c=(c.g&&ri(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(S(c[T]))continue;var b=wc(c[T]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=g[P]||[];g[P]=q,q.push(b)}Fe(g,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function Os(c){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Pl(c&&c.concurrentRequestLimit),this.Ba=new Is,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Os.prototype,r.ka=8,r.I=1,r.connect=function(c,g,b,T){Le(0),this.W=c,this.H=g||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Mc(this,null,this.W),Ri(this)};function Xl(c){if(Aa(c),c.I==3){var g=c.V++,b=Ot(c.J);if(tt(b,"SID",c.M),tt(b,"RID",g),tt(b,"TYPE","terminate"),Pr(c,b),g=new ti(c,c.j,g),g.M=2,g.A=Or(Ot(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=g.A,b=!0),b||(g.g=Lc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),bi(g)}kc(c)}function Ds(c){c.g&&(Zl(c),c.g.cancel(),c.g=null)}function Aa(c){Ds(c),c.v&&(d.clearTimeout(c.v),c.v=null),Na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Ul(c.h)&&!c.m){c.m=!0;var g=c.Ea;$||A(),ve||($(),ve=!0),C.add(g,c),c.D=0}}function Sa(c,g){return Ti(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=yi(p(c.Ea,c,g),Vc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new ti(this,this.j,c);let q=this.o;if(this.U&&(q?(q=V(q),ae(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Ic(this,P,g),b=Ot(this.J),tt(b,"RID",c),tt(b,"CVER",22),this.G&&tt(b,"X-HTTP-Session-Id",this.G),Pr(this,b),q&&(this.R?g="headers="+Gi(zn(q))+"&"+g:this.u&&kr(b,this.u,q)),zl(this.h,P),this.Ra&&tt(b,"TYPE","init"),this.S?(tt(b,"$req",g),tt(b,"SID","null"),P.U=!0,_i(P,b,null)):_i(P,b,g),this.I=2}}else this.I==3&&(c?Jl(this,c):this.i.length==0||Ul(this.h)||Jl(this))};function Jl(c,g){var b;g?b=g.l:b=c.V++;const T=Ot(c.J);tt(T,"SID",c.M),tt(T,"RID",b),tt(T,"AID",c.K),Pr(c,T),c.u&&c.o&&kr(T,c.u,c.o),b=new ti(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Ic(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),zl(c.h,b),_i(b,T,g)}function Pr(c,g){c.H&&De(c.H,function(b,T){tt(g,T,b)}),c.l&&De({},function(b,T){tt(g,T,b)})}function Ic(c,g,b){b=Math.min(c.i.length,b);const T=c.l?p(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ie=-1;for(;;){const At=["count="+b];Ie==-1?b>0?(Ie=P[0].g,At.push("ofs="+Ie)):Ie=0:At.push("ofs="+Ie);let Je=!0;for(let gt=0;gt<b;gt++){var q=P[gt].g;const Bn=P[gt].map;if(q-=Ie,q<0)Ie=Math.max(0,P[gt].g-100),Je=!1;else try{q="req"+q+"_"||"";try{var se=Bn instanceof Map?Bn:Object.entries(Bn);for(const[ji,ai]of se){let li=ai;y(ai)&&(li=Kt(ai)),At.push(q+ji+"="+encodeURIComponent(li))}}catch(ji){throw At.push(q+"type="+encodeURIComponent("_badmap")),ji}}catch{T&&T(Bn)}}if(Je){se=At.join("&");break e}}se=void 0}return c=c.i.splice(0,b),g.G=c,se}function jc(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;$||A(),ve||($(),ve=!0),C.add(g,c),c.A=0}}function Ur(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=yi(p(c.Da,c),Vc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=yi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Le(10),Ds(this),Oc(this))};function Zl(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Oc(c){c.g=new ti(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Ot(c.na);tt(g,"RID","rpc"),tt(g,"SID",c.M),tt(g,"AID",c.K),tt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&tt(g,"TO",c.ia),tt(g,"TYPE","xmlhttp"),Pr(c,g),c.u&&c.o&&kr(g,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Or(Ot(g)),b.u=null,b.R=!0,va(b,c)}r.Va=function(){this.C!=null&&(this.C=null,Ds(this),Ur(this),Le(19))};function Na(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Dc(c,g){var b=null;if(c.g==g){Na(c),Zl(c),c.g=null;var T=2}else if(Ei(c.h,g))b=g.G,Bl(c.h,g),T=1;else return;if(c.I!=0){if(g.o)if(T==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var P=c.D;T=As(),We(T,new mn(T,b)),Ri(c)}else jc(c);else if(P=g.m,P==3||P==0&&g.X>0||!(T==1&&Sa(c,g)||T==2&&Ur(c)))switch(b&&b.length>0&&(g=c.h,g.i=g.i.concat(b)),P){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Vc(c,g){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*g}function Ii(c,g){if(c.j.info("Error code "+g),g==2){var b=p(c.bb,c),T=c.Ua;const P=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(T,"https"),Or(T),P?ii(T.toString(),b):Kl(T.toString(),b)}else Le(2);c.I=0,c.l&&c.l.pa(g),kc(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function kc(c){if(c.I=0,c.ja=[],c.l){const g=ql(c.h);(g.length!=0||c.i.length!=0)&&(K(c.ja,g),K(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Mc(c,g,b){var T=b instanceof Sn?Ot(b):new Sn(b);if(T.g!="")g&&(T.g=g+"."+T.g),Ss(T,T.u);else{var P=d.location;T=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const q=new Sn(null);T&&Ht(q,T),g&&(q.g=g),P&&Ss(q,P),b&&(q.h=b),T=q}return b=c.G,g=c.wa,b&&g&&tt(T,b,g),tt(T,"VER",c.ka),Pr(c,T),T}function Lc(c,g,b){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new st(new Si({ab:b})):new st(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}r=Pc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Vs(){}Vs.prototype.g=function(c,g){return new hn(c,g)};function hn(c,g){_t.call(this),this.g=new Os(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!S(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!S(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Yi(this)}E(hn,_t),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Xl(this.g)},hn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=Kt(c),c=b);g.i.push(new jt(g.Ya++,c)),g.I==3&&Ri(g)},hn.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,hn.Z.N.call(this)};function Uc(c){Rt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}E(Uc,Rt);function zc(){sn.call(this),this.status=1}E(zc,sn);function Yi(c){this.g=c}E(Yi,Pc),Yi.prototype.ra=function(){We(this.g,"a")},Yi.prototype.qa=function(c){We(this.g,new Uc(c))},Yi.prototype.pa=function(c){We(this.g,new zc)},Yi.prototype.oa=function(){We(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Cb=function(){return new Vs},Nb=function(){return As()},Sb=mt,Cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Zu=Ir,Ml.COMPLETE="complete",Ab=Ml,pi.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",_t.prototype.listen=_t.prototype.J,zo=pi,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,Eb=st}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let Nl="12.9.0";function LA(r){Nl=r}const oa=new Jm("@firebase/firestore");function al(){return oa.logLevel}function ue(r,...e){if(oa.logLevel<=ze.DEBUG){const n=e.map(eg);oa.debug(`Firestore (${Nl}): ${r}`,...n)}}function gs(r,...e){if(oa.logLevel<=ze.ERROR){const n=e.map(eg);oa.error(`Firestore (${Nl}): ${r}`,...n)}}function ca(r,...e){if(oa.logLevel<=ze.WARN){const n=e.map(eg);oa.warn(`Firestore (${Nl}): ${r}`,...n)}}function eg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Rb(r,s,n)}function Rb(r,e,n){let s=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gs(s),new Error(s)}function et(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Rb(e,o,s)}function Ce(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends _s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Ib{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class UA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zA{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,n(v)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new Ib(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class BA{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qA{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new BA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $A(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$A(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Be(r,e){return r<e?-1:r>e?1:0}function Rm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return hm(o)===hm(u)?Be(o,u):hm(o)?1:-1}return Be(r.length,e.length)}const FA=55296,GA=57343;function hm(r){const e=r.charCodeAt(0);return e>=FA&&e<=GA}function bl(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const kv="__name__";class Mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Be(e.length,n.length)}static compareSegments(e,n){const s=Mi.isNumericId(e),o=Mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class ut extends Mi{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const KA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Mi{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return KA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kv}static keyField(){return new tn([kv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(u(),o++)}if(u(),d)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ut.fromString(e))}static fromName(e){return new be(ut.fromString(e).popFirst(5))}static empty(){return new be(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ut(e.slice()))}}function jb(r,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function QA(r,e,n,s){if(e===!0&&s===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Mv(r){if(!be.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Lv(r){if(be.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ob(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Jn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ut(r,e){const n={typeString:r};return e&&(n.value=e),n}function uc(r,e){if(!Ob(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}const Pv=-62135596800,Uv=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Uv);return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Pv)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Pv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ut("string",ft._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ft(0,0))}static max(){return new Se(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zo=-1;function YA(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new yr(o,be.empty(),e)}function XA(r){return new yr(r.readTime,r.key,Zo)}class yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new yr(Se.min(),be.empty(),Zo)}static max(){return new yr(Se.max(),be.empty(),Zo)}}function JA(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(r.documentKey,e.documentKey),n!==0?n:Be(r.largestBatchId,e.largestBatchId))}const ZA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==ZA)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,s)=>{n(e)}))}static reject(e){return new W(((n,s)=>{s(e)}))}static waitFor(e){return new W(((n,s)=>{let o=0,u=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++u,d&&u===o&&n()}),(v=>s(v)))})),d=!0,u===o&&n()}))}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new W(((s,o)=>{const u=e.length,d=new Array(u);let y=0;for(let v=0;v<u;v++){const p=v;n(e[p]).next((w=>{d[p]=w,++y,y===u&&s(d)}),(w=>o(w)))}}))}static doWhile(e,n){return new W(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function eS(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(r){return r.name==="IndexedDbTransactionError"}class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;const ng=-1;function kh(r){return r==null}function dh(r){return r===0&&1/r==-1/0}function tS(r){return typeof r=="number"&&Number.isInteger(r)&&!dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Db="";function nS(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=zv(e)),e=iS(r.get(n),e);return zv(e)}function iS(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Db:n+="";break;default:n+=u}}return n}function zv(r){return r+Db+""}function Bv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ar(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Vb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new en(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qv(this.data.getIterator())}getIteratorFrom(e){return new qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Bt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new kb("Invalid base64 string: "+u):u}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const sS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(r){if(et(!!r,39018),typeof r=="string"){let e=0;const n=sS.exec(r);if(et(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _r(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}const Mb="server_timestamp",Lb="__type__",Pb="__previous_value__",Ub="__local_write_time__";function ig(r){return(r?.mapValue?.fields||{})[Lb]?.stringValue===Mb}function Mh(r){const e=r.mapValue.fields[Pb];return ig(e)?Mh(e):e}function Wo(r){const e=vr(r.mapValue.fields[Ub].timestampValue);return new ft(e.seconds,e.nanos)}class rS{constructor(e,n,s,o,u,d,y,v,p,w,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=p,this.isUsingEmulator=w,this.apiKey=E}}const fh="(default)";class ec{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}function aS(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(r.options.projectId,e)}const zb="__type__",lS="__max__",Gu={mapValue:{}},Bb="__vector__",mh="value";function br(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ig(r)?4:cS(r)?9007199254740991:oS(r)?10:11:Te(28295,{value:r})}function qi(r,e){if(r===e)return!0;const n=br(r);if(n!==br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wo(r).isEqual(Wo(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=vr(o.timestampValue),y=vr(u.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return _r(o.bytesValue).isEqual(_r(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Ct(o.doubleValue),y=Ct(u.doubleValue);return d===y?dh(d)===dh(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return bl(r.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},y=u.mapValue.fields||{};if(Bv(d)!==Bv(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!qi(d[v],y[v])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function tc(r,e){return(r.values||[]).find((n=>qi(n,e)))!==void 0}function xl(r,e){if(r===e)return 0;const n=br(r),s=br(e);if(n!==s)return Be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const y=Ct(u.integerValue||u.doubleValue),v=Ct(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return Hv(r.timestampValue,e.timestampValue);case 4:return Hv(Wo(r),Wo(e));case 5:return Rm(r.stringValue,e.stringValue);case 6:return(function(u,d){const y=_r(u),v=_r(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const y=u.split("/"),v=d.split("/");for(let p=0;p<y.length&&p<v.length;p++){const w=Be(y[p],v[p]);if(w!==0)return w}return Be(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const y=Be(Ct(u.latitude),Ct(d.latitude));return y!==0?y:Be(Ct(u.longitude),Ct(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return $v(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const y=u.fields||{},v=d.fields||{},p=y[mh]?.arrayValue,w=v[mh]?.arrayValue,E=Be(p?.values?.length||0,w?.values?.length||0);return E!==0?E:$v(p,w)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Gu.mapValue&&d===Gu.mapValue)return 0;if(u===Gu.mapValue)return 1;if(d===Gu.mapValue)return-1;const y=u.fields||{},v=Object.keys(y),p=d.fields||{},w=Object.keys(p);v.sort(),w.sort();for(let E=0;E<v.length&&E<w.length;++E){const R=Rm(v[E],w[E]);if(R!==0)return R;const L=xl(y[v[E]],p[w[E]]);if(L!==0)return L}return Be(v.length,w.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Hv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const n=vr(r),s=vr(e),o=Be(n.seconds,s.seconds);return o!==0?o:Be(n.nanos,s.nanos)}function $v(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=xl(n[o],s[o]);if(u)return u}return Be(n.length,s.length)}function wl(r){return Im(r)}function Im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=vr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return _r(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return be.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Im(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${Im(n.fields[d])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function Wu(r){switch(br(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(r);return e?16+Wu(e):16;case 5:return 2*r.stringValue.length;case 6:return _r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Wu(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ar(s.fields,((u,d)=>{o+=u.length+Wu(d)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function Fv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jm(r){return!!r&&"integerValue"in r}function sg(r){return!!r&&"arrayValue"in r}function Gv(r){return!!r&&"nullValue"in r}function Kv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function eh(r){return!!r&&"mapValue"in r}function oS(r){return(r?.mapValue?.fields||{})[zb]?.stringValue===Bb}function Fo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ar(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fo(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fo(r.arrayValue.values[n]);return e}return{...r}}function cS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lS}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fo(n)}setAll(e){let n=tn.emptyPath(),s={},o=[];e.forEach(((d,y)=>{if(!n.isImmediateParentOf(y)){const v=this.getFieldsMap(n);this.applyChanges(v,s,o),s={},o=[],n=y.popLast()}d?s[y.lastSegment()]=Fo(d):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ar(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Tn(Fo(this.value))}}function qb(r){const e=[];return Ar(r.fields,((n,s)=>{const o=new tn([n]);if(eh(s)){const u=qb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new kn(e)}class on{constructor(e,n,s,o,u,d,y){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=y}static newInvalidDocument(e){return new on(e,0,Se.min(),Se.min(),Se.min(),Tn.empty(),0)}static newFoundDocument(e,n,s,o){return new on(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new on(e,2,n,Se.min(),Se.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,Se.min(),Se.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gh{constructor(e,n){this.position=e,this.inclusive=n}}function Qv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?s=be.comparator(be.fromName(d.referenceValue),n.key):s=xl(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!qi(r.position[n],e.position[n]))return!1;return!0}class ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function uS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Hb{}class Pt extends Hb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new dS(e,n,s):n==="array-contains"?new gS(e,s):n==="in"?new pS(e,s):n==="not-in"?new yS(e,s):n==="array-contains-any"?new vS(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new fS(e,s):new mS(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&br(this.value)===br(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends Hb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mi(e,n)}matches(e){return $b(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $b(r){return r.op==="and"}function Fb(r){return hS(r)&&$b(r)}function hS(r){for(const e of r.filters)if(e instanceof mi)return!1;return!0}function Om(r){if(r instanceof Pt)return r.field.canonicalString()+r.op.toString()+wl(r.value);if(Fb(r))return r.filters.map((e=>Om(e))).join(",");{const e=r.filters.map((n=>Om(n))).join(",");return`${r.op}(${e})`}}function Gb(r,e){return r instanceof Pt?(function(s,o){return o instanceof Pt&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(r,e):r instanceof mi?(function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,d,y)=>u&&Gb(d,o.filters[y])),!0):!1})(r,e):void Te(19439)}function Kb(r){return r instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`})(r):r instanceof mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Kb).join(" ,")+"}"})(r):"Filter"}class dS extends Pt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class fS extends Pt{constructor(e,n){super(e,"in",n),this.keys=Qb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mS extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=Qb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Qb(r,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class gS extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sg(n)&&tc(n.arrayValue,this.value)}}class pS extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tc(this.value.arrayValue,n)}}class yS extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tc(this.value.arrayValue,n)}}class vS extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>tc(this.value.arrayValue,s)))}}class _S{constructor(e,n=null,s=[],o=[],u=null,d=null,y=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=y,this.Te=null}}function Xv(r,e=null,n=[],s=[],o=null,u=null,d=null){return new _S(r,e,n,s,o,u,d)}function rg(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Om(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>wl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>wl(s))).join(",")),e.Te=n}return e.Te}function ag(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!uS(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Gb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Yv(r.startAt,e.startAt)&&Yv(r.endAt,e.endAt)}function Dm(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hc{constructor(e,n=null,s=[],o=[],u=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bS(r,e,n,s,o,u,d,y){return new hc(r,e,n,s,o,u,d,y)}function Lh(r){return new hc(r)}function Jv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xS(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Yb(r){return r.collectionGroup!==null}function Go(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Bt(tn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((p=>{p.isInequality()&&(y=y.add(p.field))}))})),y})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ph(u,s))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new ph(tn.keyField(),s))}return e.Ie}function Li(r){const e=Ce(r);return e.Ee||(e.Ee=wS(e,Go(r))),e.Ee}function wS(r,e){if(r.limitType==="F")return Xv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ph(o.field,u)}));const n=r.endAt?new gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new gh(r.startAt.position,r.startAt.inclusive):null;return Xv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Vm(r,e){const n=r.filters.concat([e]);return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function yh(r,e,n){return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ph(r,e){return ag(Li(r),Li(e))&&r.limitType===e.limitType}function Xb(r){return`${rg(Li(r))}|lt:${r.limitType}`}function ll(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Kb(o))).join(", ")}]`),kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>wl(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>wl(o))).join(",")),`Target(${s})`})(Li(r))}; limitType=${r.limitType})`}function Uh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):be.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Go(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,y,v){const p=Qv(d,y,v);return d.inclusive?p<=0:p<0})(s.startAt,Go(s),o)||s.endAt&&!(function(d,y,v){const p=Qv(d,y,v);return d.inclusive?p>=0:p>0})(s.endAt,Go(s),o))})(r,e)}function TS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Jb(r){return(e,n)=>{let s=!1;for(const o of Go(r)){const u=ES(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ES(r,e,n){const s=r.field.isKeyField()?be.comparator(e.key,n.key):(function(u,d,y){const v=d.data.field(u),p=y.data.field(u);return v!==null&&p!==null?xl(v,p):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Vb(this.inner)}size(){return this.innerSize}}const AS=new vt(be.comparator);function ps(){return AS}const Zb=new vt(be.comparator);function Bo(...r){let e=Zb;for(const n of r)e=e.insert(n.key,n);return e}function Wb(r){let e=Zb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function sa(){return Ko()}function e1(){return Ko()}function Ko(){return new da((r=>r.toString()),((r,e)=>r.isEqual(e)))}const SS=new vt(be.comparator),NS=new Bt(be.comparator);function qe(...r){let e=NS;for(const n of r)e=e.add(n);return e}const CS=new Bt(Be);function RS(){return CS}function lg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function t1(r){return{integerValue:""+r}}function IS(r,e){return tS(e)?t1(e):lg(r,e)}class zh{constructor(){this._=void 0}}function jS(r,e,n){return r instanceof nc?(function(o,u){const d={fields:{[Lb]:{stringValue:Mb},[Ub]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=Mh(u)),u&&(d.fields[Pb]=u),{mapValue:d}})(n,e):r instanceof ic?i1(r,e):r instanceof sc?s1(r,e):(function(o,u){const d=n1(o,u),y=Zv(d)+Zv(o.Ae);return jm(d)&&jm(o.Ae)?t1(y):lg(o.serializer,y)})(r,e)}function OS(r,e,n){return r instanceof ic?i1(r,e):r instanceof sc?s1(r,e):n}function n1(r,e){return r instanceof vh?(function(s){return jm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class nc extends zh{}class ic extends zh{constructor(e){super(),this.elements=e}}function i1(r,e){const n=r1(e);for(const s of r.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class sc extends zh{constructor(e){super(),this.elements=e}}function s1(r,e){let n=r1(e);for(const s of r.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class vh extends zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Zv(r){return Ct(r.integerValue||r.doubleValue)}function r1(r){return sg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class DS{constructor(e,n){this.field=e,this.transform=n}}function VS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ic&&o instanceof ic||s instanceof sc&&o instanceof sc?bl(s.elements,o.elements,qi):s instanceof vh&&o instanceof vh?qi(s.Ae,o.Ae):s instanceof nc&&o instanceof nc})(r.transform,e.transform)}class kS{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Bh{}function a1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new og(r.key,Zn.none()):new dc(r.key,r.data,Zn.none());{const n=r.data,s=Tn.empty();let o=new Bt(tn.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new Sr(r.key,s,new kn(o.toArray()),Zn.none())}}function MS(r,e,n){r instanceof dc?(function(o,u,d){const y=o.value.clone(),v=e_(o.fieldTransforms,u,d.transformResults);y.setAll(v),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,n):r instanceof Sr?(function(o,u,d){if(!th(o.precondition,u))return void u.convertToUnknownDocument(d.version);const y=e_(o.fieldTransforms,u,d.transformResults),v=u.data;v.setAll(l1(o)),v.setAll(y),u.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Qo(r,e,n,s){return r instanceof dc?(function(u,d,y,v){if(!th(u.precondition,d))return y;const p=u.value.clone(),w=t_(u.fieldTransforms,v,d);return p.setAll(w),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Sr?(function(u,d,y,v){if(!th(u.precondition,d))return y;const p=t_(u.fieldTransforms,v,d),w=d.data;return w.setAll(l1(u)),w.setAll(p),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(r,e,n,s):(function(u,d,y){return th(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,n)}function LS(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=n1(s.transform,o||null);u!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,u))}return n||null}function Wv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&bl(s,o,((u,d)=>VS(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class dc extends Bh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends Bh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function l1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function e_(r,e,n){const s=new Map;et(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,y=e.data.field(u.field);s.set(u.field,OS(d,y,n[o]))}return s}function t_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);s.set(o.field,jS(u,d,e))}return s}class og extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PS extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class US{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MS(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Qo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Qo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=e1();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let y=this.applyToLocalView(d,u.mutatedFields);y=n.has(o.key)?null:y;const v=a1(d,y);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((n,s)=>Wv(n,s)))&&bl(this.baseMutations,e.baseMutations,((n,s)=>Wv(n,s)))}}class cg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){et(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return SS})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new cg(e,n,s,o)}}class zS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BS{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,$e;function qS(r){switch(r){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function o1(r){if(r===void 0)return gs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Lt.OK:return Z.OK;case Lt.CANCELLED:return Z.CANCELLED;case Lt.UNKNOWN:return Z.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return Z.INTERNAL;case Lt.UNAVAILABLE:return Z.UNAVAILABLE;case Lt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Lt.NOT_FOUND:return Z.NOT_FOUND;case Lt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Lt.ABORTED:return Z.ABORTED;case Lt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Lt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}($e=Lt||(Lt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function HS(){return new TextEncoder}const $S=new fr([4294967295,4294967295],0);function n_(r){const e=HS().encode(r),n=new Tb;return n.update(e),new Uint8Array(n.digest())}function i_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fr([n,s],0),new fr([o,u],0)]}class ug{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new qo(`Invalid padding: ${n}`);if(s<0)throw new qo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new qo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(fr.fromNumber(s)));return o.compare($S)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n_(e),[s,o]=i_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ug(u,o,n);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const n=n_(e),[s,o]=i_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qh(Se.min(),o,new vt(Be),ps(),qe())}}class fc{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new fc(s,n,qe(),qe(),qe())}}class nh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class c1{constructor(e,n){this.targetId=e,this.Ce=n}}class u1{constructor(e,n,s=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class s_{constructor(){this.ve=0,this.Fe=r_(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),s=qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new fc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=r_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class FS{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.He=Ku(),this.Je=Ku(),this.Ze=new vt(Be)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Dm(u))if(s===0){const d=new be(u.path);this.et(n,d,on.newNoDocument(d,Se.min()))}else et(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(n);const p=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let d,y;try{d=_r(s).toUint8Array()}catch(v){if(v instanceof kb)return ca("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new ug(d,o,u)}catch(v){return ca(v instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const y=this.ot(d);if(y){if(u.current&&Dm(y.target)){const v=new be(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,on.newNoDocument(v,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let s=qe();this.Je.forEach(((u,d)=>{let y=!0;d.forEachWhile((v=>{const p=this.ot(v);return!p||p.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new qh(e,n,this.Ze,this.je,s);return this.je=ps(),this.He=Ku(),this.Je=Ku(),this.Ze=new vt(Be),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new s_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Bt(Be),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Bt(Be),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new s_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ku(){return new vt(be.comparator)}function r_(){return new vt(be.comparator)}const GS={asc:"ASCENDING",desc:"DESCENDING"},KS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QS={and:"AND",or:"OR"};class YS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(r,e){return r.useProto3Json||kh(e)?e:{value:e}}function _h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function XS(r,e){return _h(r,e.toTimestamp())}function Pi(r){return et(!!r,49232),Se.fromTimestamp((function(n){const s=vr(n);return new ft(s.seconds,s.nanos)})(r))}function hg(r,e){return Mm(r,e).canonicalString()}function Mm(r,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function d1(r){const e=ut.fromString(r);return et(y1(e),10190,{key:e.toString()}),e}function Lm(r,e){return hg(r.databaseId,e.path)}function dm(r,e){const n=d1(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new be(m1(n))}function f1(r,e){return hg(r.databaseId,e)}function JS(r){const e=d1(r);return e.length===4?ut.emptyPath():m1(e)}function Pm(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function m1(r){return et(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function a_(r,e,n){return{name:Lm(r,e),fields:n.value.mapValue.fields}}function ZS(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,w){return p.useProto3Json?(et(w===void 0||typeof w=="string",58123),nn.fromBase64String(w||"")):(et(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),nn.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(p){const w=p.code===void 0?Z.UNKNOWN:o1(p.code);return new ce(w,p.message||"")})(d);n=new u1(s,o,u,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=dm(r,s.document.name),u=Pi(s.document.updateTime),d=s.document.createTime?Pi(s.document.createTime):Se.min(),y=new Tn({mapValue:{fields:s.document.fields}}),v=on.newFoundDocument(o,u,d,y),p=s.targetIds||[],w=s.removedTargetIds||[];n=new nh(p,w,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=dm(r,s.document),u=s.readTime?Pi(s.readTime):Se.min(),d=on.newNoDocument(o,u),y=s.removedTargetIds||[];n=new nh([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=dm(r,s.document),u=s.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new BS(o,u),y=s.targetId;n=new c1(y,d)}}return n}function WS(r,e){let n;if(e instanceof dc)n={update:a_(r,e.key,e.value)};else if(e instanceof og)n={delete:Lm(r,e.key)};else if(e instanceof Sr)n={update:a_(r,e.key,e.data),updateMask:oN(e.fieldMask)};else{if(!(e instanceof PS))return Te(16599,{dt:e.type});n={verify:Lm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const y=d.transform;if(y instanceof nc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof ic)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof sc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof vh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Te(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:XS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function eN(r,e){return r&&r.length>0?(et(e!==void 0,14353),r.map((n=>(function(o,u){let d=o.updateTime?Pi(o.updateTime):Pi(u);return d.isEqual(Se.min())&&(d=Pi(u)),new kS(d,o.transformResults||[])})(n,e)))):[]}function tN(r,e){return{documents:[f1(r,e.path)]}}function nN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=f1(r,o);const u=(function(p){if(p.length!==0)return p1(mi.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((w=>(function(R){return{field:ol(R.field),direction:rN(R.dir)}})(w)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const y=km(r,e.limit);return y!==null&&(n.structuredQuery.limit=y),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function iN(r){let e=JS(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){et(s===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=(function(E){const R=g1(E);return R instanceof mi&&Fb(R)?R.getFilters():[R]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((R=>(function(K){return new ph(cl(K.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(R)))})(n.orderBy));let y=null;n.limit&&(y=(function(E){let R;return R=typeof E=="object"?E.value:E,kh(R)?null:R})(n.limit));let v=null;n.startAt&&(v=(function(E){const R=!!E.before,L=E.values||[];return new gh(L,R)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const R=!E.before,L=E.values||[];return new gh(L,R)})(n.endAt)),bS(e,o,d,u,y,"F",v,p)}function sN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function g1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=cl(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=cl(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=cl(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cl(n.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Pt.create(cl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return mi.create(n.compositeFilter.filters.map((s=>g1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function rN(r){return GS[r]}function aN(r){return KS[r]}function lN(r){return QS[r]}function ol(r){return{fieldPath:r.canonicalString()}}function cl(r){return tn.fromServerFormat(r.fieldPath)}function p1(r){return r instanceof Pt?(function(n){if(n.op==="=="){if(Kv(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(Gv(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kv(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(Gv(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:aN(n.op),value:n.value}}})(r):r instanceof mi?(function(n){const s=n.getFilters().map((o=>p1(o)));return s.length===1?s[0]:{compositeFilter:{op:lN(n.op),filters:s}}})(r):Te(54877,{filter:r})}function oN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function y1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function v1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class or{constructor(e,n,s,o,u=Se.min(),d=Se.min(),y=nn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cN{constructor(e){this.yt=e}}function uN(r){const e=iN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?yh(e,e.limit,"L"):e}class hN{constructor(){this.Sn=new dN}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(yr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class dN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Bt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(ut.comparator)).toArray()}}const l_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_1=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(_1,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Tl(0)}static ar(){return new Tl(-1)}}const o_="LruGarbageCollector",fN=1048576;function c_([r,e],[n,s]){const o=Be(r,n);return o===0?Be(e,s):o}class mN{constructor(e){this.Pr=e,this.buffer=new Bt(c_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();c_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(o_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?ue(o_,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Ar(3e5)}))}}class pN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Vh.ce);const s=new mN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(l_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,d,y,v,p;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,y=Date.now(),this.removeTargets(e,s,n)))).next((E=>(u=E,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(p=Date.now(),al()<=ze.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${u} targets in `+(v-y)+`ms
	Removed ${E} documents in `+(p-v)+`ms
Total Duration: ${p-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function yN(r,e){return new pN(r,e)}class vN{constructor(){this.changes=new da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _N{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class bN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Qo(s.mutation,o,kn.empty(),ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=qe()){const o=sa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let d=Bo();return u.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=sa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,qe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,y)=>{n.set(d,y)}))}))}computeViews(e,n,s,o){let u=ps();const d=Ko(),y=(function(){return Ko()})();return n.forEach(((v,p)=>{const w=s.get(p.key);o.has(p.key)&&(w===void 0||w.mutation instanceof Sr)?u=u.insert(p.key,p):w!==void 0?(d.set(p.key,w.mutation.getFieldMask()),Qo(w.mutation,p,w.mutation.getFieldMask(),ft.now())):d.set(p.key,kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((p,w)=>d.set(p,w))),n.forEach(((p,w)=>y.set(p,new _N(w,d.get(p)??null)))),y)))}recalculateAndSaveOverlays(e,n){const s=Ko();let o=new vt(((d,y)=>d-y)),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const y of d)y.keys().forEach((v=>{const p=n.get(v);if(p===null)return;let w=s.get(v)||kn.empty();w=y.applyToLocalView(p,w),s.set(v,w);const E=(o.get(y.batchId)||qe()).add(v);o=o.insert(y.batchId,E)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),p=v.key,w=v.value,E=e1();w.forEach((R=>{if(!u.has(R)){const L=a1(n.get(R),s.get(R));L!==null&&E.set(R,L),u=u.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,E))}return W.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return xS(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(sa());let y=Zo,v=u;return d.next((p=>W.forEach(p,((w,E)=>(y<E.largestBatchId&&(y=E.largestBatchId),u.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next((R=>{v=v.insert(w,R)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,v,p,qe()))).next((w=>({batchId:y,changes:Wb(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let o=Bo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let d=Bo();return this.indexManager.getCollectionParents(e,u).next((y=>W.forEach(y,(v=>{const p=(function(E,R){return new hc(R,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((w=>{w.forEach(((E,R)=>{d=d.insert(E,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((d=>{u.forEach(((v,p)=>{const w=p.getKey();d.get(w)===null&&(d=d.insert(w,on.newInvalidDocument(w)))}));let y=Bo();return d.forEach(((v,p)=>{const w=u.get(v);w!==void 0&&Qo(w.mutation,p,kn.empty(),ft.now()),Uh(n,p)&&(y=y.insert(v,p))})),y}))}}class xN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:uN(o.bundledQuery),readTime:Pi(o.readTime)}})(n)),W.resolve()}}class wN{constructor(){this.overlays=new vt(be.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=sa();return W.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=sa(),u=n.length+1,d=new be(n.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,p=v.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&v.largestBatchId>s&&o.set(v.getKey(),v)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new vt(((p,w)=>p-w));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let w=u.get(p.largestBatchId);w===null&&(w=sa(),u=u.insert(p.largestBatchId,w)),w.set(p.getKey(),p)}}const y=sa(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((p,w)=>y.set(p,w))),!(y.size()>=o)););return W.resolve(y)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new zS(n,s));let u=this.Lr.get(n);u===void 0&&(u=qe(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class TN{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class dg{constructor(){this.kr=new Bt(Ft.Kr),this.qr=new Bt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ft(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ft(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new be(new ut([])),s=new Ft(n,e),o=new Ft(n,e+1),u=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new ut([])),s=new Ft(n,e),o=new Ft(n,e+1);let u=qe();return this.qr.forEachInRange([s,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Ft(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||Be(e.Hr,n.Hr)}static Ur(e,n){return Be(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class EN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Bt(Ft.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new US(u,n,s,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new Ft(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?ng:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(d=>{const y=this.Zr(d.Hr);u.push(y)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(Be);return n.forEach((o=>{const u=new Ft(o,0),d=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(y=>{s=s.add(y.Hr)}))})),W.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;be.isDocumentKey(u)||(u=u.child(""));const d=new Ft(new be(u),0);let y=new Bt(Be);return this.Jr.forEachWhile((v=>{const p=v.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(y=y.add(v.Hr)),!0)}),d),W.resolve(this.Yr(y))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){et(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return W.forEach(n.mutations,(o=>{const u=new Ft(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ft(n,0),o=this.Jr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class AN{constructor(e){this.ti=e,this.docs=(function(){return new vt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let s=ps();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ps();const d=n.path,y=new be(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:p,value:{document:w}}=v.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||JA(XA(w),s)<=0||(o.has(w.key)||Uh(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ni(e,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new SN(this)}getSize(e){return W.resolve(this.size)}}class SN extends vN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class NN{constructor(e){this.persistence=e,this.ri=new da((n=>rg(n)),ag),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new dg,this.targetCount=0,this.oi=Tl._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Tl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=n&&s.get(y.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}class b1{constructor(e,n){this._i={},this.overlays={},this.ai=new Vh(0),this.ui=!1,this.ui=!0,this.ci=new TN,this.referenceDelegate=e(this),this.li=new NN(this),this.indexManager=new hN,this.remoteDocumentCache=(function(o){return new AN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new cN(n),this.Pi=new xN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new EN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new CN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return W.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class CN extends WA{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Ri=new dg,this.Ai=null}static Vi(e){return new fg(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(s=>{const o=be.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.fi=new da((s=>nS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=yN(this,n)}static Vi(e,n){return new bh(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return W.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((y=>{y||(s++,u.removeEntry(d,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wu(e.data.value)),n}wr(e,n,s){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=qe(),o=qe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mg(e,n.fromCache,s,o)}}class RN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class IN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return y2()?8:eS(cn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new RN;return this.ys(e,n,d).next((y=>{if(u.result=y,this.As)return this.ws(e,n,d,y.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(al()<=ze.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(al()<=ze.DEBUG&&ue("QueryEngine","Query:",ll(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(al()<=ze.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):W.resolve())}gs(e,n){if(Jv(n))return W.resolve(null);let s=Li(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=yh(n,null,"F"),s=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=qe(...u);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const p=this.bs(n,y);return this.Ss(n,p,d,v.readTime)?this.gs(e,yh(n,null,"F")):this.Ds(e,p,n,v)}))))})))))}ps(e,n,s,o){return Jv(n)||o.isEqual(Se.min())?W.resolve(null):this.fs.getDocuments(e,s).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,s,o)?W.resolve(null):(al()<=ze.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ll(n)),this.Ds(e,d,n,YA(o,Zo)).next((y=>y)))}))}bs(e,n){let s=new Bt(Jb(e));return n.forEach(((o,u)=>{Uh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return al()<=ze.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ll(n)),this.fs.getDocumentsMatchingQuery(e,n,yr.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const gg="LocalStore",jN=3e8;class ON{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new vt(Be),this.Fs=new da((u=>rg(u)),ag),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function DN(r,e,n,s){return new ON(r,e,n,s)}async function x1(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],y=[];let v=qe();for(const p of o){d.push(p.batchId);for(const w of p.mutations)v=v.add(w.key)}for(const p of u){y.push(p.batchId);for(const w of p.mutations)v=v.add(w.key)}return n.localDocuments.getDocuments(s,v).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:y})))}))}))}function VN(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(y,v,p,w){const E=p.batch,R=E.keys();let L=W.resolve();return R.forEach((K=>{L=L.next((()=>w.getEntry(v,K))).next((ie=>{const te=p.docVersions.get(K);et(te!==null,48541),ie.version.compareTo(te)<0&&(E.applyToRemoteDocument(ie,p),ie.isValidDocument()&&(ie.setReadTime(p.commitVersion),w.addEntry(ie)))}))})),L.next((()=>y.mutationQueue.removeMutationBatch(v,E)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=qe();for(let p=0;p<y.mutationResults.length;++p)y.mutationResults[p].transformResults.length>0&&(v=v.add(y.batch.mutations[p].key));return v})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function w1(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function kN(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const y=[];e.targetChanges.forEach(((w,E)=>{const R=o.get(E);if(!R)return;y.push(n.li.removeMatchingKeys(u,w.removedDocuments,E).next((()=>n.li.addMatchingKeys(u,w.addedDocuments,E))));let L=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?L=L.withResumeToken(nn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,s)),o=o.insert(E,L),(function(ie,te,de){return ie.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=jN?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(R,L,w)&&y.push(n.li.updateTargetData(u,L))}));let v=ps(),p=qe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),y.push(MN(u,d,e.documentUpdates).next((w=>{v=w.Bs,p=w.Ls}))),!s.isEqual(Se.min())){const w=n.li.getLastRemoteSnapshotVersion(u).next((E=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));y.push(w)}return W.waitFor(y).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,v,p))).next((()=>v))})).then((u=>(n.vs=o,u)))}function MN(r,e,n){let s=qe(),o=qe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let d=ps();return n.forEach(((y,v)=>{const p=u.get(y);v.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Se.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!p.isValidDocument()||v.version.compareTo(p.version)>0||v.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ue(gg,"Ignoring outdated watch update for ",y,". Current version:",p.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function LN(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ng),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function PN(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,W.resolve(o)):n.li.allocateTargetId(s).next((d=>(o=new or(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Um(r,e,n){const s=Ce(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Rl(d))throw d;ue(gg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function u_(r,e,n){const s=Ce(r);let o=Se.min(),u=qe();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,p,w){const E=Ce(v),R=E.Fs.get(w);return R!==void 0?W.resolve(E.vs.get(R)):E.li.getTargetData(p,w)})(s,d,Li(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,y.targetId).next((v=>{u=v}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,n?o:Se.min(),n?u:qe()))).next((y=>(UN(s,TS(e),y),{documents:y,ks:u})))))}function UN(r,e,n){let s=r.Ms.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class h_{constructor(){this.activeTargetIds=RS()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zN{constructor(){this.vo=new h_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new h_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BN{Mo(e){}shutdown(){}}const d_="ConnectivityMonitor";class f_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(d_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(d_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qu=null;function zm(){return Qu===null?Qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qu++,"0x"+Qu.toString(16)}const fm="RestConnection",qN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class HN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===fh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const d=zm(),y=this.Qo(e,n.toUriEncodedString());ue(fm,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,u);const{host:p}=new URL(y),w=Al(p);return this.zo(e,y,v,s,w).then((E=>(ue(fm,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw ca(fm,`RPC '${e}' ${d} failed with error: `,E,"url: ",y,"request:",s),E}))}jo(e,n,s,o,u,d){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=qN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class $N{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const an="WebChannelConnection",Po=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class hl extends HN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!hl.c_){const e=Nb();Po(e,Sb.STAT_EVENT,(n=>{n.stat===Cm.PROXY?ue(an,"STAT_EVENT: detected buffering proxy"):n.stat===Cm.NOPROXY&&ue(an,"STAT_EVENT: detected no buffering proxy")})),hl.c_=!0}}zo(e,n,s,o,u){const d=zm();return new Promise(((y,v)=>{const p=new Eb;p.setWithCredentials(!0),p.listenOnce(Ab.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zu.NO_ERROR:const E=p.getResponseJson();ue(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),y(E);break;case Zu.TIMEOUT:ue(an,`RPC '${e}' ${d} timed out`),v(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const R=p.getStatus();if(ue(an,`RPC '${e}' ${d} failed with status:`,R,"response text:",p.getResponseText()),R>0){let L=p.getResponseJson();Array.isArray(L)&&(L=L[0]);const K=L?.error;if(K&&K.status&&K.message){const ie=(function(de){const me=de.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(me)>=0?me:Z.UNKNOWN})(K.status);v(new ce(ie,K.message))}else v(new ce(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else v(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(an,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);ue(an,`RPC '${e}' ${d} sending request:`,o),p.send(n,"POST",w,s,15)}))}T_(e,n,s){const o=zm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const p=u.join("");ue(an,`Creating RPC '${e}' stream ${o}: ${p}`,y);const w=d.createWebChannel(p,y);this.I_(w);let E=!1,R=!1;const L=new $N({Ho:K=>{R?ue(an,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(E||(ue(an,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),ue(an,`RPC '${e}' stream ${o} sending:`,K),w.send(K))},Jo:()=>w.close()});return Po(w,zo.EventType.OPEN,(()=>{R||(ue(an,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Po(w,zo.EventType.CLOSE,(()=>{R||(R=!0,ue(an,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(w))})),Po(w,zo.EventType.ERROR,(K=>{R||(R=!0,ca(an,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),L.o_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),Po(w,zo.EventType.MESSAGE,(K=>{if(!R){const ie=K.data[0];et(!!ie,16349);const te=ie,de=te?.error||te[0]?.error;if(de){ue(an,`RPC '${e}' stream ${o} received error:`,de);const me=de.status;let ne=(function(ve){const C=Lt[ve];if(C!==void 0)return o1(C)})(me),pe=de.message;me==="NOT_FOUND"&&pe.includes("database")&&pe.includes("does not exist")&&pe.includes(this.databaseId.database)&&ca(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ne===void 0&&(ne=Z.INTERNAL,pe="Unknown error status: "+me+" with message "+de.message),R=!0,L.o_(new ce(ne,pe)),w.close()}else ue(an,`RPC '${e}' stream ${o} received:`,ie),L.__(ie)}})),hl.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Cb()}}function FN(r){return new hl(r)}function mm(){return typeof document<"u"?document:null}function Hh(r){return new YS(r,!0)}hl.c_=!1;class T1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const m_="PersistentStream";class E1{constructor(e,n,s,o,u,d,y,v){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(m_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(m_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GN extends E1{constructor(e,n,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZS(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Pi(d.readTime):Se.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Pm(this.serializer),n.addTarget=(function(u,d){let y;const v=d.target;if(y=Dm(v)?{documents:tN(u,v)}:{query:nN(u,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=h1(u,d.resumeToken);const p=km(u,d.expectedCount);p!==null&&(y.expectedCount=p)}else if(d.snapshotVersion.compareTo(Se.min())>0){y.readTime=_h(u,d.snapshotVersion.toTimestamp());const p=km(u,d.expectedCount);p!==null&&(y.expectedCount=p)}return y})(this.serializer,e);const s=sN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.K_(n)}}class KN extends E1{constructor(e,n,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=eN(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Pm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>WS(this.serializer,s)))};this.K_(n)}}class QN{}class YN extends QN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Mm(n,s),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Z.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,Mm(n,s),o,d,y,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function XN(r,e,n,s){return new YN(r,e,n,s)}class JN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class ZN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{fa(this)&&(ue(ua,"Restarting streams for network reachability change."),await(async function(v){const p=Ce(v);p.Ea.add(4),await mc(p),p.Va.set("Unknown"),p.Ea.delete(4),await $h(p)})(this))}))})),this.Va=new JN(s,o)}}async function $h(r){if(fa(r))for(const e of r.Ra)await e(!0)}async function mc(r){for(const e of r.Ra)await e(!1)}function A1(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_g(n)?vg(n):Il(n).O_()&&yg(n,e))}function pg(r,e){const n=Ce(r),s=Il(n);n.Ia.delete(e),s.O_()&&S1(n,e),n.Ia.size===0&&(s.O_()?s.L_():fa(n)&&n.Va.set("Unknown"))}function yg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(r).Z_(e)}function S1(r,e){r.da.$e(e),Il(r).X_(e)}function vg(r){r.da=new FS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Il(r).start(),r.Va.ua()}function _g(r){return fa(r)&&!Il(r).x_()&&r.Ia.size>0}function fa(r){return Ce(r).Ea.size===0}function N1(r){r.da=void 0}async function WN(r){r.Va.set("Online")}async function e4(r){r.Ia.forEach(((e,n)=>{yg(r,e)}))}async function t4(r,e){N1(r),_g(r)?(r.Va.ha(e),vg(r)):r.Va.set("Unknown")}async function n4(r,e,n){if(r.Va.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(r,e)}catch(s){ue(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xh(r,s)}else if(e instanceof nh?r.da.Xe(e):e instanceof c1?r.da.st(e):r.da.tt(e),!n.isEqual(Se.min()))try{const s=await w1(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const y=u.da.Tt(d);return y.targetChanges.forEach(((v,p)=>{if(v.resumeToken.approximateByteSize()>0){const w=u.Ia.get(p);w&&u.Ia.set(p,w.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,p)=>{const w=u.Ia.get(v);if(!w)return;u.Ia.set(v,w.withResumeToken(nn.EMPTY_BYTE_STRING,w.snapshotVersion)),S1(u,v);const E=new or(w.target,v,p,w.sequenceNumber);yg(u,E)})),u.remoteSyncer.applyRemoteEvent(y)})(r,n)}catch(s){ue(ua,"Failed to raise snapshot:",s),await xh(r,s)}}async function xh(r,e,n){if(!Rl(e))throw e;r.Ea.add(1),await mc(r),r.Va.set("Offline"),n||(n=()=>w1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(ua,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await $h(r)}))}function C1(r,e){return e().catch((n=>xh(r,n,e)))}async function Fh(r){const e=Ce(r),n=xr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ng;for(;i4(e);)try{const o=await LN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,s4(e,o)}catch(o){await xh(e,o)}R1(e)&&I1(e)}function i4(r){return fa(r)&&r.Ta.length<10}function s4(r,e){r.Ta.push(e);const n=xr(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function R1(r){return fa(r)&&!xr(r).x_()&&r.Ta.length>0}function I1(r){xr(r).start()}async function r4(r){xr(r).ra()}async function a4(r){const e=xr(r);for(const n of r.Ta)e.ea(n.mutations)}async function l4(r,e,n){const s=r.Ta.shift(),o=cg.from(s,e,n);await C1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Fh(r)}async function o4(r,e){e&&xr(r).Y_&&await(async function(s,o){if((function(d){return qS(d)&&d!==Z.ABORTED})(o.code)){const u=s.Ta.shift();xr(s).B_(),await C1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Fh(s)}})(r,e),R1(r)&&I1(r)}async function g_(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),ue(ua,"RemoteStore received new credentials");const s=fa(n);n.Ea.add(3),await mc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $h(n)}async function c4(r,e){const n=Ce(r);e?(n.Ea.delete(2),await $h(n)):e||(n.Ea.add(2),await mc(n),n.Va.set("Unknown"))}function Il(r){return r.ma||(r.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new GN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:WN.bind(null,r),Yo:e4.bind(null,r),t_:t4.bind(null,r),J_:n4.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),_g(r)?vg(r):r.Va.set("Unknown")):(await r.ma.stop(),N1(r))}))),r.ma}function xr(r){return r.fa||(r.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new KN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:r4.bind(null,r),t_:o4.bind(null,r),ta:a4.bind(null,r),na:l4.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Fh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class bg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const d=Date.now()+s,y=new bg(e,n,d,o,u);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(r,e){if(gs("AsyncQueue",`${e}: ${r}`),Rl(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Bo(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new dl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class p_{constructor(){this.ga=new vt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class El{constructor(e,n,s,o,u,d,y,v,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const d=[];return n.forEach((y=>{d.push({type:0,doc:y})})),new El(e,n,dl.emptySet(n),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class u4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class h4{constructor(){this.queries=y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=y_(),u.forEach(((d,y)=>{for(const v of y.ba)v.onError(s)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function y_(){return new da((r=>Xb(r)),Ph)}async function j1(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new u4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const y=xg(d,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(y)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&wg(n)}async function O1(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function d4(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const y of d.ba)y.Fa(o)&&(s=!0);d.wa=o}}s&&wg(n)}function f4(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function wg(r){r.Ca.forEach((e=>{e.next()}))}var Bm,v_;(v_=Bm||(Bm={})).Ma="default",v_.Cache="cache";class D1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new El(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bm.Cache}}class V1{constructor(e){this.key=e}}class k1{constructor(e){this.key=e}}class m4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=Jb(e),this.tu=new dl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new p_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const R=o.get(w),L=Uh(this.query,E)?E:null,K=!!R&&this.mutatedKeys.has(R.key),ie=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let te=!1;R&&L?R.data.isEqual(L.data)?K!==ie&&(s.track({type:3,doc:L}),te=!0):this.su(R,L)||(s.track({type:2,doc:L}),te=!0,(v&&this.eu(L,v)>0||p&&this.eu(L,p)<0)&&(y=!0)):!R&&L?(s.track({type:0,doc:L}),te=!0):R&&!L&&(s.track({type:1,doc:R}),te=!0,(v||p)&&(y=!0)),te&&(L?(d=d.add(L),u=ie?u.add(w):u.delete(w)):(d=d.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{tu:d,iu:s,Ss:y,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,E)=>(function(L,K){const ie=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:te})}};return ie(L)-ie(K)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(s),o=o??!1;const y=n&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,p=v!==this.Xa;return this.Xa=v,d.length!==0||p?{snapshot:new El(this.query,e.tu,u,d,e.mutatedKeys,v===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new k1(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new V1(s))})),n}cu(e){this.Za=e.ks,this.Ya=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Tg="SyncEngine";class g4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class p4{constructor(e){this.key=e,this.hu=!1}}class y4{constructor(e,n,s,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((y=>Xb(y)),Ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(be.comparator),this.Au=new Map,this.Vu=new dg,this.du={},this.mu=new Map,this.fu=Tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v4(r,e,n=!0){const s=B1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await M1(s,e,n,!0),o}async function _4(r,e){const n=B1(r);await M1(n,e,!0,!1)}async function M1(r,e,n,s){const o=await PN(r.localStore,Li(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let y;return s&&(y=await b4(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&A1(r.remoteStore,o),y}async function b4(r,e,n,s,o){r.pu=(E,R,L)=>(async function(ie,te,de,me){let ne=te.view.ru(de);ne.Ss&&(ne=await u_(ie.localStore,te.query,!1).then((({documents:C})=>te.view.ru(C,ne))));const pe=me&&me.targetChanges.get(te.targetId),$=me&&me.targetMismatches.get(te.targetId)!=null,ve=te.view.applyChanges(ne,ie.isPrimaryClient,pe,$);return b_(ie,te.targetId,ve.au),ve.snapshot})(r,E,R,L);const u=await u_(r.localStore,e,!0),d=new m4(e,u.ks),y=d.ru(u.documents),v=fc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=d.applyChanges(y,r.isPrimaryClient,v);b_(r,n,p.au);const w=new g4(e,n,d);return r.Tu.set(e,w),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function x4(r,e,n){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((d=>!Ph(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Um(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&pg(s.remoteStore,o.targetId),qm(s,o.targetId)})).catch(Cl)):(qm(s,o.targetId),await Um(s.localStore,o.targetId,!0))}async function w4(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),pg(n.remoteStore,s.targetId))}async function T4(r,e,n){const s=I4(r);try{const o=await(function(d,y){const v=Ce(d),p=ft.now(),w=y.reduce(((L,K)=>L.add(K.key)),qe());let E,R;return v.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let K=ps(),ie=qe();return v.xs.getEntries(L,w).next((te=>{K=te,K.forEach(((de,me)=>{me.isValidDocument()||(ie=ie.add(de))}))})).next((()=>v.localDocuments.getOverlayedDocuments(L,K))).next((te=>{E=te;const de=[];for(const me of y){const ne=LS(me,E.get(me.key).overlayedDocument);ne!=null&&de.push(new Sr(me.key,ne,qb(ne.value.mapValue),Zn.exists(!0)))}return v.mutationQueue.addMutationBatch(L,p,de,y)})).next((te=>{R=te;const de=te.applyToLocalDocumentSet(E,ie);return v.documentOverlayCache.saveOverlays(L,te.batchId,de)}))})).then((()=>({batchId:R.batchId,changes:Wb(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let p=d.du[d.currentUser.toKey()];p||(p=new vt(Be)),p=p.insert(y,v),d.du[d.currentUser.toKey()]=p})(s,o.batchId,n),await gc(s,o.changes),await Fh(s.remoteStore)}catch(o){const u=xg(o,"Failed to persist write");n.reject(u)}}async function L1(r,e){const n=Ce(r);try{const s=await kN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?et(d.hu,14607):o.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await gc(n,s,e)}catch(s){await Cl(s)}}function __(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Ce(d);v.onlineState=y;let p=!1;v.queries.forEach(((w,E)=>{for(const R of E.ba)R.va(y)&&(p=!0)})),p&&wg(v)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function E4(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let d=new vt(be.comparator);d=d.insert(u,on.newNoDocument(u,Se.min()));const y=qe().add(u),v=new qh(Se.min(),new Map,new vt(Be),d,y);await L1(s,v),s.Ru=s.Ru.remove(u),s.Au.delete(e),Eg(s)}else await Um(s.localStore,e,!1).then((()=>qm(s,e,n))).catch(Cl)}async function A4(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await VN(n.localStore,e);U1(n,s,null),P1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gc(n,o)}catch(o){await Cl(o)}}async function S4(r,e,n){const s=Ce(r);try{const o=await(function(d,y){const v=Ce(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let w;return v.mutationQueue.lookupMutationBatch(p,y).next((E=>(et(E!==null,37113),w=E.keys(),v.mutationQueue.removeMutationBatch(p,E)))).next((()=>v.mutationQueue.performConsistencyCheck(p))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(p,w,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,w))).next((()=>v.localDocuments.getDocuments(p,w)))}))})(s.localStore,e);U1(s,e,n),P1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await gc(s,o)}catch(o){await Cl(o)}}function P1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function U1(r,e,n){const s=Ce(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||z1(r,s)}))}function z1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(pg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Eg(r))}function b_(r,e,n){for(const s of n)s instanceof V1?(r.Vu.addReference(s.key,e),N4(r,s)):s instanceof k1?(ue(Tg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||z1(r,s.key)):Te(19791,{wu:s})}function N4(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ue(Tg,"New document in limbo: "+n),r.Eu.add(s),Eg(r))}function Eg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new be(ut.fromString(e)),s=r.fu.next();r.Au.set(s,new p4(n)),r.Ru=r.Ru.insert(n,s),A1(r.remoteStore,new or(Li(Lh(n.path)),s,"TargetPurposeLimboResolution",Vh.ce))}}async function gc(r,e,n){const s=Ce(r),o=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const w=p?!p.fromCache:n?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,w?"current":"not-current")}if(p){o.push(p);const w=mg.Es(v.targetId,p);u.push(w)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(v,p){const w=Ce(v);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>W.forEach(p,(R=>W.forEach(R.Ts,(L=>w.persistence.referenceDelegate.addReference(E,R.targetId,L))).next((()=>W.forEach(R.Is,(L=>w.persistence.referenceDelegate.removeReference(E,R.targetId,L)))))))))}catch(E){if(!Rl(E))throw E;ue(gg,"Failed to update sequence numbers: "+E)}for(const E of p){const R=E.targetId;if(!E.fromCache){const L=w.vs.get(R),K=L.snapshotVersion,ie=L.withLastLimboFreeSnapshotVersion(K);w.vs=w.vs.insert(R,ie)}}})(s.localStore,u))}async function C4(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){ue(Tg,"User change. New user:",e.toKey());const s=await x1(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((y=>{y.forEach((v=>{v.reject(new ce(Z.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gc(n,s.Ns)}}function R4(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let o=qe();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const y=n.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function B1(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=L1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E4.bind(null,e),e.Pu.J_=d4.bind(null,e.eventManager),e.Pu.yu=f4.bind(null,e.eventManager),e}function I4(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S4.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return DN(this.persistence,new IN,e.initialUser,this.serializer)}Cu(e){return new b1(fg.Vi,this.serializer)}Du(e){return new zN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class j4 extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new b1((s=>bh.Vi(s,n)),this.serializer)}}class Hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>__(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=C4.bind(null,this.syncEngine),await c4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new h4})()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),s=FN(e.databaseInfo);return XN(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,d,y){return new ZN(s,o,u,d,y)})(this.localStore,this.datastore,e.asyncQueue,(n=>__(this.syncEngine,n,0)),(function(){return f_.v()?new f_:new BN})())}createSyncEngine(e,n){return(function(o,u,d,y,v,p,w){const E=new y4(o,u,d,y,v,p);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);ue(ua,"RemoteStore shutting down."),s.Ea.add(5),await mc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hm.provider={build:()=>new Hm};class q1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const wr="FirestoreClient";class O4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{ue(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ue(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function gm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(wr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await x1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function x_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await D4(r);ue(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>g_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>g_(e.remoteStore,o))),r._onlineComponents=e}async function D4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(wr,"Using user provided OfflineComponentProvider");try{await gm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await gm(r,new wh)}}else ue(wr,"Using default OfflineComponentProvider"),await gm(r,new j4(void 0));return r._offlineComponents}async function H1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(wr,"Using user provided OnlineComponentProvider"),await x_(r,r._uninitializedComponentsProvider._online)):(ue(wr,"Using default OnlineComponentProvider"),await x_(r,new Hm))),r._onlineComponents}function V4(r){return H1(r).then((e=>e.syncEngine))}async function $m(r){const e=await H1(r),n=e.eventManager;return n.onListen=v4.bind(null,e.syncEngine),n.onUnlisten=x4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w4.bind(null,e.syncEngine),n}function k4(r,e,n,s){const o=new q1(s),u=new D1(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>j1(await $m(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>O1(await $m(r),u)))}}function M4(r,e,n={}){const s=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,y,v,p){const w=new q1({next:R=>{w.Nu(),d.enqueueAndForget((()=>O1(u,E)));const L=R.docs.has(y);!L&&R.fromCache?p.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&R.fromCache&&v&&v.source==="server"?p.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(R)},error:R=>p.reject(R)}),E=new D1(Lh(y.path),w,{includeMetadataChanges:!0,Ka:!0});return j1(u,E)})(await $m(r),r.asyncQueue,e,n,s))),s.promise}function L4(r,e){const n=new mr;return r.asyncQueue.enqueueAndForget((async()=>T4(await V4(r),e,n))),n.promise}function $1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const P4="ComponentProvider",w_=new Map;function U4(r,e,n,s,o){return new rS(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,$1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const F1="firestore.googleapis.com",T_=!0;class E_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=F1,this.ssl=T_}else this.host=e.host,this.ssl=e.ssl??T_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fN)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new PA;switch(s.type){case"firstParty":return new qA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=w_.get(n);s&&(ue(P4,"Removing Datastore"),w_.delete(n),s.terminate())})(this),Promise.resolve()}}function z4(r,e,n,s={}){r=Jn(r,Gh);const o=Al(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${n}`;o&&(gb(`https://${y}`),pb("Firestore",!0)),u.host!==F1&&u.host!==y&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:y,ssl:o,emulatorOptions:s};if(!aa(v,d)&&(r._setSettings(v),s.mockUserToken)){let p,w;if(typeof s.mockUserToken=="string")p=s.mockUserToken,w=ln.MOCK_USER;else{p=o2(s.mockUserToken,r._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ln(E)}r._authCredentials=new UA(new Ib(p,w))}}class ma{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class Et{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(uc(n,Et._jsonSchema))return new Et(e,s||null,new be(ut.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Ut("string",Et._jsonSchemaVersion),referencePath:Ut("string")};class gr extends ma{constructor(e,n,s){super(e,n,Lh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new be(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function hs(r,e,...n){if(r=un(r),jb("collection","path",e),r instanceof Gh){const s=ut.fromString(e,...n);return Lv(s),new gr(r,null,s)}{if(!(r instanceof Et||r instanceof gr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return Lv(s),new gr(r.firestore,null,s)}}function Wt(r,e,...n){if(r=un(r),arguments.length===1&&(e=tg.newId()),jb("doc","path",e),r instanceof Gh){const s=ut.fromString(e,...n);return Mv(s),new Et(r,null,new be(s))}{if(!(r instanceof Et||r instanceof gr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return Mv(s),new Et(r.firestore,r instanceof gr?r.converter:null,new be(s))}}const A_="AsyncQueue";class S_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T1(this,"async_queue_retry"),this._c=()=>{const s=mm();s&&ue(A_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Rl(e))throw e;ue(A_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",N_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=bg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:N_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function N_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Tr extends Gh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new S_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S_(e),this._firestoreClient=void 0,await e}}}function B4(r,e){const n=typeof r=="object"?r:bb(),s=typeof r=="string"?r:fh,o=Wm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=a2("firestore");u&&z4(o,...u)}return o}function Ag(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||q4(r),r._firestoreClient}function q4(r){const e=r._freezeSettings(),n=U4(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new O4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(nn.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uc(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ut("string",Xn._jsonSchemaVersion),bytes:Ut("string")};class Sg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kh{constructor(e){this._methodName=e}}class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(uc(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Ut("string",Ui._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uc(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fi(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Ut("string",fi._jsonSchemaVersion),vectorValues:Ut("object")};const H4=/^__.*__$/;class $4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new dc(e,this.data,n,this.fieldTransforms)}}class G1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function K1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:r})}}class Ng{constructor(e,n,s,o,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Th(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(K1(this.dataSource)&&H4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class F4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hh(e)}createContext(e,n,s,o=!1){return new Ng({dataSource:e,methodName:n,targetDoc:s,path:tn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(r){const e=r._freezeSettings(),n=Hh(r._databaseId);return new F4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Q1(r,e,n,s,o,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Rg("Data must be an object, but it was:",d,s);const y=Y1(s,d);let v,p;if(u.merge)v=new kn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const w=[];for(const E of u.mergeFields){const R=rc(e,E,n);if(!d.contains(R))throw new ce(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Z1(w,R)||w.push(R)}v=new kn(w),p=d.fieldTransforms.filter((E=>v.covers(E.field)))}else v=null,p=d.fieldTransforms;return new $4(new Tn(y),v,p)}class Yh extends Kh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class Cg extends Kh{_toFieldTransform(e){return new DS(e.path,new nc)}isEqual(e){return e instanceof Cg}}function G4(r,e,n,s){const o=r.createContext(1,e,n);Rg("Data must be an object, but it was:",o,s);const u=[],d=Tn.empty();Ar(s,((v,p)=>{const w=J1(e,v,n);p=un(p);const E=o.childContextForFieldPath(w);if(p instanceof Yh)u.push(w);else{const R=pc(p,E);R!=null&&(u.push(w),d.set(w,R))}}));const y=new kn(u);return new G1(d,y,o.fieldTransforms)}function K4(r,e,n,s,o,u){const d=r.createContext(1,e,n),y=[rc(e,s,n)],v=[o];if(u.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)y.push(rc(e,u[R])),v.push(u[R+1]);const p=[],w=Tn.empty();for(let R=y.length-1;R>=0;--R)if(!Z1(p,y[R])){const L=y[R];let K=v[R];K=un(K);const ie=d.childContextForFieldPath(L);if(K instanceof Yh)p.push(L);else{const te=pc(K,ie);te!=null&&(p.push(L),w.set(L,te))}}const E=new kn(p);return new G1(w,E,d.fieldTransforms)}function Q4(r,e,n,s=!1){return pc(n,r.createContext(s?4:3,e))}function pc(r,e){if(X1(r=un(r)))return Rg("Unsupported field value:",e,r),Y1(r,e);if(r instanceof Kh)return(function(s,o){if(!K1(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let d=0;for(const y of s){let v=pc(y,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),d++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ft.fromDate(s);return{timestampValue:_h(o.serializer,u)}}if(s instanceof ft){const u=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:h1(o.serializer,s._byteString)};if(s instanceof Et){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fi)return(function(d,y){const v=d instanceof fi?d.toArray():d;return{mapValue:{fields:{[zb]:{stringValue:Bb},[mh]:{arrayValue:{values:v.map((w=>{if(typeof w!="number")throw y.createError("VectorValues must only contain numeric values.");return lg(y.serializer,w)}))}}}}}})(s,o);if(v1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Dh(s)}`)})(r,e)}function Y1(r,e){const n={};return Vb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(r,((s,o)=>{const u=pc(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function X1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ft||r instanceof Ui||r instanceof Xn||r instanceof Et||r instanceof Kh||r instanceof fi||v1(r))}function Rg(r,e,n){if(!X1(n)||!Ob(n)){const s=Dh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function rc(r,e,n){if((e=un(e))instanceof Sg)return e._internalPath;if(typeof e=="string")return J1(r,e);throw Th("Field path arguments must be of type string or ",r,!1,void 0,n)}const Y4=new RegExp("[~\\*/\\[\\]]");function J1(r,e,n){if(e.search(Y4)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Sg(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Th(r,e,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new ce(Z.INVALID_ARGUMENT,y+r+v)}function Z1(r,e){return r.some((n=>n.isEqual(e)))}class X4{convertValue(e,n="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ar(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[mh].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new fi(n)}convertGeoPoint(e){return new Ui(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wo(e));default:return null}}convertTimestamp(e){const n=vr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);et(y1(s),9688,{name:e});const o=new ec(s.get(1),s.get(3)),u=new be(s.popFirst(5));return o.isEqual(n)||gs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class W1 extends X4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function Uo(){return new Cg("serverTimestamp")}const C_="@firebase/firestore",R_="4.11.0";function I_(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ex{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(rc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J4 extends ex{data(){return super.data()}}function Z4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class tx extends Ig{}function sl(r,e,...n){let s=[];e instanceof Ig&&s.push(e),s=s.concat(n),(function(u){const d=u.filter((v=>v instanceof Og)).length,y=u.filter((v=>v instanceof jg)).length;if(d>1||d>0&&y>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class jg extends tx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new jg(e,n,s)}_apply(e){const n=this._parse(e);return nx(e._query,n),new ma(e.firestore,e.converter,Vm(e._query,n))}_parse(e){const n=Qh(e.firestore);return(function(u,d,y,v,p,w,E){let R;if(p.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){O_(E,w);const K=[];for(const ie of E)K.push(j_(v,u,ie));R={arrayValue:{values:K}}}else R=j_(v,u,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||O_(E,w),R=Q4(y,d,E,w==="in"||w==="not-in");return Pt.create(p,w,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Og extends Ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Og(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const y=u.getFlattenedFilters();for(const v of y)nx(d,v),d=Vm(d,v)})(e._query,n),new ma(e.firestore,e.converter,Vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dg extends tx{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Dg(e,n,s)}_apply(e){return new ma(e.firestore,e.converter,yh(e._query,this._limit,this._limitType))}}function W4(r){return Dg._create("limit",r,"F")}function j_(r,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yb(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ut.fromString(n));if(!be.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Fv(r,new be(s))}if(n instanceof Et)return Fv(r,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function O_(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nx(r,e){const n=(function(o,u){for(const d of o)for(const y of d.getFlattenedFilters())if(u.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ix(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Ho{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends ex{constructor(e,n,s,o,u,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Ut("string",ra._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class ih extends ra{data(e={}){return super.data(e)}}class fl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ho(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ih(this._firestore,this._userDataWriter,s.key,s,new Ho(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new ih(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ho(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const v=new ih(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ho(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,w=-1;return y.type!==0&&(p=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),w=d.indexOf(y.doc.key)),{type:e5(y.type),doc:v,oldIndex:p,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function e5(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:Ut("string",fl._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};function t5(r){r=Jn(r,Et);const e=Jn(r.firestore,Tr),n=Ag(e);return M4(n,r._key).then((s=>rx(e,r,s)))}function Vn(r,e,n){r=Jn(r,Et);const s=Jn(r.firestore,Tr),o=ix(r.converter,e,n),u=Qh(s);return Xh(s,[Q1(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Zn.none())])}function n5(r,e,n,...s){r=Jn(r,Et);const o=Jn(r.firestore,Tr),u=Qh(o);let d;return d=typeof(e=un(e))=="string"||e instanceof Sg?K4(u,"updateDoc",r._key,e,n,s):G4(u,"updateDoc",r._key,e),Xh(o,[d.toMutation(r._key,Zn.exists(!0))])}function Eh(r){return Xh(Jn(r.firestore,Tr),[new og(r._key,Zn.none())])}function sx(r,e){const n=Jn(r.firestore,Tr),s=Wt(r),o=ix(r.converter,e),u=Qh(r.firestore);return Xh(n,[Q1(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then((()=>s))}function rl(r,...e){r=un(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||I_(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(I_(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,d,y;if(r instanceof Et)d=Jn(r.firestore,Tr),y=Lh(r._key.path),u={next:p=>{e[s]&&e[s](rx(d,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Jn(r,ma);d=Jn(p.firestore,Tr),y=p._query;const w=new W1(d);u={next:E=>{e[s]&&e[s](new fl(d,w,p,E))},error:e[s+1],complete:e[s+2]},Z4(r._query)}const v=Ag(d);return k4(v,y,o,u)}function Xh(r,e){const n=Ag(r);return L4(n,e)}function rx(r,e,n){const s=n.docs.get(e._key),o=new W1(r);return new ra(r,o,e._key,s,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){LA(Sl),_l(new la("firestore",((s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),y=new Tr(new zA(s.getProvider("auth-internal")),new HA(d,s.getProvider("app-check-internal")),aS(d,o),d);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),dr(C_,R_,e),dr(C_,R_,"esm2020")})();function ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i5=ax,lx=new oc("auth","Firebase",ax());const Ah=new Jm("@firebase/auth");function s5(r,...e){Ah.logLevel<=ze.WARN&&Ah.warn(`Auth (${Sl}): ${r}`,...e)}function sh(r,...e){Ah.logLevel<=ze.ERROR&&Ah.error(`Auth (${Sl}): ${r}`,...e)}function ys(r,...e){throw Vg(r,...e)}function zi(r,...e){return Vg(r,...e)}function ox(r,e,n){const s={...i5(),[e]:n};return new oc("auth","Firebase",s).create(e,{appName:r.name})}function pr(r){return ox(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return lx.create(r,...e)}function Ee(r,e,...n){if(!r)throw Vg(e,...n)}function ds(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sh(e),new Error(e)}function vs(r,e){r||ds(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function r5(){return D_()==="http:"||D_()==="https:"}function D_(){return typeof self<"u"&&self.location?.protocol||null}function a5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r5()||m2()||"connection"in navigator)?navigator.onLine:!0}function l5(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,vs(n>e,"Short delay should be less than long delay!"),this.isMobile=h2()||g2()}get(){return a5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kg(r,e){vs(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class cx{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const o5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const c5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u5=new yc(3e4,6e4);function Jh(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function jl(r,e,n,s,o={}){return ux(r,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const y=cc({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:v,...u};return f2()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Al(r.emulatorConfig.host)&&(p.credentials="include"),cx.fetch()(await dx(r,r.config.apiHost,n,y),p)})}async function ux(r,e,n){r._canInitEmulator=!1;const s={...o5,...e};try{const o=new h5(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Yu(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const y=u.ok?d.errorMessage:d.error.message,[v,p]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Yu(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Yu(r,"user-disabled",d);const w=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ox(r,w,p);ys(r,w)}}catch(o){if(o instanceof _s)throw o;ys(r,"network-request-failed",{message:String(o)})}}async function hx(r,e,n,s,o={}){const u=await jl(r,e,n,s,o);return"mfaPendingCredential"in u&&ys(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function dx(r,e,n,s){const o=`${e}${n}?${s}`,u=r,d=u.config.emulator?kg(r.config,o):`${r.config.apiScheme}://${o}`;return c5.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class h5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(zi(this.auth,"network-request-failed")),u5.get())})}}function Yu(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=zi(r,e,s);return o.customData._tokenResponse=n,o}async function d5(r,e){return jl(r,"POST","/v1/accounts:delete",e)}async function Sh(r,e){return jl(r,"POST","/v1/accounts:lookup",e)}function Yo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function f5(r,e=!1){const n=un(r),s=await n.getIdToken(e),o=Mg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:s,authTime:Yo(pm(o.auth_time)),issuedAtTime:Yo(pm(o.iat)),expirationTime:Yo(pm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function pm(r){return Number(r)*1e3}function Mg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=hb(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function V_(r){const e=Mg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ac(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _s&&m5(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function m5({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class g5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yo(this.lastLoginAt),this.creationTime=Yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nh(r){const e=r.auth,n=await r.getIdToken(),s=await ac(r,Sh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?fx(o.providerUserInfo):[],d=y5(r.providerData,u),y=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,p=y?v:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,w)}async function p5(r){const e=un(r);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y5(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function fx(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function v5(r,e){const n=await ux(r,{},async()=>{const s=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await dx(r,o,"/v1/token",`key=${u}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:s};return r.emulatorConfig&&Al(r.emulatorConfig.host)&&(v.credentials="include"),cx.fetch()(d,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _5(r,e){return jl(r,"POST","/v2/accounts:revokeToken",Jh(r,e))}class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=V_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await v5(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new ml;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return ds("not implemented")}}function ir(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new g5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return f5(this,e)}reload(){return p5(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await ac(this,d5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,y=n.tenantId??void 0,v=n._redirectEventId??void 0,p=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:E,emailVerified:R,isAnonymous:L,providerData:K,stsTokenManager:ie}=n;Ee(E&&ie,e,"internal-error");const te=ml.fromJSON(this.name,ie);Ee(typeof E=="string",e,"internal-error"),ir(s,e.name),ir(o,e.name),Ee(typeof R=="boolean",e,"internal-error"),Ee(typeof L=="boolean",e,"internal-error"),ir(u,e.name),ir(d,e.name),ir(y,e.name),ir(v,e.name),ir(p,e.name),ir(w,e.name);const de=new di({uid:E,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:L,photoURL:d,phoneNumber:u,tenantId:y,stsTokenManager:te,createdAt:p,lastLoginAt:w});return K&&Array.isArray(K)&&(de.providerData=K.map(me=>({...me}))),v&&(de._redirectEventId=v),de}static async _fromIdTokenResponse(e,n,s=!1){const o=new ml;o.updateFromServerResponse(n);const u=new di({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fx(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,y=new ml;y.updateFromIdToken(s);const v=new di({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(v,p),v}}const k_=new Map;function fs(r){vs(r instanceof Function,"Expected a class definition");let e=k_.get(r);return e?(vs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,k_.set(r,e),e)}class mx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mx.type="NONE";const M_=mx;function rh(r,e,n){return`firebase:${r}:${e}:${n}`}class gl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=rh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?di._fromGetAccountInfoResponse(this.auth,n,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new gl(fs(M_),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||fs(M_);const d=rh(s,e.config.apiKey,e.name);let y=null;for(const p of n)try{const w=await p._get(d);if(w){let E;if(typeof w=="string"){const R=await Sh(e,{idToken:w}).catch(()=>{});if(!R)break;E=await di._fromGetAccountInfoResponse(e,R,w)}else E=di._fromJSON(e,w);p!==u&&(y=E),u=p;break}}catch{}const v=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new gl(u,e,s):(u=v[0],y&&await u._set(d,y.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new gl(u,e,s))}}function L_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bx(e))return"Blackberry";if(xx(e))return"Webos";if(px(e))return"Safari";if((e.includes("chrome/")||yx(e))&&!e.includes("edge/"))return"Chrome";if(_x(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function gx(r=cn()){return/firefox\//i.test(r)}function px(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yx(r=cn()){return/crios\//i.test(r)}function vx(r=cn()){return/iemobile/i.test(r)}function _x(r=cn()){return/android/i.test(r)}function bx(r=cn()){return/blackberry/i.test(r)}function xx(r=cn()){return/webos/i.test(r)}function Lg(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function b5(r=cn()){return Lg(r)&&!!window.navigator?.standalone}function x5(){return p2()&&document.documentMode===10}function wx(r=cn()){return Lg(r)||_x(r)||xx(r)||bx(r)||/windows phone/i.test(r)||vx(r)}function Tx(r,e=[]){let n;switch(r){case"Browser":n=L_(cn());break;case"Worker":n=`${L_(cn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sl}/${s}`}class w5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,y)=>{try{const v=e(u);d(v)}catch(v){y(v)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function T5(r,e={}){return jl(r,"GET","/v2/passwordPolicy",Jh(r,e))}const E5=6;class A5{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??E5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class S5{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P_(this),this.idTokenSubscription=new P_(this),this.beforeStateQueue=new w5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),s=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,y=await this.tryRedirectSignIn(e);(!u||u===d)&&y?.user&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(pr(this));const n=e?un(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T5(this),n=new A5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _5(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fs(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(y,this,"internal-error"),y.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const v=e.addObserver(n,s,o);return()=>{d=!0,v()}}else{const v=e.addObserver(n);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&s5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zh(r){return un(r)}class P_{constructor(e){this.auth=e,this.observer=null,this.addObserver=E2(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N5(r){Pg=r}function C5(r){return Pg.loadJS(r)}function R5(){return Pg.gapiScript}function I5(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function j5(r,e){const n=Wm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(aa(u,e??{}))return o;ys(o,"already-initialized")}return n.initialize({options:e})}function O5(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function D5(r,e,n){const s=Zh(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Ex(e),{host:d,port:y}=V5(e),v=y===null?"":`:${y}`,p={url:`${u}//${d}${v}/`},w=Object.freeze({host:d,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(aa(p,s.config.emulator)&&aa(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Al(d)?(gb(`${u}//${d}${v}`),pb("Auth",!0)):k5()}function Ex(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function V5(r){const e=Ex(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:U_(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:U_(d)}}}function U_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function k5(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ax{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,n){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function pl(r,e){return hx(r,"POST","/v1/accounts:signInWithIdp",Jh(r,e))}const M5="http://localhost";class ha extends Ax{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const d=new ha(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return pl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,pl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pl(e,n)}buildRequest(){const e={requestUri:M5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}class Sx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vc extends Sx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends vc{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rr.credential(n,s)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends vc{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class lr extends vc{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return lr.credential(n,s)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function L5(r,e){return hx(r,"POST","/v1/accounts:signUp",Jh(r,e))}class Er{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await di._fromIdTokenResponse(e,s,o),d=z_(s);return new Er({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=z_(s);return new Er({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function z_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function P5(r){if(hi(r.app))return Promise.reject(pr(r));const e=Zh(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Er({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await L5(e,{returnSecureToken:!0}),s=await Er._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}class Ch extends _s{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ch(e,n,s,o)}}function Nx(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,e,s):u})}async function U5(r,e,n=!1){const s=await ac(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Er._forOperation(r,"link",s)}async function z5(r,e,n=!1){const{auth:s}=r;if(hi(s.app))return Promise.reject(pr(s));const o="reauthenticate";try{const u=await ac(r,Nx(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const d=Mg(u.idToken);Ee(d,s,"internal-error");const{sub:y}=d;return Ee(r.uid===y,s,"user-mismatch"),Er._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ys(s,"user-mismatch"),u}}async function B5(r,e,n=!1){if(hi(r.app))return Promise.reject(pr(r));const s="signIn",o=await Nx(r,s,e),u=await Er._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function q5(r,e,n,s){return un(r).onIdTokenChanged(e,n,s)}function H5(r,e,n){return un(r).beforeAuthStateChanged(e,n)}const Rh="__sak";class Cx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $5=1e3,F5=10;class Rx extends Cx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);x5()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,F5):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},$5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rx.type="LOCAL";const G5=Rx;class Ix extends Cx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ix.type="SESSION";const jx=Ix;function K5(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const y=Array.from(d).map(async p=>p(n.origin,u)),v=await K5(y);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:v})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];function Ug(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class Q5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((y,v)=>{const p=Ug("",20);o.port1.start();const w=setTimeout(()=>{v(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(E){const R=E;if(R.data.eventId===p)switch(R.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(R.data.response);break;default:clearTimeout(w),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function Y5(r){Bi().location.href=r}function Ox(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function X5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J5(){return navigator?.serviceWorker?.controller||null}function Z5(){return Ox()?self:null}const Dx="firebaseLocalStorageDb",W5=1,Ih="firebaseLocalStorage",Vx="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(r,e){return r.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function eC(){const r=indexedDB.deleteDatabase(Dx);return new _c(r).toPromise()}function Km(){const r=indexedDB.open(Dx,W5);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ih,{keyPath:Vx})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await eC(),e(await Km()))})})}async function B_(r,e,n){const s=ed(r,!0).put({[Vx]:e,value:n});return new _c(s).toPromise()}async function tC(r,e){const n=ed(r,!1).get(e),s=await new _c(n).toPromise();return s===void 0?null:s.value}function q_(r,e){const n=ed(r,!0).delete(e);return new _c(n).toPromise()}const nC=800,iC=3;class kx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>iC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ox()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(Z5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await X5(),!this.activeServiceWorker)return;this.sender=new Q5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await B_(e,Rh,"1"),await q_(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>B_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>tC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ed(o,!1).getAll();return new _c(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kx.type="LOCAL";const sC=kx;new yc(3e4,6e4);function rC(r,e){return e?fs(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class zg extends Ax{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aC(r){return B5(r.auth,new zg(r),r.bypassAuthState)}function lC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),z5(n,new zg(r),r.bypassAuthState)}async function oC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),U5(n,new zg(r),r.bypassAuthState)}class Mx{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aC;case"linkViaPopup":case"linkViaRedirect":return oC;case"reauthViaPopup":case"reauthViaRedirect":return lC;default:ys(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cC=new yc(2e3,1e4);class ul extends Mx{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cC.get())};e()}}ul.currentPopupAction=null;const uC="pendingRedirect",ah=new Map;class hC extends Mx{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await dC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dC(r,e){const n=gC(e),s=mC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function fC(r,e){ah.set(r._key(),e)}function mC(r){return fs(r._redirectPersistence)}function gC(r){return rh(uC,r.config.apiKey,r.name)}async function pC(r,e,n=!1){if(hi(r.app))return Promise.reject(pr(r));const s=Zh(r),o=rC(s,e),d=await new hC(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const yC=600*1e3;class vC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_C(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Lx(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yC&&this.cachedEventUids.clear(),this.cachedEventUids.has(H_(e))}saveEventToCache(e){this.cachedEventUids.add(H_(e)),this.lastProcessedEventTime=Date.now()}}function H_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Lx({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function _C(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lx(r);default:return!1}}async function bC(r,e={}){return jl(r,"GET","/v1/projects",e)}const xC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wC=/^https?/;async function TC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await bC(r);for(const n of e)try{if(EC(n))return}catch{}ys(r,"unauthorized-domain")}function EC(r){const e=Fm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!wC.test(n))return!1;if(xC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const AC=new yc(3e4,6e4);function $_(){const r=Bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function SC(r){return new Promise((e,n)=>{function s(){$_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$_(),n(zi(r,"network-request-failed"))},timeout:AC.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)s();else{const o=I5("iframefcb");return Bi()[o]=()=>{gapi.load?s():n(zi(r,"network-request-failed"))},C5(`${R5()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw lh=null,e})}let lh=null;function NC(r){return lh=lh||SC(r),lh}const CC=new yc(5e3,15e3),RC="__/auth/iframe",IC="emulator/auth/iframe",jC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DC(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?kg(e,IC):`https://${r.config.authDomain}/${RC}`,s={apiKey:e.apiKey,appName:r.name,v:Sl},o=OC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${cc(s).slice(1)}`}async function VC(r){const e=await NC(r),n=Bi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:DC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=zi(r,"network-request-failed"),y=Bi().setTimeout(()=>{u(d)},CC.get());function v(){Bi().clearTimeout(y),o(s)}s.ping(v).then(v,()=>{u(d)})}))}const kC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MC=500,LC=600,PC="_blank",UC="http://localhost";class F_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zC(r,e,n,s=MC,o=LC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const v={...kC,width:s.toString(),height:o.toString(),top:u,left:d},p=cn().toLowerCase();n&&(y=yx(p)?PC:n),gx(p)&&(e=e||UC,v.scrollbars="yes");const w=Object.entries(v).reduce((R,[L,K])=>`${R}${L}=${K},`,"");if(b5(p)&&y!=="_self")return BC(e||"",y),new F_(null);const E=window.open(e||"",y,w);Ee(E,r,"popup-blocked");try{E.focus()}catch{}return new F_(E)}function BC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const qC="__/auth/handler",HC="emulator/auth/handler",$C=encodeURIComponent("fac");async function G_(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Sl,eventId:o};if(e instanceof Sx){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",T2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))d[w]=E}if(e instanceof vc){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(d.scopes=w.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const w of Object.keys(y))y[w]===void 0&&delete y[w];const v=await r._getAppCheckToken(),p=v?`#${$C}=${encodeURIComponent(v)}`:"";return`${FC(r)}?${cc(y).slice(1)}${p}`}function FC({config:r}){return r.emulator?kg(r,HC):`https://${r.authDomain}/${qC}`}const ym="webStorageSupport";class GC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jx,this._completeRedirectFn=pC,this._overrideRedirectResult=fC}async _openPopup(e,n,s,o){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await G_(e,n,s,Fm(),o);return zC(e,u,Ug())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await G_(e,n,s,Fm(),o);return Y5(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(vs(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await VC(e),s=new vC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ym,{type:ym},o=>{const u=o?.[0]?.[ym];u!==void 0&&n(!!u),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wx()||px()||Lg()}}const KC=GC;var K_="@firebase/auth",Q_="1.12.0";class QC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function YC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XC(r){_l(new la("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=s.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tx(r)},p=new S5(s,o,u,v);return O5(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),_l(new la("auth-internal",e=>{const n=Zh(e.getProvider("auth").getImmediate());return(s=>new QC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(K_,Q_,YC(r)),dr(K_,Q_,"esm2020")}const JC=300,ZC=mb("authIdTokenMaxAge")||JC;let Y_=null;const WC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZC)return;const o=n?.token;Y_!==o&&(Y_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eR(r=bb()){const e=Wm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=j5(r,{popupRedirectResolver:KC,persistence:[sC,G5,jx]}),s=mb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=WC(u.toString());H5(n,d,()=>d(n.currentUser)),q5(n,y=>d(y))}}const o=db("auth");return o&&D5(n,`http://${o}`),n}function tR(){return document.getElementsByTagName("head")?.[0]??document}N5({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=zi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",tR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XC("Browser");const nR={apiKey:"AIzaSyBT93hmr81TT_-KltaYxcYwms_xKxg3c1I",authDomain:"medivend-a3d51.firebaseapp.com",projectId:"medivend-a3d51",storageBucket:"medivend-a3d51.firebasestorage.app",messagingSenderId:"743343498567",appId:"1:743343498567:web:2d50fb42346f31350d1862"},Px=_b(nR),wt=B4(Px),iR=eR(Px),Tt="medivend-local",vm={username:"admin",password:"admin123",email:"admin@medivend.com",displayName:"System Administrator",photoUrl:"image_3f1ac4.png",recentLogins:[]},Bg=()=>(le.useEffect(()=>{const r=document.createElement("style");return r.textContent=`
      @import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap');
      
      * { box-sizing: border-box; }
      
      :root {
        --accent: #6366f1;
        --accent-glow: rgba(99,102,241,0.4);
        --emerald-glow: rgba(16,185,129,0.4);
        --rose-glow: rgba(244,63,94,0.4);
        --amber-glow: rgba(245,158,11,0.4);
      }

      body { font-family: 'Inter', sans-serif; }

      .font-display { font-family: 'Syne', sans-serif !important; }
      .font-mono { font-family: 'JetBrains Mono', monospace !important; }

      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-8px); }
      }
      @keyframes pulse-ring {
        0% { transform: scale(1); opacity: 1; }
        100% { transform: scale(2.5); opacity: 0; }
      }
      @keyframes shimmer {
        0% { background-position: -1000px 0; }
        100% { background-position: 1000px 0; }
      }
      @keyframes gradient-shift {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
      }
      @keyframes slide-up {
        from { opacity: 0; transform: translateY(24px); }
        to { opacity: 1; transform: translateY(0); }
      }
      @keyframes slide-right {
        from { opacity: 0; transform: translateX(-24px); }
        to { opacity: 1; transform: translateX(0); }
      }
      @keyframes scale-in {
        from { opacity: 0; transform: scale(0.9); }
        to { opacity: 1; transform: scale(1); }
      }
      @keyframes counter-up {
        from { transform: translateY(100%); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }
      @keyframes radar-sweep {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      @keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.3; }
      }
      @keyframes data-flow {
        0% { transform: translateY(-100%); opacity: 0; }
        50% { opacity: 1; }
        100% { transform: translateY(100%); opacity: 0; }
      }
      @keyframes neon-pulse {
        0%, 100% { box-shadow: 0 0 5px var(--accent-glow), 0 0 10px var(--accent-glow); }
        50% { box-shadow: 0 0 15px var(--accent-glow), 0 0 30px var(--accent-glow), 0 0 45px var(--accent-glow); }
      }
      @keyframes spin-slow {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      @keyframes typewriter {
        from { width: 0; }
        to { width: 100%; }
      }
      @keyframes grid-move {
        0% { transform: translateY(0); }
        100% { transform: translateY(40px); }
      }

      .animate-float { animation: float 3s ease-in-out infinite; }
      .animate-pulse-ring { animation: pulse-ring 1.5s ease-out infinite; }
      .animate-shimmer { 
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
        background-size: 2000px 100%;
        animation: shimmer 2s infinite;
      }
      .animate-gradient { 
        background-size: 200% 200%;
        animation: gradient-shift 4s ease infinite;
      }
      .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
      .animate-slide-right { animation: slide-right 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
      .animate-scale-in { animation: scale-in 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
      .animate-radar { animation: radar-sweep 3s linear infinite; }
      .animate-blink { animation: blink 2s ease-in-out infinite; }
      .animate-spin-slow { animation: spin-slow 8s linear infinite; }
      .animate-neon { animation: neon-pulse 2s ease-in-out infinite; }
      
      .glass {
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
      }
      
      .glow-indigo { box-shadow: 0 0 20px rgba(99,102,241,0.3), 0 0 40px rgba(99,102,241,0.1); }
      .glow-emerald { box-shadow: 0 0 20px rgba(16,185,129,0.3), 0 0 40px rgba(16,185,129,0.1); }
      .glow-rose { box-shadow: 0 0 20px rgba(244,63,94,0.3), 0 0 40px rgba(244,63,94,0.1); }
      .glow-amber { box-shadow: 0 0 20px rgba(245,158,11,0.3), 0 0 40px rgba(245,158,11,0.1); }

      .btn-hover-lift {
        transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease;
      }
      .btn-hover-lift:hover {
        transform: translateY(-2px);
      }
      .btn-hover-lift:active {
        transform: translateY(0px) scale(0.98);
      }

      .card-hover {
        transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease, border-color 0.3s ease;
      }
      .card-hover:hover {
        transform: translateY(-4px) scale(1.01);
      }

      .nav-active-indicator {
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 3px;
        height: 60%;
        background: linear-gradient(180deg, #818cf8, #6366f1);
        border-radius: 0 4px 4px 0;
        box-shadow: 0 0 12px rgba(99,102,241,0.6);
      }

      .stat-number {
        font-family: 'Syne', sans-serif;
        font-variant-numeric: tabular-nums;
      }

      .table-row-hover {
        transition: background 0.15s ease;
      }

      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
      
      .custom-scrollbar::-webkit-scrollbar { width: 4px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(99,102,241,0.3); border-radius: 10px; }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(99,102,241,0.6); }

      .grid-bg {
        background-image: 
          linear-gradient(rgba(99,102,241,0.05) 1px, transparent 1px),
          linear-gradient(90deg, rgba(99,102,241,0.05) 1px, transparent 1px);
        background-size: 40px 40px;
      }

      .hexagon-bg {
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 2L58 17v26L30 58 2 43V17z' fill='none' stroke='rgba(99,102,241,0.06)' stroke-width='1'/%3E%3C/svg%3E");
        background-size: 60px 60px;
      }

      .noise-overlay {
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
      }
      
      input[type=number]::-webkit-inner-spin-button,
      input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }

      .progress-bar {
        transition: width 1.2s cubic-bezier(0.22, 1, 0.36, 1);
      }

      .ripple {
        position: relative;
        overflow: hidden;
      }
      .ripple::after {
        content: '';
        position: absolute;
        inset: 0;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        opacity: 0;
        transition: opacity 0.3s;
      }
      .ripple:hover::after {
        opacity: 1;
      }

      .stagger-1 { animation-delay: 0.05s; }
      .stagger-2 { animation-delay: 0.1s; }
      .stagger-3 { animation-delay: 0.15s; }
      .stagger-4 { animation-delay: 0.2s; }
      .stagger-5 { animation-delay: 0.25s; }
      .stagger-6 { animation-delay: 0.3s; }
      .stagger-7 { animation-delay: 0.35s; }
      .stagger-8 { animation-delay: 0.4s; }
    `,document.head.appendChild(r),()=>document.head.removeChild(r)},[]),null);function sR({value:r,duration:e=1e3}){const[n,s]=le.useState(0),o=le.useRef(0);return le.useEffect(()=>{const u=o.current,d=Number(r)||0,y=Date.now(),v=()=>{const p=Date.now()-y,w=Math.min(p/e,1),E=1-Math.pow(1-w,3);s(Math.round(u+(d-u)*E)),w<1?requestAnimationFrame(v):o.current=d};requestAnimationFrame(v)},[r]),m.jsx("span",{children:n})}function yl({color:r="emerald",size:e="sm"}){const n={emerald:"bg-emerald-500",rose:"bg-rose-500",amber:"bg-amber-500",indigo:"bg-indigo-500",slate:"bg-slate-500"},s={sm:"w-2 h-2",md:"w-3 h-3"};return m.jsxs("span",{className:"relative inline-flex",children:[m.jsx("span",{className:`${s[e]} ${n[r]} rounded-full`}),m.jsx("span",{className:`absolute inset-0 ${n[r]} rounded-full animate-ping opacity-75`})]})}function rR({id:r,label:e,icon:n,active:s,onClick:o,badge:u,isDarkMode:d}){return m.jsxs("button",{onClick:()=>o(r),className:`relative flex w-full items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 group ripple overflow-hidden ${s?d?"bg-gradient-to-r from-indigo-600/20 to-indigo-500/5 text-indigo-400 shadow-lg":"bg-gradient-to-r from-indigo-50 to-indigo-50/50 text-indigo-600":d?"text-slate-500 hover:bg-white/5 hover:text-slate-200":"text-slate-400 hover:bg-slate-100 hover:text-slate-700"}`,children:[s&&m.jsx("span",{className:"nav-active-indicator"}),m.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[m.jsx("div",{className:`transition-all duration-300 ${s?"scale-110":"group-hover:scale-105"}`,children:Z_.cloneElement(n,{className:`w-4.5 h-4.5 transition-colors ${s?"text-indigo-400":d?"text-slate-500 group-hover:text-slate-200":"text-slate-400 group-hover:text-slate-700"}`})}),m.jsx("span",{className:"font-display font-semibold text-xs uppercase tracking-widest",children:e})]}),m.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[u?m.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full text-white bg-indigo-600 animate-pulse shadow-lg shadow-indigo-500/30",children:u}):null,s&&m.jsx(tb,{className:"w-3.5 h-3.5 text-indigo-400 opacity-60"})]})]})}function aR({title:r,value:e,icon:n,color:s,subtext:o,onClick:u,isDarkMode:d,trend:y}){const p={amber:{bg:"bg-amber-500/10",text:"text-amber-400",border:"border-amber-500/20",glow:"hover:glow-amber",gradient:"from-amber-500/20 to-transparent"},blue:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/20",glow:"hover:glow-indigo",gradient:"from-blue-500/20 to-transparent"},emerald:{bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20",glow:"hover:glow-emerald",gradient:"from-emerald-500/20 to-transparent"},red:{bg:"bg-rose-500/10",text:"text-rose-400",border:"border-rose-500/20",glow:"hover:glow-rose",gradient:"from-rose-500/20 to-transparent"}}[s];return m.jsxs("div",{onClick:u,className:`relative p-5 rounded-2xl border cursor-pointer group card-hover overflow-hidden ${d?"bg-[#0d1424] border-white/5 hover:border-indigo-500/30":"bg-white border-gray-100 shadow-sm hover:shadow-lg hover:border-indigo-200"}`,children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${p.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),m.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${p.bg} rounded-full -translate-y-12 translate-x-12 group-hover:scale-110 transition-transform duration-500`}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:`inline-flex p-2.5 rounded-xl ${p.bg} ${p.border} border mb-4 transition-transform duration-300 group-hover:scale-110`,children:Z_.cloneElement(n,{className:`w-5 h-5 ${p.text}`})}),m.jsxs("div",{className:`font-display text-3xl font-bold mb-1 stat-number ${d?"text-white":"text-slate-900"}`,children:[m.jsx(sR,{value:typeof e=="string"?e.split("/")[0]:e}),typeof e=="string"&&e.includes("/")&&m.jsxs("span",{className:`text-lg ${d?"text-slate-500":"text-slate-400"}`,children:["/",e.split("/")[1]]})]}),m.jsx("p",{className:`font-semibold text-xs uppercase tracking-wider leading-tight ${d?"text-slate-400":"text-slate-500"}`,children:r}),o&&m.jsxs("p",{className:`text-[10px] mt-2 flex items-center gap-1 ${d?"text-slate-600":"text-slate-400"}`,children:[m.jsx("span",{className:"w-1 h-1 rounded-full bg-current"}),o]})]})]})}function X_({status:r}){const e={active:{cls:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",dot:"emerald"},pending:{cls:"bg-amber-500/10 text-amber-400 border-amber-500/20",dot:"amber"},rejected:{cls:"bg-rose-500/10 text-rose-400 border-rose-500/20",dot:"rose"}},n=e[r]||e.pending;return m.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border ${n.cls}`,children:[m.jsx(yl,{color:n.dot}),r]})}function J_({status:r}){const n={issued:{cls:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20"},partial:{cls:"bg-amber-500/10 text-amber-400 border-amber-500/20"},completed:{cls:"bg-slate-500/10 text-slate-400 border-slate-500/20"}}[r]||{cls:"bg-slate-500/10 text-slate-400 border-slate-500/20"};return m.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border ${n.cls}`,children:r})}function Xu({onClick:r,label:e,icon:n,variant:s,isDarkMode:o}){return s==="primary"?m.jsxs("button",{onClick:r,className:"w-full relative overflow-hidden flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-xs font-bold uppercase tracking-wider text-white bg-gradient-to-r from-indigo-600 to-indigo-500 btn-hover-lift glow-indigo ripple transition-all duration-200",children:[m.jsx("div",{className:"animate-shimmer absolute inset-0 opacity-30"}),n,e]}):m.jsxs("button",{onClick:r,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-xs font-bold uppercase tracking-wider btn-hover-lift ripple transition-all duration-200 border ${o?"bg-white/5 border-white/10 text-slate-300 hover:bg-white/10 hover:border-white/20":"bg-white border-gray-200 text-slate-600 hover:bg-gray-50 hover:border-gray-300 shadow-sm"}`,children:[n,e]})}function Ol({currentPage:r,totalPages:e,onPageChange:n,isDarkMode:s}){return e<=1?null:m.jsxs("div",{className:`flex justify-between items-center px-6 py-4 border-t ${s?"border-white/5":"border-gray-100"}`,children:[m.jsxs("span",{className:`font-mono text-[11px] ${s?"text-slate-600":"text-slate-400"}`,children:["PAGE ",m.jsx("span",{className:"text-indigo-400",children:r})," / ",e]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{disabled:r===1,onClick:()=>n(r-1),className:`flex items-center gap-1.5 px-3 py-1.5 text-[11px] font-bold rounded-lg border transition-all btn-hover-lift disabled:opacity-30 disabled:cursor-not-allowed ${s?"bg-white/5 border-white/10 text-slate-300 hover:bg-white/10":"bg-white border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:[m.jsx(MT,{className:"w-3 h-3"})," PREV"]}),m.jsxs("button",{disabled:r===e,onClick:()=>n(r+1),className:`flex items-center gap-1.5 px-3 py-1.5 text-[11px] font-bold rounded-lg border transition-all btn-hover-lift disabled:opacity-30 disabled:cursor-not-allowed ${s?"bg-white/5 border-white/10 text-slate-300 hover:bg-white/10":"bg-white border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:["NEXT ",m.jsx(tb,{className:"w-3 h-3"})]})]})]})}function Dl({children:r,isDarkMode:e}){const[n,s]=le.useState(!1),o=le.useRef(null);return le.useEffect(()=>{const u=d=>{o.current&&!o.current.contains(d.target)&&s(!1)};return n&&document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[n]),m.jsxs("div",{className:"relative",ref:o,children:[m.jsx("button",{onClick:u=>{u.stopPropagation(),s(!n)},className:`p-2 rounded-lg transition-all duration-200 ${e?"text-slate-500 hover:bg-white/10 hover:text-slate-200":"text-slate-400 hover:bg-gray-100 hover:text-slate-600"}`,children:m.jsx(XT,{className:"w-4 h-4"})}),n&&m.jsx("div",{className:`absolute right-0 top-10 w-48 rounded-2xl shadow-2xl border z-[100] flex flex-col p-2 gap-0.5 animate-scale-in glass ${e?"bg-[#1a2234] border-white/10":"bg-white border-gray-100 shadow-xl"}`,children:r})]})}function qg({isOpen:r,onClose:e,onConfirm:n,title:s,message:o,type:u="info",confirmText:d="Confirm",isLoading:y=!1,isDarkMode:v}){return r?m.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:m.jsxs("div",{className:`w-full max-w-sm rounded-3xl border overflow-hidden shadow-2xl animate-scale-in ${u==="danger"?v?"bg-[#1a1020] border-rose-500/20":"bg-white border-rose-100":v?"bg-[#0f1829] border-indigo-500/20":"bg-white border-indigo-100"}`,children:[m.jsxs("div",{className:"p-8 text-center",children:[m.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[m.jsx("div",{className:`absolute inset-0 rounded-2xl opacity-30 animate-pulse ${u==="danger"?"bg-rose-500":"bg-indigo-500"}`}),m.jsx("div",{className:`relative w-full h-full rounded-2xl flex items-center justify-center ${u==="danger"?"bg-gradient-to-br from-rose-500 to-pink-600 shadow-lg shadow-rose-500/30":"bg-gradient-to-br from-indigo-500 to-blue-600 shadow-lg shadow-indigo-500/30"}`,children:u==="danger"?m.jsx(Xm,{className:"w-8 h-8 text-white"}):m.jsx(_m,{className:"w-8 h-8 text-white"})})]}),m.jsx("h3",{className:`font-display text-xl font-bold mb-2 ${v?"text-white":"text-slate-900"}`,children:s}),m.jsx("p",{className:`text-sm leading-relaxed whitespace-pre-wrap ${v?"text-slate-400":"text-slate-500"}`,children:o})]}),m.jsxs("div",{className:`p-5 flex gap-3 border-t ${v?"bg-white/5 border-white/10":"bg-slate-50 border-slate-100"}`,children:[m.jsx("button",{onClick:e,disabled:y,className:`flex-1 py-3 text-sm font-bold rounded-xl border transition-all btn-hover-lift disabled:opacity-50 ${v?"text-slate-300 border-white/10 hover:bg-white/5":"text-slate-600 border-gray-200 hover:bg-white"}`,children:"Cancel"}),m.jsx("button",{onClick:n,disabled:y,className:`flex-1 flex justify-center items-center py-3 text-sm font-bold text-white rounded-xl shadow-lg transition-all active:scale-95 disabled:opacity-50 btn-hover-lift ${u==="danger"?"bg-gradient-to-r from-rose-500 to-pink-600 shadow-rose-500/30":"bg-gradient-to-r from-indigo-600 to-blue-600 shadow-indigo-500/30"}`,children:y?m.jsx(lc,{className:"w-4 h-4 animate-spin"}):d})]})]})}):null}function lR({onClose:r,currentCreds:e,onUpdate:n,isDarkMode:s,onNotify:o}){const[u,d]=le.useState({cur:"",new:"",conf:""}),[y,v]=le.useState({cur:!1,new:!1,conf:!1});return m.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:m.jsxs("div",{className:`p-8 rounded-3xl w-full max-w-sm shadow-2xl border animate-scale-in ${s?"bg-[#0f1829] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"p-2.5 rounded-xl bg-indigo-500/10 border border-indigo-500/20",children:m.jsx(cr,{className:"w-5 h-5 text-indigo-400"})}),m.jsx("h3",{className:`font-display font-bold text-lg ${s?"text-white":"text-slate-900"}`,children:"Change Password"})]}),m.jsx("div",{className:"space-y-3",children:["cur","new","conf"].map((p,w)=>m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:`text-[10px] font-bold uppercase tracking-widest mb-1.5 block ${s?"text-slate-500":"text-slate-400"}`,children:p==="cur"?"Current Password":p==="new"?"New Password":"Confirm Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:y[p]?"text":"password",placeholder:"",className:`w-full border pr-10 p-3 rounded-xl text-sm font-mono transition-all outline-none focus:ring-2 focus:ring-indigo-500/30 ${s?"border-white/10 bg-black/20 text-white focus:border-indigo-500/50":"border-gray-200 bg-gray-50 text-slate-900 focus:border-indigo-400"}`,value:u[p],onChange:E=>d({...u,[p]:E.target.value})}),m.jsx("button",{type:"button",onClick:()=>v(E=>({...E,[p]:!E[p]})),className:`absolute right-3 top-3 ${s?"text-slate-500 hover:text-slate-300":"text-slate-400 hover:text-slate-600"}`,children:y[p]?m.jsx(ib,{className:"w-4 h-4"}):m.jsx(oh,{className:"w-4 h-4"})})]})]},p))}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:r,className:`px-5 py-2.5 rounded-xl text-xs font-bold transition-all btn-hover-lift border ${s?"text-slate-300 border-white/10 hover:bg-white/5":"text-slate-600 border-gray-200 hover:bg-gray-50"}`,children:"Cancel"}),m.jsx("button",{onClick:()=>{if(u.cur!==e.password)return o("Wrong current password","error");if(u.new!==u.conf)return o("Passwords do not match","error");if(u.new.length<6)return o("Password too short","error");n(u.new)},className:"px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-500 text-white rounded-xl text-xs font-bold shadow-lg shadow-indigo-500/20 btn-hover-lift transition-all",children:"Update Password"})]})]})})}function oR({onClose:r,onSend:e,isDarkMode:n}){const[s,o]=le.useState(""),[u,d]=le.useState("normal"),[y,v]=le.useState("all"),[p,w]=le.useState(!1),E=async()=>{s.trim()&&(w(!0),await new Promise(R=>setTimeout(R,800)),e(s,u,y),w(!1))};return m.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:m.jsxs("div",{className:`w-full max-w-md rounded-3xl shadow-2xl border animate-scale-in overflow-hidden ${n?"bg-[#0f1829] border-white/10":"bg-white border-gray-200"}`,children:[m.jsx("div",{className:`p-6 border-b ${n?"border-white/5 bg-gradient-to-r from-indigo-900/20 to-transparent":"border-gray-100 bg-gradient-to-r from-indigo-50 to-transparent"}`,children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2.5 rounded-xl bg-indigo-500/10 border border-indigo-500/20",children:m.jsx(sb,{className:"w-5 h-5 text-indigo-400"})}),m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-lg ${n?"text-white":"text-slate-900"}`,children:"System Broadcast"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Send alerts to your network"})]})]}),m.jsx("button",{onClick:r,className:`p-2 rounded-xl transition-all ${n?"hover:bg-white/10 text-slate-400":"hover:bg-gray-100 text-slate-500"}`,children:m.jsx(vl,{className:"w-5 h-5"})})]})}),m.jsxs("div",{className:"p-6 space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:`text-[10px] font-bold uppercase tracking-widest mb-2 block ${n?"text-slate-500":"text-slate-400"}`,children:"Message"}),m.jsx("textarea",{autoFocus:!0,rows:"3",className:`w-full p-4 rounded-xl border text-sm outline-none resize-none transition-all focus:ring-2 focus:ring-indigo-500/30 ${n?"bg-black/20 border-white/10 text-white focus:border-indigo-500/50 placeholder-slate-600":"bg-gray-50 border-gray-200 text-slate-900 focus:border-indigo-400"}`,placeholder:"e.g., Scheduled maintenance Sunday at 12 PM...",value:s,onChange:R=>o(R.target.value)}),m.jsxs("p",{className:`text-[10px] mt-1 text-right ${n?"text-slate-600":"text-slate-400"}`,children:[s.length,"/500"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:`text-[10px] font-bold uppercase tracking-widest mb-2 block ${n?"text-slate-500":"text-slate-400"}`,children:"Target"}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"all",label:"All Network",icon:m.jsx(iE,{className:"w-4 h-4"}),color:"indigo"},{id:"doctors",label:"Doctors Only",icon:m.jsx(ia,{className:"w-4 h-4"}),color:"blue"},{id:"kiosks",label:"Kiosks Only",icon:m.jsx(ch,{className:"w-4 h-4"}),color:"emerald"}].map(R=>m.jsxs("button",{onClick:()=>v(R.id),className:`flex flex-col items-center justify-center py-3 rounded-xl border transition-all btn-hover-lift ${y===R.id?R.color==="indigo"?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-500/20":R.color==="blue"?"bg-blue-600 text-white border-blue-600 shadow-lg shadow-blue-500/20":"bg-emerald-600 text-white border-emerald-600 shadow-lg shadow-emerald-500/20":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:[R.icon,m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide mt-1",children:R.label})]},R.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:`text-[10px] font-bold uppercase tracking-widest mb-2 block ${n?"text-slate-500":"text-slate-400"}`,children:"Priority"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>d("normal"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold border transition-all btn-hover-lift ${u==="normal"?"bg-slate-600 text-white border-slate-600":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:"Normal"}),m.jsx("button",{onClick:()=>d("high"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold border transition-all btn-hover-lift ${u==="high"?"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-rose-500 shadow-lg shadow-rose-500/20":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:" High Priority"})]})]})]}),m.jsxs("div",{className:"px-6 pb-6 flex justify-end gap-3",children:[m.jsx("button",{onClick:r,className:`px-5 py-2.5 rounded-xl text-xs font-bold transition-all btn-hover-lift border ${n?"text-slate-300 border-white/10 hover:bg-white/5":"text-slate-600 border-gray-200 hover:bg-gray-50"}`,children:"Cancel"}),m.jsxs("button",{onClick:E,disabled:!s.trim()||p,className:"flex items-center gap-2 px-6 py-2.5 rounded-xl text-xs font-bold bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-500 hover:to-indigo-400 text-white disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-500/20 btn-hover-lift transition-all",children:[p?m.jsx(lc,{className:"w-3.5 h-3.5 animate-spin"}):m.jsx(DE,{className:"w-3.5 h-3.5"}),p?"Sending...":"Broadcast"]})]})]})})}function cR({transactions:r,isDarkMode:e}){const n={};r?.length>0&&r.forEach(d=>{(d.items||[]).forEach(y=>{const v=y.name||y.medicine||"Unknown",p=Number(y.qty||y.quantity||1);n[v]=(n[v]||0)+p})});const s=Object.entries(n).sort((d,y)=>y[1]-d[1]).slice(0,5),o=Math.max(...s.map(d=>d[1]),1),u=["from-indigo-500 to-violet-500","from-blue-500 to-cyan-400","from-emerald-500 to-teal-400","from-amber-500 to-orange-400","from-rose-500 to-pink-400"];return m.jsxs("div",{className:"space-y-5",children:[s.map(([d,y],v)=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${u[v]} inline-block`}),m.jsx("span",{className:`font-semibold ${e?"text-slate-300":"text-slate-700"}`,children:d})]}),m.jsx("span",{className:"font-mono font-bold text-indigo-400",children:y})]}),m.jsx("div",{className:`w-full h-2.5 rounded-full overflow-hidden ${e?"bg-white/5":"bg-gray-100"}`,children:m.jsx("div",{className:`h-full bg-gradient-to-r ${u[v]} rounded-full progress-bar shadow-sm`,style:{width:`${y/o*100}%`}})})]},v)),s.length===0&&m.jsxs("div",{className:"flex flex-col items-center justify-center py-8 opacity-40",children:[m.jsx(eb,{className:"w-10 h-10 text-slate-500 mb-2"}),m.jsx("p",{className:"text-sm text-slate-500",children:"No prescription data yet"})]})]})}function Vl({children:r,isDarkMode:e,className:n=""}){return m.jsx("div",{className:`rounded-2xl border animate-slide-up ${e?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"} ${n}`,children:r})}function bc({isDarkMode:r,children:e}){return m.jsx("thead",{className:`text-[10px] font-bold uppercase tracking-widest ${r?"bg-white/3 text-slate-500":"bg-gray-50 text-slate-400"}`,children:e})}function uR({medicines:r,db:e,appId:n,isDarkMode:s,onNotify:o}){const[u,d]=le.useState({name:"",generic:"",stock:0,price:0}),[y,v]=le.useState(!1),[p,w]=le.useState(1),[E,R]=le.useState(null),[L,K]=le.useState(""),ie=10,te=r.filter($=>($.name?.toLowerCase()||"").includes(L.toLowerCase())||($.generic?.toLowerCase()||"").includes(L.toLowerCase())),de=Math.ceil(te.length/ie),me=te.slice((p-1)*ie,p*ie),ne=async $=>{$.preventDefault();try{await sx(hs(e,"artifacts",n,"public","data","medicines"),u),v(!1),d({name:"",generic:"",stock:0,price:0}),o("Medicine added to Master Database")}catch(ve){o(ve.message,"error")}},pe=async()=>{try{await Eh(Wt(e,"artifacts",n,"public","data","medicines",E)),o("Medicine removed from database")}catch($){o($.message,"error")}R(null)};return m.jsxs(m.Fragment,{children:[m.jsx(qg,{isOpen:!!E,onClose:()=>R(null),onConfirm:pe,title:"Remove Medicine?",message:"This medicine will be removed from the Master Database across all doctors.",confirmText:"Remove",type:"danger",isDarkMode:s}),m.jsxs(Vl,{isDarkMode:s,className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:`p-5 border-b flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 ${s?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${s?"text-white":"text-slate-900"}`,children:"Master Medicine Database"}),m.jsxs("p",{className:`text-xs mt-0.5 ${s?"text-slate-500":"text-slate-400"}`,children:[r.length," medicines  Updates push to all doctors"]})]}),m.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[m.jsxs("div",{className:"relative flex-1 sm:w-56",children:[m.jsx(rb,{className:"w-3.5 h-3.5 absolute left-3 top-2.5 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"Search...",value:L,onChange:$=>K($.target.value),className:`w-full pl-8 pr-3 py-2 rounded-xl text-xs border outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all ${s?"bg-white/5 border-white/10 text-white placeholder-slate-600 focus:border-indigo-500/50":"bg-gray-50 border-gray-200 text-slate-700 placeholder-slate-400"}`})]}),m.jsx("button",{onClick:()=>v(!y),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold btn-hover-lift transition-all ${y?s?"bg-white/10 text-slate-300 border border-white/10":"bg-gray-100 text-slate-600 border border-gray-200":"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white shadow-lg shadow-indigo-500/20"}`,children:y?m.jsxs(m.Fragment,{children:[m.jsx(vl,{className:"w-3.5 h-3.5"})," Cancel"]}):m.jsx(m.Fragment,{children:"+ Add"})})]})]}),y&&m.jsxs("form",{onSubmit:ne,className:`p-5 border-b grid grid-cols-2 md:grid-cols-5 gap-3 animate-slide-up ${s?"bg-indigo-500/5 border-indigo-500/10":"bg-indigo-50/50 border-indigo-100"}`,children:[["Brand Name","Generic Name"].map(($,ve)=>m.jsx("input",{placeholder:$,required:!0,className:`p-3 rounded-xl border text-xs outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all font-medium ${s?"bg-black/20 border-white/10 text-white placeholder-slate-600":"bg-white border-gray-200 text-slate-900"}`,value:ve===0?u.name:u.generic,onChange:C=>d({...u,[ve===0?"name":"generic"]:C.target.value})},ve)),m.jsx("input",{type:"number",placeholder:"Stock Qty",required:!0,className:`p-3 rounded-xl border text-xs outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all font-mono ${s?"bg-black/20 border-white/10 text-white placeholder-slate-600":"bg-white border-gray-200 text-slate-900"}`,value:u.stock,onChange:$=>d({...u,stock:parseInt($.target.value)})}),m.jsx("input",{type:"number",placeholder:"Price (PHP)",required:!0,className:`p-3 rounded-xl border text-xs outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all font-mono ${s?"bg-black/20 border-white/10 text-white placeholder-slate-600":"bg-white border-gray-200 text-slate-900"}`,value:u.price,onChange:$=>d({...u,price:parseFloat($.target.value)})}),m.jsx("button",{type:"submit",className:"bg-gradient-to-r from-emerald-600 to-emerald-500 text-white font-bold rounded-xl p-3 text-xs hover:from-emerald-500 hover:to-emerald-400 shadow-lg shadow-emerald-500/20 btn-hover-lift",children:"Save to DB"})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:me.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx(xm,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No medicines found"})]}):me.map($=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-2 transition-colors ${s?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Dl,{isDarkMode:s,children:m.jsxs("button",{onClick:()=>R($.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Remove"]})})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm pr-10 ${s?"text-white":"text-slate-900"}`,children:$.name}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:$.generic})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Stock"}),m.jsx("p",{className:`text-xs font-mono font-bold ${s?"text-white":"text-slate-900"}`,children:$.stock})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Price"}),m.jsxs("p",{className:"text-xs font-bold text-emerald-400",children:["",$.price]})]})]})]},$.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto rounded-b-2xl",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx(bc,{isDarkMode:s,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3.5",children:"Medicine"}),m.jsx("th",{className:"px-6 py-3.5",children:"Generic"}),m.jsx("th",{className:"px-6 py-3.5",children:"Stock"}),m.jsx("th",{className:"px-6 py-3.5",children:"Price"}),m.jsx("th",{className:"px-6 py-3.5 text-right",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${s?"divide-white/5":"divide-gray-50"}`,children:me.map($=>m.jsxs("tr",{className:`table-row-hover ${s?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:`px-6 py-4 font-semibold ${s?"text-white":"text-slate-900"}`,children:$.name}),m.jsx("td",{className:`px-6 py-4 text-xs ${s?"text-slate-500":"text-slate-400"}`,children:$.generic}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`font-mono text-xs px-2.5 py-1 rounded-lg ${s?"bg-white/5 text-slate-300":"bg-gray-100 text-slate-600"}`,children:$.stock})}),m.jsxs("td",{className:"px-6 py-4 font-bold font-mono text-emerald-400",children:["",$.price]}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsx("button",{onClick:()=>R($.id),className:"p-2 text-slate-600 hover:text-rose-400 hover:bg-rose-500/10 rounded-lg transition-all btn-hover-lift",children:m.jsx(fn,{className:"w-4 h-4"})})})]},$.id))})]})}),m.jsx(Ol,{currentPage:p,totalPages:de,onPageChange:w,isDarkMode:s})]})]})}function hR({tickets:r,db:e,appId:n,isDarkMode:s,onNotify:o}){const[u,d]=le.useState("all"),[y,v]=le.useState(1),[p,w]=le.useState(null),[E,R]=le.useState([]),L=10,K=async($,ve)=>{try{await Vn(Wt(e,"artifacts",n,"public","data","support_tickets",$.id),{...$,status:ve},{merge:!0}),o(`Ticket marked as ${ve.replace("_"," ")}`)}catch{o("Failed to update status","error")}},ie=async()=>{R($=>[...$,p]);try{await Eh(Wt(e,"artifacts",n,"public","data","support_tickets",p))}catch{}w(null),o("Ticket deleted")},te=r.filter($=>!E.includes($.id)).filter($=>u==="all"?!0:$.status===u),de=Math.ceil(te.length/L),me=te.slice((y-1)*L,y*L),ne=["all","open","in_progress","resolved"],pe={all:r.length,open:r.filter($=>$.status==="open").length,in_progress:r.filter($=>$.status==="in_progress").length,resolved:r.filter($=>$.status==="resolved").length};return m.jsxs(m.Fragment,{children:[m.jsx(qg,{isOpen:!!p,onClose:()=>w(null),onConfirm:ie,title:"Delete Ticket?",message:"This support ticket will be permanently deleted.",confirmText:"Delete",type:"danger",isDarkMode:s}),m.jsxs(Vl,{isDarkMode:s,className:"max-w-7xl mx-auto",children:[m.jsx("div",{className:`p-5 border-b ${s?"border-white/5":"border-gray-100"}`,children:m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${s?"text-white":"text-slate-900"}`,children:"Support Ticketing"}),m.jsx("p",{className:`text-xs mt-0.5 ${s?"text-slate-500":"text-slate-400"}`,children:"Manage doctor issues and alerts"})]}),m.jsx("div",{className:`flex p-1 rounded-xl gap-1 ${s?"bg-white/5":"bg-gray-100"}`,children:ne.map($=>m.jsxs("button",{onClick:()=>d($),className:`px-3 py-1.5 rounded-lg text-[11px] font-bold uppercase tracking-wide transition-all flex items-center gap-1.5 ${u===$?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":s?"text-slate-400 hover:text-white":"text-slate-400 hover:text-slate-700"}`,children:[$.replace("_"," "),pe[$]>0&&m.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full ${u===$?"bg-white/20":s?"bg-white/10":"bg-slate-200"}`,children:pe[$]})]},$))})]})}),m.jsx("div",{className:"divide-y divide-white/5",children:me.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx(Ju,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No tickets found"})]}):me.map($=>m.jsxs("div",{className:`p-4 md:p-5 flex flex-col md:flex-row justify-between items-start gap-4 transition-colors ${s?"hover:bg-white/3":"hover:bg-gray-50"} ${$.priority==="high"?s?"border-l-2 border-rose-500":"border-l-2 border-rose-400 bg-rose-50/50":""}`,children:[m.jsxs("div",{className:"flex gap-4 items-start w-full relative",children:[m.jsx("div",{className:"absolute top-0 right-0 md:hidden z-20",children:m.jsxs(Dl,{isDarkMode:s,children:[$.status==="open"&&m.jsx("button",{onClick:()=>K($,"in_progress"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-indigo-400 hover:bg-indigo-500/10 rounded-xl",children:"In Progress"}),$.status!=="resolved"&&m.jsx("button",{onClick:()=>K($,"resolved"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-400 hover:bg-emerald-500/10 rounded-xl",children:"Resolve"}),m.jsxs("button",{onClick:()=>w($.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Delete"]})]})}),m.jsx("div",{className:`p-3 rounded-xl flex-shrink-0 ${$.priority==="high"?"bg-rose-500/15 text-rose-400":s?"bg-indigo-500/10 text-indigo-400":"bg-indigo-50 text-indigo-500"}`,children:$.type==="kiosk_alert"?m.jsx(UT,{className:"w-5 h-5"}):m.jsx(yE,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex-1 pr-10 md:pr-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[m.jsx("h4",{className:`font-bold text-sm ${s?"text-white":"text-slate-900"}`,children:$.subject}),$.priority==="high"&&m.jsx("span",{className:"text-[9px] font-bold bg-rose-500 text-white px-2 py-0.5 rounded-full",children:"HIGH"}),m.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded-full border ${$.status==="open"?"bg-amber-500/10 text-amber-400 border-amber-500/20":$.status==="resolved"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-blue-500/10 text-blue-400 border-blue-500/20"}`,children:$.status.replace("_"," ")})]}),m.jsx("p",{className:`text-xs ${s?"text-slate-400":"text-slate-500"}`,children:$.message}),m.jsxs("p",{className:`text-[10px] mt-2 font-mono ${s?"text-slate-600":"text-slate-400"}`,children:[$.sender,"  ",$.timestamp?.seconds?new Date($.timestamp.seconds*1e3).toLocaleString():"Just now"]})]})]}),m.jsxs("div",{className:"hidden md:flex gap-2 self-center flex-shrink-0",children:[$.status==="open"&&m.jsx("button",{onClick:()=>K($,"in_progress"),className:"px-3 py-1.5 border border-indigo-500/30 text-indigo-400 hover:bg-indigo-500/10 rounded-lg text-xs font-bold transition-all btn-hover-lift",children:"In Progress"}),$.status!=="resolved"&&m.jsxs("button",{onClick:()=>K($,"resolved"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-xs font-bold shadow-lg shadow-emerald-500/20 btn-hover-lift",children:[m.jsx(lb,{className:"w-3.5 h-3.5"})," Resolve"]}),m.jsx("button",{onClick:()=>w($.id),className:"p-1.5 text-slate-600 hover:text-rose-400 hover:bg-rose-500/10 rounded-lg transition-all btn-hover-lift",children:m.jsx(fn,{className:"w-4 h-4"})})]})]},$.id))}),m.jsx(Ol,{currentPage:y,totalPages:de,onPageChange:v,isDarkMode:s})]})]})}function dR({doctors:r,filter:e,setFilter:n,onRefresh:s,onUpdateStatus:o,onUpdatePassword:u,onDelete:d,loading:y,isDarkMode:v}){const[p,w]=le.useState(null),[E,R]=le.useState(""),[L,K]=le.useState(!1),[ie,te]=le.useState(!1),[de,me]=le.useState(""),[ne,pe]=le.useState(1),$=10,ve=r.filter(N=>(N.name?.toLowerCase()||"").includes(E.toLowerCase())||(N.email?.toLowerCase()||"").includes(E.toLowerCase())||(N.license?.toLowerCase()||"").includes(E.toLowerCase())),C=Math.ceil(ve.length/$),A=ve.slice((ne-1)*$,ne*$),I=["pending","active","rejected","all"];return m.jsxs(m.Fragment,{children:[m.jsxs(Vl,{isDarkMode:v,className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:`p-5 border-b ${v?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${v?"text-white":"text-slate-900"}`,children:"Medical Practitioners"}),m.jsxs("p",{className:`text-xs mt-0.5 ${v?"text-slate-500":"text-slate-400"}`,children:[r.length," registered physicians"]})]}),m.jsx("button",{onClick:s,className:`p-2 rounded-lg transition-all btn-hover-lift ${v?"text-slate-400 hover:bg-white/5 hover:text-emerald-400":"text-slate-400 hover:bg-gray-100 hover:text-emerald-600"}`,children:m.jsx(lc,{className:`w-4 h-4 ${y?"animate-spin":""}`})})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("div",{className:`flex p-1 rounded-xl gap-1 ${v?"bg-white/5":"bg-gray-100"}`,children:I.map(N=>m.jsx("button",{onClick:()=>n(N),className:`px-3 py-1.5 rounded-lg text-[11px] font-bold uppercase tracking-wide transition-all whitespace-nowrap ${e===N?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":v?"text-slate-400 hover:text-white":"text-slate-400 hover:text-slate-700"}`,children:N},N))}),m.jsxs("div",{className:"relative flex-1 max-w-xs",children:[m.jsx(rb,{className:"w-3.5 h-3.5 absolute left-3 top-2.5 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"Search doctors...",value:E,onChange:N=>R(N.target.value),className:`w-full pl-8 pr-3 py-2 rounded-xl text-xs border outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all ${v?"bg-white/5 border-white/10 text-white placeholder-slate-600":"bg-white border-gray-200 text-slate-700 placeholder-slate-400"}`})]})]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:A.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx(ia,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No doctors found"})]}):A.map(N=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-3 transition-colors ${v?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsxs(Dl,{isDarkMode:v,children:[m.jsxs("button",{onClick:()=>{w(N),K(!1),te(!1)},className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left rounded-xl ${v?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(oh,{className:"w-3.5 h-3.5"})," View"]}),N.status==="pending"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>o(N.id,"active"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-400 hover:bg-emerald-500/10 rounded-xl",children:[m.jsx(sm,{className:"w-3.5 h-3.5"})," Approve"]}),m.jsxs("button",{onClick:()=>o(N.id,"rejected"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(rm,{className:"w-3.5 h-3.5"})," Reject"]})]}),N.status==="active"&&m.jsxs("button",{onClick:()=>o(N.id,"rejected"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(rm,{className:"w-3.5 h-3.5"})," Revoke"]}),N.status==="rejected"&&m.jsxs("button",{onClick:()=>o(N.id,"active"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-400 hover:bg-emerald-500/10 rounded-xl",children:[m.jsx(sm,{className:"w-3.5 h-3.5"})," Restore"]}),m.jsxs("button",{onClick:()=>d(N.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Delete"]})]})}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-display font-bold text-sm ${v?"bg-indigo-500/20 text-indigo-300":"bg-indigo-50 text-indigo-600"}`,children:N.name?.charAt(0)||"?"}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm pr-10 ${v?"text-white":"text-slate-900"}`,children:N.name}),m.jsx("p",{className:"text-xs text-slate-500",children:N.email})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(X_,{status:N.status}),m.jsx("span",{className:`font-mono text-[10px] ${v?"text-slate-500":"text-slate-400"}`,children:N.license})]})]},N.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto rounded-b-2xl",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx(bc,{isDarkMode:v,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4",children:"Physician"}),m.jsx("th",{className:"px-6 py-4",children:"License"}),m.jsx("th",{className:"px-6 py-4",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),m.jsx("tbody",{className:`divide-y ${v?"divide-white/5":"divide-gray-50"}`,children:A.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-10 text-center text-xs text-slate-500 italic",children:"No doctors found"})}):A.map(N=>m.jsxs("tr",{className:`table-row-hover ${v?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center font-display font-bold text-xs ${v?"bg-indigo-500/15 text-indigo-300":"bg-indigo-50 text-indigo-600"}`,children:N.name?.charAt(0)||"?"}),m.jsxs("div",{children:[m.jsx("p",{className:`font-semibold text-sm ${v?"text-white":"text-slate-900"}`,children:N.name}),m.jsx("p",{className:`text-[11px] ${v?"text-slate-500":"text-slate-400"}`,children:N.email})]})]})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`font-mono text-[11px] px-2 py-1 rounded-lg ${v?"bg-white/5 text-slate-400":"bg-gray-100 text-slate-600"}`,children:N.license})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx(X_,{status:N.status})}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsxs("div",{className:"flex justify-end gap-1.5",children:[m.jsx("button",{onClick:()=>{w(N),K(!1),te(!1)},className:`p-2 rounded-lg transition-all btn-hover-lift ${v?"text-slate-500 hover:text-blue-400 hover:bg-blue-500/10":"text-slate-400 hover:text-blue-600 hover:bg-blue-50"}`,title:"View",children:m.jsx(oh,{className:"w-4 h-4"})}),N.status==="pending"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>o(N.id,"active"),className:"p-2 text-emerald-400 bg-emerald-500/10 rounded-lg hover:bg-emerald-500/20 btn-hover-lift",children:m.jsx(sm,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>o(N.id,"rejected"),className:"p-2 text-rose-400 bg-rose-500/10 rounded-lg hover:bg-rose-500/20 btn-hover-lift",children:m.jsx(rm,{className:"w-4 h-4"})})]}),N.status==="active"&&m.jsx("button",{onClick:()=>o(N.id,"rejected"),className:"text-[10px] font-bold text-rose-400 border border-rose-500/30 px-2.5 py-1.5 rounded-lg hover:bg-rose-500/10 btn-hover-lift",children:"Revoke"}),N.status==="rejected"&&m.jsx("button",{onClick:()=>o(N.id,"active"),className:"text-[10px] font-bold text-emerald-400 border border-emerald-500/30 px-2.5 py-1.5 rounded-lg hover:bg-emerald-500/10 btn-hover-lift",children:"Restore"}),m.jsx("button",{onClick:()=>d(N.id),className:"p-2 text-slate-600 hover:text-rose-400 hover:bg-rose-500/10 rounded-lg transition-all btn-hover-lift ml-1",children:m.jsx(fn,{className:"w-4 h-4"})})]})})]},N.id))})]})}),m.jsx(Ol,{currentPage:ne,totalPages:C,onPageChange:pe,isDarkMode:v})]}),p&&m.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:m.jsxs("div",{className:`rounded-3xl shadow-2xl max-w-lg w-full overflow-hidden border animate-scale-in ${v?"bg-[#0f1829] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${v?"border-white/10 bg-gradient-to-r from-indigo-900/20 to-transparent":"border-gray-100 bg-gradient-to-r from-indigo-50 to-transparent"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-display font-bold ${v?"bg-indigo-500/20 text-indigo-300":"bg-indigo-50 text-indigo-600"}`,children:p.name?.charAt(0)||"?"}),m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${v?"text-white":"text-slate-900"}`,children:p.name}),m.jsx("p",{className:"text-xs text-slate-500",children:"Verification Details"})]})]}),m.jsx("button",{onClick:()=>w(null),className:`p-2 rounded-xl transition-all ${v?"hover:bg-white/10 text-slate-400":"hover:bg-gray-100 text-slate-500"}`,children:m.jsx(vl,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 space-y-5 max-h-[75vh] overflow-y-auto custom-scrollbar",children:[m.jsxs("div",{className:`p-4 rounded-2xl border text-center ${v?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsx(eE,{className:"w-10 h-10 text-slate-500 mx-auto mb-2"}),m.jsx("p",{className:`text-sm font-bold ${v?"text-slate-300":"text-slate-700"}`,children:"PRC License ID"}),m.jsx("p",{className:"text-xs text-slate-500",children:"No image uploaded"})]}),[{label:"Account Credentials",fields:[{label:"Full Name",value:p.name,span:2},{label:"Email",value:p.email,mono:!0,span:2},{label:"Password",isPassword:!0}]},{label:"Clinic Information",fields:[{label:"Clinic Name",value:p.clinicDetails?.name||"N/A",span:2},{label:"Address",value:p.clinicDetails?.address||"N/A",span:2},{label:"Contact",value:p.clinicDetails?.contactNumber||"N/A"},{label:"License No",value:p.license,mono:!0},{label:"PTR No",value:p.clinicDetails?.ptr||"N/A",mono:!0},{label:"S2 License",value:p.clinicDetails?.s2||"N/A",mono:!0}]}].map(N=>m.jsxs("div",{children:[m.jsx("h4",{className:`text-[10px] font-bold uppercase tracking-widest mb-3 ${v?"text-slate-500":"text-slate-400"}`,children:N.label}),m.jsx("div",{className:"grid grid-cols-2 gap-3 text-sm",children:N.fields.map((O,M)=>m.jsxs("div",{className:O.span===2?"col-span-2":"",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold mb-1",children:O.label}),O.isPassword?ie?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"text",className:`flex-1 p-2 rounded-lg border text-xs outline-none focus:ring-2 focus:ring-emerald-500/30 font-mono ${v?"bg-black/20 border-white/10 text-white":"bg-white border-gray-200 text-slate-900"}`,value:de,onChange:S=>me(S.target.value),placeholder:"New password"}),m.jsx("button",{onClick:async()=>{de.trim()&&(await u(p.id,de),te(!1),w(S=>({...S,password:de})))},className:"p-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg btn-hover-lift",children:m.jsx(lb,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>te(!1),className:"p-2 bg-rose-600 hover:bg-rose-500 text-white rounded-lg btn-hover-lift",children:m.jsx(vl,{className:"w-4 h-4"})})]}):m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:`font-mono text-sm ${v?"text-white":"text-slate-900"}`,children:L?p.password:""}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>{te(!0),me(p.password)},className:"text-[10px] font-bold text-emerald-400 hover:text-emerald-300",children:"Edit"}),m.jsx("button",{onClick:()=>K(!L),className:"text-[10px] font-bold text-indigo-400 hover:text-indigo-300",children:L?"Hide":"Show"})]})]}):m.jsx("p",{className:`${O.mono?"font-mono":""} ${v?"text-white":"text-slate-900"}`,children:O.value})]},M))})]},N.label))]}),m.jsx("div",{className:`p-4 border-t flex justify-end ${v?"bg-white/5 border-white/10":"bg-gray-50 border-gray-100"}`,children:m.jsx("button",{onClick:()=>w(null),className:"px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-500 text-white rounded-xl text-xs font-bold shadow-lg shadow-indigo-500/20 btn-hover-lift",children:"Close"})})]})})]})}function fR({machines:r,onPing:e,onRunDiagnostics:n,onReboot:s,onLock:o,onDelete:u,isDarkMode:d}){const[y,v]=le.useState(1),p=10,w=Math.ceil(r.length/p),E=r.slice((y-1)*p,y*p),R={online:{cls:"bg-emerald-500/15 text-emerald-400 border-emerald-500/20",icon:m.jsx(YE,{className:"w-3 h-3"}),dot:"emerald"},rebooting:{cls:"bg-amber-500/15 text-amber-400 border-amber-500/20",icon:m.jsx(lc,{className:"w-3 h-3 animate-spin"}),dot:"amber"},locked:{cls:"bg-slate-500/15 text-slate-400 border-slate-500/20",icon:m.jsx(cr,{className:"w-3 h-3"}),dot:"slate"},offline:{cls:"bg-rose-500/15 text-rose-400 border-rose-500/20",icon:m.jsx(KE,{className:"w-3 h-3"}),dot:"rose"}};return m.jsxs(Vl,{isDarkMode:d,className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:`p-5 border-b ${d?"border-white/5":"border-gray-100"}`,children:[m.jsx("h3",{className:`font-display font-bold text-base ${d?"text-white":"text-slate-900"}`,children:"Kiosk Network"}),m.jsxs("p",{className:`text-xs mt-0.5 ${d?"text-slate-500":"text-slate-400"}`,children:[r.length," machines registered  ",r.filter(L=>L.status==="online").length," online"]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:E.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx(ch,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No kiosks connected"})]}):E.map(L=>{const K=R[L.status]||R.offline;return m.jsxs("div",{className:`p-4 relative flex flex-col gap-3 transition-colors ${d?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsxs(Dl,{isDarkMode:d,children:[m.jsxs("button",{onClick:()=>e(L.id),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left rounded-xl ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(Xo,{className:"w-3.5 h-3.5"})," Ping"]}),m.jsxs("button",{onClick:()=>n(L),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left rounded-xl ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(xv,{className:"w-3.5 h-3.5"})," Diagnostics"]}),m.jsxs("button",{onClick:()=>s(L.id),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left rounded-xl ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(wm,{className:"w-3.5 h-3.5"})," Reboot"]}),m.jsxs("button",{onClick:()=>o(L.id,L.status),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left rounded-xl ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[L.status==="locked"?m.jsx(bm,{className:"w-3.5 h-3.5"}):m.jsx(cr,{className:"w-3.5 h-3.5"})," ",L.status==="locked"?"Unlock":"Lock"]}),m.jsxs("button",{onClick:()=>u(L.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Remove"]})]})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm font-mono pr-10 ${d?"text-white":"text-slate-900"}`,children:L.id}),m.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:L.location})]}),m.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border w-fit ${K.cls}`,children:[K.icon," ",L.status]})]},L.id)})}),m.jsx("div",{className:"hidden md:block overflow-x-auto rounded-b-2xl",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx(bc,{isDarkMode:d,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4",children:"Kiosk ID"}),m.jsx("th",{className:"px-6 py-4",children:"Location"}),m.jsx("th",{className:"px-6 py-4",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Controls"})]})}),m.jsx("tbody",{className:`divide-y ${d?"divide-white/5":"divide-gray-50"}`,children:E.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-10 text-center text-xs text-slate-500 italic",children:"No kiosks connected"})}):E.map(L=>{const K=R[L.status]||R.offline;return m.jsxs("tr",{className:`table-row-hover ${d?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:`px-6 py-4 font-bold font-mono text-sm ${d?"text-white":"text-slate-900"}`,children:L.id}),m.jsx("td",{className:`px-6 py-4 text-xs ${d?"text-slate-400":"text-slate-500"}`,children:L.location}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border ${K.cls}`,children:[K.icon," ",L.status]})}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsxs("div",{className:"flex justify-end gap-1.5",children:[[{action:()=>e(L.id),icon:m.jsx(Xo,{size:14}),title:"Ping"},{action:()=>n(L),icon:m.jsx(xv,{size:14}),title:"Diagnostics"},{action:()=>s(L.id),icon:m.jsx(wm,{size:14}),title:"Reboot"},{action:()=>o(L.id,L.status),icon:L.status==="locked"?m.jsx(bm,{size:14}):m.jsx(cr,{size:14}),title:L.status==="locked"?"Unlock":"Lock"}].map((ie,te)=>m.jsx("button",{onClick:ie.action,title:ie.title,className:`p-2 rounded-lg transition-all btn-hover-lift ${d?"bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-slate-500 hover:text-slate-700"}`,children:ie.icon},te)),m.jsx("button",{onClick:()=>u(L.id),className:"p-2 bg-rose-500/10 hover:bg-rose-500/20 rounded-lg text-rose-400 btn-hover-lift ml-1",children:m.jsx(fn,{size:14})})]})})]},L.id)})})]})}),m.jsx(Ol,{currentPage:y,totalPages:w,onPageChange:v,isDarkMode:d})]})}function mR({transactions:r,onHide:e,onClearView:n,isDarkMode:s}){const[o,u]=le.useState(1),d=10,y=Math.ceil(r.length/d),v=r.slice((o-1)*d,o*d);return m.jsxs(Vl,{isDarkMode:s,className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${s?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${s?"text-white":"text-slate-900"}`,children:"Prescription Registry"}),m.jsxs("p",{className:`text-xs mt-0.5 ${s?"text-slate-500":"text-slate-400"}`,children:[r.length," records in view"]})]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 px-3 py-2 bg-rose-500/10 text-rose-400 hover:bg-rose-500/20 rounded-xl text-xs font-bold uppercase tracking-wide transition-all btn-hover-lift border border-rose-500/20",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Clear View"]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:v.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx(Ym,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No transactions"})]}):v.map(p=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-2 transition-colors ${s?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Dl,{isDarkMode:s,children:m.jsxs("button",{onClick:()=>e(p.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Hide"]})})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm pr-10 ${s?"text-white":"text-slate-900"}`,children:p.doctorName}),m.jsx("p",{className:"text-xs text-slate-500",children:p.patient?.name}),m.jsx("p",{className:"text-[10px] font-mono text-slate-600 mt-1",children:p.id})]}),m.jsxs("div",{className:"flex gap-3 items-center",children:[m.jsxs("span",{className:"font-bold text-emerald-400 font-mono",children:["",p.grandTotal?.toFixed(2)]}),m.jsx(J_,{status:p.status||"issued"})]})]},p.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto rounded-b-2xl",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx(bc,{isDarkMode:s,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4",children:"Rx ID"}),m.jsx("th",{className:"px-6 py-4",children:"Doctor"}),m.jsx("th",{className:"px-6 py-4",children:"Patient"}),m.jsx("th",{className:"px-6 py-4",children:"Value"}),m.jsx("th",{className:"px-6 py-4",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${s?"divide-white/5":"divide-gray-50"}`,children:v.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"p-10 text-center text-xs text-slate-500 italic",children:"No transactions"})}):v.map(p=>m.jsxs("tr",{className:`table-row-hover ${s?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsxs("td",{className:`px-6 py-4 font-mono text-[11px] ${s?"text-slate-500":"text-slate-400"}`,children:[p.id?.slice(0,8),"..."]}),m.jsx("td",{className:`px-6 py-4 font-semibold text-sm ${s?"text-white":"text-slate-900"}`,children:p.doctorName}),m.jsx("td",{className:`px-6 py-4 text-xs ${s?"text-slate-400":"text-slate-500"}`,children:p.patient?.name}),m.jsxs("td",{className:"px-6 py-4 font-bold font-mono text-emerald-400",children:["",p.grandTotal?.toFixed(2)]}),m.jsx("td",{className:"px-6 py-4",children:m.jsx(J_,{status:p.status||"issued"})}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("button",{onClick:()=>e(p.id),className:`p-2 rounded-lg transition-all btn-hover-lift ${s?"text-slate-600 hover:text-rose-400 hover:bg-rose-900/20":"text-slate-400 hover:text-rose-600 hover:bg-rose-50"}`,children:m.jsx(fn,{className:"w-4 h-4"})})})]},p.id))})]})}),m.jsx(Ol,{currentPage:o,totalPages:y,onPageChange:u,isDarkMode:s})]})}function gR({logs:r,onHide:e,onClearView:n,isDarkMode:s}){const[o,u]=le.useState(1),d=10,y=Math.ceil(r.length/d),v=r.slice((o-1)*d,o*d);return m.jsxs(Vl,{isDarkMode:s,className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${s?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${s?"text-white":"text-slate-900"}`,children:"Security Audit Log"}),m.jsxs("p",{className:`text-xs mt-0.5 ${s?"text-slate-500":"text-slate-400"}`,children:[r.length," system events"]})]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 px-3 py-2 bg-rose-500/10 text-rose-400 hover:bg-rose-500/20 rounded-xl text-xs font-bold uppercase tracking-wide transition-all btn-hover-lift border border-rose-500/20",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Clear View"]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:v.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx(nb,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No audit logs"})]}):v.map((p,w)=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-2 transition-colors ${s?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Dl,{isDarkMode:s,children:m.jsxs("button",{onClick:()=>e(p.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Hide"]})})}),m.jsx("p",{className:`font-bold text-sm pr-10 ${s?"text-white":"text-slate-900"}`,children:p.action}),m.jsx("p",{className:"text-xs text-slate-400",children:p.details}),m.jsxs("p",{className:"text-[10px] font-mono text-slate-600",children:[p.time,"  ",p.user]})]},w))}),m.jsx("div",{className:"hidden md:block overflow-x-auto rounded-b-2xl",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx(bc,{isDarkMode:s,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4",children:"Action"}),m.jsx("th",{className:"px-6 py-4",children:"Details"}),m.jsx("th",{className:"px-6 py-4",children:"User"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Timestamp"}),m.jsx("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${s?"divide-white/5":"divide-gray-50"}`,children:v.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"5",className:"p-10 text-center text-xs text-slate-500 italic",children:"No audit logs"})}):v.map((p,w)=>m.jsxs("tr",{className:`table-row-hover ${s?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:`px-6 py-4 font-semibold text-sm ${s?"text-white":"text-slate-900"}`,children:p.action}),m.jsx("td",{className:`px-6 py-4 text-xs max-w-xs truncate ${s?"text-slate-400":"text-slate-500"}`,children:p.details}),m.jsx("td",{className:`px-6 py-4 font-mono text-[11px] ${s?"text-slate-500":"text-slate-400"}`,children:p.user}),m.jsx("td",{className:`px-6 py-4 text-right font-mono text-[11px] ${s?"text-slate-500":"text-slate-400"}`,children:p.time}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("button",{onClick:()=>e(p.id),className:`p-2 rounded-lg transition-all btn-hover-lift ${s?"text-slate-600 hover:text-rose-400 hover:bg-rose-900/20":"text-slate-400 hover:text-rose-600 hover:bg-rose-50"}`,children:m.jsx(fn,{className:"w-4 h-4"})})})]},w))})]})}),m.jsx(Ol,{currentPage:o,totalPages:y,onPageChange:u,isDarkMode:s})]})}function pR({profile:r,setProfile:e,onSave:n,isEditing:s,setIsEditing:o,setShowPassword:u,isDarkMode:d,transactions:y,auditLogs:v,doctors:p,machines:w,medicines:E,supportTickets:R,onNotify:L}){const[K,ie]=le.useState("profile"),te=(ne,pe)=>{if(!ne?.length)return L("No data to export","error");const $=Object.keys(ne[0]),ve=[$.join(","),...ne.map(A=>$.map(I=>JSON.stringify(A[I]??"")).join(","))].join(`\r
`),C=Object.assign(document.createElement("a"),{href:URL.createObjectURL(new Blob([ve],{type:"text/csv"})),download:pe,hidden:!0});document.body.appendChild(C),C.click(),document.body.removeChild(C)},de=()=>{const ne={timestamp:new Date().toISOString(),doctors:p,machines:w,transactions:y,auditLogs:v,medicines:E,supportTickets:R},pe=Object.assign(document.createElement("a"),{href:URL.createObjectURL(new Blob([JSON.stringify(ne,null,2)],{type:"application/json"})),download:`medivend_backup_${Date.now()}.json`,hidden:!0});document.body.appendChild(pe),pe.click(),document.body.removeChild(pe)},me=[{id:"profile",label:"Profile",icon:m.jsx(ob,{className:"w-4 h-4"})},{id:"security",label:"Security",icon:m.jsx(jh,{className:"w-4 h-4"})},{id:"data",label:"Data",icon:m.jsx(bv,{className:"w-4 h-4"})}];return m.jsxs("div",{className:`w-full max-w-4xl mx-auto rounded-2xl border overflow-hidden flex flex-col md:flex-row animate-slide-up ${d?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"}`,children:[m.jsxs("div",{className:`md:w-56 border-r p-4 flex-shrink-0 ${d?"bg-black/20 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsx("p",{className:`font-display font-bold text-xs uppercase tracking-widest mb-4 px-3 ${d?"text-slate-600":"text-slate-400"}`,children:"Settings"}),m.jsx("nav",{className:"space-y-1",children:me.map(ne=>m.jsxs("button",{onClick:()=>ie(ne.id),className:`w-full text-left px-3 py-2.5 rounded-xl text-sm font-semibold flex items-center gap-2.5 transition-all btn-hover-lift ${K===ne.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":d?"text-slate-400 hover:text-white hover:bg-white/5":"text-slate-500 hover:text-slate-900 hover:bg-gray-100"}`,children:[ne.icon," ",ne.label]},ne.id))})]}),m.jsx("div",{className:"hidden md:block"}),m.jsx("div",{className:`md:hidden w-full border-b ${d?"border-white/10":"border-gray-200"}`,children:m.jsx("div",{className:"flex",children:me.map(ne=>m.jsx("button",{onClick:()=>ie(ne.id),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wide border-b-2 transition-colors ${K===ne.id?"border-indigo-500 text-indigo-400":"border-transparent text-slate-500"}`,children:ne.label},ne.id))})}),m.jsxs("div",{className:"flex-1 p-6 md:p-8",children:[K==="profile"&&m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center border-b pb-5 gap-3 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h4",{className:`font-display font-bold text-lg ${d?"text-white":"text-slate-900"}`,children:"Admin Profile"}),m.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Manage your account details"})]}),s?m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>o(!1),className:`px-3 py-2 text-xs font-bold rounded-xl border btn-hover-lift ${d?"text-slate-400 border-white/10 hover:bg-white/5":"text-slate-600 border-gray-200 hover:bg-gray-100"}`,children:"Cancel"}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-white bg-gradient-to-r from-indigo-600 to-indigo-500 rounded-xl shadow-lg shadow-indigo-500/20 btn-hover-lift",children:[m.jsx(IE,{className:"w-3.5 h-3.5"})," Save"]})]}):m.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-indigo-400 bg-indigo-500/10 border border-indigo-500/20 rounded-xl hover:bg-indigo-500/20 btn-hover-lift",children:[m.jsx(EE,{className:"w-3.5 h-3.5"})," Edit Profile"]})]}),m.jsx("div",{className:"space-y-4",children:[{label:"Display Name",key:"displayName",type:"text"},{label:"Username",key:"username",type:"text"},{label:"Email Address",key:"email",type:"email"}].map(ne=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2",children:ne.label}),m.jsx("input",{type:ne.type,disabled:!s,className:`w-full px-4 py-3 border rounded-xl outline-none text-sm transition-all ${s?"focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/50":"border-transparent cursor-default"} ${d?"bg-white/5 text-slate-200 border-white/10":"bg-gray-50 text-slate-700 border-gray-200"} ${s?"":"bg-transparent"}`,value:r?.[ne.key]||"",onChange:pe=>e({...r,[ne.key]:pe.target.value})})]},ne.key))}),m.jsx("div",{className:`pt-5 border-t ${d?"border-white/10":"border-gray-100"}`,children:m.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-xs text-indigo-400 font-bold hover:text-indigo-300 transition-colors btn-hover-lift",children:[m.jsx(cr,{className:"w-3.5 h-3.5"})," Change Password"]})})]}),K==="security"&&m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:`border-b pb-5 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsx("h4",{className:`font-display font-bold text-lg ${d?"text-white":"text-slate-900"}`,children:"Security"}),m.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Manage access and authentication"})]}),m.jsxs("div",{children:[m.jsx("h5",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-3",children:"Recent Login Activity"}),r?.recentLogins?.length>0?r.recentLogins.map((ne,pe)=>m.jsxs("div",{className:`flex justify-between items-center p-3 rounded-xl mb-2 border text-xs ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-2",children:[pe===0&&m.jsx(yl,{color:"emerald"}),m.jsxs("span",{className:d?"text-slate-300":"text-slate-700",children:[ne.device||"Admin Device"," ",pe===0&&"(Current)"]})]}),m.jsx("span",{className:"text-slate-500 font-mono",children:new Date(ne.time).toLocaleString([],{dateStyle:"short",timeStyle:"short"})})]},pe)):m.jsx("div",{className:`p-4 text-center rounded-xl border text-xs italic ${d?"bg-white/5 border-white/5 text-slate-500":"bg-gray-50 border-gray-100 text-slate-400"}`,children:"No recent login activity recorded."})]})]}),K==="data"&&m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:`border-b pb-5 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsx("h4",{className:`font-display font-bold text-lg ${d?"text-white":"text-slate-900"}`,children:"Data Management"}),m.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Export logs and manage system storage"})]}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Export Rx Logs",icon:m.jsx(QT,{className:"w-6 h-6"}),action:()=>te(y,"transactions.csv"),color:"emerald"},{label:"Export Audit",icon:m.jsx(Ym,{className:"w-6 h-6"}),action:()=>te(v,"audit.csv"),color:"blue"},{label:"Clear Cache",icon:m.jsx(fn,{className:"w-6 h-6"}),action:()=>L("Cache cleared"),color:"rose",dashed:!0},{label:"Full Backup",icon:m.jsx(bv,{className:"w-6 h-6"}),action:de,color:"indigo"}].map((ne,pe)=>m.jsxs("button",{onClick:ne.action,className:`flex flex-col items-center justify-center p-5 border rounded-2xl transition-all group btn-hover-lift ${ne.dashed?"border-dashed":""} ${d?`border-white/10 hover:bg-${ne.color}-500/5 hover:border-${ne.color}-500/20`:`border-gray-200 hover:bg-${ne.color}-50 hover:border-${ne.color}-200`}`,children:[m.jsx("div",{className:`text-slate-500 group-hover:text-${ne.color}-500 transition-colors mb-2`,children:ne.icon}),m.jsx("span",{className:`text-xs font-bold text-slate-400 group-hover:text-${ne.color}-500 transition-colors text-center`,children:ne.label})]},pe))}),m.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-2xl",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsxs("p",{className:"text-sm font-bold text-amber-400 flex items-center gap-2",children:[m.jsx(rE,{className:"w-4 h-4"})," Storage"]}),m.jsx("span",{className:"text-xs font-mono text-amber-400",children:"2.25 / 5 GB"})]}),m.jsx("div",{className:"w-full bg-amber-500/20 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-orange-500 h-full w-[45%] rounded-full progress-bar"})}),m.jsx("p",{className:"text-[11px] text-amber-500/70 mt-2",children:"45% of quota used"})]})]})]})]})}function yR({onLogin:r,cloudProfile:e}){const[n,s]=le.useState(""),[o,u]=le.useState(""),[d,y]=le.useState(!1),[v,p]=le.useState(""),[w,E]=le.useState(!1),[R,L]=le.useState(0),[K,ie]=le.useState(!1),[te,de]=le.useState(0),[me,ne]=le.useState(0);le.useEffect(()=>{setTimeout(()=>ne(1),100),setTimeout(()=>ne(2),300),setTimeout(()=>ne(3),500)},[]),le.useEffect(()=>{let $;return K&&te>0?$=setInterval(()=>de(ve=>ve-1),1e3):te===0&&K&&(ie(!1),L(0),p("")),()=>clearInterval($)},[K,te]);const pe=async $=>{if($.preventDefault(),K)return;E(!0),p(""),await new Promise(A=>setTimeout(A,900));const ve=e?.username||"admin",C=e?.password||"admin123";if(n===ve&&o===C){try{const A=/Mobile|Android|iPhone/i.test(navigator.userAgent)?"Mobile Device":"Desktop Session",I=[{time:Date.now(),device:A},...e?.recentLogins||[]].slice(0,5);await Vn(Wt(wt,"artifacts",Tt,"public","data","settings","admin_profile"),{recentLogins:I},{merge:!0})}catch(A){console.error("Failed to log session",A)}r()}else{const A=R+1;L(A),E(!1),A>=5?(ie(!0),de(30),p("Account locked.")):p(`Invalid credentials. ${5-A} attempts remaining.`)}};return m.jsxs("div",{className:"flex h-screen w-full bg-[#060b18] font-sans overflow-hidden relative",children:[m.jsx(Bg,{}),m.jsx("div",{className:"absolute inset-0 grid-bg opacity-50"}),m.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-600/10 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),m.jsx("div",{className:"w-full lg:w-1/2 h-full flex flex-col justify-center items-center p-6 relative z-10",children:m.jsxs("div",{className:"w-full max-w-md",style:{opacity:me>=2?1:0,transform:me>=2?"none":"translateY(30px)",transition:"all 0.7s cubic-bezier(0.16, 1, 0.3, 1)"},children:[m.jsxs("div",{className:"text-center mb-10",children:[m.jsxs("div",{className:"relative inline-block mb-6",children:[m.jsx("div",{className:"absolute inset-0 rounded-3xl bg-indigo-500/20 blur-xl scale-150 animate-pulse"}),m.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-indigo-600 via-indigo-500 to-blue-600 rounded-3xl flex items-center justify-center shadow-2xl shadow-indigo-500/30 ring-1 ring-white/10",children:m.jsx(jh,{className:"w-9 h-9 text-white"})})]}),m.jsx("h1",{className:"font-display font-black text-4xl text-white tracking-tight mb-2",children:"MediVend"}),m.jsx("p",{className:"text-slate-500 text-sm font-medium tracking-widest uppercase",children:"Super Admin Portal"})]}),m.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-2xl",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-white font-display font-bold text-xl mb-1",children:"Sign In"}),m.jsx("p",{className:"text-slate-500 text-xs",children:"Authorized personnel only"})]}),m.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Username"}),m.jsxs("div",{className:"relative",children:[m.jsx(ob,{className:"w-4 h-4 absolute left-3.5 top-3.5 text-slate-500"}),m.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/40 focus:border-indigo-500/50 transition-all text-white text-sm placeholder-slate-600 font-medium",placeholder:"admin",value:n,onChange:$=>s($.target.value),disabled:K})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(cr,{className:"w-4 h-4 absolute left-3.5 top-3.5 text-slate-500"}),m.jsx("input",{required:!0,type:d?"text":"password",className:"w-full pl-10 pr-12 py-3 bg-white/5 border border-white/10 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/40 focus:border-indigo-500/50 transition-all text-white text-sm placeholder-slate-600 font-mono",placeholder:"",value:o,onChange:$=>u($.target.value),disabled:K}),m.jsx("button",{type:"button",onClick:()=>y(!d),className:"absolute right-3.5 top-3.5 text-slate-500 hover:text-slate-300 transition-colors",children:d?m.jsx(ib,{className:"w-4 h-4"}):m.jsx(oh,{className:"w-4 h-4"})})]})]}),v&&m.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-xl text-xs font-medium border animate-slide-up ${K?"bg-rose-500/10 text-rose-400 border-rose-500/20":"bg-amber-500/10 text-amber-400 border-amber-500/20"}`,children:[m.jsx(Xm,{className:"w-4 h-4 flex-shrink-0"}),K?`Locked. Retry in ${te}s`:v]}),m.jsxs("button",{type:"submit",disabled:w||K,className:"w-full relative overflow-hidden bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-500 hover:to-blue-500 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-indigo-500/30 disabled:opacity-60 disabled:cursor-not-allowed transition-all btn-hover-lift flex justify-center items-center gap-2 text-sm",children:[m.jsx("div",{className:"animate-shimmer absolute inset-0 opacity-20"}),w?m.jsxs(m.Fragment,{children:[m.jsx(lc,{className:"w-4 h-4 animate-spin"})," Authenticating..."]}):K?m.jsxs(m.Fragment,{children:[m.jsx(cr,{className:"w-4 h-4"})," Locked"]}):m.jsxs(m.Fragment,{children:[m.jsx(ab,{className:"w-4 h-4"})," Access Portal"]})]})]}),m.jsxs("div",{className:"mt-6 pt-5 border-t border-white/10 flex items-center justify-center gap-2",children:[m.jsx(yl,{color:"emerald"}),m.jsx("span",{className:"text-[11px] text-slate-600 font-mono",children:"Secure Connection  TLS 1.3"})]})]}),m.jsx("p",{className:"text-center text-[11px] text-slate-700 mt-6 font-mono",children:"MediVend v2.5  Unauthorized access is prohibited"})]})}),m.jsxs("div",{className:"hidden lg:flex w-1/2 bg-black/20 relative overflow-hidden items-center justify-center border-l border-white/5",children:[m.jsx("div",{className:"absolute inset-0 hexagon-bg opacity-40"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900/20 via-transparent to-blue-900/20"}),m.jsxs("div",{className:"relative z-10 text-center max-w-sm px-8",style:{opacity:me>=3?1:0,transform:me>=3?"none":"translateX(30px)",transition:"all 0.7s cubic-bezier(0.16, 1, 0.3, 1) 0.2s"},children:[m.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-8",children:[m.jsx("div",{className:"absolute inset-0 rounded-full border border-indigo-500/20"}),m.jsx("div",{className:"absolute inset-4 rounded-full border border-indigo-500/30"}),m.jsx("div",{className:"absolute inset-8 rounded-full border border-indigo-500/40 bg-indigo-500/5"}),m.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:m.jsx("div",{className:"w-1/2 h-full origin-right animate-radar bg-gradient-to-r from-transparent to-indigo-500/20"})}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx(Xo,{className:"w-10 h-10 text-indigo-400 animate-pulse"})}),[0,1,2].map($=>m.jsx("div",{className:"absolute w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-lg shadow-emerald-400/50",style:{top:`${25+$*20}%`,left:`${20+$*25}%`,animationDelay:`${$*.5}s`},children:m.jsx("div",{className:"w-full h-full rounded-full bg-emerald-400 animate-ping opacity-75"})},$))]}),m.jsx("h2",{className:"font-display font-black text-3xl text-white mb-3",children:"All Systems Optimal"}),m.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Real-time network monitoring active. All kiosks reporting normal status."}),m.jsx("div",{className:"mt-8 grid grid-cols-3 gap-3",children:[{label:"Uptime",value:"99.9%",color:"emerald"},{label:"Kiosks",value:"Online",color:"blue"},{label:"Security",value:"Active",color:"indigo"}].map(($,ve)=>m.jsxs("div",{className:`p-3 rounded-xl bg-${$.color}-500/10 border border-${$.color}-500/20`,children:[m.jsx("p",{className:`text-lg font-display font-bold text-${$.color}-400`,children:$.value}),m.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wide font-bold",children:$.label})]},ve))})]})]})]})}function vR({onLogout:r,initialProfile:e}){const[n,s]=le.useState(!0),[o,u]=le.useState("overview"),[d,y]=le.useState([]),[v,p]=le.useState([]),[w,E]=le.useState([]),[R,L]=le.useState([]),[K,ie]=le.useState([]),[te,de]=le.useState([]),[me,ne]=le.useState(!0),[pe,$]=le.useState("pending"),[ve,C]=le.useState(new Date),[A,I]=le.useState(e),[N,O]=le.useState(!1),[M,S]=le.useState(!1),[ct,yt]=le.useState(!1),[F,re]=le.useState(!1),[ye,De]=le.useState(!1),[Fe,V]=le.useState(e?.hiddenTransactions||[]),[X,ae]=le.useState(e?.hiddenAudits||[]),[oe,fe]=le.useState(null),[Ae,Ve]=le.useState(null),[Xe,Ge]=le.useState(null);le.useEffect(()=>{const Q=setInterval(()=>C(new Date),1e3);return()=>clearInterval(Q)},[]),le.useEffect(()=>{ne(!0);const Q=[rl(sl(hs(wt,"artifacts",Tt,"public","data","doctors")),ee=>y(ee.docs.map(Re=>({id:Re.id,...Re.data()}))),ee=>console.error(ee)),rl(sl(hs(wt,"artifacts",Tt,"public","data","prescriptions")),ee=>{const Re=ee.docs.map(Le=>({id:Le.id,...Le.data()})).sort((Le,mn)=>(mn.createdAt?.seconds||0)-(Le.createdAt?.seconds||0));p(Re),ne(!1)},ee=>console.error(ee)),rl(sl(hs(wt,"artifacts",Tt,"public","data","machines")),ee=>E(ee.docs.map(Re=>({id:Re.id,...Re.data()}))),ee=>console.error(ee)),rl(sl(hs(wt,"artifacts",Tt,"public","data","audit_logs"),W4(20)),ee=>{const Re=ee.docs.map(Le=>({id:Le.id,...Le.data()})).sort((Le,mn)=>(mn.timestamp?.seconds||0)-(Le.timestamp?.seconds||0));L(Re),ne(!1)},ee=>{console.error(ee),ne(!1)}),rl(sl(hs(wt,"artifacts",Tt,"public","data","medicines")),ee=>ie(ee.docs.map(Re=>({id:Re.id,...Re.data()})))),rl(sl(hs(wt,"artifacts",Tt,"public","data","support_tickets")),ee=>de(ee.docs.map(Re=>({id:Re.id,...Re.data()}))))];return()=>Q.forEach(ee=>ee())},[]);const Ke=(Q,ee="success")=>{Ve({message:Q,type:ee}),setTimeout(()=>Ve(null),3500)},Wn=async Q=>{try{await Vn(Wt(wt,"artifacts",Tt,"public","data","settings","admin_profile"),Q,{merge:!0}),I(ee=>({...ee,...Q}))}catch(ee){console.error("Failed to save view preferences:",ee)}},bs=async(Q,ee)=>{try{await Vn(Wt(wt,"artifacts",Tt,"public","data","doctors",Q),{status:ee,adminReviewedAt:Uo()},{merge:!0}),await We("Doctor Status Update",`Set ${Q} to ${ee}`),Ke(`Doctor status updated to ${ee}`)}catch(Re){Ke("Update failed: "+Re.message,"error")}},xs=async(Q,ee)=>{if(ee)try{await n5(Wt(wt,"artifacts",Tt,"public","data","doctors",Q),{password:ee}),await We("Doctor Mgmt",`Updated password for doctor ${Q}`),Ke("Doctor password updated")}catch(Re){Ke("Update failed: "+Re.message,"error")}},Mn=Q=>{fe({title:"Delete Doctor Account?",message:`Permanently remove ${Q}?

This action cannot be undone.`,type:"danger",confirmText:"Delete Account",onConfirm:async()=>{fe(null);try{await Eh(Wt(wt,"artifacts",Tt,"public","data","doctors",Q)),await We("Doctor Deletion",`Removed doctor: ${Q}`),Ke("Doctor account deleted")}catch(ee){Ke("Deletion failed: "+ee.message,"error")}}})},ws=async Q=>{try{await Vn(Wt(wt,"artifacts",Tt,"public","data","machines",Q),{lastPing:Uo(),status:"online"},{merge:!0}),Ke(`Ping to ${Q}  OK`),await We("Ping",`Pinged ${Q}`)}catch(ee){Ke("Ping failed: "+ee.message,"error")}},Hi=Q=>{const ee=Q.status==="online";Ge({...Q,cpuTemp:ee?(35+Math.random()*15).toFixed(1)+"C":"N/A",printerPaper:ee?Math.floor(Math.random()*100)+"%":"Unknown",printerStatus:ee?"Ready":"Offline",motorStatus:ee?"Optimal":"Offline",scannerStatus:ee?"Active":"Not Detected",healthScore:ee?Math.floor(90+Math.random()*10)+"%":"0%",recommendation:ee?"System functioning normally. All sensors reporting within normal parameters.":"Check power and network connection.",slots:Array.from({length:10},(Re,Le)=>({id:Le+1,medicine:["Biogesic","Neozep","Amoxicillin","Solmux","Bioflu","Alaxan","Decolgen","Tuseran","Diatabs","Kremil-S"][Le],stock:ee?Math.floor(Math.random()*100):0,status:ee?Math.random()>.95?"Jam":"OK":"Offline"}))})},Ts=Q=>{fe({title:"Reboot Kiosk?",message:`Send reboot command to ${Q}?

Kiosk will be unavailable for ~30 seconds.`,type:"info",confirmText:"Reboot Now",onConfirm:async()=>{fe(null);try{const ee=Wt(wt,"artifacts",Tt,"public","data","machines",Q);await Vn(ee,{status:"rebooting"},{merge:!0}),Ke(`Rebooting ${Q}...`),setTimeout(async()=>{await Vn(ee,{status:"offline"},{merge:!0}),setTimeout(async()=>{await Vn(ee,{status:"online",lastPing:Uo()},{merge:!0}),Ke(`${Q} online`),await We("Reboot",`Rebooted ${Q}`)},3e3)},1500)}catch(ee){Ke("Reboot failed: "+ee.message,"error")}}})},Es=(Q,ee)=>{const Re=ee==="locked"?"online":"locked";fe({title:Re==="locked"?"Lock Kiosk?":"Unlock Kiosk?",message:`${Re==="locked"?"Lock":"Unlock"} kiosk ${Q}?`,type:Re==="locked"?"danger":"info",confirmText:Re==="locked"?"Lock":"Unlock",onConfirm:async()=>{fe(null);try{await Vn(Wt(wt,"artifacts",Tt,"public","data","machines",Q),{status:Re},{merge:!0}),await We("Security",`${Re.toUpperCase()} ${Q}`)}catch(Le){Ke("Command failed: "+Le.message,"error")}}})},_t=Q=>{fe({title:"Remove Kiosk?",message:`Remove ${Q} from network?

This cannot be undone.`,type:"danger",confirmText:"Remove",onConfirm:async()=>{fe(null);try{await Eh(Wt(wt,"artifacts",Tt,"public","data","machines",Q)),await We("Removal",`Removed kiosk ${Q}`),Ke("Kiosk removed")}catch(ee){Ke("Failed: "+ee.message,"error")}}})},We=async(Q,ee)=>{try{await Vn(Wt(hs(wt,"artifacts",Tt,"public","data","audit_logs")),{action:Q,details:ee,user:A.username,time:new Date().toLocaleTimeString(),timestamp:Uo()})}catch(Re){console.error("Audit log failed:",Re)}},gi=async(Q,ee,Re)=>{try{await sx(hs(wt,"artifacts",Tt,"public","data","broadcasts"),{message:Q,priority:ee,target:Re,timestamp:Uo(),active:!0,sentBy:A.username,type:"admin_broadcast"}),await We("Broadcast",`Sent to ${Re}: ${Q.slice(0,40)}...`),Ke(`Broadcast sent to ${Re==="all"?"entire network":Re}!`),yt(!1)}catch{Ke("Broadcast failed","error")}},kl=Q=>{fe({title:"Hide Record?",message:`Hide this log from your view?

The record stays saved in the database.`,type:"danger",confirmText:"Hide",onConfirm:async()=>{fe(null);const ee=[...X,Q];ae(ee),await Wn({hiddenAudits:ee})}})},ga=()=>{fe({title:"Clear All Audit Records?",message:`Hide all current records from view?

All records remain safe in the database.`,type:"danger",confirmText:"Clear View",onConfirm:async()=>{fe(null);const Q=Array.from(new Set([...X,...R.map(ee=>ee.id)]));ae(Q),await Wn({hiddenAudits:Q})}})},Gt=Q=>{fe({title:"Hide Record?",message:`Hide this transaction from your view?

The record stays saved in the database.`,type:"danger",confirmText:"Hide",onConfirm:async()=>{fe(null);const ee=[...Fe,Q];V(ee),await Wn({hiddenTransactions:ee})}})},$i=()=>{fe({title:"Clear All Records?",message:`Hide all transactions from view?

All records remain safe in the database.`,type:"danger",confirmText:"Clear View",onConfirm:async()=>{fe(null);const Q=Array.from(new Set([...Fe,...v.map(ee=>ee.id)]));V(Q),await Wn({hiddenTransactions:Q})}})},Nr=async()=>{try{await Vn(Wt(wt,"artifacts",Tt,"public","data","settings","admin_profile"),A),O(!1),Ke("Profile saved and synced"),await We("Profile Update","Admin profile updated")}catch(Q){Ke("Save failed: "+Q.message,"error")}},Cr=async Q=>{try{const ee={...A,password:Q};await Vn(Wt(wt,"artifacts",Tt,"public","data","settings","admin_profile"),ee,{merge:!0}),I(ee),S(!1),Ke("Password updated"),await We("Password Change","Admin password updated")}catch(ee){Ke("Failed: "+ee.message,"error")}},Kt=d.filter(Q=>Q.status==="pending").length,pa=d.filter(Q=>Q.status==="active").length,Fi=w.filter(Q=>Q.status==="online").length,Ln=te.filter(Q=>Q.status==="open").length,pi=Kt+Ln,En=d.filter(Q=>pe==="all"?!0:Q.status===pe),Rt=v.filter(Q=>!Fe.includes(Q.id)),sn=R.filter(Q=>!X.includes(Q.id)),mt=[...Rt.map(Q=>({...Q,_type:"rx",_sortTime:Q.createdAt?.seconds||0})),...sn.map(Q=>({...Q,_type:"audit",_sortTime:Q.timestamp?.seconds||0}))].sort((Q,ee)=>ee._sortTime-Q._sortTime).slice(0,8),ya=Q=>{u(Q),re(!1),Ge(null)},As=[{label:"Workspace",items:[{id:"overview",label:"Dashboard",icon:m.jsx(lE,{})}]},{label:"Network",items:[{id:"doctors",label:"Doctors",icon:m.jsx(ia,{}),badge:Kt},{id:"machines",label:"Kiosks",icon:m.jsx(ch,{})}]},{label:"Inventory & Support",items:[{id:"inventory",label:"Master List",icon:m.jsx(xm,{})},{id:"support",label:"Support",icon:m.jsx(Ju,{}),badge:Ln>0?Ln:null}]},{label:"Compliance",items:[{id:"transactions",label:"Logs",icon:m.jsx(Ym,{})},{id:"audit",label:"Audit",icon:m.jsx(nb,{})}]}];return m.jsxs("div",{className:`flex h-screen font-sans overflow-hidden transition-colors duration-500 ${n?"bg-[#060b18] text-slate-300":"bg-slate-50 text-slate-600"}`,children:[m.jsx(Bg,{}),Ae&&m.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-5 py-3 rounded-2xl shadow-2xl text-sm font-bold animate-slide-up glass border ${Ae.type==="error"?"bg-rose-600/90 text-white border-rose-500/30 shadow-rose-500/20":"bg-emerald-600/90 text-white border-emerald-500/30 shadow-emerald-500/20"}`,children:[Ae.type==="error"?m.jsx(Xm,{className:"w-4 h-4"}):m.jsx(_m,{className:"w-4 h-4"}),Ae.message]}),m.jsx(qg,{isOpen:!!oe,...oe,onClose:()=>fe(null),isDarkMode:n}),F&&m.jsx("div",{className:"fixed inset-0 z-20 bg-black/60 backdrop-blur-sm md:hidden",onClick:()=>re(!1)}),m.jsxs("aside",{className:`fixed inset-y-0 left-0 z-30 w-64 border-r flex flex-col transform transition-all duration-300 ease-out ${F?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 ${n?"bg-[#090e1d] border-white/5":"bg-white border-gray-100 shadow-xl"}`,children:[m.jsxs("div",{className:`relative p-5 border-b overflow-hidden ${n?"border-white/5":"border-gray-100"}`,children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/5 to-transparent"}),m.jsxs("div",{className:"relative flex items-center gap-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 rounded-xl bg-indigo-500/30 blur-md"}),m.jsx("div",{className:"relative bg-gradient-to-br from-indigo-600 to-blue-600 p-2.5 rounded-xl shadow-lg shadow-indigo-500/20",children:m.jsx(jh,{className:"w-5 h-5 text-white"})})]}),m.jsxs("div",{children:[m.jsx("h1",{className:`font-display font-black text-lg tracking-tight ${n?"text-white":"text-slate-900"}`,children:"MediVend"}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(yl,{color:"emerald"}),m.jsx("p",{className:"text-[10px] font-bold text-emerald-500 tracking-widest uppercase",children:"Super Admin"})]})]}),m.jsx("button",{onClick:()=>re(!1),className:`md:hidden ml-auto p-1.5 rounded-lg ${n?"text-slate-500 hover:bg-white/5":"text-slate-400 hover:bg-gray-100"}`,children:m.jsx(vl,{className:"w-4 h-4"})})]})]}),m.jsx("nav",{className:"flex-1 px-3 py-4 space-y-6 overflow-y-auto custom-scrollbar",children:As.map(Q=>m.jsxs("div",{children:[m.jsx("p",{className:`px-4 mb-2 text-[9px] font-black uppercase tracking-[0.15em] ${n?"text-slate-700":"text-slate-300"}`,children:Q.label}),m.jsx("div",{className:"space-y-0.5",children:Q.items.map(ee=>m.jsx(rR,{id:ee.id,label:ee.label,icon:ee.icon,active:o===ee.id,onClick:ya,badge:ee.badge,isDarkMode:n},ee.id))})]},Q.label))}),m.jsxs("div",{className:`p-4 border-t ${n?"border-white/5 bg-black/20":"border-gray-100 bg-gray-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-xl bg-gradient-to-br from-indigo-600 to-blue-600 flex items-center justify-center text-white font-display font-bold text-sm shadow-lg shadow-indigo-500/20",children:A?.displayName?.charAt(0)||"A"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:`font-bold text-xs truncate ${n?"text-white":"text-slate-900"}`,children:A?.displayName}),m.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:A?.email})]})]}),m.jsxs("button",{onClick:r,className:`w-full flex items-center justify-center gap-2 py-2 rounded-xl text-xs font-bold transition-all btn-hover-lift border ${n?"text-slate-500 border-white/5 hover:bg-rose-500/10 hover:text-rose-400 hover:border-rose-500/20":"text-slate-400 border-gray-200 hover:bg-rose-50 hover:text-rose-600 hover:border-rose-200"}`,children:[m.jsx(dE,{className:"w-3.5 h-3.5"})," Sign Out"]})]})]}),m.jsxs("div",{className:`flex-1 flex flex-col min-w-0 overflow-hidden relative ${n?"bg-[#060b18]":"bg-slate-50"}`,children:[m.jsxs("header",{className:`h-16 border-b flex items-center justify-between px-4 md:px-6 z-10 sticky top-0 transition-all glass ${n?"bg-[#060b18]/90 border-white/5":"bg-white/90 border-gray-100 shadow-sm"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>re(!0),className:`md:hidden p-2 rounded-xl transition-all ${n?"text-slate-400 hover:bg-white/5":"text-slate-600 hover:bg-gray-100"}`,children:m.jsx(gE,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h2",{className:`font-display font-bold text-lg capitalize ${n?"text-white":"text-slate-900"}`,children:o==="overview"?"Dashboard":o.replace("-"," ")}),m.jsx("p",{className:`text-[10px] font-mono hidden sm:block ${n?"text-slate-600":"text-slate-400"}`,children:ve.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:`hidden lg:flex items-center gap-2 px-3 py-2 rounded-xl border text-xs font-mono font-semibold ${n?"bg-white/5 border-white/10 text-slate-300":"bg-gray-100 border-gray-200 text-slate-600"}`,children:[m.jsx("div",{className:"relative",children:m.jsx(FT,{className:"w-3.5 h-3.5 text-indigo-400"})}),ve.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),m.jsx("button",{onClick:()=>s(!n),className:`p-2 rounded-xl transition-all btn-hover-lift border ${n?"bg-white/5 border-white/10 text-amber-400 hover:bg-white/10":"bg-gray-100 border-gray-200 text-indigo-500 hover:bg-gray-200"}`,children:n?m.jsx(BE,{className:"w-4 h-4"}):m.jsx(_E,{className:"w-4 h-4"})}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>De(!ye),className:`p-2 rounded-xl transition-all btn-hover-lift border relative ${n?"bg-white/5 border-white/10 text-slate-400 hover:text-indigo-400":"bg-gray-100 border-gray-200 text-slate-500 hover:text-indigo-600"}`,children:[m.jsx(DT,{className:"w-4 h-4"}),pi>0&&m.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-rose-500 rounded-full text-[9px] font-bold text-white flex items-center justify-center shadow-lg shadow-rose-500/30",children:pi})]}),ye&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>De(!1)}),m.jsxs("div",{className:`absolute right-0 top-12 w-72 rounded-2xl shadow-2xl border z-20 overflow-hidden animate-scale-in glass ${n?"bg-[#0f1829] border-white/10":"bg-white border-gray-100"}`,children:[m.jsxs("div",{className:`px-4 py-3 border-b flex items-center justify-between ${n?"border-white/5":"border-gray-100"}`,children:[m.jsx("span",{className:`font-display font-bold text-sm ${n?"text-white":"text-slate-900"}`,children:"Notifications"}),pi>0&&m.jsxs("span",{className:"text-[10px] font-bold bg-rose-500/10 text-rose-400 px-2 py-0.5 rounded-full border border-rose-500/20",children:[pi," new"]})]}),Kt>0&&m.jsxs("button",{onClick:()=>{u("doctors"),$("pending"),De(!1)},className:`w-full p-4 text-left flex items-center justify-between transition-all hover:bg-amber-500/5 border-b ${n?"border-white/5":"border-gray-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-xl bg-amber-500/10",children:m.jsx(ia,{className:"w-4 h-4 text-amber-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm ${n?"text-white":"text-slate-900"}`,children:"Pending Approvals"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Review doctor applications"})]})]}),m.jsx("span",{className:"bg-amber-500/15 text-amber-400 text-xs px-2 py-1 rounded-xl font-bold border border-amber-500/20",children:Kt})]}),Ln>0&&m.jsxs("button",{onClick:()=>{u("support"),De(!1)},className:"w-full p-4 text-left flex items-center justify-between transition-all hover:bg-rose-500/5",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-xl bg-rose-500/10",children:m.jsx(Ju,{className:"w-4 h-4 text-rose-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm ${n?"text-white":"text-slate-900"}`,children:"Open Tickets"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Requires response"})]})]}),m.jsx("span",{className:"bg-rose-500/15 text-rose-400 text-xs px-2 py-1 rounded-xl font-bold border border-rose-500/20",children:Ln})]}),pi===0&&m.jsxs("div",{className:"p-6 text-center",children:[m.jsx(_m,{className:"w-8 h-8 text-emerald-400 mx-auto mb-2"}),m.jsx("p",{className:`text-sm font-bold ${n?"text-white":"text-slate-700"}`,children:"All clear!"}),m.jsx("p",{className:"text-xs text-slate-500",children:"No new notifications"})]})]})]})]}),m.jsx("button",{onClick:()=>u("settings"),className:"w-9 h-9 rounded-xl bg-gradient-to-br from-indigo-600 to-blue-600 flex items-center justify-center text-white font-display font-bold text-sm shadow-lg shadow-indigo-500/20 hover:shadow-indigo-500/40 transition-all btn-hover-lift ring-2 ring-indigo-500/20 hover:ring-indigo-500/40",children:A?.displayName?.charAt(0)||"A"})]})]}),m.jsxs("main",{className:`flex-1 overflow-y-auto custom-scrollbar p-4 lg:p-6 ${n?"bg-[#060b18]":"bg-slate-50"}`,children:[o==="overview"&&m.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"Pending Approvals",value:Kt,icon:m.jsx(ia,{className:"w-5 h-5"}),color:"amber",subtext:"Needs attention",onClick:()=>{u("doctors"),$("pending")}},{title:"All Doctors",value:d.length,icon:m.jsx(UE,{className:"w-5 h-5"}),color:"blue",subtext:"Registered network",onClick:()=>u("doctors")},{title:"Master Inventory",value:K.length,icon:m.jsx(xm,{className:"w-5 h-5"}),color:"emerald",subtext:"Medicine SKUs",onClick:()=>u("inventory")},{title:"Security Events",value:sn.length,icon:m.jsx(xE,{className:"w-5 h-5"}),color:"red",subtext:"System events",onClick:()=>u("audit")}].map((Q,ee)=>m.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${ee*.07}s`,animationFillMode:"both",opacity:0},children:m.jsx(aR,{...Q,isDarkMode:n})},ee))}),m.jsxs("div",{className:`p-6 rounded-2xl border animate-slide-up ${n?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"}`,style:{animationDelay:"0.2s",animationFillMode:"both",opacity:0},children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-lg ${n?"text-white":"text-slate-900"}`,children:"Network Health"}),m.jsxs("p",{className:`text-xs mt-0.5 ${n?"text-slate-500":"text-slate-400"}`,children:[v.length," total prescriptions processed"]})]}),m.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl bg-emerald-500/10 border border-emerald-500/20",children:[m.jsx(yl,{color:"emerald"}),m.jsx("span",{className:"text-xs font-bold text-emerald-400 hidden sm:block",children:"Systems Operational"}),m.jsx("span",{className:"text-xs font-bold text-emerald-400 sm:hidden",children:"OK"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsxs("p",{className:`text-xs font-bold uppercase tracking-widest mb-4 flex items-center gap-2 ${n?"text-slate-500":"text-slate-400"}`,children:[m.jsx(ia,{className:"w-3.5 h-3.5 text-blue-400"})," Provider Status"]}),m.jsx("div",{className:"space-y-4",children:[{label:`Active Physicians (${pa})`,pct:d.length>0?pa/d.length*100:0,color:"from-blue-500 to-cyan-400",textColor:"text-blue-400"},{label:`Pending Review (${Kt})`,pct:d.length>0?Kt/d.length*100:0,color:"from-amber-500 to-orange-400",textColor:"text-amber-400"}].map((Q,ee)=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[m.jsx("span",{className:n?"text-slate-400":"text-slate-600",children:Q.label}),m.jsxs("span",{className:`font-bold font-mono ${Q.textColor}`,children:[Math.round(Q.pct),"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/5":"bg-gray-100"}`,children:m.jsx("div",{className:`h-full bg-gradient-to-r ${Q.color} rounded-full progress-bar`,style:{width:`${Q.pct}%`}})})]},ee))})]}),m.jsxs("div",{children:[m.jsxs("p",{className:`text-xs font-bold uppercase tracking-widest mb-4 flex items-center gap-2 ${n?"text-slate-500":"text-slate-400"}`,children:[m.jsx(ch,{className:"w-3.5 h-3.5 text-emerald-400"})," Kiosk Connectivity"]}),m.jsx("div",{className:"space-y-4",children:[{label:`Online (${Fi})`,pct:w.length>0?Fi/w.length*100:0,color:"from-emerald-500 to-teal-400",textColor:"text-emerald-400"},{label:`Offline (${w.length-Fi})`,pct:w.length>0?(w.length-Fi)/w.length*100:0,color:"from-slate-500 to-slate-600",textColor:"text-slate-400"}].map((Q,ee)=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[m.jsx("span",{className:n?"text-slate-400":"text-slate-600",children:Q.label}),m.jsxs("span",{className:`font-bold font-mono ${Q.textColor}`,children:[Math.round(Q.pct),"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/5":"bg-gray-100"}`,children:m.jsx("div",{className:`h-full bg-gradient-to-r ${Q.color} rounded-full progress-bar`,style:{width:`${Q.pct}%`}})})]},ee))})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[m.jsxs("div",{className:`lg:col-span-2 p-6 rounded-2xl border animate-slide-up ${n?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"}`,style:{animationDelay:"0.3s",animationFillMode:"both",opacity:0},children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[m.jsx(eb,{className:"w-5 h-5 text-indigo-400"}),m.jsx("h3",{className:`font-display font-bold text-base ${n?"text-white":"text-slate-900"}`,children:"Top Prescribed Medicines"})]}),m.jsx(cR,{transactions:v,isDarkMode:n})]}),m.jsxs("div",{className:`p-6 rounded-2xl border animate-slide-up ${n?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"}`,style:{animationDelay:"0.35s",animationFillMode:"both",opacity:0},children:[m.jsx("h3",{className:`font-display font-bold text-base mb-5 ${n?"text-white":"text-slate-900"}`,children:"Quick Actions"}),m.jsxs("div",{className:"space-y-2.5",children:[m.jsx(Xu,{onClick:()=>{u("doctors"),$("pending")},icon:m.jsx(ia,{className:"w-4 h-4"}),label:`Review ${Kt} Pending`,variant:"primary"}),m.jsx(Xu,{onClick:()=>yt(!0),icon:m.jsx(sb,{className:"w-4 h-4"}),label:"Send Broadcast",variant:"secondary",isDarkMode:n}),m.jsx(Xu,{onClick:()=>u("audit"),icon:m.jsx(ab,{className:"w-4 h-4"}),label:"Security Audit",variant:"secondary",isDarkMode:n}),m.jsx(Xu,{onClick:()=>u("support"),icon:m.jsx(Ju,{className:"w-4 h-4"}),label:`Support ${Ln>0?`(${Ln})`:""}`,variant:"secondary",isDarkMode:n})]})]})]}),m.jsxs("div",{className:`p-6 rounded-2xl border animate-slide-up ${n?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"}`,style:{animationDelay:"0.4s",animationFillMode:"both",opacity:0},children:[m.jsxs("div",{className:"flex items-center justify-between mb-5",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(NE,{className:"w-4 h-4 text-indigo-400 animate-pulse"}),m.jsx("h3",{className:`font-display font-bold text-base ${n?"text-white":"text-slate-900"}`,children:"Live Activity Feed"})]}),m.jsx(yl,{color:"indigo"})]}),m.jsxs("div",{className:"space-y-1 relative",children:[m.jsx("div",{className:`absolute left-3.5 top-2 bottom-2 w-px ${n?"bg-white/5":"bg-gray-100"}`}),mt.length===0?m.jsx("div",{className:"pl-10 py-4 text-sm text-slate-500 italic",children:"No recent activity"}):mt.map((Q,ee)=>m.jsxs("div",{className:`py-3 pl-10 pr-3 relative flex justify-between items-center rounded-xl transition-colors cursor-default ${n?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 border-2 rounded-full z-10 ${Q._type==="rx"?"bg-[#060b18] border-blue-500":"bg-[#060b18] border-amber-500"}`}),m.jsxs("div",{className:"min-w-0 pr-4",children:[m.jsx("p",{className:`font-semibold text-xs truncate ${n?"text-white":"text-slate-900"}`,children:Q._type==="rx"?"Prescription Issued":Q.action}),m.jsx("p",{className:`text-[11px] mt-0.5 truncate ${n?"text-slate-500":"text-slate-400"}`,children:Q._type==="rx"?`Dr. ${Q.doctorName}  ${Q.patient?.name}`:Q.details})]}),m.jsx("span",{className:`text-[10px] font-mono flex-shrink-0 ${n?"text-slate-600":"text-slate-400"}`,children:Q._type==="rx"?Q.date:Q.time})]},Q.id+ee))]})]})]}),o==="doctors"&&m.jsx(dR,{doctors:En,filter:pe,setFilter:$,onRefresh:()=>{},onUpdateStatus:bs,onUpdatePassword:xs,onDelete:Mn,loading:me,isDarkMode:n}),o==="machines"&&m.jsx(fR,{machines:w,onPing:ws,onRunDiagnostics:Hi,onReboot:Ts,onLock:Es,onDelete:_t,isDarkMode:n}),o==="inventory"&&m.jsx(uR,{medicines:K,db:wt,appId:Tt,isDarkMode:n,onNotify:Ke}),o==="support"&&m.jsx(hR,{tickets:te,db:wt,appId:Tt,isDarkMode:n,onNotify:Ke}),o==="transactions"&&m.jsx(mR,{transactions:Rt,onHide:Gt,onClearView:$i,isDarkMode:n}),o==="audit"&&m.jsx(gR,{logs:sn,onHide:kl,onClearView:ga,isDarkMode:n}),o==="settings"&&m.jsx(pR,{profile:A,setProfile:I,onSave:Nr,isEditing:N,setIsEditing:O,setShowPassword:()=>S(!0),isDarkMode:n,transactions:v,auditLogs:R,doctors:d,machines:w,medicines:K,supportTickets:te,onNotify:Ke})]}),M&&m.jsx(lR,{onClose:()=>S(!1),currentCreds:A,onUpdate:Cr,isDarkMode:n,onNotify:Ke}),ct&&m.jsx(oR,{onClose:()=>yt(!1),onSend:gi,isDarkMode:n}),Xe&&m.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-scale-in",children:m.jsxs("div",{className:`rounded-3xl shadow-2xl max-w-2xl w-full overflow-hidden border flex flex-col max-h-[90vh] ${n?"bg-[#0d1424] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center flex-shrink-0 ${n?"border-white/10 bg-gradient-to-r from-indigo-900/20 to-transparent":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsxs("h3",{className:`font-display font-bold text-lg flex items-center gap-2 ${n?"text-white":"text-slate-900"}`,children:[m.jsx(Xo,{className:"w-5 h-5 text-emerald-400"})," Kiosk Diagnostics"]}),m.jsxs("p",{className:`text-xs mt-0.5 font-mono ${n?"text-slate-500":"text-slate-400"}`,children:[Xe.id,"  ",Xe.location]})]}),m.jsx("button",{onClick:()=>Ge(null),className:`p-2 rounded-xl transition-all ${n?"hover:bg-white/10 text-slate-400":"hover:bg-gray-100 text-slate-500"}`,children:m.jsx(vl,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:`flex-1 text-center p-5 rounded-2xl border ${n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsx("div",{className:`text-5xl font-display font-black mb-1 ${Xe.status==="online"?"text-emerald-400":"text-rose-400"}`,children:Xe.healthScore}),m.jsx("p",{className:"text-[11px] text-slate-500 uppercase tracking-widest font-bold",children:"Health Score"})]}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Remote Commands"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[[{label:"Ping",icon:m.jsx(Xo,{size:14}),action:()=>{ws(Xe.id),Ge(null)}},{label:"Reboot",icon:m.jsx(wm,{size:14}),action:()=>{Ts(Xe.id),Ge(null)}}].map((Q,ee)=>m.jsxs("button",{onClick:Q.action,className:`flex items-center justify-center gap-1.5 p-2.5 rounded-xl text-xs font-bold transition-all btn-hover-lift ${n?"bg-white/5 hover:bg-white/10 text-white border border-white/10":"bg-gray-100 hover:bg-gray-200 text-slate-700 border border-gray-200"}`,children:[Q.icon," ",Q.label]},ee)),m.jsx("button",{onClick:()=>{Es(Xe.id,Xe.status),Ge(null)},className:`col-span-2 flex items-center justify-center gap-2 p-2.5 rounded-xl text-xs font-bold transition-all btn-hover-lift border ${Xe.status==="locked"?"bg-emerald-500/15 text-emerald-400 border-emerald-500/20 hover:bg-emerald-500/25":"bg-rose-500/15 text-rose-400 border-rose-500/20 hover:bg-rose-500/25"}`,children:Xe.status==="locked"?m.jsxs(m.Fragment,{children:[m.jsx(bm,{size:14})," Unlock"]}):m.jsxs(m.Fragment,{children:[m.jsx(cr,{size:14})," Lock Kiosk"]})})]})]})]})}),m.jsx("div",{className:`p-4 border-t flex justify-end flex-shrink-0 ${n?"bg-white/3 border-white/10":"bg-gray-50 border-gray-100"}`,children:m.jsx("button",{onClick:()=>Ge(null),className:"px-6 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-500 to-indigo-400 text-white text-xs font-bold rounded-xl shadow-lg shadow-indigo-500/20 btn-hover-lift",children:"Close"})})]})})]})]})}function _R(){const[r,e]=le.useState(!1),[n,s]=le.useState(null),[o,u]=le.useState(!0);return le.useEffect(()=>{(async()=>{try{await P5(iR);const y=Wt(wt,"artifacts",Tt,"public","data","settings","admin_profile"),v=await t5(y);v.exists()?s(v.data()):(await Vn(y,vm),s(vm))}catch(y){console.error("Init failed:",y),s(vm)}finally{u(!1)}})()},[]),o?m.jsxs("div",{className:"flex h-screen items-center justify-center bg-[#060b18] font-sans",children:[m.jsx(Bg,{}),m.jsxs("div",{className:"flex flex-col items-center gap-5 text-center",children:[m.jsxs("div",{className:"relative w-20 h-20",children:[m.jsx("div",{className:"absolute inset-0 rounded-3xl bg-indigo-500/20 blur-xl animate-pulse"}),m.jsx("div",{className:"relative w-full h-full bg-gradient-to-br from-indigo-600 to-blue-600 rounded-3xl flex items-center justify-center shadow-2xl shadow-indigo-500/30",children:m.jsx(jh,{className:"w-9 h-9 text-white"})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-sm font-bold text-slate-300 font-display",children:"Connecting to Secure Server"}),m.jsx("div",{className:"flex items-center justify-center gap-1.5",children:[0,1,2].map(d=>m.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:`${d*.15}s`}},d))})]})]})]}):r?m.jsx(vR,{onLogout:()=>e(!1),initialProfile:n}):m.jsx(yR,{onLogin:()=>e(!0),cloudProfile:n})}AT.createRoot(document.getElementById("root")).render(m.jsx(le.StrictMode,{children:m.jsx(_R,{})}));
