(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function UT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var kd={exports:{}},yo={};var q0;function PT(){if(q0)return yo;q0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return yo.Fragment=e,yo.jsx=i,yo.jsxs=i,yo}var H0;function zT(){return H0||(H0=1,kd.exports=PT()),kd.exports}var b=zT(),jd={exports:{}},Ee={};var F0;function BT(){if(F0)return Ee;F0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function Q(I){return I===null||typeof I!="object"?null:(I=V&&I[V]||I["@@iterator"],typeof I=="function"?I:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,ie={};function ue(I,G,W){this.props=I,this.context=G,this.refs=ie,this.updater=W||Z}ue.prototype.isReactComponent={},ue.prototype.setState=function(I,G){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,G,"setState")},ue.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ye(){}ye.prototype=ue.prototype;function _e(I,G,W){this.props=I,this.context=G,this.refs=ie,this.updater=W||Z}var xe=_e.prototype=new ye;xe.constructor=_e,ee(xe,ue.prototype),xe.isPureReactComponent=!0;var rt=Array.isArray;function Ue(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(I,G,W){var re=W.ref;return{$$typeof:s,type:I,key:G,ref:re!==void 0?re:null,props:W}}function M(I,G){return N(I.type,G,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function j(I){var G={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return G[W]})}var x=/\/+/g;function tt(I,G){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):G.toString(36)}function mt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Ue,Ue):(I.status="pending",I.then(function(G){I.status==="pending"&&(I.status="fulfilled",I.value=G)},function(G){I.status==="pending"&&(I.status="rejected",I.reason=G)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,G,W,re,me){var J=typeof I;(J==="undefined"||J==="boolean")&&(I=null);var ae=!1;if(I===null)ae=!0;else switch(J){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(I.$$typeof){case s:case e:ae=!0;break;case w:return ae=I._init,H(ae(I._payload),G,W,re,me)}}if(ae)return me=me(I),ae=re===""?"."+tt(I,0):re,rt(me)?(W="",ae!=null&&(W=ae.replace(x,"$&/")+"/"),H(me,G,W,"",function(Mi){return Mi})):me!=null&&(D(me)&&(me=M(me,W+(me.key==null||I&&I.key===me.key?"":(""+me.key).replace(x,"$&/")+"/")+ae)),G.push(me)),1;ae=0;var He=re===""?".":re+":";if(rt(I))for(var nt=0;nt<I.length;nt++)re=I[nt],J=He+tt(re,nt),ae+=H(re,G,W,J,me);else if(nt=Q(I),typeof nt=="function")for(I=nt.call(I),nt=0;!(re=I.next()).done;)re=re.value,J=He+tt(re,nt++),ae+=H(re,G,W,J,me);else if(J==="object"){if(typeof I.then=="function")return H(mt(I),G,W,re,me);throw G=String(I),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ae}function ne(I,G,W){if(I==null)return I;var re=[],me=0;return H(I,re,"","",function(J){return G.call(W,J,me++)}),re}function he(I){if(I._status===-1){var G=I._result;G=G(),G.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=G)}if(I._status===1)return I._result.default;throw I._result}var je=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},qe={map:ne,forEach:function(I,G,W){ne(I,function(){G.apply(this,arguments)},W)},count:function(I){var G=0;return ne(I,function(){G++}),G},toArray:function(I){return ne(I,function(G){return G})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ee.Activity=A,Ee.Children=qe,Ee.Component=ue,Ee.Fragment=i,Ee.Profiler=o,Ee.PureComponent=_e,Ee.StrictMode=r,Ee.Suspense=_,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(I){return C.H.useMemoCache(I)}},Ee.cache=function(I){return function(){return I.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(I,G,W){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var re=ee({},I.props),me=I.key;if(G!=null)for(J in G.key!==void 0&&(me=""+G.key),G)!S.call(G,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&G.ref===void 0||(re[J]=G[J]);var J=arguments.length-2;if(J===1)re.children=W;else if(1<J){for(var ae=Array(J),He=0;He<J;He++)ae[He]=arguments[He+2];re.children=ae}return N(I.type,me,re)},Ee.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Ee.createElement=function(I,G,W){var re,me={},J=null;if(G!=null)for(re in G.key!==void 0&&(J=""+G.key),G)S.call(G,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=G[re]);var ae=arguments.length-2;if(ae===1)me.children=W;else if(1<ae){for(var He=Array(ae),nt=0;nt<ae;nt++)He[nt]=arguments[nt+2];me.children=He}if(I&&I.defaultProps)for(re in ae=I.defaultProps,ae)me[re]===void 0&&(me[re]=ae[re]);return N(I,J,me)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(I){return{$$typeof:g,render:I}},Ee.isValidElement=D,Ee.lazy=function(I){return{$$typeof:w,_payload:{_status:-1,_result:I},_init:he}},Ee.memo=function(I,G){return{$$typeof:y,type:I,compare:G===void 0?null:G}},Ee.startTransition=function(I){var G=C.T,W={};C.T=W;try{var re=I(),me=C.S;me!==null&&me(W,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ue,je)}catch(J){je(J)}finally{G!==null&&W.types!==null&&(G.types=W.types),C.T=G}},Ee.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ee.use=function(I){return C.H.use(I)},Ee.useActionState=function(I,G,W){return C.H.useActionState(I,G,W)},Ee.useCallback=function(I,G){return C.H.useCallback(I,G)},Ee.useContext=function(I){return C.H.useContext(I)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(I,G){return C.H.useDeferredValue(I,G)},Ee.useEffect=function(I,G){return C.H.useEffect(I,G)},Ee.useEffectEvent=function(I){return C.H.useEffectEvent(I)},Ee.useId=function(){return C.H.useId()},Ee.useImperativeHandle=function(I,G,W){return C.H.useImperativeHandle(I,G,W)},Ee.useInsertionEffect=function(I,G){return C.H.useInsertionEffect(I,G)},Ee.useLayoutEffect=function(I,G){return C.H.useLayoutEffect(I,G)},Ee.useMemo=function(I,G){return C.H.useMemo(I,G)},Ee.useOptimistic=function(I,G){return C.H.useOptimistic(I,G)},Ee.useReducer=function(I,G,W){return C.H.useReducer(I,G,W)},Ee.useRef=function(I){return C.H.useRef(I)},Ee.useState=function(I){return C.H.useState(I)},Ee.useSyncExternalStore=function(I,G,W){return C.H.useSyncExternalStore(I,G,W)},Ee.useTransition=function(){return C.H.useTransition()},Ee.version="19.2.4",Ee}var G0;function Nm(){return G0||(G0=1,jd.exports=BT()),jd.exports}var Ce=Nm();const qT=UT(Ce);var Ld={exports:{}},_o={},Ud={exports:{}},Pd={};var $0;function HT(){return $0||($0=1,(function(s){function e(H,ne){var he=H.length;H.push(ne);e:for(;0<he;){var je=he-1>>>1,qe=H[je];if(0<o(qe,ne))H[je]=ne,H[he]=qe,he=je;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ne=H[0],he=H.pop();if(he!==ne){H[0]=he;e:for(var je=0,qe=H.length,I=qe>>>1;je<I;){var G=2*(je+1)-1,W=H[G],re=G+1,me=H[re];if(0>o(W,he))re<qe&&0>o(me,W)?(H[je]=me,H[re]=he,je=re):(H[je]=W,H[G]=he,je=G);else if(re<qe&&0>o(me,he))H[je]=me,H[re]=he,je=re;else break e}}return ne}function o(H,ne){var he=H.sortIndex-ne.sortIndex;return he!==0?he:H.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],w=1,A=null,V=3,Q=!1,Z=!1,ee=!1,ie=!1,ue=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function xe(H){for(var ne=i(y);ne!==null;){if(ne.callback===null)r(y);else if(ne.startTime<=H)r(y),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(y)}}function rt(H){if(ee=!1,xe(H),!Z)if(i(_)!==null)Z=!0,Ue||(Ue=!0,j());else{var ne=i(y);ne!==null&&mt(rt,ne.startTime-H)}}var Ue=!1,C=-1,S=5,N=-1;function M(){return ie?!0:!(s.unstable_now()-N<S)}function D(){if(ie=!1,Ue){var H=s.unstable_now();N=H;var ne=!0;try{e:{Z=!1,ee&&(ee=!1,ye(C),C=-1),Q=!0;var he=V;try{t:{for(xe(H),A=i(_);A!==null&&!(A.expirationTime>H&&M());){var je=A.callback;if(typeof je=="function"){A.callback=null,V=A.priorityLevel;var qe=je(A.expirationTime<=H);if(H=s.unstable_now(),typeof qe=="function"){A.callback=qe,xe(H),ne=!0;break t}A===i(_)&&r(_),xe(H)}else r(_);A=i(_)}if(A!==null)ne=!0;else{var I=i(y);I!==null&&mt(rt,I.startTime-H),ne=!1}}break e}finally{A=null,V=he,Q=!1}ne=void 0}}finally{ne?j():Ue=!1}}}var j;if(typeof _e=="function")j=function(){_e(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,tt=x.port2;x.port1.onmessage=D,j=function(){tt.postMessage(null)}}else j=function(){ue(D,0)};function mt(H,ne){C=ue(function(){H(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(H){switch(V){case 1:case 2:case 3:var ne=3;break;default:ne=V}var he=V;V=ne;try{return H()}finally{V=he}},s.unstable_requestPaint=function(){ie=!0},s.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=V;V=H;try{return ne()}finally{V=he}},s.unstable_scheduleCallback=function(H,ne,he){var je=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?je+he:je):he=je,H){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=he+qe,H={id:w++,callback:ne,priorityLevel:H,startTime:he,expirationTime:qe,sortIndex:-1},he>je?(H.sortIndex=he,e(y,H),i(_)===null&&H===i(y)&&(ee?(ye(C),C=-1):ee=!0,mt(rt,he-je))):(H.sortIndex=qe,e(_,H),Z||Q||(Z=!0,Ue||(Ue=!0,j()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var ne=V;return function(){var he=V;V=ne;try{return H.apply(this,arguments)}finally{V=he}}}})(Pd)),Pd}var Q0;function FT(){return Q0||(Q0=1,Ud.exports=HT()),Ud.exports}var zd={exports:{}},Xt={};var K0;function GT(){if(K0)return Xt;K0=1;var s=Nm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:_,containerInfo:y,implementation:w}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(_,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,w)},Xt.flushSync=function(_){var y=d.T,w=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=w,r.d.f()}},Xt.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Xt.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Xt.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var w=y.as,A=g(w,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:Q}):w==="script"&&r.d.X(_,{crossOrigin:A,integrity:V,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Xt.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,A=g(w,y.crossOrigin);r.d.L(_,w,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(_,y){if(typeof _=="string")if(y){var w=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Xt.requestFormReset=function(_){r.d.r(_)},Xt.unstable_batchedUpdates=function(_,y){return _(y)},Xt.useFormState=function(_,y,w){return d.H.useFormState(_,y,w)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.2.4",Xt}var Y0;function $T(){if(Y0)return zd.exports;Y0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=GT(),zd.exports}var X0;function QT(){if(X0)return _o;X0=1;var s=FT(),e=Nm(),i=$T();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,l=f;break}if(E===l){p=!0,l=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,l=h;break}if(E===l){p=!0,l=f,a=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function w(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=w(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case ue:return"Profiler";case ie:return"StrictMode";case rt:return"Suspense";case Ue:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case _e:return t.displayName||"Context";case ye:return(t._context.displayName||"Context")+".Consumer";case xe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:tt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return tt(t(n))}catch{}}return null}var mt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},je=[],qe=-1;function I(t){return{current:t}}function G(t){0>qe||(t.current=je[qe],je[qe]=null,qe--)}function W(t,n){qe++,je[qe]=t.current,t.current=n}var re=I(null),me=I(null),J=I(null),ae=I(null);function He(t,n){switch(W(J,n),W(me,t),W(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?h0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=h0(n),t=f0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(re),W(re,t)}function nt(){G(re),G(me),G(J)}function Mi(t){t.memoizedState!==null&&W(ae,t);var n=re.current,a=f0(n,t.type);n!==a&&(W(me,t),W(re,a))}function cs(t){me.current===t&&(G(re),G(me)),ae.current===t&&(G(ae),fo._currentValue=he)}var hs,fs;function it(t){if(hs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);hs=n&&n[1]||"",fs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hs+t+fs}var Yt=!1;function ii(t,n){if(!t||Yt)return"";Yt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){z=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{Yt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?it(a):""}function dl(t,n){switch(t.tag){case 26:case 27:case 5:return it(t.type);case 16:return it("Lazy");case 13:return t.child!==n&&n!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ii(t.type,!1);case 11:return ii(t.type.render,!1);case 1:return ii(t.type,!0);case 31:return it("Activity");default:return""}}function ml(t){try{var n="",a=null;do n+=dl(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Vt=s.unstable_scheduleCallback,ds=s.unstable_cancelCallback,jh=s.unstable_shouldYield,eu=s.unstable_requestPaint,tn=s.unstable_now,fr=s.unstable_getCurrentPriorityLevel,gl=s.unstable_ImmediatePriority,pl=s.unstable_UserBlockingPriority,ms=s.unstable_NormalPriority,Lh=s.unstable_LowPriority,tu=s.unstable_IdlePriority,nu=s.log,iu=s.unstable_setDisableYieldValue,zn=null,zt=null;function Sn(t){if(typeof nu=="function"&&iu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(zn,t)}catch{}}var gt=Math.clz32?Math.clz32:ru,su=Math.log,ta=Math.LN2;function ru(t){return t>>>=0,t===0?32:31-(su(t)/ta|0)|0}var si=256,dr=262144,Tt=4194304;function ri(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ri(l):(p&=E,p!==0?h=ri(p):a||(a=E&~t,a!==0&&(h=ri(a))))):(E=l&~f,E!==0?h=ri(E):p!==0?h=ri(p):a||(a=l&~t,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Uh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function li(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function mr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ph(t,n,a,l,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(a=p&~a;0<a;){var F=31-gt(a),K=1<<F;E[F]=0,R[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}a&=~K}l!==0&&gr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function gr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-gt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function yl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-gt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function _l(t,n){var a=n&-n;return a=(a&42)!==0?1:pr(a),(a&(t.suspendedLanes|n))!==0?0:a}function pr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:k0(t.type))}function qn(t,n){var a=ne.p;try{return ne.p=t,n()}finally{ne.p=a}}var Hn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Hn,jt="__reactProps$"+Hn,oi="__reactContainer$"+Hn,na="__reactEvents$"+Hn,zh="__reactListeners$"+Hn,ou="__reactHandles$"+Hn,uu="__reactResources$"+Hn,ui="__reactMarker$"+Hn;function ia(t){delete t[wt],delete t[jt],delete t[na],delete t[zh],delete t[ou]}function ci(t){var n=t[wt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[oi]||a[wt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=v0(t);t!==null;){if(a=t[wt])return a;t=v0(t)}return n}t=a,a=t.parentNode}return null}function xn(t){if(t=t[wt]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function hi(t){var n=t[uu];return n||(n=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function At(t){t[ui]=!0}var vl=new Set,bl={};function fi(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(bl[t]=n,t=0;t<n.length;t++)vl.add(n[t])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},wl={};function cu(t){return Et.call(wl,t)?!0:Et.call(Tl,t)?!1:El.test(t)?wl[t]=!0:(Tl[t]=!0,!1)}function sa(t,n,a){if(cu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function pn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function St(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Al(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=gs(t)?"checked":"value";t._valueTracker=Al(t,n,""+t[n])}}function yr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=gs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _r=/[\n"\\]/g;function rn(t){return t.replace(_r,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(t,n,a,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Sl(t,p,Lt(n)):a!=null?Sl(t,p,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function hu(t,n,a,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(t);return}a=a!=null?""+Lt(a):"",n=n!=null?""+Lt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Qe(t)}function Sl(t,n,a){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ps(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fu(t,n,a){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Lt(a):""}function ys(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(mt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Lt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||du.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Rl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&xl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&xl(t,f,n[f])}function aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return _s.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Nl=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,gi=null;function vr(t){var n=xn(t);if(n&&(t=n.stateNode)){var a=t[jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ra(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(r(90));ra(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&yr(l)}break e;case"textarea":fu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ps(t,!!a.multiple,n,!1)}}}var oa=!1;function bs(t,n,a){if(oa)return t(n,a);oa=!0;try{var l=t(n);return l}finally{if(oa=!1,(vs!==null||gi!==null)&&(lc(),vs&&(n=vs,t=gi,gi=vs=null,vr(n),t)))for(n=0;n<t.length;n++)vr(t[n])}}function Gn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Nn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){br=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{br=!1}var pi=null,Cl=null,Er=null;function Il(){if(Er)return Er;var t,n=Cl,a=n.length,l,h="value"in pi?pi.value:pi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===h[f-l];l++);return Er=h.slice(t,1<l?1-l:void 0)}function Tr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function $n(){return!1}function Bt(t){function n(a,l,h,f,p){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:$n,this.isPropagationStopped=$n,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Bt(Li),Es=A({},Li,{view:0,detail:0}),Dl=Bt(Es),Ts,ua,_i,ca=A({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(Ts=t.screenX-_i.screenX,ua=t.screenY-_i.screenY):ua=Ts=0,_i=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),Ol=Bt(ca),wr=A({},ca,{dataTransfer:0}),gu=Bt(wr),pu=A({},Es,{relatedTarget:0}),Ar=Bt(pu),Vl=A({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Bt(Vl),ha=A({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=Bt(ha),vu=A({},Li,{data:0}),vi=Bt(vu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function ws(){return wu}var nn=A({},Es,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?Tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Au=Bt(nn),Su=A({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Bt(Su),u=A({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),m=Bt(u),v=A({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Bt(v),L=A({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Bt(L),te=A({},Li,{newState:0,oldState:0}),we=Bt(te),pt=[9,13,27,32],Fe=Nn&&"CompositionEvent"in window,ut=null;Nn&&"documentMode"in document&&(ut=document.documentMode);var Cn=Nn&&"TextEvent"in window&&!ut,bi=Nn&&(!Fe||ut&&8<ut&&11>=ut),Qn=" ",Kn=!1;function Sr(t,n){switch(t){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function oE(t,n){switch(t){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Kn?null:t;default:return null}}function uE(t,n){if(da)return t==="compositionend"||!Fe&&Sr(t,n)?(t=Il(),Er=Cl=pi=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var cE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!cE[t.type]:n==="textarea"}function wg(t,n,a,l){vs?gi?gi.push(l):gi=[l]:vs=l,n=mc(n,"onChange"),0<n.length&&(a=new yi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ml=null,kl=null;function hE(t){r0(t,0)}function xu(t){var n=gn(t);if(yr(n))return t}function Ag(t,n){if(t==="change")return n}var Sg=!1;if(Nn){var Bh;if(Nn){var qh="oninput"in document;if(!qh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),qh=typeof xg.oninput=="function"}Bh=qh}else Bh=!1;Sg=Bh&&(!document.documentMode||9<document.documentMode)}function Rg(){Ml&&(Ml.detachEvent("onpropertychange",Ng),kl=Ml=null)}function Ng(t){if(t.propertyName==="value"&&xu(kl)){var n=[];wg(n,kl,t,Rn(t)),bs(hE,n)}}function fE(t,n,a){t==="focusin"?(Rg(),Ml=n,kl=a,Ml.attachEvent("onpropertychange",Ng)):t==="focusout"&&Rg()}function dE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(kl)}function mE(t,n){if(t==="click")return xu(n)}function gE(t,n){if(t==="input"||t==="change")return xu(n)}function pE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var yn=typeof Object.is=="function"?Object.is:pE;function jl(t,n){if(yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(n,h)||!yn(t[h],n[h]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,n){var a=Cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cg(a)}}function Dg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Dg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=mi(t.document)}return n}function Hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var yE=Nn&&"documentMode"in document&&11>=document.documentMode,ma=null,Fh=null,Ll=null,Gh=!1;function Vg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||ma==null||ma!==mi(l)||(l=ma,"selectionStart"in l&&Hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ll&&jl(Ll,l)||(Ll=l,l=mc(Fh,"onSelect"),0<l.length&&(n=new yi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ma)))}function xr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ga={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},$h={},Mg={};Nn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Rr(t){if($h[t])return $h[t];if(!ga[t])return t;var n=ga[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Mg)return $h[t]=n[a];return t}var kg=Rr("animationend"),jg=Rr("animationiteration"),Lg=Rr("animationstart"),_E=Rr("transitionrun"),vE=Rr("transitionstart"),bE=Rr("transitioncancel"),Ug=Rr("transitionend"),Pg=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function Yn(t,n){Pg.set(t,n),fi(n,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],pa=0,Kh=0;function Nu(){for(var t=pa,n=Kh=pa=0;n<t;){var a=In[n];In[n++]=null;var l=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&zg(a,h,f)}}function Cu(t,n,a,l){In[pa++]=t,In[pa++]=n,In[pa++]=a,In[pa++]=l,Kh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yh(t,n,a,l){return Cu(t,n,a,l),Iu(t)}function Nr(t,n){return Cu(t,null,null,n),Iu(t)}function zg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-gt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Iu(t){if(50<ro)throw ro=0,rd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ya={};function EE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,n,a,l){return new EE(t,n,a,l)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,n){var a=t.alternate;return a===null?(a=_n(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,a,l,h,f){var p=0;if(l=t,typeof t=="function")Xh(t)&&(p=1);else if(typeof t=="string")p=xT(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=_n(31,a,n,h),t.elementType=N,t.lanes=f,t;case ee:return Cr(a.children,h,f,n);case ie:p=8,h|=24;break;case ue:return t=_n(12,a,n,h|2),t.elementType=ue,t.lanes=f,t;case rt:return t=_n(13,a,n,h),t.elementType=rt,t.lanes=f,t;case Ue:return t=_n(19,a,n,h),t.elementType=Ue,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:p=10;break e;case ye:p=9;break e;case xe:p=11;break e;case C:p=14;break e;case S:p=16,l=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=_n(p,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Cr(t,n,a,l){return t=_n(7,t,l,n),t.lanes=a,t}function Jh(t,n,a){return t=_n(6,t,null,n),t.lanes=a,t}function qg(t){var n=_n(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,a){return n=_n(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hg=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ml(n)},Hg.set(t,n),n)}return{value:t,source:n,stack:ml(n)}}var _a=[],va=0,Ou=null,Ul=0,On=[],Vn=0,As=null,Ei=1,Ti="";function zi(t,n){_a[va++]=Ul,_a[va++]=Ou,Ou=t,Ul=n}function Fg(t,n,a){On[Vn++]=Ei,On[Vn++]=Ti,On[Vn++]=As,As=t;var l=Ei;t=Ti;var h=32-gt(l)-1;l&=~(1<<h),a+=1;var f=32-gt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ei=1<<32-gt(n)+h|a<<h|l,Ti=f+t}else Ei=1<<f|a<<h|l,Ti=t}function Wh(t){t.return!==null&&(zi(t,1),Fg(t,1,0))}function ef(t){for(;t===Ou;)Ou=_a[--va],_a[va]=null,Ul=_a[--va],_a[va]=null;for(;t===As;)As=On[--Vn],On[Vn]=null,Ti=On[--Vn],On[Vn]=null,Ei=On[--Vn],On[Vn]=null}function Gg(t,n){On[Vn++]=Ei,On[Vn++]=Ti,On[Vn++]=As,Ei=n.id,Ti=n.overflow,As=t}var qt=null,at=null,Le=!1,Ss=null,Mn=!1,tf=Error(r(519));function xs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(Dn(n,t)),tf}function $g(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[wt]=t,n[jt]=l,a){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(a=0;a<lo.length;a++)Ne(lo[a],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),hu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),ys(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||u0(n.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),l.onScroll!=null&&Ne("scroll",n),l.onScrollEnd!=null&&Ne("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||xs(t,!0)}function Qg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function ba(t){if(t!==qt)return!1;if(!Le)return Qg(t),Le=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bd(t.type,t.memoizedProps)),a=!a),a&&at&&xs(t),Qg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));at=_0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));at=_0(t)}else n===27?(n=at,zs(t.type)?(t=Sd,Sd=null,at=t):at=n):at=qt?jn(t.stateNode.nextSibling):null;return!0}function Ir(){at=qt=null,Le=!1}function nf(){var t=Ss;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Ss=null),t}function Pl(t){Ss===null?Ss=[t]:Ss.push(t)}var sf=I(null),Dr=null,Bi=null;function Rs(t,n,a){W(sf,n._currentValue),n._currentValue=a}function qi(t){t._currentValue=sf.current,G(sf)}function rf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function af(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),rf(f.return,a,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),rf(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ea(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;yn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===ae.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fo):t=[fo])}h=h.return}t!==null&&af(n,t,a,l),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Or(t){Dr=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Kg(Dr,t)}function Mu(t,n){return Dr===null&&Or(t),Kg(t,n)}function Kg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(r(308));Bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Bi=Bi.next=n;return a}var TE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},wE=s.unstable_scheduleCallback,AE=s.unstable_NormalPriority,xt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new TE,data:new Map,refCount:0}}function zl(t){t.refCount--,t.refCount===0&&wE(AE,function(){t.controller.abort()})}var Bl=null,of=0,Ta=0,wa=null;function SE(t,n){if(Bl===null){var a=Bl=[];of=0,Ta=hd(),wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return of++,n.then(Yg,Yg),n}function Yg(){if(--of===0&&Bl!==null){wa!==null&&(wa.status="fulfilled");var t=Bl;Bl=null,Ta=0,wa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Xg=H.S;H.S=function(t,n){Vy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&SE(t,n),Xg!==null&&Xg(t,n)};var Vr=I(null);function uf(){var t=Vr.current;return t!==null?t:et.pooledCache}function ku(t,n){n===null?W(Vr,Vr.current):W(Vr,n.pool)}function Jg(){var t=uf();return t===null?null:{parent:xt._currentValue,pool:t}}var Aa=Error(r(460)),cf=Error(r(474)),ju=Error(r(542)),Lu={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t}throw kr=n,Aa}}function Mr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(kr=a,Aa):a}}var kr=null;function ep(){if(kr===null)throw Error(r(459));var t=kr;return kr=null,t}function tp(t){if(t===Aa||t===ju)throw Error(r(483))}var Sa=null,ql=0;function Uu(t){var n=ql;return ql+=1,Sa===null&&(Sa=[]),Wg(Sa,t,n)}function Hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===V?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function np(t){function n(k,O){if(t){var U=k.deletions;U===null?(k.deletions=[O],k.flags|=16):U.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Pi(k,O),k.index=0,k.sibling=null,k}function f(k,O,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<O?(k.flags|=67108866,O):U):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,U,$){return O===null||O.tag!==6?(O=Jh(U,k.mode,$),O.return=k,O):(O=h(O,U),O.return=k,O)}function R(k,O,U,$){var fe=U.type;return fe===ee?F(k,O,U.props.children,$,U.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Mr(fe)===O.type)?(O=h(O,U.props),Hl(O,U),O.return=k,O):(O=Du(U.type,U.key,U.props,null,k.mode,$),Hl(O,U),O.return=k,O)}function P(k,O,U,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Zh(U,k.mode,$),O.return=k,O):(O=h(O,U.children||[]),O.return=k,O)}function F(k,O,U,$,fe){return O===null||O.tag!==7?(O=Cr(U,k.mode,$,fe),O.return=k,O):(O=h(O,U),O.return=k,O)}function K(k,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Jh(""+O,k.mode,U),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return U=Du(O.type,O.key,O.props,null,k.mode,U),Hl(U,O),U.return=k,U;case Z:return O=Zh(O,k.mode,U),O.return=k,O;case S:return O=Mr(O),K(k,O,U)}if(mt(O)||j(O))return O=Cr(O,k.mode,U,null),O.return=k,O;if(typeof O.then=="function")return K(k,Uu(O),U);if(O.$$typeof===_e)return K(k,Mu(k,O),U);Pu(k,O)}return null}function z(k,O,U,$){var fe=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:E(k,O,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:return U.key===fe?R(k,O,U,$):null;case Z:return U.key===fe?P(k,O,U,$):null;case S:return U=Mr(U),z(k,O,U,$)}if(mt(U)||j(U))return fe!==null?null:F(k,O,U,$,null);if(typeof U.then=="function")return z(k,O,Uu(U),$);if(U.$$typeof===_e)return z(k,O,Mu(k,U),$);Pu(k,U)}return null}function q(k,O,U,$,fe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return k=k.get(U)||null,E(O,k,""+$,fe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Q:return k=k.get($.key===null?U:$.key)||null,R(O,k,$,fe);case Z:return k=k.get($.key===null?U:$.key)||null,P(O,k,$,fe);case S:return $=Mr($),q(k,O,U,$,fe)}if(mt($)||j($))return k=k.get(U)||null,F(O,k,$,fe,null);if(typeof $.then=="function")return q(k,O,U,Uu($),fe);if($.$$typeof===_e)return q(k,O,U,Mu(O,$),fe);Pu(O,$)}return null}function oe(k,O,U,$){for(var fe=null,ze=null,ce=O,Se=O=0,De=null;ce!==null&&Se<U.length;Se++){ce.index>Se?(De=ce,ce=null):De=ce.sibling;var Be=z(k,ce,U[Se],$);if(Be===null){ce===null&&(ce=De);break}t&&ce&&Be.alternate===null&&n(k,ce),O=f(Be,O,Se),ze===null?fe=Be:ze.sibling=Be,ze=Be,ce=De}if(Se===U.length)return a(k,ce),Le&&zi(k,Se),fe;if(ce===null){for(;Se<U.length;Se++)ce=K(k,U[Se],$),ce!==null&&(O=f(ce,O,Se),ze===null?fe=ce:ze.sibling=ce,ze=ce);return Le&&zi(k,Se),fe}for(ce=l(ce);Se<U.length;Se++)De=q(ce,k,Se,U[Se],$),De!==null&&(t&&De.alternate!==null&&ce.delete(De.key===null?Se:De.key),O=f(De,O,Se),ze===null?fe=De:ze.sibling=De,ze=De);return t&&ce.forEach(function(Gs){return n(k,Gs)}),Le&&zi(k,Se),fe}function ge(k,O,U,$){if(U==null)throw Error(r(151));for(var fe=null,ze=null,ce=O,Se=O=0,De=null,Be=U.next();ce!==null&&!Be.done;Se++,Be=U.next()){ce.index>Se?(De=ce,ce=null):De=ce.sibling;var Gs=z(k,ce,Be.value,$);if(Gs===null){ce===null&&(ce=De);break}t&&ce&&Gs.alternate===null&&n(k,ce),O=f(Gs,O,Se),ze===null?fe=Gs:ze.sibling=Gs,ze=Gs,ce=De}if(Be.done)return a(k,ce),Le&&zi(k,Se),fe;if(ce===null){for(;!Be.done;Se++,Be=U.next())Be=K(k,Be.value,$),Be!==null&&(O=f(Be,O,Se),ze===null?fe=Be:ze.sibling=Be,ze=Be);return Le&&zi(k,Se),fe}for(ce=l(ce);!Be.done;Se++,Be=U.next())Be=q(ce,k,Se,Be.value,$),Be!==null&&(t&&Be.alternate!==null&&ce.delete(Be.key===null?Se:Be.key),O=f(Be,O,Se),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&ce.forEach(function(LT){return n(k,LT)}),Le&&zi(k,Se),fe}function We(k,O,U,$){if(typeof U=="object"&&U!==null&&U.type===ee&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:e:{for(var fe=U.key;O!==null;){if(O.key===fe){if(fe=U.type,fe===ee){if(O.tag===7){a(k,O.sibling),$=h(O,U.props.children),$.return=k,k=$;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Mr(fe)===O.type){a(k,O.sibling),$=h(O,U.props),Hl($,U),$.return=k,k=$;break e}a(k,O);break}else n(k,O);O=O.sibling}U.type===ee?($=Cr(U.props.children,k.mode,$,U.key),$.return=k,k=$):($=Du(U.type,U.key,U.props,null,k.mode,$),Hl($,U),$.return=k,k=$)}return p(k);case Z:e:{for(fe=U.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(k,O.sibling),$=h(O,U.children||[]),$.return=k,k=$;break e}else{a(k,O);break}else n(k,O);O=O.sibling}$=Zh(U,k.mode,$),$.return=k,k=$}return p(k);case S:return U=Mr(U),We(k,O,U,$)}if(mt(U))return oe(k,O,U,$);if(j(U)){if(fe=j(U),typeof fe!="function")throw Error(r(150));return U=fe.call(U),ge(k,O,U,$)}if(typeof U.then=="function")return We(k,O,Uu(U),$);if(U.$$typeof===_e)return We(k,O,Mu(k,U),$);Pu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(k,O.sibling),$=h(O,U),$.return=k,k=$):(a(k,O),$=Jh(U,k.mode,$),$.return=k,k=$),p(k)):a(k,O)}return function(k,O,U,$){try{ql=0;var fe=We(k,O,U,$);return Sa=null,fe}catch(ce){if(ce===Aa||ce===ju)throw ce;var ze=_n(29,ce,null,k.mode);return ze.lanes=$,ze.return=k,ze}}}var jr=np(!0),ip=np(!1),Ns=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Is(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(t),zg(t,null,a),n}return Cu(t,l,n,a),Iu(t)}function Fl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,yl(t,a)}}function df(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var mf=!1;function Gl(){if(mf){var t=wa;if(t!==null)throw t}}function $l(t,n,a,l){mf=!1;var h=t.updateQueue;Ns=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;p=0,F=P=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ie&z)===z:(l&z)===z){z!==0&&z===Ta&&(mf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,ge=E;z=n;var We=a;switch(ge.tag){case 1:if(oe=ge.payload,typeof oe=="function"){K=oe.call(We,K,z);break e}K=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ge.payload,z=typeof oe=="function"?oe.call(We,K,z):oe,z==null)break e;K=A({},K,z);break e;case 2:Ns=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=q,R=K):F=F.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=K),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),ks|=p,t.lanes=p,t.memoizedState=K}}function sp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function rp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sp(a[t],n)}var xa=I(null),zu=I(0);function ap(t,n){t=Ji,W(zu,t),W(xa,n),Ji=t|n.baseLanes}function gf(){W(zu,Ji),W(xa,xa.current)}function pf(){Ji=zu.current,G(xa),G(zu)}var vn=I(null),kn=null;function Ds(t){var n=t.alternate;W(yt,yt.current&1),W(vn,t),kn===null&&(n===null||xa.current!==null||n.memoizedState!==null)&&(kn=t)}function yf(t){W(yt,yt.current),W(vn,t),kn===null&&(kn=t)}function lp(t){t.tag===22?(W(yt,yt.current),W(vn,t),kn===null&&(kn=t)):Os()}function Os(){W(yt,yt.current),W(vn,vn.current)}function bn(t){G(vn),kn===t&&(kn=null),G(yt)}var yt=I(0);function Bu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||Ad(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,Ae=null,Je=null,Rt=null,qu=!1,Ra=!1,Lr=!1,Hu=0,Ql=0,Na=null,RE=0;function ft(){throw Error(r(321))}function _f(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!yn(t[a],n[a]))return!1;return!0}function vf(t,n,a,l,h,f){return Hi=f,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Fp:Mf,Lr=!1,f=a(l,h),Lr=!1,Ra&&(f=up(n,a,l,h)),op(t),f}function op(t){H.H=Xl;var n=Je!==null&&Je.next!==null;if(Hi=0,Rt=Je=Ae=null,qu=!1,Ql=0,Na=null,n)throw Error(r(300));t===null||Nt||(t=t.dependencies,t!==null&&Vu(t)&&(Nt=!0))}function up(t,n,a,l){Ae=t;var h=0;do{if(Ra&&(Na=null),Ql=0,Ra=!1,25<=h)throw Error(r(301));if(h+=1,Rt=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Gp,f=n(a,l)}while(Ra);return f}function NE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Kl(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ae.flags|=1024),n}function bf(){var t=Hu!==0;return Hu=0,t}function Ef(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Tf(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}Hi=0,Rt=Je=Ae=null,Ra=!1,Ql=Hu=0,Na=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ae.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(Je===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=Rt===null?Ae.memoizedState:Rt.next;if(n!==null)Rt=n,Je=t;else{if(t===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Rt===null?Ae.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(t){var n=Ql;return Ql+=1,Na===null&&(Na=[]),t=Wg(Na,t,n),n=Ae,(Rt===null?n.memoizedState:Rt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Fp:Mf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Kl(t);if(t.$$typeof===_e)return Ht(t)}throw Error(r(438,String(t)))}function wf(t){var n=null,a=Ae.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),Ae.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Fi(t,n){return typeof n=="function"?n(t):n}function $u(t){var n=_t();return Af(n,Je,t)}function Af(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,F=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Ie&K)===K:(Hi&K)===K){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Ta&&(F=!0);else if((Hi&z)===z){P=P.next,z===Ta&&(F=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=K,p=f):R=R.next=K,Ae.lanes|=z,ks|=z;K=P.action,Lr&&a(f,K),f=P.hasEagerState?P.eagerState:a(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,Ae.lanes|=K,ks|=K;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!yn(f,t.memoizedState)&&(Nt=!0,F&&(a=wa,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sf(t){var n=_t(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);yn(f,n.memoizedState)||(Nt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function cp(t,n,a){var l=Ae,h=_t(),f=Le;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!yn((Je||h).memoizedState,a);if(p&&(h.memoizedState=a,Nt=!0),h=h.queue,Nf(dp.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},fp.bind(null,l,h,a,n),null),et===null)throw Error(r(349));f||(Hi&127)!==0||hp(l,n,a)}return a}function hp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ae.updateQueue,n===null?(n=Fu(),Ae.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function fp(t,n,a,l){n.value=a,n.getSnapshot=l,mp(n)&&gp(t)}function dp(t,n,a){return a(function(){mp(n)&&gp(t)})}function mp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!yn(t,a)}catch{return!0}}function gp(t){var n=Nr(t,2);n!==null&&hn(n,t,2)}function xf(t){var n=sn();if(typeof t=="function"){var a=t;if(t=a(),Lr){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},n}function pp(t,n,a,l){return t.baseState=a,Af(t,Je,typeof l=="function"?l:Fi)}function CE(t,n,a,l,h){if(Yu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,yp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function yp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=a(h,l),R=H.S;R!==null&&R(p,E),_p(t,n,E)}catch(P){Rf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=a(h,l),_p(t,n,f)}catch(P){Rf(t,n,P)}}function _p(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vp(t,n,l)},function(l){return Rf(t,n,l)}):vp(t,n,a)}function vp(t,n,a){n.status="fulfilled",n.value=a,bp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,yp(t,a)))}function Rf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,bp(n),n=n.next;while(n!==l)}t.action=null}function bp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ep(t,n){return n}function Tp(t,n){if(Le){var a=et.formState;if(a!==null){e:{var l=Ae;if(Le){if(at){t:{for(var h=at,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){at=jn(h.nextSibling),l=h.data==="F!";break e}}xs(l)}l=!1}l&&(n=a[0])}}return a=sn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:n},a.queue=l,a=Bp.bind(null,Ae,l),l.dispatch=a,l=xf(!1),f=Vf.bind(null,Ae,!1,l.queue),l=sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=CE.bind(null,Ae,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function wp(t){var n=_t();return Ap(n,Je,t)}function Ap(t,n,a){if(n=Af(t,n,Ep)[0],t=$u(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Kl(n)}catch(p){throw p===Aa?ju:p}else l=n;n=_t();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ae.flags|=2048,Ca(9,{destroy:void 0},IE.bind(null,h,a),null)),[l,f,t]}function IE(t,n){t.action=n}function Sp(t){var n=_t(),a=Je;if(a!==null)return Ap(n,a,t);_t(),n=n.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ca(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=Fu(),Ae.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function xp(){return _t().memoizedState}function Qu(t,n,a,l){var h=sn();Ae.flags|=t,h.memoizedState=Ca(1|n,{destroy:void 0},a,l===void 0?null:l)}function Ku(t,n,a,l){var h=_t();l=l===void 0?null:l;var f=h.memoizedState.inst;Je!==null&&l!==null&&_f(l,Je.memoizedState.deps)?h.memoizedState=Ca(n,f,a,l):(Ae.flags|=t,h.memoizedState=Ca(1|n,f,a,l))}function Rp(t,n){Qu(8390656,8,t,n)}function Nf(t,n){Ku(2048,8,t,n)}function DE(t){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=Fu(),Ae.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Np(t){var n=_t().memoizedState;return DE({ref:n,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Cp(t,n){return Ku(4,2,t,n)}function Ip(t,n){return Ku(4,4,t,n)}function Dp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Op(t,n,a){a=a!=null?a.concat([t]):null,Ku(4,4,Dp.bind(null,n,t),a)}function Cf(){}function Vp(t,n){var a=_t();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&_f(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Mp(t,n){var a=_t();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&_f(n,l[1]))return l[0];if(l=t(),Lr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l}function If(t,n,a){return a===void 0||(Hi&1073741824)!==0&&(Ie&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=ky(),Ae.lanes|=t,ks|=t,a)}function kp(t,n,a,l){return yn(a,n)?a:xa.current!==null?(t=If(t,a,l),yn(t,n)||(Nt=!0),t):(Hi&42)===0||(Hi&1073741824)!==0&&(Ie&261930)===0?(Nt=!0,t.memoizedState=a):(t=ky(),Ae.lanes|=t,ks|=t,n)}function jp(t,n,a,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,Vf(t,!1,n,a);try{var R=h(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=xE(R,l);Yl(t,n,F,wn(t))}else Yl(t,n,l,wn(t))}catch(K){Yl(t,n,{then:function(){},status:"rejected",reason:K},wn())}finally{ne.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function OE(){}function Df(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Lp(t).queue;jp(t,h,n,he,a===null?OE:function(){return Up(t),a(l)})}function Lp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:he},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Up(t){var n=Lp(t);n.next===null&&(n=t.alternate.memoizedState),Yl(t,n.next.queue,{},wn())}function Of(){return Ht(fo)}function Pp(){return _t().memoizedState}function zp(){return _t().memoizedState}function VE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=wn();t=Cs(a);var l=Is(n,t,a);l!==null&&(hn(l,n,a),Fl(l,n,a)),n={cache:lf()},t.payload=n;return}n=n.return}}function ME(t,n,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(t)?qp(n,a):(a=Yh(t,n,a,l),a!==null&&(hn(a,t,l),Hp(a,n,l)))}function Bp(t,n,a){var l=wn();Yl(t,n,a,l)}function Yl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))qp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,p))return Cu(t,n,h,0),et===null&&Nu(),!1}catch{}if(a=Yh(t,n,h,l),a!==null)return hn(a,t,l),Hp(a,n,l),!0}return!1}function Vf(t,n,a,l){if(l={lane:2,revertLane:hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(r(479))}else n=Yh(t,a,l,2),n!==null&&hn(n,t,2)}function Yu(t){var n=t.alternate;return t===Ae||n!==null&&n===Ae}function qp(t,n){Ra=qu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Hp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,yl(t,a)}}var Xl={readContext:Ht,use:Gu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};Xl.useEffectEvent=ft;var Fp={readContext:Ht,use:Gu,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:Rp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Qu(4194308,4,Dp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var a=sn();n=n===void 0?null:n;var l=t();if(Lr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=sn();if(a!==void 0){var h=a(n);if(Lr){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ME.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=xf(t);var n=t.queue,a=Bp.bind(null,Ae,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(t,n){var a=sn();return If(a,t,n)},useTransition:function(){var t=xf(!1);return t=jp.bind(null,Ae,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ae,h=sn();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),et===null)throw Error(r(349));(Ie&127)!==0||hp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Rp(dp.bind(null,l,f,t),[t]),l.flags|=2048,Ca(9,{destroy:void 0},fp.bind(null,l,f,a,n),null),a},useId:function(){var t=sn(),n=et.identifierPrefix;if(Le){var a=Ti,l=Ei;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=RE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Of,useFormState:Tp,useActionState:Tp,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vf.bind(null,Ae,!0,a),a.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return sn().memoizedState=VE.bind(null,Ae)},useEffectEvent:function(t){var n=sn(),a={impl:t};return n.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Mf={readContext:Ht,use:Gu,useCallback:Vp,useContext:Ht,useEffect:Nf,useImperativeHandle:Op,useInsertionEffect:Cp,useLayoutEffect:Ip,useMemo:Mp,useReducer:$u,useRef:xp,useState:function(){return $u(Fi)},useDebugValue:Cf,useDeferredValue:function(t,n){var a=_t();return kp(a,Je.memoizedState,t,n)},useTransition:function(){var t=$u(Fi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Kl(t),n]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:Of,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var a=_t();return pp(a,Je,t,n)},useMemoCache:wf,useCacheRefresh:zp};Mf.useEffectEvent=Np;var Gp={readContext:Ht,use:Gu,useCallback:Vp,useContext:Ht,useEffect:Nf,useImperativeHandle:Op,useInsertionEffect:Cp,useLayoutEffect:Ip,useMemo:Mp,useReducer:Sf,useRef:xp,useState:function(){return Sf(Fi)},useDebugValue:Cf,useDeferredValue:function(t,n){var a=_t();return Je===null?If(a,t,n):kp(a,Je.memoizedState,t,n)},useTransition:function(){var t=Sf(Fi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Kl(t),n]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:Of,useFormState:Sp,useActionState:Sp,useOptimistic:function(t,n){var a=_t();return Je!==null?pp(a,Je,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:zp};Gp.useEffectEvent=Np;function kf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=wn(),h=Cs(l);h.payload=n,a!=null&&(h.callback=a),n=Is(t,h,l),n!==null&&(hn(n,t,l),Fl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=wn(),h=Cs(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Is(t,h,l),n!==null&&(hn(n,t,l),Fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=wn(),l=Cs(a);l.tag=2,n!=null&&(l.callback=n),n=Is(t,l,a),n!==null&&(hn(n,t,a),Fl(n,t,a))}};function $p(t,n,a,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!jl(a,l)||!jl(h,f):!0}function Qp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&jf.enqueueReplaceState(n,n.state,null)}function Ur(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Kp(t){Ru(t)}function Yp(t){console.error(t)}function Xp(t){Ru(t)}function Xu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(t,n,a){return a=Cs(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(t,n)},a}function Zp(t){return t=Cs(t),t.tag=3,t}function Wp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Jp(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Jp(n,a,l),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function kE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ea(n,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?oc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Lu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),od(t,l,h)),!1;case 22:return a.flags|=65536,l===Lu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),od(t,l,h)),!1}throw Error(r(435,a.tag))}return od(t,l,h),oc(),!1}if(Le)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==tf&&(t=Error(r(422),{cause:l}),Pl(Dn(t,a)))):(l!==tf&&(n=Error(r(423),{cause:l}),Pl(Dn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=Lf(t.stateNode,l,h),df(t,h),dt!==4&&(dt=2)),!1;var f=Error(r(520),{cause:l});if(f=Dn(f,a),so===null?so=[f]:so.push(f),dt!==4&&(dt=2),n===null)return!0;l=Dn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Lf(a.stateNode,l,t),df(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zp(h),Wp(h,t,a,l),df(a,h),!1}a=a.return}while(a!==null);return!1}var Uf=Error(r(461)),Nt=!1;function Ft(t,n,a,l){n.child=t===null?ip(n,null,a,l):jr(n,t.child,a,l)}function ey(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Or(n),l=vf(t,n,a,p,f,h),E=bf(),t!==null&&!Nt?(Ef(t,n,h),Gi(t,n,h)):(Le&&E&&Wh(n),n.flags|=1,Ft(t,n,l,h),n.child)}function ty(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ny(t,n,f,l,h)):(t=Du(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!$f(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:jl,a(p,l)&&t.ref===n.ref)return Gi(t,n,h)}return n.flags|=1,t=Pi(f,l),t.ref=n.ref,t.return=n,n.child=t}function ny(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(jl(f,l)&&t.ref===n.ref)if(Nt=!1,n.pendingProps=l=f,$f(t,h))(t.flags&131072)!==0&&(Nt=!0);else return n.lanes=t.lanes,Gi(t,n,h)}return Pf(t,n,a,l,h)}function iy(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return sy(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(n,f!==null?f.cachePool:null),f!==null?ap(n,f):gf(),lp(n);else return l=n.lanes=536870912,sy(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(ku(n,f.cachePool),ap(n,f),Os(),n.memoizedState=null):(t!==null&&ku(n,null),gf(),Os());return Ft(t,n,h,a),n.child}function Jl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(t,n,a,l,h){var f=uf();return f=f===null?null:{parent:xt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&ku(n,null),gf(),lp(n),t!==null&&Ea(t,n,l,!0),n.childLanes=h,null}function Ju(t,n){return n=Wu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ry(t,n,a){return jr(n,t.child,null,a),t=Ju(n,n.pendingProps),t.flags|=2,bn(n),n.memoizedState=null,t}function jE(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Ju(n,l),n.lanes=536870912,Jl(null,t);if(yf(n),(t=at)?(t=y0(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:As!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=n,n.child=a,qt=n,at=null)):t=null,t===null)throw xs(n);return n.lanes=536870912,null}return Ju(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=ry(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Nt||Ea(t,n,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(l=et,l!==null&&(p=_l(l,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Nr(t,p),hn(l,t,p),Uf;oc(),n=ry(t,n,a)}else t=f.treeContext,at=jn(p.nextSibling),qt=n,Le=!0,Ss=null,Mn=!1,t!==null&&Gg(n,t),n=Ju(n,l),n.flags|=4096;return n}return t=Pi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Pf(t,n,a,l,h){return Or(n),a=vf(t,n,a,l,void 0,h),l=bf(),t!==null&&!Nt?(Ef(t,n,h),Gi(t,n,h)):(Le&&l&&Wh(n),n.flags|=1,Ft(t,n,a,h),n.child)}function ay(t,n,a,l,h,f){return Or(n),n.updateQueue=null,a=up(n,l,a,h),op(t),l=bf(),t!==null&&!Nt?(Ef(t,n,f),Gi(t,n,f)):(Le&&l&&Wh(n),n.flags|=1,Ft(t,n,a,f),n.child)}function ly(t,n,a,l,h){if(Or(n),n.stateNode===null){var f=ya,p=a.contextType;typeof p=="object"&&p!==null&&(f=Ht(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Ht(p):ya,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(kf(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&jf.enqueueReplaceState(f,f.state,null),$l(n,l,f,h),Gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=Ur(a,E);f.props=R;var P=f.context,F=a.contextType;p=ya,typeof F=="object"&&F!==null&&(p=Ht(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Qp(n,f,l,p),Ns=!1;var z=n.memoizedState;f.state=z,$l(n,l,f,h),Gl(),P=n.memoizedState,E||z!==P||Ns?(typeof K=="function"&&(kf(n,a,K,l),P=n.memoizedState),(R=Ns||$p(n,a,R,l,z,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ff(t,n),p=n.memoizedProps,F=Ur(a,p),f.props=F,K=n.pendingProps,z=f.context,P=a.contextType,R=ya,typeof P=="object"&&P!==null&&(R=Ht(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||z!==R)&&Qp(n,f,l,R),Ns=!1,z=n.memoizedState,f.state=z,$l(n,l,f,h),Gl();var q=n.memoizedState;p!==K||z!==q||Ns||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(kf(n,a,E,l),q=n.memoizedState),(F=Ns||$p(n,a,F,l,z,q,R)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=jr(n,t.child,null,h),n.child=jr(n,null,a,h)):Ft(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Gi(t,n,h),t}function oy(t,n,a,l){return Ir(),n.flags|=256,Ft(t,n,a,l),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:Jg()}}function qf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Tn),t}function uy(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(h?Ds(n):Os(),(t=at)?(t=y0(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:As!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=n,n.child=a,qt=n,at=null)):t=null,t===null)throw xs(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Os(),h=n.mode,E=Wu({mode:"hidden",children:E},h),l=Cr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Bf(a),l.childLanes=qf(t,p,a),n.memoizedState=zf,Jl(null,l)):(Ds(n),Hf(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ds(n),n.flags&=-257,n=Ff(t,n,a)):n.memoizedState!==null?(Os(),n.child=t.child,n.flags|=128,n=null):(Os(),E=l.fallback,h=n.mode,l=Wu({mode:"visible",children:l.children},h),E=Cr(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,jr(n,t.child,null,a),l=n.child,l.memoizedState=Bf(a),l.childLanes=qf(t,p,a),n.memoizedState=zf,n=Jl(null,l));else if(Ds(n),Ad(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(r(419)),l.stack="",l.digest=p,Pl({value:l,source:null,stack:null}),n=Ff(t,n,a)}else if(Nt||Ea(t,n,a,!1),p=(a&t.childLanes)!==0,Nt||p){if(p=et,p!==null&&(l=_l(p,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Nr(t,l),hn(p,t,l),Uf;wd(E)||oc(),n=Ff(t,n,a)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,at=jn(E.nextSibling),qt=n,Le=!0,Ss=null,Mn=!1,t!==null&&Gg(n,t),n=Hf(n,l.children),n.flags|=4096);return n}return h?(Os(),E=l.fallback,h=n.mode,R=t.child,P=R.sibling,l=Pi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Pi(P,E):(E=Cr(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Jl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Bf(a):(h=E.cachePool,h!==null?(R=xt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Jg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=qf(t,p,a),n.memoizedState=zf,Jl(t.child,l)):(Ds(n),a=t.child,t=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Hf(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=_n(22,t,null,n),t.lanes=0,t}function Ff(t,n,a){return jr(n,t.child,null,a),t=Hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cy(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),rf(t.return,n,a)}function Gf(t,n,a,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function hy(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=yt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,W(yt,p),Ft(t,n,l,a),l=Le?Ul:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,a,n);else if(t.tag===19)cy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Bu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Gf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Gf(n,!0,a,null,f,l);break;case"together":Gf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Gi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ks|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ea(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Pi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Pi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function $f(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function LE(t,n,a){switch(n.tag){case 3:He(n,n.stateNode.containerInfo),Rs(n,xt,t.memoizedState.cache),Ir();break;case 27:case 5:Mi(n);break;case 4:He(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ds(n),n.flags|=128,null):(a&n.child.childLanes)!==0?uy(t,n,a):(Ds(n),t=Gi(t,n,a),t!==null?t.sibling:null);Ds(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ea(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return hy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(yt,yt.current),l)break;return null;case 22:return n.lanes=0,iy(t,n,a,n.pendingProps);case 24:Rs(n,xt,t.memoizedState.cache)}return Gi(t,n,a)}function fy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Nt=!0;else{if(!$f(t,a)&&(n.flags&128)===0)return Nt=!1,LE(t,n,a);Nt=(t.flags&131072)!==0}else Nt=!1,Le&&(n.flags&1048576)!==0&&Fg(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Mr(n.elementType),n.type=t,typeof t=="function")Xh(t)?(l=Ur(t,l),n.tag=1,n=ly(null,n,t,l,a)):(n.tag=0,n=Pf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===xe){n.tag=11,n=ey(null,n,t,l,a);break e}else if(h===C){n.tag=14,n=ty(null,n,t,l,a);break e}}throw n=tt(t)||t,Error(r(306,n,""))}}return n;case 0:return Pf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ur(l,n.pendingProps),ly(t,n,l,h,a);case 3:e:{if(He(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,ff(t,n),$l(n,l,null,a);var p=n.memoizedState;if(l=p.cache,Rs(n,xt,l),l!==f.cache&&af(n,[xt],a,!0),Gl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=oy(t,n,l,a);break e}else if(l!==h){h=Dn(Error(r(424)),n),Pl(h),n=oy(t,n,l,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=jn(t.firstChild),qt=n,Le=!0,Ss=null,Mn=!0,a=ip(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ir(),l===h){n=Gi(t,n,a);break e}Ft(t,n,l,a)}n=n.child}return n;case 26:return Zu(t,n),t===null?(a=w0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Le||(a=n.type,t=n.pendingProps,l=gc(J.current).createElement(a),l[wt]=n,l[jt]=t,Gt(l,a,t),At(l),n.stateNode=l):n.memoizedState=w0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Mi(n),t===null&&Le&&(l=n.stateNode=b0(n.type,n.pendingProps,J.current),qt=n,Mn=!0,h=at,zs(n.type)?(Sd=h,at=jn(l.firstChild)):at=h),Ft(t,n,n.pendingProps.children,a),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((h=l=at)&&(l=dT(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,qt=n,at=jn(l.firstChild),Mn=!1,h=!0):h=!1),h||xs(n)),Mi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,bd(h,f)?l=null:p!==null&&bd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(t,n,NE,null,null,a),fo._currentValue=h),Zu(t,n),Ft(t,n,l,a),n.child;case 6:return t===null&&Le&&((t=a=at)&&(a=mT(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,qt=n,at=null,t=!0):t=!1),t||xs(n)),null;case 13:return uy(t,n,a);case 4:return He(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=jr(n,null,l,a):Ft(t,n,l,a),n.child;case 11:return ey(t,n,n.type,n.pendingProps,a);case 7:return Ft(t,n,n.pendingProps,a),n.child;case 8:return Ft(t,n,n.pendingProps.children,a),n.child;case 12:return Ft(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Rs(n,n.type,l.value),Ft(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Or(n),h=Ht(h),l=l(h),n.flags|=1,Ft(t,n,l,a),n.child;case 14:return ty(t,n,n.type,n.pendingProps,a);case 15:return ny(t,n,n.type,n.pendingProps,a);case 19:return hy(t,n,a);case 31:return jE(t,n,a);case 22:return iy(t,n,a,n.pendingProps);case 24:return Or(n),l=Ht(xt),t===null?(h=uf(),h===null&&(h=et,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},hf(n),Rs(n,xt,h)):((t.lanes&a)!==0&&(ff(t,n),$l(n,null,null,a),Gl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,xt,l)):(l=f.cache,Rs(n,xt,l),l!==h.cache&&af(n,[xt],a,!0))),Ft(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function $i(t){t.flags|=4}function Qf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Py())t.flags|=8192;else throw kr=Lu,cf}else t.flags&=-16777217}function dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!N0(n))if(Py())t.flags|=8192;else throw kr=Lu,cf}function ec(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?au():536870912,t.lanes|=n,Va|=n)}function Zl(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function UE(t,n,a){var l=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return lt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),qi(xt),nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ba(n)?$i(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),lt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?($i(n),f!==null?(lt(n),dy(n,f)):(lt(n),Qf(n,h,null,l,a))):f?f!==t.memoizedState?($i(n),lt(n),dy(n,f)):(lt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&$i(n),lt(n),Qf(n,h,t,l,a)),null;case 27:if(cs(n),a=J.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return lt(n),null}t=re.current,ba(n)?$g(n):(t=b0(h,l,a),n.stateNode=t,$i(n))}return lt(n),null;case 5:if(cs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return lt(n),null}if(f=re.current,ba(n))$g(n);else{var p=gc(J.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[wt]=n,f[jt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Gt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$i(n)}}return lt(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=J.current,ba(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||u0(t.nodeValue,a)),t||xs(n,!0)}else t=gc(t).createTextNode(l),t[wt]=n,n.stateNode=t}return lt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ba(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[wt]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),t=!1}else a=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return lt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ba(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[wt]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),h=!1}else h=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ec(n,n.updateQueue),lt(n),null);case 4:return nt(),t===null&&gd(n.stateNode.containerInfo),lt(n),null;case 10:return qi(n.type),lt(n),null;case 19:if(G(yt),l=n.memoizedState,l===null)return lt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Zl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bu(t),f!==null){for(n.flags|=128,Zl(l,!1),t=f.updateQueue,n.updateQueue=t,ec(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Bg(a,t),a=a.sibling;return W(yt,yt.current&1|2),Le&&zi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>rc&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ec(n,t),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Le)return lt(n),null}else 2*tn()-l.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=yt.current,W(yt,h?a&1|2:a&1),Le&&zi(n,l.treeForkCount),t):(lt(n),null);case 22:case 23:return bn(n),pf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),a=n.updateQueue,a!==null&&ec(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&G(Vr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),qi(xt),lt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function PE(t,n){switch(ef(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return qi(xt),nt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return cs(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(r(340));Ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(yt),null;case 4:return nt(),null;case 10:return qi(n.type),null;case 22:case 23:return bn(n),pf(),t!==null&&G(Vr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return qi(xt),null;case 25:return null;default:return null}}function my(t,n){switch(ef(n),n.tag){case 3:qi(xt),nt();break;case 26:case 27:case 5:cs(n);break;case 4:nt();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:G(yt);break;case 10:qi(n.type);break;case 22:case 23:bn(n),pf(),t!==null&&G(Vr);break;case 24:qi(xt)}}function Wl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==h)}}catch(E){Ye(n,n.return,E)}}function Vs(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=a,P=E;try{P()}catch(F){Ye(h,R,F)}}}l=l.next}while(l!==f)}}catch(F){Ye(n,n.return,F)}}function gy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{rp(n,a)}catch(l){Ye(t,t.return,l)}}}function py(t,n,a){a.props=Ur(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,n,l)}}function eo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,n,h)}}function wi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,n,h)}else a.current=null}function yy(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function Kf(t,n,a){try{var l=t.stateNode;lT(l,t.type,a,n),l[jt]=n}catch(h){Ye(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zs(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&zs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Xf(t,n,a),t=t.sibling;t!==null;)Xf(t,n,a),t=t.sibling}function tc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(tc(t,n,a),t=t.sibling;t!==null;)tc(t,n,a),t=t.sibling}function vy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,l,a),n[wt]=t,n[jt]=a}catch(f){Ye(t,t.return,f)}}var Qi=!1,Ct=!1,Jf=!1,by=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function zE(t,n){if(t=t.containerInfo,_d=Tc,t=Og(t),Hh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,E=-1,R=-1,P=0,F=0,K=t,z=null;t:for(;;){for(var q;K!==a||h!==0&&K.nodeType!==3||(E=p+h),K!==f||l!==0&&K.nodeType!==3||(R=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===t)break t;if(z===a&&++P===h&&(E=p),z===f&&++F===l&&(R=p),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(vd={focusedElem:t,selectionRange:a},Tc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var oe=Ur(a.type,h);t=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Td(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Td(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function Ey(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&Wl(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){Ye(a,a.return,p)}else{var h=Ur(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Ye(a,a.return,p)}}l&64&&gy(a),l&512&&eo(a,a.return);break;case 3:if(Yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{rp(t,n)}catch(p){Ye(a,a.return,p)}}break;case 27:n===null&&l&4&&vy(a);case 26:case 5:Yi(t,a),n===null&&l&4&&yy(a),l&512&&eo(a,a.return);break;case 12:Yi(t,a);break;case 31:Yi(t,a),l&4&&Ay(t,a);break;case 13:Yi(t,a),l&4&&Sy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=YE.bind(null,a),gT(t,a))));break;case 22:if(l=a.memoizedState!==null||Qi,!l){n=n!==null&&n.memoizedState!==null||Ct,h=Qi;var f=Ct;Qi=l,(Ct=n)&&!f?Xi(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Qi=h,Ct=f}break;case 30:break;default:Yi(t,a)}}function Ty(t){var n=t.alternate;n!==null&&(t.alternate=null,Ty(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ia(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,ln=!1;function Ki(t,n,a){for(a=a.child;a!==null;)wy(t,n,a),a=a.sibling}function wy(t,n,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Ct||wi(a,n),Ki(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||wi(a,n);var l=ct,h=ln;zs(a.type)&&(ct=a.stateNode,ln=!1),Ki(t,n,a),uo(a.stateNode),ct=l,ln=h;break;case 5:Ct||wi(a,n);case 6:if(l=ct,h=ln,ct=null,Ki(t,n,a),ct=l,ln=h,ct!==null)if(ln)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(f){Ye(a,n,f)}else try{ct.removeChild(a.stateNode)}catch(f){Ye(a,n,f)}break;case 18:ct!==null&&(ln?(t=ct,g0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ba(t)):g0(ct,a.stateNode));break;case 4:l=ct,h=ln,ct=a.stateNode.containerInfo,ln=!0,Ki(t,n,a),ct=l,ln=h;break;case 0:case 11:case 14:case 15:Vs(2,a,n),Ct||Vs(4,a,n),Ki(t,n,a);break;case 1:Ct||(wi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&py(a,n,l)),Ki(t,n,a);break;case 21:Ki(t,n,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Ki(t,n,a),Ct=l;break;default:Ki(t,n,a)}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ba(t)}catch(a){Ye(n,n.return,a)}}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ba(t)}catch(a){Ye(n,n.return,a)}}function BE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new by),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new by),n;default:throw Error(r(435,t.tag))}}function nc(t,n){var a=BE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=XE.bind(null,t,l);l.then(h,h)}})}function on(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(zs(E.type)){ct=E.stateNode,ln=!1;break e}break;case 5:ct=E.stateNode,ln=!1;break e;case 3:case 4:ct=E.stateNode.containerInfo,ln=!0;break e}E=E.return}if(ct===null)throw Error(r(160));wy(f,p,h),ct=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,t),n=n.sibling}var Xn=null;function xy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Vs(3,t,t.return),Wl(3,t),Vs(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(Ct||a===null||wi(a,a.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(on(n,t),un(t),l&512&&(Ct||a===null||wi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,l,a),f[wt]=t,At(f),l=f;break e;case"link":var p=x0("link","href",h).get(l+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),Gt(f,l,a),h.head.appendChild(f);break;case"meta":if(p=x0("meta","content",h).get(l+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break t}}f=h.createElement(l),Gt(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[wt]=t,At(f),l=f}t.stateNode=l}else R0(h,t.type,t.stateNode);else t.stateNode=S0(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?R0(h,t.type,t.stateNode):S0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kf(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(Ct||a===null||wi(a,a.return)),a!==null&&l&4&&Kf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(Ct||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(oe){Ye(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Kf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Jf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(oe){Ye(t,t.return,oe)}}break;case 3:if(_c=null,h=Xn,Xn=pc(n.containerInfo),on(n,t),Xn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(oe){Ye(t,t.return,oe)}Jf&&(Jf=!1,Ry(t));break;case 4:l=Xn,Xn=pc(t.stateNode.containerInfo),on(n,t),un(t),Xn=l;break;case 12:on(n,t),un(t);break;case 31:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=Qi,F=Ct;if(Qi=P||h,Ct=F||R,on(n,t),Ct=F,Qi=P,un(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Qi||Ct||Pr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){Ye(R,R.return,oe)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(oe){Ye(R,R.return,oe)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?p0(q,!0):p0(R.stateNode,!1)}catch(oe){Ye(R,R.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nc(t,a))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(_y(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Yf(t);tc(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(an(p,""),a.flags&=-33);var E=Yf(t);tc(t,E,p);break;case 3:case 4:var R=a.stateNode.containerInfo,P=Yf(t);Xf(t,P,R);break;default:throw Error(r(161))}}catch(F){Ye(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ry(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function Pr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Vs(4,n,n.return),Pr(n);break;case 1:wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&py(n,n.return,a),Pr(n);break;case 27:uo(n.stateNode);case 26:case 5:wi(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}t=t.sibling}}function Xi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,a),Wl(4,f);break;case 1:if(Xi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ye(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)sp(R[h],E)}catch(P){Ye(l,l.return,P)}}a&&p&64&&gy(f),eo(f,f.return);break;case 27:vy(f);case 26:case 5:Xi(h,f,a),a&&l===null&&p&4&&yy(f),eo(f,f.return);break;case 12:Xi(h,f,a);break;case 31:Xi(h,f,a),a&&p&4&&Ay(h,f);break;case 13:Xi(h,f,a),a&&p&4&&Sy(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,a),eo(f,f.return);break;case 30:break;default:Xi(h,f,a)}n=n.sibling}}function Zf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&zl(a))}function Wf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zl(t))}function Jn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ny(t,n,a,l),n=n.sibling}function Ny(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,a,l),h&2048&&Wl(9,n);break;case 1:Jn(t,n,a,l);break;case 3:Jn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zl(t)));break;case 12:if(h&2048){Jn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ye(n,n.return,R)}}else Jn(t,n,a,l);break;case 31:Jn(t,n,a,l);break;case 13:Jn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,a,l):to(t,n):f._visibility&2?Jn(t,n,a,l):(f._visibility|=2,Ia(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(p,n);break;case 24:Jn(t,n,a,l),h&2048&&Wf(n.alternate,n);break;default:Jn(t,n,a,l)}}function Ia(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=a,R=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ia(f,p,E,R,h),Wl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Ia(f,p,E,R,h):to(f,p):(F._visibility|=2,Ia(f,p,E,R,h)),h&&P&2048&&Zf(p.alternate,p);break;case 24:Ia(f,p,E,R,h),h&&P&2048&&Wf(p.alternate,p);break;default:Ia(f,p,E,R,h)}n=n.sibling}}function to(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:to(a,l),h&2048&&Zf(l.alternate,l);break;case 24:to(a,l),h&2048&&Wf(l.alternate,l);break;default:to(a,l)}n=n.sibling}}var no=8192;function Da(t,n,a){if(t.subtreeFlags&no)for(t=t.child;t!==null;)Cy(t,n,a),t=t.sibling}function Cy(t,n,a){switch(t.tag){case 26:Da(t,n,a),t.flags&no&&t.memoizedState!==null&&RT(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:Da(t,n,a);break;case 3:case 4:var l=Xn;Xn=pc(t.stateNode.containerInfo),Da(t,n,a),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=no,no=16777216,Da(t,n,a),no=l):Da(t,n,a));break;default:Da(t,n,a)}}function Iy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function io(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ut=l,Oy(l,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:io(t),t.flags&2048&&Vs(9,t,t.return);break;case 3:io(t);break;case 12:io(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ic(t)):io(t);break;default:io(t)}}function ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ut=l,Oy(l,t)}Iy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Vs(8,n,n.return),ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ic(n));break;default:ic(n)}t=t.sibling}}function Oy(t,n){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Vs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,f=l.return;if(Ty(l),l===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var qE={getCacheForType:function(t){var n=Ht(xt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ht(xt).controller.signal}},HE=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Re=null,Ie=0,Ke=0,En=null,Ms=!1,Oa=!1,ed=!1,Ji=0,dt=0,ks=0,zr=0,td=0,Tn=0,Va=0,so=null,cn=null,nd=!1,sc=0,Vy=0,rc=1/0,ac=null,js=null,Mt=0,Ls=null,Ma=null,Zi=0,id=0,sd=null,My=null,ro=0,rd=null;function wn(){return(Ge&2)!==0&&Ie!==0?Ie&-Ie:H.T!==null?hd():lu()}function ky(){if(Tn===0)if((Ie&536870912)===0||Le){var t=dr;dr<<=1,(dr&3932160)===0&&(dr=262144),Tn=t}else Tn=536870912;return t=vn.current,t!==null&&(t.flags|=32),Tn}function hn(t,n,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(ka(t,0),Us(t,Ie,Tn,!1)),mr(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(zr|=a),dt===4&&Us(t,Ie,Tn,!1)),Ai(t))}function jy(t,n,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=l?$E(t,n):ld(t,n,!0),f=l;do{if(h===0){Oa&&!l&&Us(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!FE(a)){h=ld(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=so;var R=E.current.memoizedState.isDehydrated;if(R&&(ka(E,p).flags|=256),p=ld(E,p,!1),p!==2){if(ed&&!R){E.errorRecoveryDisabledLanes|=f,zr|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ka(t,0),Us(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Us(l,n,Tn,!Ms);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=sc+300-tn(),10<h)){if(Us(l,n,Tn,!Ms),ai(l,0,!0)!==0)break e;Zi=n,l.timeoutHandle=d0(Ly.bind(null,l,a,cn,ac,nd,n,Tn,zr,Va,Ms,f,"Throttled",-0,0),h);break e}Ly(l,a,cn,ac,nd,n,Tn,zr,Va,Ms,f,null,-0,0)}}break}while(!0);Ai(t)}function Ly(t,n,a,l,h,f,p,E,R,P,F,K,z,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Cy(n,f,K);var oe=(f&62914560)===f?sc-tn():(f&4194048)===f?Vy-tn():0;if(oe=NT(K,oe),oe!==null){Zi=f,t.cancelPendingCommit=oe(Gy.bind(null,t,n,f,a,l,h,p,E,R,F,K,null,z,q)),Us(t,f,p,!P);return}}Gy(t,n,f,a,l,h,p,E,R)}function FE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Us(t,n,a,l){n&=~td,n&=~zr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-gt(h),p=1<<f;l[f]=-1,h&=~p}a!==0&&gr(t,a,n)}function lc(){return(Ge&6)===0?(ao(0),!1):!0}function ad(){if(Re!==null){if(Ke===0)var t=Re.return;else t=Re,Bi=Dr=null,Tf(t),Sa=null,ql=0,t=Re;for(;t!==null;)my(t.alternate,t),t=t.return;Re=null}}function ka(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,cT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,ad(),et=t,Re=a=Pi(t.current,null),Ie=n,Ke=0,En=null,Ms=!1,Oa=Bn(t,n),ed=!1,Va=Tn=td=zr=ks=dt=0,cn=so=null,nd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-gt(l),f=1<<h;n|=t[h],l&=~f}return Ji=n,Nu(),a}function Uy(t,n){Ae=null,H.H=Xl,n===Aa||n===ju?(n=ep(),Ke=3):n===cf?(n=ep(),Ke=4):Ke=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Re===null&&(dt=1,Xu(t,Dn(n,t.current)))}function Py(){var t=vn.current;return t===null?!0:(Ie&4194048)===Ie?kn===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?t===kn:!1}function zy(){var t=H.H;return H.H=Xl,t===null?Xl:t}function By(){var t=H.A;return H.A=qE,t}function oc(){dt=4,Ms||(Ie&4194048)!==Ie&&vn.current!==null||(Oa=!0),(ks&134217727)===0&&(zr&134217727)===0||et===null||Us(et,Ie,Tn,!1)}function ld(t,n,a){var l=Ge;Ge|=2;var h=zy(),f=By();(et!==t||Ie!==n)&&(ac=null,ka(t,n)),n=!1;var p=dt;e:do try{if(Ke!==0&&Re!==null){var E=Re,R=En;switch(Ke){case 8:ad(),p=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var P=Ke;if(Ke=0,En=null,ja(t,E,R,P),a&&Oa){p=0;break e}break;default:P=Ke,Ke=0,En=null,ja(t,E,R,P)}}GE(),p=dt;break}catch(F){Uy(t,F)}while(!0);return n&&t.shellSuspendCounter++,Bi=Dr=null,Ge=l,H.H=h,H.A=f,Re===null&&(et=null,Ie=0,Nu()),p}function GE(){for(;Re!==null;)qy(Re)}function $E(t,n){var a=Ge;Ge|=2;var l=zy(),h=By();et!==t||Ie!==n?(ac=null,rc=tn()+500,ka(t,n)):Oa=Bn(t,n);e:do try{if(Ke!==0&&Re!==null){n=Re;var f=En;t:switch(Ke){case 1:Ke=0,En=null,ja(t,n,f,1);break;case 2:case 9:if(Zg(f)){Ke=0,En=null,Hy(n);break}n=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),Ai(t)},f.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Zg(f)?(Ke=0,En=null,Hy(n)):(Ke=0,En=null,ja(t,n,f,7));break;case 5:var p=null;switch(Re.tag){case 26:p=Re.memoizedState;case 5:case 27:var E=Re;if(p?N0(p):E.stateNode.complete){Ke=0,En=null;var R=E.sibling;if(R!==null)Re=R;else{var P=E.return;P!==null?(Re=P,uc(P)):Re=null}break t}}Ke=0,En=null,ja(t,n,f,5);break;case 6:Ke=0,En=null,ja(t,n,f,6);break;case 8:ad(),dt=6;break e;default:throw Error(r(462))}}QE();break}catch(F){Uy(t,F)}while(!0);return Bi=Dr=null,H.H=l,H.A=h,Ge=a,Re!==null?0:(et=null,Ie=0,Nu(),dt)}function QE(){for(;Re!==null&&!jh();)qy(Re)}function qy(t){var n=fy(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?uc(t):Re=n}function Hy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ay(a,n,n.pendingProps,n.type,void 0,Ie);break;case 11:n=ay(a,n,n.pendingProps,n.type.render,n.ref,Ie);break;case 5:Tf(n);default:my(a,n),n=Re=Bg(n,Ji),n=fy(a,n,Ji)}t.memoizedProps=t.pendingProps,n===null?uc(t):Re=n}function ja(t,n,a,l){Bi=Dr=null,Tf(n),Sa=null,ql=0;var h=n.return;try{if(kE(t,h,n,a,Ie)){dt=1,Xu(t,Dn(a,t.current)),Re=null;return}}catch(f){if(h!==null)throw Re=h,f;dt=1,Xu(t,Dn(a,t.current)),Re=null;return}n.flags&32768?(Le||l===1?t=!0:Oa||(Ie&536870912)!==0?t=!1:(Ms=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fy(n,t)):uc(n)}function uc(t){var n=t;do{if((n.flags&32768)!==0){Fy(n,Ms);return}t=n.return;var a=UE(n.alternate,n,Ji);if(a!==null){Re=a;return}if(n=n.sibling,n!==null){Re=n;return}Re=n=t}while(n!==null);dt===0&&(dt=5)}function Fy(t,n){do{var a=PE(t.alternate,t);if(a!==null){a.flags&=32767,Re=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Re=t;return}Re=t=a}while(t!==null);dt=6,Re=null}function Gy(t,n,a,l,h,f,p,E,R){t.cancelPendingCommit=null;do cc();while(Mt!==0);if((Ge&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Kh,Ph(t,a,f,p,E,R),t===et&&(Re=et=null,Ie=0),Ma=n,Ls=t,Zi=a,id=f,sd=h,My=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,JE(ms,function(){return Xy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=ne.p,ne.p=2,p=Ge,Ge|=4;try{zE(t,n,a)}finally{Ge=p,ne.p=h,H.T=l}}Mt=1,$y(),Qy(),Ky()}}function $y(){if(Mt===1){Mt=0;var t=Ls,n=Ma,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=ne.p;ne.p=2;var h=Ge;Ge|=4;try{xy(n,t);var f=vd,p=Og(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Dg(E.ownerDocument.documentElement,E)){if(R!==null&&Hh(E)){var P=R.start,F=R.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),oe=E.textContent.length,ge=Math.min(R.start,oe),We=R.end===void 0?ge:Math.min(R.end,oe);!q.extend&&ge>We&&(p=We,We=ge,ge=p);var k=Ig(E,ge),O=Ig(E,We);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var U=K.createRange();U.setStart(k.node,k.offset),q.removeAllRanges(),ge>We?(q.addRange(U),q.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),q.addRange(U))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var $=K[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Tc=!!_d,vd=_d=null}finally{Ge=h,ne.p=l,H.T=a}}t.current=n,Mt=2}}function Qy(){if(Mt===2){Mt=0;var t=Ls,n=Ma,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=ne.p;ne.p=2;var h=Ge;Ge|=4;try{Ey(t,n.alternate,n)}finally{Ge=h,ne.p=l,H.T=a}}Mt=3}}function Ky(){if(Mt===4||Mt===3){Mt=0,eu();var t=Ls,n=Ma,a=Zi,l=My;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Ma=Ls=null,Yy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(js=null),ki(a),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=ne.p,ne.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,ne.p=h}}(Zi&3)!==0&&cc(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===rd?ro++:(ro=0,rd=t):ro=0,ao(0)}}function Yy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,zl(n)))}function cc(){return $y(),Qy(),Ky(),Xy()}function Xy(){if(Mt!==5)return!1;var t=Ls,n=id;id=0;var a=ki(Zi),l=H.T,h=ne.p;try{ne.p=32>a?32:a,H.T=null,a=sd,sd=null;var f=Ls,p=Zi;if(Mt=0,Ma=Ls=null,Zi=0,(Ge&6)!==0)throw Error(r(331));var E=Ge;if(Ge|=4,Dy(f.current),Ny(f,f.current,p,a),Ge=E,ao(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{ne.p=h,H.T=l,Yy(t,n)}}function Jy(t,n,a){n=Dn(a,n),n=Lf(t.stateNode,n,2),t=Is(t,n,2),t!==null&&(mr(t,2),Ai(t))}function Ye(t,n,a){if(t.tag===3)Jy(t,t,a);else for(;n!==null;){if(n.tag===3){Jy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(js===null||!js.has(l))){t=Dn(a,t),a=Zp(2),l=Is(n,a,2),l!==null&&(Wp(a,l,n,t),mr(l,2),Ai(l));break}}n=n.return}}function od(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new HE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(ed=!0,h.add(a),t=KE.bind(null,t,n,a),n.then(t,t))}function KE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ie&a)===a&&(dt===4||dt===3&&(Ie&62914560)===Ie&&300>tn()-sc?(Ge&2)===0&&ka(t,0):td|=a,Va===Ie&&(Va=0)),Ai(t)}function Zy(t,n){n===0&&(n=au()),t=Nr(t,n),t!==null&&(mr(t,n),Ai(t))}function YE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Zy(t,a)}function XE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Zy(t,a)}function JE(t,n){return Vt(t,n)}var hc=null,La=null,ud=!1,fc=!1,cd=!1,Ps=0;function Ai(t){t!==La&&t.next===null&&(La===null?hc=La=t:La=La.next=t),fc=!0,ud||(ud=!0,WE())}function ao(t,n){if(!cd&&fc){cd=!0;do for(var a=!1,l=hc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-gt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,n0(l,f))}else f=Ie,f=ai(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bn(l,f)||(a=!0,n0(l,f));l=l.next}while(a);cd=!1}}function ZE(){Wy()}function Wy(){fc=ud=!1;var t=0;Ps!==0&&uT()&&(t=Ps);for(var n=tn(),a=null,l=hc;l!==null;){var h=l.next,f=e0(l,n);f===0?(l.next=null,a===null?hc=h:a.next=h,h===null&&(La=a)):(a=l,(t!==0||(f&3)!==0)&&(fc=!0)),l=h}Mt!==0&&Mt!==5||ao(t),Ps!==0&&(Ps=0)}function e0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-gt(f),E=1<<p,R=h[p];R===-1?((E&a)===0||(E&l)!==0)&&(h[p]=Uh(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=et,a=Ie,a=ai(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ds(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ds(l),ki(a)){case 2:case 8:a=pl;break;case 32:a=ms;break;case 268435456:a=tu;break;default:a=ms}return l=t0.bind(null,t),a=Vt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ds(l),t.callbackPriority=2,t.callbackNode=null,2}function t0(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(cc()&&t.callbackNode!==a)return null;var l=Ie;return l=ai(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(jy(t,l,n),e0(t,tn()),t.callbackNode!=null&&t.callbackNode===a?t0.bind(null,t):null)}function n0(t,n){if(cc())return null;jy(t,n,!0)}function WE(){hT(function(){(Ge&6)!==0?Vt(gl,ZE):Wy()})}function hd(){if(Ps===0){var t=Ta;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Ps=t}return Ps}function i0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function s0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function eT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=i0((h[jt]||null).action),p=l.submitter;p&&(n=(n=p[jt]||null)?i0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new yi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var R=p?s0(h,p):new FormData(h);Df(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?s0(h,p):new FormData(h),Df(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var fd=0;fd<Qh.length;fd++){var dd=Qh[fd],tT=dd.toLowerCase(),nT=dd[0].toUpperCase()+dd.slice(1);Yn(tT,"on"+nT)}Yn(kg,"onAnimationEnd"),Yn(jg,"onAnimationIteration"),Yn(Lg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(_E,"onTransitionRun"),Yn(vE,"onTransitionStart"),Yn(bE,"onTransitionCancel"),Yn(Ug,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function r0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(E=l[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=R}}}}function Ne(t,n){var a=n[na];a===void 0&&(a=n[na]=new Set);var l=t+"__bubble";a.has(l)||(a0(n,t,2,!1),a.add(l))}function md(t,n,a){var l=0;n&&(l|=4),a0(a,t,l,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[dc]){t[dc]=!0,vl.forEach(function(a){a!=="selectionchange"&&(iT.has(a)||md(a,!1,t),md(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[dc]||(n[dc]=!0,md("selectionchange",!1,n))}}function a0(t,n,a,l){switch(k0(n)){case 2:var h=DT;break;case 8:h=OT;break;default:h=Id}a=h.bind(null,n,a,t),h=void 0,!br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function pd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ci(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue e}E=E.parentNode}}l=l.return}bs(function(){var P=f,F=Rn(a),K=[];e:{var z=Pg.get(t);if(z!==void 0){var q=yi,oe=t;switch(t){case"keypress":if(Tr(a)===0)break e;case"keydown":case"keyup":q=Au;break;case"focusin":oe="focus",q=Ar;break;case"focusout":oe="blur",q=Ar;break;case"beforeblur":case"afterblur":q=Ar;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case kg:case jg:case Lg:q=yu;break;case Ug:q=T;break;case"scroll":case"scrollend":q=Dl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ui;break;case"toggle":case"beforetoggle":q=we}var ge=(n&4)!==0,We=!ge&&(t==="scroll"||t==="scrollend"),k=ge?z!==null?z+"Capture":null:z;ge=[];for(var O=P,U;O!==null;){var $=O;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||k===null||($=Gn(O,k),$!=null&&ge.push(oo(O,$,U))),We)break;O=O.return}0<ge.length&&(z=new q(z,oe,null,a,F),K.push({event:z,listeners:ge}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==Nl&&(oe=a.relatedTarget||a.fromElement)&&(ci(oe)||oe[oi]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(oe=a.relatedTarget||a.toElement,q=P,oe=oe?ci(oe):null,oe!==null&&(We=c(oe),ge=oe.tag,oe!==We||ge!==5&&ge!==27&&ge!==6)&&(oe=null)):(q=null,oe=P),q!==oe)){if(ge=Ol,$="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Ui,$="onPointerLeave",k="onPointerEnter",O="pointer"),We=q==null?z:gn(q),U=oe==null?z:gn(oe),z=new ge($,O+"leave",q,a,F),z.target=We,z.relatedTarget=U,$=null,ci(F)===P&&(ge=new ge(k,O+"enter",oe,a,F),ge.target=U,ge.relatedTarget=We,$=ge),We=$,q&&oe)t:{for(ge=sT,k=q,O=oe,U=0,$=k;$;$=ge($))U++;$=0;for(var fe=O;fe;fe=ge(fe))$++;for(;0<U-$;)k=ge(k),U--;for(;0<$-U;)O=ge(O),$--;for(;U--;){if(k===O||O!==null&&k===O.alternate){ge=k;break t}k=ge(k),O=ge(O)}ge=null}else ge=null;q!==null&&l0(K,z,q,ge,!1),oe!==null&&We!==null&&l0(K,We,oe,ge,!0)}}e:{if(z=P?gn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var ze=Ag;else if(Tg(z))if(Sg)ze=gE;else{ze=dE;var ce=fE}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&aa(P.elementType)&&(ze=Ag):ze=mE;if(ze&&(ze=ze(t,P))){wg(K,ze,a,F);break e}ce&&ce(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Sl(z,"number",z.value)}switch(ce=P?gn(P):window,t){case"focusin":(Tg(ce)||ce.contentEditable==="true")&&(ma=ce,Fh=P,Ll=null);break;case"focusout":Ll=Fh=ma=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Vg(K,a,F);break;case"selectionchange":if(yE)break;case"keydown":case"keyup":Vg(K,a,F)}var Se;if(Fe)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else da?Sr(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(bi&&a.locale!=="ko"&&(da||De!=="onCompositionStart"?De==="onCompositionEnd"&&da&&(Se=Il()):(pi=F,Cl="value"in pi?pi.value:pi.textContent,da=!0)),ce=mc(P,De),0<ce.length&&(De=new vi(De,t,null,a,F),K.push({event:De,listeners:ce}),Se?De.data=Se:(Se=fa(a),Se!==null&&(De.data=Se)))),(Se=Cn?oE(t,a):uE(t,a))&&(De=mc(P,"onBeforeInput"),0<De.length&&(ce=new vi("onBeforeInput","beforeinput",null,a,F),K.push({event:ce,listeners:De}),ce.data=Se)),eT(K,t,P,a,F)}r0(K,n)})}function oo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function mc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(t,a),h!=null&&l.unshift(oo(t,h,f)),h=Gn(t,n),h!=null&&l.push(oo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function sT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function l0(t,n,a,l,h){for(var f=n._reactName,p=[];a!==null&&a!==l;){var E=a,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Gn(a,f),P!=null&&p.unshift(oo(a,P,R))):h||(P=Gn(a,f),P!=null&&p.push(oo(a,P,R)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var rT=/\r\n?/g,aT=/\u0000|\uFFFD/g;function o0(t){return(typeof t=="string"?t:""+t).replace(rT,`
`).replace(aT,"")}function u0(t,n){return n=o0(n),o0(t)===n}function Ze(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Rl(t,l,f);break;case"data":if(n!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ze(t,n,"name",h.name,h,null),Ze(t,n,"formEncType",h.formEncType,h,null),Ze(t,n,"formMethod",h.formMethod,h,null),Ze(t,n,"formTarget",h.formTarget,h,null)):(Ze(t,n,"encType",h.encType,h,null),Ze(t,n,"method",h.method,h,null),Ze(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=la(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),sa(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,sa(t,a,l))}}function yd(t,n,a,l,h,f){switch(a){case"style":Rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[jt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):sa(t,a,l)}}}function Gt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ze(t,n,f,p,a,null)}}h&&Ze(t,n,"srcSet",a.srcSet,a,null),l&&Ze(t,n,"src",a.src,a,null);return;case"input":Ne("invalid",t);var E=f=p=h=null,R=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":R=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Ze(t,n,l,F,a,null)}}hu(t,f,E,R,P,p,h,!1);return;case"select":Ne("invalid",t),l=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Ze(t,n,h,E,a,null)}n=f,a=p,t.multiple=!!l,n!=null?ps(t,!!l,n,!1):a!=null&&ps(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),f=h=l=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Ze(t,n,p,E,a,null)}ys(t,l,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(t,n,R,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<lo.length;l++)Ne(lo[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ze(t,n,P,l,a,null)}return;default:if(aa(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&yd(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Ze(t,n,E,l,a,null))}function lT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,F=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(q)||Ze(t,n,q,null,l,K)}}for(var z in l){var q=l[z];if(K=a[z],l.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==K&&Ze(t,n,z,q,l,K)}}ra(t,p,E,R,P,F,f,h);return;case"select":q=p=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Ze(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=a[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Ze(t,n,h,f,l,R)}n=E,a=p,l=q,z!=null?ps(t,!!a,z,!1):!!l!=!!a&&(n!=null?ps(t,!!a,n,!0):ps(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ze(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=a[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Ze(t,n,p,h,l,f)}fu(t,z,q);return;case"option":for(var oe in a)z=a[oe],a.hasOwnProperty(oe)&&z!=null&&!l.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:Ze(t,n,oe,null,l,z));for(R in l)z=l[R],q=a[R],l.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":Ze(t,n,R,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)z=a[ge],a.hasOwnProperty(ge)&&z!=null&&!l.hasOwnProperty(ge)&&Ze(t,n,ge,null,l,z);for(P in l)if(z=l[P],q=a[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Ze(t,n,P,z,l,q)}return;default:if(aa(n)){for(var We in a)z=a[We],a.hasOwnProperty(We)&&z!==void 0&&!l.hasOwnProperty(We)&&yd(t,n,We,void 0,l,z);for(F in l)z=l[F],q=a[F],!l.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||yd(t,n,F,z,l,q);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&Ze(t,n,k,null,l,z);for(K in l)z=l[K],q=a[K],!l.hasOwnProperty(K)||z===q||z==null&&q==null||Ze(t,n,K,z,l,q)}function c0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&c0(p)){for(p=0,E=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],P=R.startTime;if(P>E)break;var F=R.transferSize,K=R.initiatorType;F&&c0(K)&&(R=R.responseEnd,p+=F*(R<E?1:(E-P)/(R-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _d=null,vd=null;function gc(t){return t.nodeType===9?t:t.ownerDocument}function h0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function uT(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var d0=typeof setTimeout=="function"?setTimeout:void 0,cT=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,hT=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(t){return m0.resolve(null).then(t).catch(fT)}:d0;function fT(t){setTimeout(function(){throw t})}function zs(t){return t==="head"}function g0(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ba(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")uo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,uo(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&uo(t.ownerDocument.body);a=h}while(a);Ba(n)}function p0(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Td(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Td(a),ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function dT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function mT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function y0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function _0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function v0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function b0(t,n,a){switch(n=gc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function uo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ia(t)}var Ln=new Map,E0=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=ne.d;ne.d={f:pT,r:yT,D:_T,C:vT,L:bT,m:ET,X:wT,S:TT,M:AT};function pT(){var t=Wi.f(),n=lc();return t||n}function yT(t){var n=xn(t);n!==null&&n.tag===5&&n.type==="form"?Up(n):Wi.r(t)}var Ua=typeof document>"u"?null:document;function T0(t,n,a){var l=Ua;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),E0.has(h)||(E0.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Gt(n,"link",t),At(n),l.head.appendChild(n)))}}function _T(t){Wi.D(t),T0("dns-prefetch",t,null)}function vT(t,n){Wi.C(t,n),T0("preconnect",t,n)}function bT(t,n,a){Wi.L(t,n,a);var l=Ua;if(l&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(n){case"style":f=Pa(t);break;case"script":f=za(t)}Ln.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ln.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(co(f))||n==="script"&&l.querySelector(ho(f))||(n=l.createElement("link"),Gt(n,"link",t),At(n),l.head.appendChild(n)))}}function ET(t,n){Wi.m(t,n);var a=Ua;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(t)}if(!Ln.has(f)&&(t=A({rel:"modulepreload",href:t},n),Ln.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ho(f)))return}l=a.createElement("link"),Gt(l,"link",t),At(l),a.head.appendChild(l)}}}function TT(t,n,a){Wi.S(t,n,a);var l=Ua;if(l&&t){var h=hi(l).hoistableStyles,f=Pa(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(co(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ln.get(f))&&xd(t,a);var R=p=l.createElement("link");At(R),Gt(R,"link",t),R._p=new Promise(function(P,F){R.onload=P,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function wT(t,n){Wi.X(t,n);var a=Ua;if(a&&t){var l=hi(a).hoistableScripts,h=za(t),f=l.get(h);f||(f=a.querySelector(ho(h)),f||(t=A({src:t,async:!0},n),(n=Ln.get(h))&&Rd(t,n),f=a.createElement("script"),At(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function AT(t,n){Wi.M(t,n);var a=Ua;if(a&&t){var l=hi(a).hoistableScripts,h=za(t),f=l.get(h);f||(f=a.querySelector(ho(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Ln.get(h))&&Rd(t,n),f=a.createElement("script"),At(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function w0(t,n,a,l){var h=(h=J.current)?pc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Pa(a.href),a=hi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Pa(a.href);var f=hi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(co(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),f||ST(h,t,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(a),a=hi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Pa(t){return'href="'+rn(t)+'"'}function co(t){return'link[rel="stylesheet"]['+t+"]"}function A0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function ST(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Gt(n,"link",a),At(n),t.head.appendChild(n))}function za(t){return'[src="'+rn(t)+'"]'}function ho(t){return"script[async]"+t}function S0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return n.instance=l,At(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Gt(l,"style",h),yc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Pa(a.href);var f=t.querySelector(co(h));if(f)return n.state.loading|=4,n.instance=f,At(f),f;l=A0(a),(h=Ln.get(h))&&xd(l,h),f=(t.ownerDocument||t).createElement("link"),At(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Gt(f,"link",l),n.state.loading|=4,yc(f,a.precedence,t),n.instance=f;case"script":return f=za(a.src),(h=t.querySelector(ho(f)))?(n.instance=h,At(h),h):(l=a,(h=Ln.get(f))&&(l=A({},a),Rd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Gt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yc(l,a.precedence,t));return n.instance}function yc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _c=null;function x0(t,n,a){if(_c===null){var l=new Map,h=_c=new Map;h.set(a,l)}else h=_c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ui]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function R0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function xT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function N0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function RT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Pa(l.href),f=n.querySelector(co(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,At(f);return}f=n.ownerDocument||n,l=A0(l),(h=Ln.get(h))&&xd(l,h),f=f.createElement("link"),At(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Gt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=vc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nd=0;function NT(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*oT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,n.forEach(CT,t),bc=null,vc.call(t))}function CT(t,n){if(!(n.state.loading&4)){var a=bc.get(t);if(a)var l=a.get(null);else{a=new Map,bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,h),a.set(p,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var fo={$$typeof:_e,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function IT(t,n,a,l,h,f,p,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function C0(t,n,a,l,h,f,p,E,R,P,F,K){return t=new IT(t,n,a,p,R,P,F,K,E),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),t.current=f,f.stateNode=t,n=lf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},hf(f),t}function I0(t){return t?(t=ya,t):ya}function D0(t,n,a,l,h,f){h=I0(h),l.context===null?l.context=h:l.pendingContext=h,l=Cs(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Is(t,l,n),a!==null&&(hn(a,t,n),Fl(a,t,n))}function O0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Cd(t,n){O0(t,n),(t=t.alternate)&&O0(t,n)}function V0(t){if(t.tag===13||t.tag===31){var n=Nr(t,67108864);n!==null&&hn(n,t,67108864),Cd(t,67108864)}}function M0(t){if(t.tag===13||t.tag===31){var n=wn();n=pr(n);var a=Nr(t,n);a!==null&&hn(a,t,n),Cd(t,n)}}var Tc=!0;function DT(t,n,a,l){var h=H.T;H.T=null;var f=ne.p;try{ne.p=2,Id(t,n,a,l)}finally{ne.p=f,H.T=h}}function OT(t,n,a,l){var h=H.T;H.T=null;var f=ne.p;try{ne.p=8,Id(t,n,a,l)}finally{ne.p=f,H.T=h}}function Id(t,n,a,l){if(Tc){var h=Dd(l);if(h===null)pd(t,n,l,wc,a),j0(t,l);else if(MT(h,t,n,a,l))l.stopPropagation();else if(j0(t,l),n&4&&-1<VT.indexOf(t)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ri(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-gt(p);E.entanglements[1]|=R,p&=~R}Ai(f),(Ge&6)===0&&(rc=tn()+500,ao(0))}}break;case 31:case 13:E=Nr(f,2),E!==null&&hn(E,f,2),lc(),Cd(f,2)}if(f=Dd(l),f===null&&pd(t,n,l,wc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else pd(t,n,l,null,a)}}function Dd(t){return t=Rn(t),Od(t)}var wc=null;function Od(t){if(wc=null,t=ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wc=t,null}function k0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case gl:return 2;case pl:return 8;case ms:case Lh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Vd=!1,Bs=null,qs=null,Hs=null,mo=new Map,go=new Map,Fs=[],VT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(t,n){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(n.pointerId)}}function po(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=xn(n),n!==null&&V0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function MT(t,n,a,l,h){switch(n){case"focusin":return Bs=po(Bs,t,n,a,l,h),!0;case"dragenter":return qs=po(qs,t,n,a,l,h),!0;case"mouseover":return Hs=po(Hs,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return mo.set(f,po(mo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,go.set(f,po(go.get(f)||null,t,n,a,l,h)),!0}return!1}function L0(t){var n=ci(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,qn(t.priority,function(){M0(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,qn(t.priority,function(){M0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Dd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Nl=l,a.target.dispatchEvent(l),Nl=null}else return n=xn(a),n!==null&&V0(n),t.blockedOn=a,!1;n.shift()}return!0}function U0(t,n,a){Ac(t)&&a.delete(n)}function kT(){Vd=!1,Bs!==null&&Ac(Bs)&&(Bs=null),qs!==null&&Ac(qs)&&(qs=null),Hs!==null&&Ac(Hs)&&(Hs=null),mo.forEach(U0),go.forEach(U0)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Vd||(Vd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,kT)))}var xc=null;function P0(t){xc!==t&&(xc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Od(l||a)===null)continue;break}var f=xn(a);f!==null&&(t.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ba(t){function n(R){return Sc(R,t)}Bs!==null&&Sc(Bs,t),qs!==null&&Sc(qs,t),Hs!==null&&Sc(Hs,t),mo.forEach(n),go.forEach(n);for(var a=0;a<Fs.length;a++){var l=Fs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fs.length&&(a=Fs[0],a.blockedOn===null);)L0(a),a.blockedOn===null&&Fs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],p=h[jt]||null;if(typeof f=="function")p||P0(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[jt]||null)E=p.formAction;else if(Od(h)!==null)continue}else E=p.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),P0(a)}}}function z0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(t){this._internalRoot=t}Rc.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=wn();D0(a,l,t,n,null,null)},Rc.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;D0(t.current,2,null,t,null,null),lc(),n[oi]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Fs.length&&n!==0&&n<Fs[a].priority;a++);Fs.splice(a,0,t),a===0&&L0(t)}};var B0=e.version;if(B0!=="19.2.4")throw Error(r(527,B0,"19.2.4"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var jT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{zn=Nc.inject(jT),zt=Nc}catch{}}return _o.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=Kp,f=Yp,p=Xp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=C0(t,1,!1,null,null,a,l,null,h,f,p,z0),t[oi]=n.current,gd(t),new Md(n)},_o.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=Kp,p=Yp,E=Xp,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=C0(t,1,!0,n,a??null,l,h,R,f,p,E,z0),n.context=I0(null),a=n.current,l=wn(),l=pr(l),h=Cs(l),h.callback=null,Is(a,h,l),a=l,n.current.lanes=a,mr(n,a),Ai(n),t[oi]=n.current,gd(t),new Rc(n)},_o.version="19.2.4",_o}var J0;function KT(){if(J0)return Ld.exports;J0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=QT(),Ld.exports}var YT=KT();const Dv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();const XT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const JT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());const Z0=s=>{const e=JT(s);return e.charAt(0).toUpperCase()+e.slice(1)};var ZT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const ew=Ce.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...g},_)=>Ce.createElement("svg",{ref:_,...ZT,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Dv("lucide",o),...!c&&!WT(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,w])=>Ce.createElement(y,w)),...Array.isArray(c)?c:[c]]));const ke=(s,e)=>{const i=Ce.forwardRef(({className:r,...o},c)=>Ce.createElement(ew,{ref:c,iconNode:e,className:Dv(`lucide-${XT(Z0(s))}`,`lucide-${s}`,r),...o}));return i.displayName=Z0(s),i};const tw=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Cm=ke("activity",tw);const nw=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],iw=ke("bell",nw);const sw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rw=ke("chevron-right",sw);const aw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lw=ke("circle-check-big",aw);const ow=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uw=ke("circle-x",ow);const cw=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],hw=ke("clipboard-list",cw);const fw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dw=ke("clock",fw);const mw=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Bd=ke("database",mw);const gw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pw=ke("download",gw);const yw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_w=ke("eye",yw);const vw=[["path",{d:"M13 22h5a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.3",key:"cvl1xm"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m7.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.879.001l-1.846.85a.5.5 0 0 1-.692-.593l1.29-4.88",key:"1ff7gj"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]],bw=ke("file-badge",vw);const Ew=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],Tw=ke("file-search",Ew);const ww=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Aw=ke("file-text",ww);const Sw=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],W0=ke("hard-drive",Sw);const xw=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],e_=ke("layout-dashboard",xw);const Rw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ov=ke("lock",Rw);const Nw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Cw=ke("log-out",Nw);const Iw=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Dw=ke("menu",Iw);const Ow=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Vw=ke("moon",Ow);const Mw=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],kw=ke("octagon-alert",Mw);const jw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Lw=ke("pen",jw);const Uw=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Pw=ke("power",Uw);const zw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Im=ke("refresh-cw",zw);const Bw=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qw=ke("save",Bw);const Hw=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Cc=ke("server",Hw);const Fw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gw=ke("settings",Fw);const $w=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ro=ke("shield-check",$w);const Qw=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Kw=ke("stethoscope",Qw);const Yw=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Xw=ke("sun",Yw);const Jw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ph=ke("trash-2",Jw);const Zw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ww=ke("triangle-alert",Zw);const eA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nm=ke("user",eA);const tA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vo=ke("users",tA);const nA=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],iA=ke("wifi-off",nA);const sA=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],rA=ke("wifi",sA);const aA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vv=ke("x",aA),lA=()=>{};var t_={};const Mv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},oA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,w=c>>2,A=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(V=64)),r.push(i[w],i[A],i[V],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Mv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):oA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||A==null)throw new uA;const V=c<<2|g>>4;if(r.push(V),y!==64){const Q=g<<4&240|y>>2;if(r.push(Q),A!==64){const Z=y<<6&192|A;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class uA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cA=function(s){const e=Mv(s);return kv.encodeByteArray(e,!0)},Xc=function(s){return cA(s).replace(/\./g,"")},jv=function(s){try{return kv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fA=()=>hA().__FIREBASE_DEFAULTS__,dA=()=>{if(typeof process>"u"||typeof t_>"u")return;const s=t_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},mA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&jv(s[1]);return e&&JSON.parse(e)},yh=()=>{try{return lA()||fA()||dA()||mA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Lv=s=>yh()?.emulatorHosts?.[s],gA=s=>{const e=Lv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Uv=()=>yh()?.config,Pv=s=>yh()?.[`_${s}`];class pA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function al(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zv(s){return(await fetch(s,{credentials:"include"})).ok}function yA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const No={};function _A(){const s={prod:[],emulator:[]};for(const e of Object.keys(No))No[e]?s.emulator.push(e):s.prod.push(e);return s}function vA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let n_=!1;function Bv(s,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||No[s]===e||No[s]||n_)return;No[s]=e;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",c=_A().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{n_=!0,d()},V}function w(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=vA(r),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),ee=i("learnmore"),ie=document.getElementById(ee)||document.createElement("a"),ue=i("preprendIcon"),ye=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const _e=V.element;g(_e),w(ie,ee);const xe=y();_(ye,ue),_e.append(ye,Z,ie,xe),document.body.appendChild(_e)}c?(Z.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function EA(){const s=yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function AA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SA(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function xA(){return!EA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function NA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const CA="FirebaseError";class us extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=CA,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?IA(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new us(o,g,r)}}function IA(s,e){return s.replace(DA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const DA=/\{\$([^}]+)}/g;function OA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Fr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(i_(c)&&i_(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function i_(s){return s!==null&&typeof s=="object"}function Fo(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function VA(s,e){const i=new MA(s,e);return i.subscribe.bind(i)}class MA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");kA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=qd),o.error===void 0&&(o.error=qd),o.complete===void 0&&(o.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function qd(){}function An(s){return s&&s._delegate?s._delegate:s}class Gr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Br="[DEFAULT]";class jA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new pA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UA(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LA(s){return s===Br?void 0:s}function UA(s){return s.instantiationMode==="EAGER"}class PA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new jA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const zA={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},BA=Oe.INFO,qA={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},HA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=qA[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=BA,this._logHandler=HA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const FA=(s,e)=>e.some(i=>s instanceof i);let s_,r_;function GA(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $A(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qv=new WeakMap,im=new WeakMap,Hv=new WeakMap,Hd=new WeakMap,Om=new WeakMap;function QA(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Zs(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&qv.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function KA(s){if(im.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,e)}let sm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Hv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function YA(s){sm=s(sm)}function XA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Fd(this),e,...i);return Hv.set(r,e.sort?e.sort():[e]),Zs(r)}:$A().includes(s)?function(...e){return s.apply(Fd(this),e),Zs(qv.get(this))}:function(...e){return Zs(s.apply(Fd(this),e))}}function JA(s){return typeof s=="function"?XA(s):(s instanceof IDBTransaction&&KA(s),FA(s,GA())?new Proxy(s,sm):s)}function Zs(s){if(s instanceof IDBRequest)return QA(s);if(Hd.has(s))return Hd.get(s);const e=JA(s);return e!==s&&(Hd.set(s,e),Om.set(e,s)),e}const Fd=s=>Om.get(s);function ZA(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=Zs(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Zs(d.result),_.oldVersion,_.newVersion,Zs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const WA=["get","getKey","getAll","getAllKeys","count"],eS=["put","add","delete","clear"],Gd=new Map;function a_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=eS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||WA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Gd.set(e,c),c}YA(s=>({...s,get:(e,i,r)=>a_(e,i)||s.get(e,i,r),has:(e,i)=>!!a_(e,i)||s.has(e,i)}));class tS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function nS(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",l_="0.14.8";const ss=new Dm("@firebase/app"),iS="@firebase/app-compat",sS="@firebase/analytics-compat",rS="@firebase/analytics",aS="@firebase/app-check-compat",lS="@firebase/app-check",oS="@firebase/auth",uS="@firebase/auth-compat",cS="@firebase/database",hS="@firebase/data-connect",fS="@firebase/database-compat",dS="@firebase/functions",mS="@firebase/functions-compat",gS="@firebase/installations",pS="@firebase/installations-compat",yS="@firebase/messaging",_S="@firebase/messaging-compat",vS="@firebase/performance",bS="@firebase/performance-compat",ES="@firebase/remote-config",TS="@firebase/remote-config-compat",wS="@firebase/storage",AS="@firebase/storage-compat",SS="@firebase/firestore",xS="@firebase/ai",RS="@firebase/firestore-compat",NS="firebase",CS="12.9.0";const am="[DEFAULT]",IS={[rm]:"fire-core",[iS]:"fire-core-compat",[rS]:"fire-analytics",[sS]:"fire-analytics-compat",[lS]:"fire-app-check",[aS]:"fire-app-check-compat",[oS]:"fire-auth",[uS]:"fire-auth-compat",[cS]:"fire-rtdb",[hS]:"fire-data-connect",[fS]:"fire-rtdb-compat",[dS]:"fire-fn",[mS]:"fire-fn-compat",[gS]:"fire-iid",[pS]:"fire-iid-compat",[yS]:"fire-fcm",[_S]:"fire-fcm-compat",[vS]:"fire-perf",[bS]:"fire-perf-compat",[ES]:"fire-rc",[TS]:"fire-rc-compat",[wS]:"fire-gcs",[AS]:"fire-gcs-compat",[SS]:"fire-fst",[RS]:"fire-fst-compat",[xS]:"fire-vertex","fire-js":"fire-js",[NS]:"fire-js-all"};const Jc=new Map,DS=new Map,lm=new Map;function o_(s,e){try{s.container.addComponent(e)}catch(i){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wa(s){const e=s.name;if(lm.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,s);for(const i of Jc.values())o_(i,s);for(const i of DS.values())o_(i,s);return!0}function Vm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Zn(s){return s==null?!1:s.settings!==void 0}const OS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Ho("app","Firebase",OS);class VS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const ll=CS;function Fv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:am,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ws.create("bad-app-name",{appName:String(o)});if(i||(i=Uv()),!i)throw Ws.create("no-options");const c=Jc.get(o);if(c){if(Fr(i,c.options)&&Fr(r,c.config))return c;throw Ws.create("duplicate-app",{appName:o})}const d=new PA(o);for(const _ of lm.values())d.addComponent(_);const g=new VS(i,r,d);return Jc.set(o,g),g}function Gv(s=am){const e=Jc.get(s);if(!e&&s===am&&Uv())return Fv();if(!e)throw Ws.create("no-app",{appName:s});return e}function er(s,e,i){let r=IS[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}Wa(new Gr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const MS="firebase-heartbeat-database",kS=1,Mo="firebase-heartbeat-store";let $d=null;function $v(){return $d||($d=ZA(MS,kS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Mo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ws.create("idb-open",{originalErrorMessage:s.message})})),$d}async function jS(s){try{const i=(await $v()).transaction(Mo),r=await i.objectStore(Mo).get(Qv(s));return await i.done,r}catch(e){if(e instanceof us)ss.warn(e.message);else{const i=Ws.create("idb-get",{originalErrorMessage:e?.message});ss.warn(i.message)}}}async function u_(s,e){try{const r=(await $v()).transaction(Mo,"readwrite");await r.objectStore(Mo).put(e,Qv(s)),await r.done}catch(i){if(i instanceof us)ss.warn(i.message);else{const r=Ws.create("idb-set",{originalErrorMessage:i?.message});ss.warn(r.message)}}}function Qv(s){return`${s.name}!${s.options.appId}`}const LS=1024,US=30;class PS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=c_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>US){const o=qS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=c_(),{heartbeatsToSend:i,unsentEntries:r}=zS(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ss.warn(e),""}}}function c_(){return new Date().toISOString().substring(0,10)}function zS(s,e=LS){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),h_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),h_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class BS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?NA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function h_(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function qS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function HS(s){Wa(new Gr("platform-logger",e=>new tS(e),"PRIVATE")),Wa(new Gr("heartbeat",e=>new PS(e),"PRIVATE")),er(rm,l_,s),er(rm,l_,"esm2020"),er("fire-js","")}HS("");var FS="firebase",GS="12.9.0";er(FS,GS,"app");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tr,Kv;(function(){var s;function e(C,S){function N(){}N.prototype=S.prototype,C.F=S.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(M,D,j){for(var x=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)x[tt-2]=arguments[tt];return S.prototype[D].apply(M,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,N){N||(N=0);const M=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)M[D]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(D=0;D<16;++D)M[D]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=C.g[0],N=C.g[1],D=C.g[2];let j=C.g[3],x;x=S+(j^N&(D^j))+M[0]+3614090360&4294967295,S=N+(x<<7&4294967295|x>>>25),x=j+(D^S&(N^D))+M[1]+3905402710&4294967295,j=S+(x<<12&4294967295|x>>>20),x=D+(N^j&(S^N))+M[2]+606105819&4294967295,D=j+(x<<17&4294967295|x>>>15),x=N+(S^D&(j^S))+M[3]+3250441966&4294967295,N=D+(x<<22&4294967295|x>>>10),x=S+(j^N&(D^j))+M[4]+4118548399&4294967295,S=N+(x<<7&4294967295|x>>>25),x=j+(D^S&(N^D))+M[5]+1200080426&4294967295,j=S+(x<<12&4294967295|x>>>20),x=D+(N^j&(S^N))+M[6]+2821735955&4294967295,D=j+(x<<17&4294967295|x>>>15),x=N+(S^D&(j^S))+M[7]+4249261313&4294967295,N=D+(x<<22&4294967295|x>>>10),x=S+(j^N&(D^j))+M[8]+1770035416&4294967295,S=N+(x<<7&4294967295|x>>>25),x=j+(D^S&(N^D))+M[9]+2336552879&4294967295,j=S+(x<<12&4294967295|x>>>20),x=D+(N^j&(S^N))+M[10]+4294925233&4294967295,D=j+(x<<17&4294967295|x>>>15),x=N+(S^D&(j^S))+M[11]+2304563134&4294967295,N=D+(x<<22&4294967295|x>>>10),x=S+(j^N&(D^j))+M[12]+1804603682&4294967295,S=N+(x<<7&4294967295|x>>>25),x=j+(D^S&(N^D))+M[13]+4254626195&4294967295,j=S+(x<<12&4294967295|x>>>20),x=D+(N^j&(S^N))+M[14]+2792965006&4294967295,D=j+(x<<17&4294967295|x>>>15),x=N+(S^D&(j^S))+M[15]+1236535329&4294967295,N=D+(x<<22&4294967295|x>>>10),x=S+(D^j&(N^D))+M[1]+4129170786&4294967295,S=N+(x<<5&4294967295|x>>>27),x=j+(N^D&(S^N))+M[6]+3225465664&4294967295,j=S+(x<<9&4294967295|x>>>23),x=D+(S^N&(j^S))+M[11]+643717713&4294967295,D=j+(x<<14&4294967295|x>>>18),x=N+(j^S&(D^j))+M[0]+3921069994&4294967295,N=D+(x<<20&4294967295|x>>>12),x=S+(D^j&(N^D))+M[5]+3593408605&4294967295,S=N+(x<<5&4294967295|x>>>27),x=j+(N^D&(S^N))+M[10]+38016083&4294967295,j=S+(x<<9&4294967295|x>>>23),x=D+(S^N&(j^S))+M[15]+3634488961&4294967295,D=j+(x<<14&4294967295|x>>>18),x=N+(j^S&(D^j))+M[4]+3889429448&4294967295,N=D+(x<<20&4294967295|x>>>12),x=S+(D^j&(N^D))+M[9]+568446438&4294967295,S=N+(x<<5&4294967295|x>>>27),x=j+(N^D&(S^N))+M[14]+3275163606&4294967295,j=S+(x<<9&4294967295|x>>>23),x=D+(S^N&(j^S))+M[3]+4107603335&4294967295,D=j+(x<<14&4294967295|x>>>18),x=N+(j^S&(D^j))+M[8]+1163531501&4294967295,N=D+(x<<20&4294967295|x>>>12),x=S+(D^j&(N^D))+M[13]+2850285829&4294967295,S=N+(x<<5&4294967295|x>>>27),x=j+(N^D&(S^N))+M[2]+4243563512&4294967295,j=S+(x<<9&4294967295|x>>>23),x=D+(S^N&(j^S))+M[7]+1735328473&4294967295,D=j+(x<<14&4294967295|x>>>18),x=N+(j^S&(D^j))+M[12]+2368359562&4294967295,N=D+(x<<20&4294967295|x>>>12),x=S+(N^D^j)+M[5]+4294588738&4294967295,S=N+(x<<4&4294967295|x>>>28),x=j+(S^N^D)+M[8]+2272392833&4294967295,j=S+(x<<11&4294967295|x>>>21),x=D+(j^S^N)+M[11]+1839030562&4294967295,D=j+(x<<16&4294967295|x>>>16),x=N+(D^j^S)+M[14]+4259657740&4294967295,N=D+(x<<23&4294967295|x>>>9),x=S+(N^D^j)+M[1]+2763975236&4294967295,S=N+(x<<4&4294967295|x>>>28),x=j+(S^N^D)+M[4]+1272893353&4294967295,j=S+(x<<11&4294967295|x>>>21),x=D+(j^S^N)+M[7]+4139469664&4294967295,D=j+(x<<16&4294967295|x>>>16),x=N+(D^j^S)+M[10]+3200236656&4294967295,N=D+(x<<23&4294967295|x>>>9),x=S+(N^D^j)+M[13]+681279174&4294967295,S=N+(x<<4&4294967295|x>>>28),x=j+(S^N^D)+M[0]+3936430074&4294967295,j=S+(x<<11&4294967295|x>>>21),x=D+(j^S^N)+M[3]+3572445317&4294967295,D=j+(x<<16&4294967295|x>>>16),x=N+(D^j^S)+M[6]+76029189&4294967295,N=D+(x<<23&4294967295|x>>>9),x=S+(N^D^j)+M[9]+3654602809&4294967295,S=N+(x<<4&4294967295|x>>>28),x=j+(S^N^D)+M[12]+3873151461&4294967295,j=S+(x<<11&4294967295|x>>>21),x=D+(j^S^N)+M[15]+530742520&4294967295,D=j+(x<<16&4294967295|x>>>16),x=N+(D^j^S)+M[2]+3299628645&4294967295,N=D+(x<<23&4294967295|x>>>9),x=S+(D^(N|~j))+M[0]+4096336452&4294967295,S=N+(x<<6&4294967295|x>>>26),x=j+(N^(S|~D))+M[7]+1126891415&4294967295,j=S+(x<<10&4294967295|x>>>22),x=D+(S^(j|~N))+M[14]+2878612391&4294967295,D=j+(x<<15&4294967295|x>>>17),x=N+(j^(D|~S))+M[5]+4237533241&4294967295,N=D+(x<<21&4294967295|x>>>11),x=S+(D^(N|~j))+M[12]+1700485571&4294967295,S=N+(x<<6&4294967295|x>>>26),x=j+(N^(S|~D))+M[3]+2399980690&4294967295,j=S+(x<<10&4294967295|x>>>22),x=D+(S^(j|~N))+M[10]+4293915773&4294967295,D=j+(x<<15&4294967295|x>>>17),x=N+(j^(D|~S))+M[1]+2240044497&4294967295,N=D+(x<<21&4294967295|x>>>11),x=S+(D^(N|~j))+M[8]+1873313359&4294967295,S=N+(x<<6&4294967295|x>>>26),x=j+(N^(S|~D))+M[15]+4264355552&4294967295,j=S+(x<<10&4294967295|x>>>22),x=D+(S^(j|~N))+M[6]+2734768916&4294967295,D=j+(x<<15&4294967295|x>>>17),x=N+(j^(D|~S))+M[13]+1309151649&4294967295,N=D+(x<<21&4294967295|x>>>11),x=S+(D^(N|~j))+M[4]+4149444226&4294967295,S=N+(x<<6&4294967295|x>>>26),x=j+(N^(S|~D))+M[11]+3174756917&4294967295,j=S+(x<<10&4294967295|x>>>22),x=D+(S^(j|~N))+M[2]+718787259&4294967295,D=j+(x<<15&4294967295|x>>>17),x=N+(j^(D|~S))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const N=S-this.blockSize,M=this.C;let D=this.h,j=0;for(;j<S;){if(D==0)for(;j<=N;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<S;)if(M[D++]=C.charCodeAt(j++),D==this.blockSize){o(this,M),D=0;break}}else for(;j<S;)if(M[D++]=C[j++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)C[S++]=this.g[N]>>>M&255;return C};function c(C,S){var N=g;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=S(C)}function d(C,S){this.h=S;const N=[];let M=!0;for(let D=C.length-1;D>=0;D--){const j=C[D]|0;M&&j==S||(N[D]=j,M=!1)}this.g=N}var g={};function _(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return ie(y(-C));const S=[];let N=1;for(let M=0;C>=N;M++)S[M]=C/N|0,N*=4294967296;return new d(S,0)}function w(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return ie(w(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(S,8));let M=A;for(let j=0;j<C.length;j+=8){var D=Math.min(8,C.length-j);const x=parseInt(C.substring(j,j+D),S);D<8?(D=y(Math.pow(S,D)),M=M.j(D).add(y(x))):(M=M.j(N),M=M.add(y(x)))}return M}var A=_(0),V=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(ee(this))return-ie(this).m();let C=0,S=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);C+=(M>=0?M:4294967296+M)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(ee(this))return"-"+ie(this).toString(C);const S=y(Math.pow(C,6));var N=this;let M="";for(;;){const D=xe(N,S).g;N=ue(N,D.j(S));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=D,Z(N))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function ee(C){return C.h==-1}s.l=function(C){return C=ue(this,C),ee(C)?-1:Z(C)?0:1};function ie(C){const S=C.g.length,N=[];for(let M=0;M<S;M++)N[M]=~C.g[M];return new d(N,~C.h).add(V)}s.abs=function(){return ee(this)?ie(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),N=[];let M=0;for(let D=0;D<=S;D++){let j=M+(this.i(D)&65535)+(C.i(D)&65535),x=(j>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=x>>>16,j&=65535,x&=65535,N[D]=x<<16|j}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ue(C,S){return C.add(ie(S))}s.j=function(C){if(Z(this)||Z(C))return A;if(ee(this))return ee(C)?ie(this).j(ie(C)):ie(ie(this).j(C));if(ee(C))return ie(this.j(ie(C)));if(this.l(Q)<0&&C.l(Q)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,N=[];for(var M=0;M<2*S;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const j=this.i(M)>>>16,x=this.i(M)&65535,tt=C.i(D)>>>16,mt=C.i(D)&65535;N[2*M+2*D]+=x*mt,ye(N,2*M+2*D),N[2*M+2*D+1]+=j*mt,ye(N,2*M+2*D+1),N[2*M+2*D+1]+=x*tt,ye(N,2*M+2*D+1),N[2*M+2*D+2]+=j*tt,ye(N,2*M+2*D+2)}for(C=0;C<S;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=S;C<2*S;C++)N[C]=0;return new d(N,0)};function ye(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function _e(C,S){this.g=C,this.h=S}function xe(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new _e(A,A);if(ee(C))return S=xe(ie(C),S),new _e(ie(S.g),ie(S.h));if(ee(S))return S=xe(C,ie(S)),new _e(ie(S.g),S.h);if(C.g.length>30){if(ee(C)||ee(S))throw Error("slowDivide_ only works with positive integers.");for(var N=V,M=S;M.l(C)<=0;)N=rt(N),M=rt(M);var D=Ue(N,1),j=Ue(M,1);for(M=Ue(M,2),N=Ue(N,2);!Z(M);){var x=j.add(M);x.l(C)<=0&&(D=D.add(N),j=x),M=Ue(M,1),N=Ue(N,1)}return S=ue(C,D.j(S)),new _e(D,S)}for(D=A;C.l(S)>=0;){for(N=Math.max(1,Math.floor(C.m()/S.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=y(N),x=j.j(S);ee(x)||x.l(C)>0;)N-=M,j=y(N),x=j.j(S);Z(j)&&(j=V),D=D.add(j),C=ue(C,x)}return new _e(D,C)}s.B=function(C){return xe(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)&C.i(M);return new d(N,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)|C.i(M);return new d(N,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)^C.i(M);return new d(N,this.h^C.h)};function rt(C){const S=C.g.length+1,N=[];for(let M=0;M<S;M++)N[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(N,C.h)}function Ue(C,S){const N=S>>5;S%=32;const M=C.g.length-N,D=[];for(let j=0;j<M;j++)D[j]=S>0?C.i(j+N)>>>S|C.i(j+N+1)<<32-S:C.i(j+N);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Kv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=w,tr=d}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yv,wo,Xv,zc,om,Jv,Zv,Wv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function w(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var te=Array(arguments.length-2),we=2;we<arguments.length;we++)te[we-2]=arguments[we];return m.prototype[L].apply(T,te)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=L[te]}else u.push(L)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){d.setTimeout(()=>{throw u},0)}function ue(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,v){const T=_e.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _e=new ee(()=>new xe,u=>u.reset());class xe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,Ue=!1,C=new ye,S=()=>{const u=Promise.resolve(void 0);rt=()=>{u.then(N)}};function N(){for(var u;u=ue();){try{u.h.call(u.g)}catch(v){ie(v)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ue=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function tt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(tt,D),tt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),H=0;function ne(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<G.length;B++)v=G[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=J(u,m,T,L);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function me(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(he(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function J(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var ae="closure_lm_"+(Math.random()*1e6|0),He={};function nt(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)nt(u,m[B],v,T,L);return null}return v=ml(v),u&&u[mt]?u.J(m,v,g(T)?!!T.capture:!1,L):Mi(u,m,v,!1,T,L)}function Mi(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const te=g(L)?!!L.capture:!!L;let we=ii(u);if(we||(u[ae]=we=new re(u)),v=we.add(m,v,T,te,B),v.proxy)return v;if(T=cs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)j||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(it(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function cs(){function u(v){return m.call(u.src,u.listener,v)}const m=Yt;return u}function hs(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)hs(u,m[B],v,T,L);else T=g(T)?!!T.capture:!!T,v=ml(v),u&&u[mt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=J(m,v,T,L),v>-1&&(he(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ii(u))&&(m=u.g[m.toString()],u=-1,m&&(u=J(m,v,T,L)),(v=u>-1?m[u]:null)&&fs(v))}function fs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[mt])me(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(it(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ii(m))?(me(v,u),v.h==0&&(v.src=null,m[ae]=null)):he(u)}}}function it(u){return u in He?He[u]:He[u]="on"+u}function Yt(u,m){if(u.da)u=!0;else{m=new tt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&fs(u),u=v.call(T,m)}return u}function ii(u){return u=u[ae],u instanceof re?u:null}var dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ml(u){return typeof u=="function"?u:(u[dl]||(u[dl]=function(m){return u.handleEvent(m)}),u[dl])}function Et(){M.call(this),this.i=new re(this),this.M=this,this.G=null}A(Et,M),Et.prototype[mt]=!0,Et.prototype.removeEventListener=function(u,m,v,T){hs(this,u,m,v,T)};function Vt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),W(m,L)}L=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],L=ds(B,T,!0,m)&&L;if(B=m.g=u,L=ds(B,T,!0,m)&&L,L=ds(B,T,!1,m)&&L,v)for(te=0;te<v.length;te++)B=m.g=v[te],L=ds(B,T,!1,m)&&L}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)he(v[T]);delete u.g[m],u.h--}}this.G=null},Et.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Et.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ds(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const we=te.listener,pt=te.ha||te.src;te.fa&&me(u.i,te),L=we.call(pt,T)!==!1&&L}}return L&&!T.defaultPrevented}function jh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function eu(u){u.g=jh(()=>{u.g=null,u.i&&(u.i=!1,eu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(u){M.call(this),this.h=u,this.g={}}A(fr,M);var gl=[];function pl(u){je(u.g,function(m,v){this.g.hasOwnProperty(v)&&fs(m)},u),u.g={}}fr.prototype.N=function(){fr.Z.N.call(this),pl(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=d.JSON.stringify,Lh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}A(zt,D);function Sn(){D.call(this,"c")}A(Sn,D);var gt={},su=null;function ta(){return su=su||new Et}gt.Ia="serverreachability";function ru(u){D.call(this,gt.Ia,u)}A(ru,D);function si(u){const m=ta();Vt(m,new ru(m))}gt.STAT_EVENT="statevent";function dr(u,m){D.call(this,gt.STAT_EVENT,u),this.stat=m}A(dr,D);function Tt(u){const m=ta();Vt(m,new dr(m,u))}gt.Ja="timingevent";function ri(u,m){D.call(this,gt.Ja,u),this.size=m}A(ri,D);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Uh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var te="",we=B.split("&");for(let Fe=0;Fe<we.length;Fe++){var pt=we[Fe].split("=");if(pt.length>1){const ut=pt[0];pt=pt[1];const Cn=ut.split("_");te=Cn.length>=2&&Cn[1]=="type"?te+(ut+"="+pt+"&"):te+(ut+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function au(u,m,v,T,L,B,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+te})}function li(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(T?" "+T:"")})}function mr(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return ms(B)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function pr(){}A(pr,nu),pr.prototype.g=function(){return new XMLHttpRequest},_l=new pr;function ki(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var wt={},jt={};function oi(u,m,v){u.M=1,u.A=yr(St(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),ui(u),u.B=St(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Hn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(gl[0]=L.toString()),L=gl);for(let B=0;B<L.length;B++){const te=nt(v,L[B],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)e:{const we=$n(this.g),pt=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||pt==7||(pt==8||Fe<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var B=T;break t}}B=null}if(u=B)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,Tt(12),gn(this),xn(this);break e}}if(this.R){u=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=uu(this,v),ut==jt){we==4&&(this.m=4,Tt(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,Tt(15),li(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,ut,null),hi(this,ut);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vl(te),te.P=!0,Tt(11))}}else li(this.i,this.l,v,null),hi(this,v);we==4&&gn(this),this.o&&!this.K&&(we==4?_u(this.j,this):(this.o=!1,ui(this)))}else Li(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),gn(this),xn(this)}}}catch{}};function zh(u){if(!ou(u))return u.g.la();const m=Bt(u.g);if(m==="")return"";let v="";const T=m.length,L=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),xn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?jt:(v=Number(m.substring(v,T)),isNaN(v)?wt:(T+=1,T+v>m.length?jt:(m=m.slice(T,T+v),u.C=T+v,m)))}qn.prototype.cancel=function(){this.K=!0,gn(this)};function ui(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(y(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(mr(this.i,this.B),this.M!=2&&(si(),Tt(17)),gn(this),this.m=2,xn(this)):ia(this,this.T-u)};function xn(u){u.j.I==0||u.K||_u(u.j,u)}function gn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,pl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),Ts(v);else break e;Ar(v),Tt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&ha(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Fe=L[m];const ut=Fe[0];if(!(ut<=v.K))if(v.K=ut,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Cn=Fe[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const bi=Fe[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Qn=Fe[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Kn=u.g;if(Kn){const Sr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var B=T.h;B.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(El(B,B.h),B.h=null))}if(T.G){const fa=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,Qe(T.J,T.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),te.L){Tl(T.h,te);var we=te,pt=T.O;pt&&(we.H=pt),we.D&&(ci(we),ui(we)),T.g=te}else pu(T);v.i.length>0&&_i(v)}else Fe[0]!="stop"&&Fe[0]!="close"||vi(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?vi(v,7):Dl(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}si(4)}catch{}}var At=class{constructor(u,m){this.g=u,this.map=m}};function vl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function El(u,m){u.g?u.g.add(m):u.h=m}function Tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,gs(this,u.u),this.h=u.h,Al(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),gs(this,m[4]),this.h=mi(m[5]||"",!0),Al(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(_r(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_r(m,ra,!0),"@"),u.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(_r(v,v.charAt(0)=="/"?Sl:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",_r(v,fu)),u.join("")},pn.prototype.resolve=function(u){const m=St(this);let v=!!u.j;v?Lt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)gs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let te=0;te<L.length;){const we=L[te++];we=="."?T&&te==L.length&&B.push(""):we==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&te==L.length&&B.push("")):(B.push(we),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Al(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function St(u){return new pn(u)}function Lt(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function gs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Al(u,m,v){m instanceof ys?(u.i=m,la(u.i,u.l)):(v||(m=_r(m,ps)),u.i=new ys(m,u.l))}function Qe(u,m,v){u.i.set(m,v)}function yr(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _r(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,hu=/[#\?:]/g,Sl=/[#\?]/g,ps=/[#\?@]/g,fu=/#/g;function ys(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ys.prototype,s.add=function(u,m){an(this),this.i=null,u=_s(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){an(u),m=_s(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xl(u,m){return an(u),m=_s(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Rl(u,m){an(u);let v=[];if(typeof m=="string")xl(u,m)&&(v=v.concat(u.g.get(_s(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=_s(this,u),xl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Rl(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(_s(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=ki(v);v=Rl(this,v);for(let B=0;B<v.length;B++){let te=L;v[B]!==""&&(te+="="+ki(v[B])),u.push(te)}}return this.i=u.join("&")};function mu(u){const m=new ys;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function _s(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(du(this,T),aa(this,L,v))},u)),u.j=m}function Fn(u,m){const v=new Bn;if(d.Image){const T=new Image;T.onload=w(Rn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=w(Rn,v,"TestLoadImage: error",!1,m,T),T.onabort=w(Rn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=w(Rn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nl(u,m){const v=new Bn,T=new AbortController,L=setTimeout(()=>{T.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function vs(){this.g=new tu}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(gi,nu),gi.prototype.g=function(){return new vr(this.i,this.h)};function vr(u,m){Et.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(vr,Et),s=vr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bs(this):Gn(this),this.readyState==3&&oa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,bs(this))},s.Na=function(u){this.g&&(this.response=u,bs(this))},s.ga=function(){this.g&&bs(this)};function bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return je(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function br(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Nn(v),typeof u=="string"?v!=null&&ki(v):Qe(u,m,v))}function Xe(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,Et);var pi=/^https?$/i,Cl=["POST","PUT"];s=Xe.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Er(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Er(this,B)}};function Er(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Il(u),ji(u)}function Il(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Vt(this,"complete"),Vt(this,"abort"),ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Xe.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},s.Xa=function(){Tr(this)};function Tr(u){if(u.h&&typeof c<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(Vt(u,"readystatechange"),$n(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let te=String(u.D).match(cu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!pi.test(te?te.toLowerCase():"")}v=T}if(v)Vt(u,"complete"),Vt(u,"success");else{u.o=6;try{var L=$n(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Il(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Vt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}s.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lh(m)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var v=lu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}qe(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Es(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(u&&u.concurrentRequestLimit),this.Ba=new vs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Es.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Tt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),_i(this)};function Dl(u){if(ua(u),u.I==3){var m=u.V++,v=St(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),wr(u,v),m=new qn(u,u.j,m),m.M=2,m.A=yr(St(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}bu(u)}function Ts(u){u.g&&(Vl(u),u.g.cancel(),u.g=null)}function ua(u){Ts(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!bl(u.h)&&!u.m){u.m=!0;var m=u.Ea;rt||S(),Ue||(rt(),Ue=!0),C.add(m,u),u.D=0}}function ca(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(y(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new qn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=I(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=gu(this,L,m),v=St(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),wr(this,v),B&&(this.R?m="headers="+ki(Nn(B))+"&"+m:this.u&&br(v,this.u,B)),El(this.h,L),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(u?Ol(this,u):this.i.length==0||bl(this.h)||Ol(this))};function Ol(u,m){var v;m?v=m.l:v=u.V++;const T=St(u.J);Qe(T,"SID",u.M),Qe(T,"RID",v),Qe(T,"AID",u.K),wr(u,T),u.u&&u.o&&br(T,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),El(u.h,v),oi(v,T,m)}function wr(u,m){u.H&&je(u.H,function(v,T){Qe(m,T,v)}),u.l&&je({},function(v,T){Qe(m,T,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let we=-1;for(;;){const pt=["count="+v];we==-1?v>0?(we=L[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let Fe=!0;for(let ut=0;ut<v;ut++){var B=L[ut].g;const Cn=L[ut].map;if(B-=we,B<0)we=Math.max(0,L[ut].g-100),Fe=!1;else try{B="req"+B+"_"||"";try{var te=Cn instanceof Map?Cn:Object.entries(Cn);for(const[bi,Qn]of te){let Kn=Qn;g(Qn)&&(Kn=ms(Qn)),pt.push(B+bi+"="+encodeURIComponent(Kn))}}catch(bi){throw pt.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{T&&T(Cn)}}if(Fe){te=pt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;rt||S(),Ue||(rt(),Ue=!0),C.add(m,u),u.A=0}}function Ar(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(y(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Ts(this),yu(this))};function Vl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=St(u.na);Qe(m,"RID","rpc"),Qe(m,"SID",u.M),Qe(m,"AID",u.K),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(m,"TO",u.ia),Qe(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&br(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=yr(St(m)),v.u=null,v.R=!0,na(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ts(this),Ar(this),Tt(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){ha(u),Vl(u),u.g=null;var T=2}else if(di(u.h,m))v=m.G,Tl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ta(),Vt(T,new ri(T,v)),_i(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&Ar(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(T,"https"),yr(T),L?Fn(T.toString(),v):Nl(T.toString(),v)}else Tt(2);u.I=0,u.l&&u.l.pa(m),bu(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const m=wl(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof pn?St(v):new pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),gs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new pn(null);T&&Lt(B,T),m&&(B.g=m),L&&gs(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Qe(T,v,m),Qe(T,"VER",u.ka),wr(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xe(new gi({ab:v})):new Xe(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ws(){}ws.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Et.call(this),this.g=new Es(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}A(nn,Et),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Dl(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ms(u),u=v);m.i.push(new At(m.Ya++,u)),m.I==3&&_i(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,nn.Z.N.call(this)};function Au(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Au,zt);function Su(){Sn.call(this),this.status=1}A(Su,Sn);function Ui(u){this.g=u}A(Ui,wu),Ui.prototype.ra=function(){Vt(this.g,"a")},Ui.prototype.qa=function(u){Vt(this.g,new Au(u))},Ui.prototype.pa=function(u){Vt(this.g,new Su)},Ui.prototype.oa=function(){Vt(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Wv=function(){return new ws},Zv=function(){return ta()},Jv=gt,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,zc=gr,yl.COMPLETE="complete",Xv=yl,iu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,wo=iu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,Yv=Xe}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let ol="12.9.0";function $S(s){ol=s}const $r=new Dm("@firebase/firestore");function qa(){return $r.logLevel}function le(s,...e){if($r.logLevel<=Oe.DEBUG){const i=e.map(Mm);$r.debug(`Firestore (${ol}): ${s}`,...i)}}function rs(s,...e){if($r.logLevel<=Oe.ERROR){const i=e.map(Mm);$r.error(`Firestore (${ol}): ${s}`,...i)}}function Qr(s,...e){if($r.logLevel<=Oe.WARN){const i=e.map(Mm);$r.warn(`Firestore (${ol}): ${s}`,...i)}}function Mm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function pe(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,e1(s,r,i)}function e1(s,e,i){let r=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw rs(r),new Error(r)}function $e(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||e1(e,o,r)}function Te(s,e){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends us{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class t1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Zt.UNAUTHENTICATED)))}shutdown(){}}class KS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class YS{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$e(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new nr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new nr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new t1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class XS{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class JS{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new XS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class d_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$e(this.o===void 0,3512);const r=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new d_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($e(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new d_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=WS(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Ve(s,e){return s<e?-1:s>e?1:0}function um(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Qd(o)===Qd(c)?Ve(o,c):Qd(o)?1:-1}return Ve(s.length,e.length)}const e2=55296,t2=57343;function Qd(s){const e=s.charCodeAt(0);return e>=e2&&e<=t2}function el(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const m_="__name__";class xi{constructor(e,i,r){i===void 0?i=0:i>e.length&&pe(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&pe(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=xi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ve(e.length,i.length)}static compareSegments(e,i){const r=xi.isNumericId(e),o=xi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):um(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tr.fromString(e.substring(4,e.length-2))}}class st extends xi{construct(e,i,r){return new st(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new st(i)}static emptyPath(){return new st([])}}const n2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends xi{construct(e,i,r){return new Qt(e,i,r)}static isValidIdentifier(e){return n2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m_}static keyField(){return new Qt([m_])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new se(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new se(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new se(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new se(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(st.fromString(e))}static fromName(e){return new de(st.fromString(e).popFirst(5))}static empty(){return new de(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return st.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new st(e.slice()))}}function n1(s,e,i){if(!i)throw new se(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function i2(s,e,i,r){if(e===!0&&r===!0)throw new se(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function g_(s){if(!de.isDocumentKey(s))throw new se(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function p_(s){if(de.isDocumentKey(s))throw new se(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function i1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function _h(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pe(12329,{type:typeof s})}function is(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new se(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_h(s);throw new se(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function s2(s,e){if(e<=0)throw new se(Y.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}function Ot(s,e){const i={typeString:s};return e&&(i.value=e),i}function Go(s,e){if(!i1(s))throw new se(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new se(Y.INVALID_ARGUMENT,i);return!0}const y_=-62135596800,__=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*__);return new ot(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<y_)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Go(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Ot("string",ot._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ot(0,0))}static max(){return new be(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ko=-1;function r2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new ot(i+1,0):new ot(i,r));return new rr(o,de.empty(),e)}function a2(s){return new rr(s.readTime,s.key,ko)}class rr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new rr(be.min(),de.empty(),ko)}static max(){return new rr(be.max(),de.empty(),ko)}}function l2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(s.documentKey,e.documentKey),i!==0?i:Ve(s.largestBatchId,e.largestBatchId))}const o2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ul(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==o2)throw s;le("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>r(_)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((o=>o?X.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((w=>{d[y]=w,++g,g===c&&r(d)}),(w=>o(w)))}}))}static doWhile(e,i){return new X(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function c2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function cl(s){return s.name==="IndexedDbTransactionError"}class vh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vh.ce=-1;const jm=-1;function bh(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function h2(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const s1="";function f2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=v_(e)),e=d2(s.get(i),e);return v_(e)}function d2(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case s1:i+="";break;default:i+=c}}return i}function v_(s){return s+s1+""}function b_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Xr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function r1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ht{constructor(e,i){this.comparator=e,this.root=i||$t.EMPTY}insert(e,i){return new ht(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??$t.RED,this.left=o??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new $t(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new $t(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new kt(this.comparator);return i.data=e,i}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Wn([])}unionWith(e){let i=new kt(Qt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Wn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class a1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new a1("Invalid base64 string: "+c):c}})(e);return new Kt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Kt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const m2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(s){if($e(!!s,39018),typeof s=="string"){let e=0;const i=m2.exec(s);if($e(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function lr(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const l1="server_timestamp",o1="__type__",u1="__previous_value__",c1="__local_write_time__";function Lm(s){return(s?.mapValue?.fields||{})[o1]?.stringValue===l1}function Eh(s){const e=s.mapValue.fields[u1];return Lm(e)?Eh(e):e}function jo(s){const e=ar(s.mapValue.fields[c1].timestampValue);return new ot(e.seconds,e.nanos)}class g2{constructor(e,i,r,o,c,d,g,_,y,w,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=w,this.apiKey=A}}const Wc="(default)";class Lo{constructor(e,i){this.projectId=e,this.database=i||Wc}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}function p2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new se(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(s.options.projectId,e)}const h1="__type__",y2="__max__",Oc={mapValue:{}},f1="__vector__",eh="value";function or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lm(s)?4:v2(s)?9007199254740991:_2(s)?10:11:pe(28295,{value:s})}function Vi(s,e){if(s===e)return!0;const i=or(s);if(i!==or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jo(s).isEqual(jo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ar(o.timestampValue),g=ar(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return lr(o.bytesValue).isEqual(lr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=vt(o.doubleValue),g=vt(c.doubleValue);return d===g?Zc(d)===Zc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return el(s.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(b_(d)!==b_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Vi(d[_],g[_])))return!1;return!0})(s,e);default:return pe(52216,{left:s})}}function Uo(s,e){return(s.values||[]).find((i=>Vi(i,e)))!==void 0}function tl(s,e){if(s===e)return 0;const i=or(s),r=or(e);if(i!==r)return Ve(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=vt(c.integerValue||c.doubleValue),_=vt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return T_(s.timestampValue,e.timestampValue);case 4:return T_(jo(s),jo(e));case 5:return um(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=lr(c),_=lr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const w=Ve(g[y],_[y]);if(w!==0)return w}return Ve(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ve(vt(c.latitude),vt(d.latitude));return g!==0?g:Ve(vt(c.longitude),vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return w_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[eh]?.arrayValue,w=_[eh]?.arrayValue,A=Ve(y?.values?.length||0,w?.values?.length||0);return A!==0?A:w_(y,w)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},w=Object.keys(y);_.sort(),w.sort();for(let A=0;A<_.length&&A<w.length;++A){const V=um(_[A],w[A]);if(V!==0)return V;const Q=tl(g[_[A]],y[w[A]]);if(Q!==0)return Q}return Ve(_.length,w.length)})(s.mapValue,e.mapValue);default:throw pe(23264,{he:i})}}function T_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const i=ar(s),r=ar(e),o=Ve(i.seconds,r.seconds);return o!==0?o:Ve(i.nanos,r.nanos)}function w_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=tl(i[o],r[o]);if(c)return c}return Ve(i.length,r.length)}function nl(s){return cm(s)}function cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=ar(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return lr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return de.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=cm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${cm(i.fields[d])}`;return o+"}"})(s.mapValue):pe(61005,{value:s})}function Bc(s){switch(or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(s);return e?16+Bc(e):16;case 5:return 2*s.stringValue.length;case 6:return lr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Bc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Xr(r.fields,((c,d)=>{o+=c.length+Bc(d)})),o})(s.mapValue);default:throw pe(13486,{value:s})}}function A_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function hm(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function S_(s){return!!s&&"nullValue"in s}function x_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qc(s){return!!s&&"mapValue"in s}function _2(s){return(s?.mapValue?.fields||{})[h1]?.stringValue===f1}function Co(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Xr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Co(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Co(s.arrayValue.values[i]);return e}return{...s}}function v2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===y2}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Co(i)}setAll(e){let i=Qt.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=Co(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Xr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Un(Co(this.value))}}function d1(s){const e=[];return Xr(s.fields,((i,r)=>{const o=new Qt([i]);if(qc(r)){const c=d1(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Wn(e)}class Wt{constructor(e,i,r,o,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),Un.empty(),0)}static newFoundDocument(e,i,r,o){return new Wt(e,1,i,be.min(),r,o,0)}static newNoDocument(e,i){return new Wt(e,2,i,be.min(),be.min(),Un.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,be.min(),be.min(),Un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,i){this.position=e,this.inclusive=i}}function R_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=de.comparator(de.fromName(d.referenceValue),i.key):r=tl(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function N_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Vi(s.position[i],e.position[i]))return!1;return!0}class nh{constructor(e,i="asc"){this.field=e,this.dir=i}}function b2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class m1{}class Dt extends m1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new T2(e,i,r):i==="array-contains"?new S2(e,r):i==="in"?new x2(e,r):i==="not-in"?new R2(e,r):i==="array-contains-any"?new N2(e,r):new Dt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new w2(e,r):new A2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(tl(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(tl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends m1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ni(e,i)}matches(e){return g1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g1(s){return s.op==="and"}function p1(s){return E2(s)&&g1(s)}function E2(s){for(const e of s.filters)if(e instanceof ni)return!1;return!0}function fm(s){if(s instanceof Dt)return s.field.canonicalString()+s.op.toString()+nl(s.value);if(p1(s))return s.filters.map((e=>fm(e))).join(",");{const e=s.filters.map((i=>fm(i))).join(",");return`${s.op}(${e})`}}function y1(s,e){return s instanceof Dt?(function(r,o){return o instanceof Dt&&r.op===o.op&&r.field.isEqual(o.field)&&Vi(r.value,o.value)})(s,e):s instanceof ni?(function(r,o){return o instanceof ni&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,g)=>c&&y1(d,o.filters[g])),!0):!1})(s,e):void pe(19439)}function _1(s){return s instanceof Dt?(function(i){return`${i.field.canonicalString()} ${i.op} ${nl(i.value)}`})(s):s instanceof ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(_1).join(" ,")+"}"})(s):"Filter"}class T2 extends Dt{constructor(e,i,r){super(e,i,r),this.key=de.fromName(r.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class w2 extends Dt{constructor(e,i){super(e,"in",i),this.keys=v1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class A2 extends Dt{constructor(e,i){super(e,"not-in",i),this.keys=v1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function v1(s,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class S2 extends Dt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Um(i)&&Uo(i.arrayValue,this.value)}}class x2 extends Dt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Uo(this.value.arrayValue,i)}}class R2 extends Dt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Uo(this.value.arrayValue,i)}}class N2 extends Dt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Uo(this.value.arrayValue,r)))}}class C2{constructor(e,i=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function C_(s,e=null,i=[],r=[],o=null,c=null,d=null){return new C2(s,e,i,r,o,c,d)}function Pm(s){const e=Te(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>fm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),bh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>nl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>nl(r))).join(",")),e.Te=i}return e.Te}function zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!b2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!y1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!N_(s.startAt,e.startAt)&&N_(s.endAt,e.endAt)}function dm(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class $o{constructor(e,i=null,r=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function I2(s,e,i,r,o,c,d,g){return new $o(s,e,i,r,o,c,d,g)}function Th(s){return new $o(s)}function I_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function D2(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function b1(s){return s.collectionGroup!==null}function Io(s){const e=Te(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new kt(Qt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nh(c,r))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new nh(Qt.keyField(),r))}return e.Ie}function Ri(s){const e=Te(s);return e.Ee||(e.Ee=O2(e,Io(s))),e.Ee}function O2(s,e){if(s.limitType==="F")return C_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new nh(o.field,c)}));const i=s.endAt?new th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new th(s.startAt.position,s.startAt.inclusive):null;return C_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function mm(s,e){const i=s.filters.concat([e]);return new $o(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function ih(s,e,i){return new $o(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function wh(s,e){return zm(Ri(s),Ri(e))&&s.limitType===e.limitType}function E1(s){return`${Pm(Ri(s))}|lt:${s.limitType}`}function Ha(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>_1(o))).join(", ")}]`),bh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>nl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>nl(o))).join(",")),`Target(${r})`})(Ri(s))}; limitType=${s.limitType})`}function Ah(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):de.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Io(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,_){const y=R_(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Io(r),o)||r.endAt&&!(function(d,g,_){const y=R_(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Io(r),o))})(s,e)}function V2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function T1(s){return(e,i)=>{let r=!1;for(const o of Io(s)){const c=M2(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function M2(s,e,i){const r=s.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?tl(_,y):pe(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:s.dir})}}class Jr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return r1(this.inner)}size(){return this.innerSize}}const k2=new ht(de.comparator);function as(){return k2}const w1=new ht(de.comparator);function Ao(...s){let e=w1;for(const i of s)e=e.insert(i.key,i);return e}function A1(s){let e=w1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function qr(){return Do()}function S1(){return Do()}function Do(){return new Jr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const j2=new ht(de.comparator),L2=new kt(de.comparator);function Me(...s){let e=L2;for(const i of s)e=e.add(i);return e}const U2=new kt(Ve);function P2(){return U2}function Bm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function x1(s){return{integerValue:""+s}}function z2(s,e){return h2(e)?x1(e):Bm(s,e)}class Sh{constructor(){this._=void 0}}function B2(s,e,i){return s instanceof Po?(function(o,c){const d={fields:{[o1]:{stringValue:l1},[c1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Lm(c)&&(c=Eh(c)),c&&(d.fields[u1]=c),{mapValue:d}})(i,e):s instanceof zo?N1(s,e):s instanceof Bo?C1(s,e):(function(o,c){const d=R1(o,c),g=D_(d)+D_(o.Ae);return hm(d)&&hm(o.Ae)?x1(g):Bm(o.serializer,g)})(s,e)}function q2(s,e,i){return s instanceof zo?N1(s,e):s instanceof Bo?C1(s,e):i}function R1(s,e){return s instanceof sh?(function(r){return hm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Po extends Sh{}class zo extends Sh{constructor(e){super(),this.elements=e}}function N1(s,e){const i=I1(e);for(const r of s.elements)i.some((o=>Vi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Bo extends Sh{constructor(e){super(),this.elements=e}}function C1(s,e){let i=I1(e);for(const r of s.elements)i=i.filter((o=>!Vi(o,r)));return{arrayValue:{values:i}}}class sh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function D_(s){return vt(s.integerValue||s.doubleValue)}function I1(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class H2{constructor(e,i){this.field=e,this.transform=i}}function F2(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof zo&&o instanceof zo||r instanceof Bo&&o instanceof Bo?el(r.elements,o.elements,Vi):r instanceof sh&&o instanceof sh?Vi(r.Ae,o.Ae):r instanceof Po&&o instanceof Po})(s.transform,e.transform)}class G2{constructor(e,i){this.version=e,this.transformResults=i}}class Ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class xh{}function D1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new qm(s.key,Ni.none()):new Qo(s.key,s.data,Ni.none());{const i=s.data,r=Un.empty();let o=new kt(Qt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Zr(s.key,r,new Wn(o.toArray()),Ni.none())}}function $2(s,e,i){s instanceof Qo?(function(o,c,d){const g=o.value.clone(),_=V_(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Zr?(function(o,c,d){if(!Hc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=V_(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(O1(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Oo(s,e,i,r){return s instanceof Qo?(function(c,d,g,_){if(!Hc(c.precondition,d))return g;const y=c.value.clone(),w=M_(c.fieldTransforms,_,d);return y.setAll(w),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof Zr?(function(c,d,g,_){if(!Hc(c.precondition,d))return g;const y=M_(c.fieldTransforms,_,d),w=d.data;return w.setAll(O1(c)),w.setAll(y),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(c,d,g){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function Q2(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=R1(r.transform,o||null);c!=null&&(i===null&&(i=Un.empty()),i.set(r.field,c))}return i||null}function O_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&el(r,o,((c,d)=>F2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Qo extends xh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zr extends xh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function O1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function V_(s,e,i){const r=new Map;$e(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,q2(d,g,i[o]))}return r}function M_(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,B2(c,d,e))}return r}class qm extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K2 extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Y2{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&$2(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Oo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Oo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=S1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=D1(d,g);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Me())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((i,r)=>O_(i,r)))&&el(this.baseMutations,e.baseMutations,((i,r)=>O_(i,r)))}}class Hm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){$e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return j2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Hm(e,i,r,o)}}class X2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class J2{constructor(e,i){this.count=e,this.unchangedNames=i}}var It,Pe;function Z2(s){switch(s){case Y.OK:return pe(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pe(15467,{code:s})}}function V1(s){if(s===void 0)return rs("GRPC error has no .code"),Y.UNKNOWN;switch(s){case It.OK:return Y.OK;case It.CANCELLED:return Y.CANCELLED;case It.UNKNOWN:return Y.UNKNOWN;case It.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case It.INTERNAL:return Y.INTERNAL;case It.UNAVAILABLE:return Y.UNAVAILABLE;case It.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case It.NOT_FOUND:return Y.NOT_FOUND;case It.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case It.ABORTED:return Y.ABORTED;case It.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case It.DATA_LOSS:return Y.DATA_LOSS;default:return pe(39323,{code:s})}}(Pe=It||(It={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function W2(){return new TextEncoder}const ex=new tr([4294967295,4294967295],0);function k_(s){const e=W2().encode(s),i=new Kv;return i.update(e),new Uint8Array(i.digest())}function j_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new tr([i,r],0),new tr([o,c],0)]}class Fm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new So(`Invalid padding: ${i}`);if(r<0)throw new So(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new So(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=tr.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(tr.fromNumber(r)));return o.compare(ex)===1&&(o=new tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=k_(e),[r,o]=j_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Fm(c,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=k_(e),[r,o]=j_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Rh(be.min(),o,new ht(Ve),as(),Me())}}class Ko{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Ko(r,i,Me(),Me(),Me())}}class Fc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class M1{constructor(e,i){this.targetId=e,this.Ce=i}}class k1{constructor(e,i,r=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class L_{constructor(){this.ve=0,this.Fe=U_(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),i=Me(),r=Me();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:pe(38017,{changeType:c})}})),new Ko(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=U_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class tx{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.He=Vc(),this.Je=Vc(),this.Ze=new ht(Ve)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(dm(c))if(r===0){const d=new de(c.path);this.et(i,d,Wt.newNoDocument(d,be.min()))}else $e(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=lr(r).toUint8Array()}catch(_){if(_ instanceof a1)return Qr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Fm(d,o,c)}catch(_){return Qr(_ instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&dm(g.target)){const _=new de(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Wt.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Me();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Rh(e,i,this.Ze,this.je,r);return this.je=as(),this.He=Vc(),this.Je=Vc(),this.Ze=new ht(Ve),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new L_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new kt(Ve),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new kt(Ve),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new ht(de.comparator)}function U_(){return new ht(de.comparator)}const nx={asc:"ASCENDING",desc:"DESCENDING"},ix={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sx={and:"AND",or:"OR"};class rx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function gm(s,e){return s.useProto3Json||bh(e)?e:{value:e}}function rh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ax(s,e){return rh(s,e.toTimestamp())}function Ci(s){return $e(!!s,49232),be.fromTimestamp((function(i){const r=ar(i);return new ot(r.seconds,r.nanos)})(s))}function Gm(s,e){return pm(s,e).canonicalString()}function pm(s,e){const i=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function L1(s){const e=st.fromString(s);return $e(q1(e),10190,{key:e.toString()}),e}function ym(s,e){return Gm(s.databaseId,e.path)}function Kd(s,e){const i=L1(e);if(i.get(1)!==s.databaseId.projectId)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new de(P1(i))}function U1(s,e){return Gm(s.databaseId,e)}function lx(s){const e=L1(s);return e.length===4?st.emptyPath():P1(e)}function _m(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function P1(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function P_(s,e,i){return{name:ym(s,e),fields:i.value.mapValue.fields}}function ox(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,w){return y.useProto3Json?($e(w===void 0||typeof w=="string",58123),Kt.fromBase64String(w||"")):($e(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Kt.fromUint8Array(w||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const w=y.code===void 0?Y.UNKNOWN:V1(y.code);return new se(w,y.message||"")})(d);i=new k1(r,o,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Kd(s,r.document.name),c=Ci(r.document.updateTime),d=r.document.createTime?Ci(r.document.createTime):be.min(),g=new Un({mapValue:{fields:r.document.fields}}),_=Wt.newFoundDocument(o,c,d,g),y=r.targetIds||[],w=r.removedTargetIds||[];i=new Fc(y,w,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Kd(s,r.document),c=r.readTime?Ci(r.readTime):be.min(),d=Wt.newNoDocument(o,c),g=r.removedTargetIds||[];i=new Fc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Kd(s,r.document),c=r.removedTargetIds||[];i=new Fc([],c,o,null)}else{if(!("filter"in e))return pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new J2(o,c),g=r.targetId;i=new M1(g,d)}}return i}function ux(s,e){let i;if(e instanceof Qo)i={update:P_(s,e.key,e.value)};else if(e instanceof qm)i={delete:ym(s,e.key)};else if(e instanceof Zr)i={update:P_(s,e.key,e.data),updateMask:_x(e.fieldMask)};else{if(!(e instanceof K2))return pe(16599,{dt:e.type});i={verify:ym(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof Po)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof zo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof sh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pe(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:ax(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pe(27497)})(s,e.precondition)),i}function cx(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ci(o.updateTime):Ci(c);return d.isEqual(be.min())&&(d=Ci(c)),new G2(d,o.transformResults||[])})(i,e)))):[]}function hx(s,e){return{documents:[U1(s,e.path)]}}function fx(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=U1(s,o);const c=(function(y){if(y.length!==0)return B1(ni.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((w=>(function(V){return{field:Fa(V.field),direction:gx(V.dir)}})(w)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function dx(s){let e=lx(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){$e(r===1,65062);const w=i.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];i.where&&(c=(function(A){const V=z1(A);return V instanceof ni&&p1(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(Z){return new nh(Ga(Z.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let V;return V=typeof A=="object"?A.value:A,bh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(A){const V=!!A.before,Q=A.values||[];return new th(Q,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const V=!A.before,Q=A.values||[];return new th(Q,V)})(i.endAt)),I2(e,o,d,c,g,"F",_,y)}function mx(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function z1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ga(i.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ga(i.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Dt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Dt.create(Ga(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ni.create(i.compositeFilter.filters.map((r=>z1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pe(1026)}})(i.compositeFilter.op))})(s):pe(30097,{filter:s})}function gx(s){return nx[s]}function px(s){return ix[s]}function yx(s){return sx[s]}function Fa(s){return{fieldPath:s.canonicalString()}}function Ga(s){return Qt.fromServerFormat(s.fieldPath)}function B1(s){return s instanceof Dt?(function(i){if(i.op==="=="){if(x_(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(S_(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(x_(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(S_(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:px(i.op),value:i.value}}})(s):s instanceof ni?(function(i){const r=i.getFilters().map((o=>B1(o)));return r.length===1?r[0]:{compositeFilter:{op:yx(i.op),filters:r}}})(s):pe(54877,{filter:s})}function _x(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function q1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function H1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Js{constructor(e,i,r,o,c=be.min(),d=be.min(),g=Kt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vx{constructor(e){this.yt=e}}function bx(s){const e=dx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ih(e,e.limit,"L"):e}class Ex{constructor(){this.Sn=new Tx}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(rr.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class Tx{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new kt(st.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kt(st.comparator)).toArray()}}const z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F1=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(F1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class il{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new il(0)}static ar(){return new il(-1)}}const B_="LruGarbageCollector",wx=1048576;function q_([s,e],[i,r]){const o=Ve(s,i);return o===0?Ve(e,r):o}class Ax{constructor(e){this.Pr=e,this.buffer=new kt(q_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();q_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Sx{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(B_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){cl(i)?le(B_,"Ignoring IndexedDB error during garbage collection: ",i):await ul(i)}await this.Ar(3e5)}))}}class xx{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(vh.ce);const r=new Ax(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(z_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,c,d,g,_,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,g=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(y=Date.now(),qa()<=Oe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-w}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function Rx(s,e){return new xx(s,e)}class Nx{constructor(){this.changes=new Jr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Ix{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Oo(r.mutation,o,Wn.empty(),ot.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Me()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Me()){const o=qr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=Ao();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=qr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Me())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let c=as();const d=Do(),g=(function(){return Do()})();return i.forEach(((_,y)=>{const w=r.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Zr)?c=c.insert(y.key,y):w!==void 0?(d.set(y.key,w.mutation.getFieldMask()),Oo(w.mutation,y,w.mutation.getFieldMask(),ot.now())):d.set(y.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,w)=>d.set(y,w))),i.forEach(((y,w)=>g.set(y,new Cx(w,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Do();let o=new ht(((d,g)=>d-g)),c=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let w=r.get(_)||Wn.empty();w=g.applyToLocalView(y,w),r.set(_,w);const A=(o.get(g.batchId)||Me()).add(_);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,w=_.value,A=S1();w.forEach((V=>{if(!c.has(V)){const Q=D1(i.get(V),r.get(V));Q!==null&&A.set(V,Q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return D2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):b1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):X.resolve(qr());let g=ko,_=c;return d.next((y=>X.forEach(y,((w,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(w)?X.resolve():this.remoteDocumentCache.getEntry(e,w).next((V=>{_=_.insert(w,V)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Me()))).next((w=>({batchId:g,changes:A1(w)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((r=>{let o=Ao();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=Ao();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(_=>{const y=(function(A,V){return new $o(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((w=>{w.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((_,y)=>{const w=y.getKey();d.get(w)===null&&(d=d.insert(w,Wt.newInvalidDocument(w)))}));let g=Ao();return d.forEach(((_,y)=>{const w=c.get(_);w!==void 0&&Oo(w.mutation,y,Wn.empty(),ot.now()),Ah(i,y)&&(g=g.insert(_,y))})),g}))}}class Dx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:bx(o.bundledQuery),readTime:Ci(o.readTime)}})(i)),X.resolve()}}class Ox{constructor(){this.overlays=new ht(de.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=qr();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const o=qr(),c=i.length+1,d=new de(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new ht(((y,w)=>y-w));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let w=c.get(y.largestBatchId);w===null&&(w=qr(),c=c.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const g=qr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,w)=>g.set(y,w))),!(g.size()>=o)););return X.resolve(g)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new X2(i,r));let c=this.Lr.get(i);c===void 0&&(c=Me(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class Vx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class $m{constructor(){this.kr=new kt(Pt.Kr),this.qr=new kt(Pt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Pt(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Pt(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new de(new st([])),r=new Pt(i,e),o=new Pt(i,e+1),c=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new de(new st([])),r=new Pt(i,e),o=new Pt(i,e+1);let c=Me();return this.qr.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Pt(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return de.comparator(e.key,i.key)||Ve(e.Hr,i.Hr)}static Ur(e,i){return Ve(e.Hr,i.Hr)||de.comparator(e.key,i.key)}}class Mx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(Pt.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Y2(c,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Pt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?jm:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new kt(Ve);return i.forEach((o=>{const c=new Pt(o,0),d=new Pt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),X.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;de.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new de(c),0);let g=new kt(Ve);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){$e(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return X.forEach(i.mutations,(o=>{const c=new Pt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Pt(i,0),o=this.Jr.firstAfterOrEqual(r);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class kx{constructor(e){this.ti=e,this.docs=(function(){return new ht(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let r=as();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Wt.newInvalidDocument(o))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=as();const d=i.path,g=new de(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:w}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||l2(a2(w),r)<=0||(o.has(w.key)||Ah(i,w))&&(c=c.insert(w.key,w.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,r,o){pe(9500)}ni(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new jx(this)}getSize(e){return X.resolve(this.size)}}class jx extends Nx{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class Lx{constructor(e){this.persistence=e,this.ri=new Jr((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new $m,this.targetCount=0,this.oi=il._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new il(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),X.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class G1{constructor(e,i){this._i={},this.overlays={},this.ai=new vh(0),this.ui=!1,this.ui=!0,this.ci=new Vx,this.referenceDelegate=e(this),this.li=new Lx(this),this.indexManager=new Ex,this.remoteDocumentCache=(function(o){return new kx(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new vx(i),this.Pi=new Dx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Ox,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new Mx(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){le("MemoryPersistence","Starting transaction:",e);const o=new Ux(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class Ux extends u2{constructor(e){super(),this.currentSequenceNumber=e}}class Qm{constructor(e){this.persistence=e,this.Ri=new $m,this.Ai=null}static Vi(e){return new Qm(e)}get di(){if(this.Ai)return this.Ai;throw pe(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(r=>{const o=de.fromPath(r);return this.mi(e,o).next((c=>{c||i.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ah{constructor(e,i){this.persistence=e,this.fi=new Jr((r=>f2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Rx(this,i)}static Vi(e,i){return new ah(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(r++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Bc(e.data.value)),i}wr(e,i,r){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return X.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Km{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Me(),o=Me();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Km(e,i.fromCache,r,o)}}class Px{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xA()?8:c2(en())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Px;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(qa()<=Oe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(qa()<=Oe.DEBUG&&le("QueryEngine","Query:",Ha(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(qa()<=Oe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(i))):X.resolve())}gs(e,i){if(I_(i))return X.resolve(null);let r=Ri(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ih(i,null,"F"),r=Ri(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Me(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(e,ih(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,r,o){return I_(i)||o.isEqual(be.min())?X.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,o)?X.resolve(null):(qa()<=Oe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(i)),this.Ds(e,d,i,r2(o,ko)).next((g=>g)))}))}bs(e,i){let r=new kt(T1(e));return i.forEach(((o,c)=>{Ah(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,r){return qa()<=Oe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.fs.getDocumentsMatchingQuery(e,i,rr.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Ym="LocalStore",Bx=3e8;class qx{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ht(Ve),this.Fs=new Jr((c=>Pm(c)),zm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ix(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function Hx(s,e,i,r){return new qx(s,e,i,r)}async function $1(s,e){const i=Te(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Me();for(const y of o){d.push(y.batchId);for(const w of y.mutations)_=_.add(w.key)}for(const y of c){g.push(y.batchId);for(const w of y.mutations)_=_.add(w.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Fx(s,e){const i=Te(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,w){const A=y.batch,V=A.keys();let Q=X.resolve();return V.forEach((Z=>{Q=Q.next((()=>w.getEntry(_,Z))).next((ee=>{const ie=y.docVersions.get(Z);$e(ie!==null,48541),ee.version.compareTo(ie)<0&&(A.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),w.addEntry(ee)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Me();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Q1(s){const e=Te(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function Gx(s,e){const i=Te(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((w,A)=>{const V=o.get(A);if(!V)return;g.push(i.li.removeMatchingKeys(c,w.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,w.addedDocuments,A))));let Q=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?Q=Q.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):w.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(w.resumeToken,r)),o=o.insert(A,Q),(function(ee,ie,ue){return ee.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=Bx?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(V,Q,w)&&g.push(i.li.updateTargetData(c,Q))}));let _=as(),y=Me();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,w))})),g.push($x(c,d,e.documentUpdates).next((w=>{_=w.Bs,y=w.Ls}))),!r.isEqual(be.min())){const w=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(w)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=o,c)))}function $x(s,e,i){let r=Me(),o=Me();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=as();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(be.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):le(Ym,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function Qx(s,e){const i=Te(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Kx(s,e){const i=Te(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((c=>c?(o=c,X.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Js(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function vm(s,e,i){const r=Te(s),o=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!cl(d))throw d;le(Ym,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function H_(s,e,i){const r=Te(s);let o=be.min(),c=Me();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,w){const A=Te(_),V=A.Fs.get(w);return V!==void 0?X.resolve(A.vs.get(V)):A.li.getTargetData(y,w)})(r,d,Ri(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:be.min(),i?c:Me()))).next((g=>(Yx(r,V2(e),g),{documents:g,ks:c})))))}function Yx(s,e,i){let r=s.Ms.get(e)||be.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class F_{constructor(){this.activeTargetIds=P2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xx{constructor(){this.vo=new F_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new F_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jx{Mo(e){}shutdown(){}}const G_="ConnectivityMonitor";class $_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(G_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(G_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function bm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Yd="RestConnection",Zx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Wx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Wc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,c){const d=bm(),g=this.Qo(e,i.toUriEncodedString());le(Yd,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:y}=new URL(g),w=al(y);return this.zo(e,g,_,r,w).then((A=>(le(Yd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Qr(Yd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}jo(e,i,r,o,c,d){return this.Wo(e,i,r,o,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const r=Zx[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class eR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",bo=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Qa extends Wx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Qa.c_){const e=Zv();bo(e,Jv.STAT_EVENT,(i=>{i.stat===om.PROXY?le(Jt,"STAT_EVENT: detected buffering proxy"):i.stat===om.NOPROXY&&le(Jt,"STAT_EVENT: detected no buffering proxy")})),Qa.c_=!0}}zo(e,i,r,o,c){const d=bm();return new Promise(((g,_)=>{const y=new Yv;y.setWithCredentials(!0),y.listenOnce(Xv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zc.NO_ERROR:const A=y.getResponseJson();le(Jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case zc.TIMEOUT:le(Jt,`RPC '${e}' ${d} timed out`),_(new se(Y.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const V=y.getStatus();if(le(Jt,`RPC '${e}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const ee=(function(ue){const ye=ue.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ye)>=0?ye:Y.UNKNOWN})(Z.status);_(new se(ee,Z.message))}else _(new se(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new se(Y.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Jt,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);le(Jt,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",w,r,15)}))}T_(e,i,r){const o=bm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const y=c.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${y}`,g);const w=d.createWebChannel(y,g);this.I_(w);let A=!1,V=!1;const Q=new eR({Ho:Z=>{V?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(A||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,Z),w.send(Z))},Jo:()=>w.close()});return bo(w,wo.EventType.OPEN,(()=>{V||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),Q.i_())})),bo(w,wo.EventType.CLOSE,(()=>{V||(V=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),Q.o_(),this.E_(w))})),bo(w,wo.EventType.ERROR,(Z=>{V||(V=!0,Qr(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),Q.o_(new se(Y.UNAVAILABLE,"The operation could not be completed")))})),bo(w,wo.EventType.MESSAGE,(Z=>{if(!V){const ee=Z.data[0];$e(!!ee,16349);const ie=ee,ue=ie?.error||ie[0]?.error;if(ue){le(Jt,`RPC '${e}' stream ${o} received error:`,ue);const ye=ue.status;let _e=(function(Ue){const C=It[Ue];if(C!==void 0)return V1(C)})(ye),xe=ue.message;ye==="NOT_FOUND"&&xe.includes("database")&&xe.includes("does not exist")&&xe.includes(this.databaseId.database)&&Qr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),_e===void 0&&(_e=Y.INTERNAL,xe="Unknown error status: "+ye+" with message "+ue.message),V=!0,Q.o_(new se(_e,xe)),w.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,ee),Q.__(ee)}})),Qa.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Wv()}}function tR(s){return new Qa(s)}function Xd(){return typeof document<"u"?document:null}function Nh(s){return new rx(s,!0)}Qa.c_=!1;class K1{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Q_="PersistentStream";class Y1{constructor(e,i,r,o,c,d,g,_){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(rs(i.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new se(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(Q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nR extends Y1{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ox(this.serializer,e),r=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Ci(d.readTime):be.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=dm(_)?{documents:hx(c,_)}:{query:fx(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=j1(c,d.resumeToken);const y=gm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(be.min())>0){g.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=gm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=mx(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=_m(this.serializer),i.removeTarget=e,this.K_(i)}}class iR extends Y1{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=cx(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=_m(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>ux(this.serializer,r)))};this.K_(i)}}class sR{}class rR extends sR{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,pm(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(Y.UNKNOWN,c.toString())}))}jo(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,pm(i,r),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new se(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function aR(s,e,i,r){return new rR(s,e,i,r)}class lR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class oR{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Wr(this)&&(le(Kr,"Restarting streams for network reachability change."),await(async function(_){const y=Te(_);y.Ea.add(4),await Yo(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ch(y)})(this))}))})),this.Va=new lR(r,o)}}async function Ch(s){if(Wr(s))for(const e of s.Ra)await e(!0)}async function Yo(s){for(const e of s.Ra)await e(!1)}function X1(s,e){const i=Te(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Wm(i)?Zm(i):hl(i).O_()&&Jm(i,e))}function Xm(s,e){const i=Te(s),r=hl(i);i.Ia.delete(e),r.O_()&&J1(i,e),i.Ia.size===0&&(r.O_()?r.L_():Wr(i)&&i.Va.set("Unknown"))}function Jm(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}hl(s).Z_(e)}function J1(s,e){s.da.$e(e),hl(s).X_(e)}function Zm(s){s.da=new tx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),hl(s).start(),s.Va.ua()}function Wm(s){return Wr(s)&&!hl(s).x_()&&s.Ia.size>0}function Wr(s){return Te(s).Ea.size===0}function Z1(s){s.da=void 0}async function uR(s){s.Va.set("Online")}async function cR(s){s.Ia.forEach(((e,i)=>{Jm(s,e)}))}async function hR(s,e){Z1(s),Wm(s)?(s.Va.ha(e),Zm(s)):s.Va.set("Unknown")}async function fR(s,e,i){if(s.Va.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(r){le(Kr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lh(s,r)}else if(e instanceof Fc?s.da.Xe(e):e instanceof M1?s.da.st(e):s.da.tt(e),!i.isEqual(be.min()))try{const r=await Q1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const w=c.Ia.get(y);w&&c.Ia.set(y,w.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const w=c.Ia.get(_);if(!w)return;c.Ia.set(_,w.withResumeToken(Kt.EMPTY_BYTE_STRING,w.snapshotVersion)),J1(c,_);const A=new Js(w.target,_,y,w.sequenceNumber);Jm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){le(Kr,"Failed to raise snapshot:",r),await lh(s,r)}}async function lh(s,e,i){if(!cl(e))throw e;s.Ea.add(1),await Yo(s),s.Va.set("Offline"),i||(i=()=>Q1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(Kr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ch(s)}))}function W1(s,e){return e().catch((i=>lh(s,i,e)))}async function Ih(s){const e=Te(s),i=ur(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;dR(e);)try{const o=await Qx(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,mR(e,o)}catch(o){await lh(e,o)}eb(e)&&tb(e)}function dR(s){return Wr(s)&&s.Ta.length<10}function mR(s,e){s.Ta.push(e);const i=ur(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function eb(s){return Wr(s)&&!ur(s).x_()&&s.Ta.length>0}function tb(s){ur(s).start()}async function gR(s){ur(s).ra()}async function pR(s){const e=ur(s);for(const i of s.Ta)e.ea(i.mutations)}async function yR(s,e,i){const r=s.Ta.shift(),o=Hm.from(r,e,i);await W1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ih(s)}async function _R(s,e){e&&ur(s).Y_&&await(async function(r,o){if((function(d){return Z2(d)&&d!==Y.ABORTED})(o.code)){const c=r.Ta.shift();ur(r).B_(),await W1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ih(r)}})(s,e),eb(s)&&tb(s)}async function K_(s,e){const i=Te(s);i.asyncQueue.verifyOperationInProgress(),le(Kr,"RemoteStore received new credentials");const r=Wr(i);i.Ea.add(3),await Yo(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ch(i)}async function vR(s,e){const i=Te(s);e?(i.Ea.delete(2),await Ch(i)):e||(i.Ea.add(2),await Yo(i),i.Va.set("Unknown"))}function hl(s){return s.ma||(s.ma=(function(i,r,o){const c=Te(i);return c.sa(),new nR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:uR.bind(null,s),Yo:cR.bind(null,s),t_:hR.bind(null,s),J_:fR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Wm(s)?Zm(s):s.Va.set("Unknown")):(await s.ma.stop(),Z1(s))}))),s.ma}function ur(s){return s.fa||(s.fa=(function(i,r,o){const c=Te(i);return c.sa(),new iR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:gR.bind(null,s),t_:_R.bind(null,s),ta:pR.bind(null,s),na:yR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Ih(s)):(await s.fa.stop(),s.Ta.length>0&&(le(Kr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class eg{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,g=new eg(e,i,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(s,e){if(rs("AsyncQueue",`${e}: ${s}`),cl(s))return new se(Y.UNAVAILABLE,`${e}: ${s}`);throw s}class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||de.comparator(i.key,r.key):(i,r)=>de.comparator(i.key,r.key),this.keyedMap=Ao(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class Y_{constructor(){this.ga=new ht(de.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class sl{constructor(e,i,r,o,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new sl(e,i,Ka.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class bR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ER{constructor(){this.queries=X_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Te(i),c=o.queries;o.queries=X_(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(r)}))})(this,new se(Y.ABORTED,"Firestore shutting down"))}}function X_(){return new Jr((s=>E1(s)),wh)}async function nb(s,e){const i=Te(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new bR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=tg(d,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ng(i)}async function ib(s,e){const i=Te(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function TR(s,e){const i=Te(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(r=!0);d.wa=o}}r&&ng(i)}function wR(s,e,i){const r=Te(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(i);r.queries.delete(e)}function ng(s){s.Ca.forEach((e=>{e.next()}))}var Em,J_;(J_=Em||(Em={})).Ma="default",J_.Cache="cache";class sb{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class rb{constructor(e){this.key=e}}class ab{constructor(e){this.key=e}}class AR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.eu=T1(e),this.tu=new Ka(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new Y_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,A)=>{const V=o.get(w),Q=Ah(this.query,A)?A:null,Z=!!V&&this.mutatedKeys.has(V.key),ee=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ie=!1;V&&Q?V.data.isEqual(Q.data)?Z!==ee&&(r.track({type:3,doc:Q}),ie=!0):this.su(V,Q)||(r.track({type:2,doc:Q}),ie=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(g=!0)):!V&&Q?(r.track({type:0,doc:Q}),ie=!0):V&&!Q&&(r.track({type:1,doc:V}),ie=!0,(_||y)&&(g=!0)),ie&&(Q?(d=d.add(Q),c=ee?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),r.track({type:1,doc:w})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,A)=>(function(Q,Z){const ee=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Vt:ie})}};return ee(Q)-ee(Z)})(w.type,A.type)||this.eu(w.doc,A.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new sl(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new ab(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new rb(r))})),i}cu(e){this.Za=e.ks,this.Ya=Me();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ig="SyncEngine";class SR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class xR{constructor(e){this.key=e,this.hu=!1}}class RR{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((g=>E1(g)),wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(de.comparator),this.Au=new Map,this.Vu=new $m,this.du={},this.mu=new Map,this.fu=il.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NR(s,e,i=!0){const r=fb(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await lb(r,e,i,!0),o}async function CR(s,e){const i=fb(s);await lb(i,e,!0,!1)}async function lb(s,e,i,r){const o=await Kx(s.localStore,Ri(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await IR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&X1(s.remoteStore,o),g}async function IR(s,e,i,r,o){s.pu=(A,V,Q)=>(async function(ee,ie,ue,ye){let _e=ie.view.ru(ue);_e.Ss&&(_e=await H_(ee.localStore,ie.query,!1).then((({documents:C})=>ie.view.ru(C,_e))));const xe=ye&&ye.targetChanges.get(ie.targetId),rt=ye&&ye.targetMismatches.get(ie.targetId)!=null,Ue=ie.view.applyChanges(_e,ee.isPrimaryClient,xe,rt);return W_(ee,ie.targetId,Ue.au),Ue.snapshot})(s,A,V,Q);const c=await H_(s.localStore,e,!0),d=new AR(e,c.ks),g=d.ru(c.documents),_=Ko.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,_);W_(s,i,y.au);const w=new SR(e,i,d);return s.Tu.set(e,w),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function DR(s,e,i){const r=Te(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!wh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Xm(r.remoteStore,o.targetId),Tm(r,o.targetId)})).catch(ul)):(Tm(r,o.targetId),await vm(r.localStore,o.targetId,!0))}async function OR(s,e){const i=Te(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Xm(i.remoteStore,r.targetId))}async function VR(s,e,i){const r=zR(s);try{const o=await(function(d,g){const _=Te(d),y=ot.now(),w=g.reduce(((Q,Z)=>Q.add(Z.key)),Me());let A,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=as(),ee=Me();return _.xs.getEntries(Q,w).next((ie=>{Z=ie,Z.forEach(((ue,ye)=>{ye.isValidDocument()||(ee=ee.add(ue))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,Z))).next((ie=>{A=ie;const ue=[];for(const ye of g){const _e=Q2(ye,A.get(ye.key).overlayedDocument);_e!=null&&ue.push(new Zr(ye.key,_e,d1(_e.value.mapValue),Ni.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,ue,g)})).next((ie=>{V=ie;const ue=ie.applyToLocalDocumentSet(A,ee);return _.documentOverlayCache.saveOverlays(Q,ie.batchId,ue)}))})).then((()=>({batchId:V.batchId,changes:A1(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new ht(Ve)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await Xo(r,o.changes),await Ih(r.remoteStore)}catch(o){const c=tg(o,"Failed to persist write");i.reject(c)}}async function ob(s,e){const i=Te(s);try{const r=await Gx(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$e(d.hu,14607):o.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await Xo(i,r,e)}catch(r){await ul(r)}}function Z_(s,e,i){const r=Te(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=Te(d);_.onlineState=g;let y=!1;_.queries.forEach(((w,A)=>{for(const V of A.ba)V.va(g)&&(y=!0)})),y&&ng(_)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MR(s,e,i){const r=Te(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new ht(de.comparator);d=d.insert(c,Wt.newNoDocument(c,be.min()));const g=Me().add(c),_=new Rh(be.min(),new Map,new ht(Ve),d,g);await ob(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),sg(r)}else await vm(r.localStore,e,!1).then((()=>Tm(r,e,i))).catch(ul)}async function kR(s,e){const i=Te(s),r=e.batch.batchId;try{const o=await Fx(i.localStore,e);cb(i,r,null),ub(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Xo(i,o)}catch(o){await ul(o)}}async function jR(s,e,i){const r=Te(s);try{const o=await(function(d,g){const _=Te(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>($e(A!==null,37113),w=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,w,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>_.localDocuments.getDocuments(y,w)))}))})(r.localStore,e);cb(r,e,i),ub(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Xo(r,o)}catch(o){await ul(o)}}function ub(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function cb(s,e,i){const r=Te(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Tm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||hb(s,r)}))}function hb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Xm(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),sg(s))}function W_(s,e,i){for(const r of i)r instanceof rb?(s.Vu.addReference(r.key,e),LR(s,r)):r instanceof ab?(le(ig,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||hb(s,r.key)):pe(19791,{wu:r})}function LR(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(le(ig,"New document in limbo: "+i),s.Eu.add(r),sg(s))}function sg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new de(st.fromString(e)),r=s.fu.next();s.Au.set(r,new xR(i)),s.Ru=s.Ru.insert(i,r),X1(s.remoteStore,new Js(Ri(Th(i.path)),r,"TargetPurposeLimboResolution",vh.ce))}}async function Xo(s,e,i){const r=Te(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const w=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Km.Es(_.targetId,y);c.push(w)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(_,y){const w=Te(_);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(V=>X.forEach(V.Ts,(Q=>w.persistence.referenceDelegate.addReference(A,V.targetId,Q))).next((()=>X.forEach(V.Is,(Q=>w.persistence.referenceDelegate.removeReference(A,V.targetId,Q)))))))))}catch(A){if(!cl(A))throw A;le(Ym,"Failed to update sequence numbers: "+A)}for(const A of y){const V=A.targetId;if(!A.fromCache){const Q=w.vs.get(V),Z=Q.snapshotVersion,ee=Q.withLastLimboFreeSnapshotVersion(Z);w.vs=w.vs.insert(V,ee)}}})(r.localStore,c))}async function UR(s,e){const i=Te(s);if(!i.currentUser.isEqual(e)){le(ig,"User change. New user:",e.toKey());const r=await $1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new se(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xo(i,r.Ns)}}function PR(s,e){const i=Te(s),r=i.Au.get(e);if(r&&r.hu)return Me().add(r.key);{let o=Me();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function fb(s){const e=Te(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ob.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MR.bind(null,e),e.Pu.J_=TR.bind(null,e.eventManager),e.Pu.yu=wR.bind(null,e.eventManager),e}function zR(s){const e=Te(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jR.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Hx(this.persistence,new zx,e.initialUser,this.serializer)}Cu(e){return new G1(Qm.Vi,this.serializer)}Du(e){return new Xx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class BR extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$e(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Sx(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new G1((r=>ah.Vi(r,i)),this.serializer)}}class wm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UR.bind(null,this.syncEngine),await vR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ER})()}createDatastore(e){const i=Nh(e.databaseInfo.databaseId),r=tR(e.databaseInfo);return aR(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,g){return new oR(r,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Z_(this.syncEngine,i,0)),(function(){return $_.v()?new $_:new Jx})())}createSyncEngine(e,i){return(function(o,c,d,g,_,y,w){const A=new RR(o,c,d,g,_,y);return w&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Te(i);le(Kr,"RemoteStore shutting down."),r.Ea.add(5),await Yo(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class db{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const cr="FirestoreClient";class qR{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{le(cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(le(cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=tg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Jd(s,e){s.asyncQueue.verifyOperationInProgress(),le(cr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await $1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function ev(s,e){s.asyncQueue.verifyOperationInProgress();const i=await HR(s);le(cr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>K_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>K_(e.remoteStore,o))),s._onlineComponents=e}async function HR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(cr,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Qr("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new oh)}}else le(cr,"Using default OfflineComponentProvider"),await Jd(s,new BR(void 0));return s._offlineComponents}async function mb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(cr,"Using user provided OnlineComponentProvider"),await ev(s,s._uninitializedComponentsProvider._online)):(le(cr,"Using default OnlineComponentProvider"),await ev(s,new wm))),s._onlineComponents}function FR(s){return mb(s).then((e=>e.syncEngine))}async function Am(s){const e=await mb(s),i=e.eventManager;return i.onListen=NR.bind(null,e.syncEngine),i.onUnlisten=DR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=CR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=OR.bind(null,e.syncEngine),i}function GR(s,e,i,r){const o=new db(r),c=new sb(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>nb(await Am(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>ib(await Am(s),c)))}}function $R(s,e,i={}){const r=new nr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const w=new db({next:V=>{w.Nu(),d.enqueueAndForget((()=>ib(c,A)));const Q=V.docs.has(g);!Q&&V.fromCache?y.reject(new se(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&V.fromCache&&_&&_.source==="server"?y.reject(new se(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),A=new sb(Th(g.path),w,{includeMetadataChanges:!0,Ka:!0});return nb(c,A)})(await Am(s),s.asyncQueue,e,i,r))),r.promise}function QR(s,e){const i=new nr;return s.asyncQueue.enqueueAndForget((async()=>VR(await FR(s),e,i))),i.promise}function gb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const KR="ComponentProvider",tv=new Map;function YR(s,e,i,r,o){return new g2(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,gb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const pb="firestore.googleapis.com",nv=!0;class iv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pb,this.ssl=nv}else this.host=e.host,this.ssl=e.ssl??nv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wx)throw new se(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QS;switch(r.type){case"firstParty":return new JS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=tv.get(i);r&&(le(KR,"Removing Datastore"),tv.delete(i),r.terminate())})(this),Promise.resolve()}}function XR(s,e,i,r={}){s=is(s,Dh);const o=al(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(zv(`https://${g}`),Bv("Firestore",!0)),c.host!==pb&&c.host!==g&&Qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:r};if(!Fr(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,w;if(typeof r.mockUserToken=="string")y=r.mockUserToken,w=Zt.MOCK_USER;else{y=yA(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new se(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Zt(A)}s._authCredentials=new KS(new t1(y,w))}}class ea{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class bt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Go(i,bt._jsonSchema))return new bt(e,r||null,new de(st.fromString(i.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Ot("string",bt._jsonSchemaVersion),referencePath:Ot("string")};class ir extends ea{constructor(e,i,r){super(e,i,Th(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new de(e))}withConverter(e){return new ir(this.firestore,e,this._path)}}function Eo(s,e,...i){if(s=An(s),n1("collection","path",e),s instanceof Dh){const r=st.fromString(e,...i);return p_(r),new ir(s,null,r)}{if(!(s instanceof bt||s instanceof ir))throw new se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...i));return p_(r),new ir(s.firestore,null,r)}}function Si(s,e,...i){if(s=An(s),arguments.length===1&&(e=km.newId()),n1("doc","path",e),s instanceof Dh){const r=st.fromString(e,...i);return g_(r),new bt(s,null,new de(r))}{if(!(s instanceof bt||s instanceof ir))throw new se(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...i));return g_(r),new bt(s.firestore,s instanceof ir?s.converter:null,new de(r))}}const sv="AsyncQueue";class rv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K1(this,"async_queue_retry"),this._c=()=>{const r=Xd();r&&le(sv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;le(sv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",av(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=eg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&pe(47125,{Pc:av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function av(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class rl extends Dh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new rv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rv(e),this._firestoreClient=void 0,await e}}}function JR(s,e){const i=typeof s=="object"?s:Gv(),r=typeof s=="string"?s:Wc,o=Vm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=gA("firestore");c&&XR(o,...c)}return o}function rg(s){if(s._terminated)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ZR(s),s._firestoreClient}function ZR(s){const e=s._freezeSettings(),i=YR(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new qR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Kt.fromBase64String(e))}catch(i){throw new se(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Pn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Go(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ot("string",Pn._jsonSchemaVersion),bytes:Ot("string")};class yb{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new se(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ag{constructor(e){this._methodName=e}}class Ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new se(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new se(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(Go(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ot("string",Ii._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class ti{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Go(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ti(e.vectorValues);throw new se(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Ot("string",ti._jsonSchemaVersion),vectorValues:Ot("object")};const WR=/^__.*__$/;class eN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Qo(e,this.data,i,this.fieldTransforms)}}function _b(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{dataSource:s})}}class lg{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return uh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(_b(this.dataSource)&&WR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class tN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Nh(e)}createContext(e,i,r,o=!1){return new lg({dataSource:e,methodName:i,targetDoc:r,path:Qt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vb(s){const e=s._freezeSettings(),i=Nh(s._databaseId);return new tN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function nN(s,e,i,r,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);Tb("Data must be an object, but it was:",d,r);const g=bb(r,d);let _,y;if(c.merge)_=new Wn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const A of c.mergeFields){const V=cg(e,A,i);if(!d.contains(V))throw new se(Y.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);aN(w,V)||w.push(V)}_=new Wn(w),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new eN(new Un(g),_,y)}class og extends ag{_toFieldTransform(e){return new H2(e.path,new Po)}isEqual(e){return e instanceof og}}function iN(s,e,i,r=!1){return ug(i,s.createContext(r?4:3,e))}function ug(s,e){if(Eb(s=An(s)))return Tb("Unsupported field value:",e,s),bb(s,e);if(s instanceof ag)return(function(r,o){if(!_b(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const g of r){let _=ug(g,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:rh(o.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(o.serializer,c)}}if(r instanceof Ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:j1(o.serializer,r._byteString)};if(r instanceof bt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ti)return(function(d,g){const _=d instanceof ti?d.toArray():d;return{mapValue:{fields:{[h1]:{stringValue:f1},[eh]:{arrayValue:{values:_.map((w=>{if(typeof w!="number")throw g.createError("VectorValues must only contain numeric values.");return Bm(g.serializer,w)}))}}}}}})(r,o);if(H1(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${_h(r)}`)})(s,e)}function bb(s,e){const i={};return r1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(s,((r,o)=>{const c=ug(o,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function Eb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof Ii||s instanceof Pn||s instanceof bt||s instanceof ag||s instanceof ti||H1(s))}function Tb(s,e,i){if(!Eb(i)||!i1(i)){const r=_h(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function cg(s,e,i){if((e=An(e))instanceof yb)return e._internalPath;if(typeof e=="string")return rN(s,e);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const sN=new RegExp("[~\\*/\\[\\]]");function rN(s,e,i){if(e.search(sN)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new yb(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new se(Y.INVALID_ARGUMENT,g+s+_)}function aN(s,e){return s.some((i=>i.isEqual(e)))}class lN{convertValue(e,i="none"){switch(or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Xr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[eh].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new ti(i)}convertGeoPoint(e){return new Ii(vt(e.latitude),vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Eh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const i=ar(e);return new ot(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=st.fromString(e);$e(q1(r),9688,{name:e});const o=new Lo(r.get(1),r.get(3)),c=new de(r.popFirst(5));return o.isEqual(i)||rs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class wb extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,i)}}function kc(){return new og("serverTimestamp")}const lv="@firebase/firestore",ov="4.11.0";function uv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ab{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(cg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class oN extends Ab{data(){return super.data()}}function uN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new se(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class Sb extends hg{}function jc(s,e,...i){let r=[];e instanceof hg&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof dg)).length,g=c.filter((_=>_ instanceof fg)).length;if(d>1||d>0&&g>0)throw new se(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class fg extends Sb{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new fg(e,i,r)}_apply(e){const i=this._parse(e);return xb(e._query,i),new ea(e.firestore,e.converter,mm(e._query,i))}_parse(e){const i=vb(e.firestore);return(function(c,d,g,_,y,w,A){let V;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new se(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){fv(A,w);const Z=[];for(const ee of A)Z.push(hv(_,c,ee));V={arrayValue:{values:Z}}}else V=hv(_,c,A)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||fv(A,w),V=iN(g,d,A,w==="in"||w==="not-in");return Dt.create(y,w,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class dg extends hg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new dg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ni.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const _ of g)xb(d,_),d=mm(d,_)})(e._query,i),new ea(e.firestore,e.converter,mm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mg extends Sb{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new mg(e,i,r)}_apply(e){return new ea(e.firestore,e.converter,ih(e._query,this._limit,this._limitType))}}function cv(s){return s2("limit",s),mg._create("limit",s,"F")}function hv(s,e,i){if(typeof(i=An(i))=="string"){if(i==="")throw new se(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b1(e)&&i.indexOf("/")!==-1)throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(st.fromString(i));if(!de.isDocumentKey(r))throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return A_(s,new de(r))}if(i instanceof bt)return A_(s,i._key);throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(i)}.`)}function fv(s,e){if(!Array.isArray(s)||s.length===0)throw new se(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xb(s,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new se(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function cN(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class xo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hr extends Ab{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(cg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Hr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hr._jsonSchema={type:Ot("string",Hr._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Gc extends Hr{data(e={}){return super.data(e)}}class Ya{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new xo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Gc(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new se(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),w=d.indexOf(g.doc.key)),{type:hN(g.type),doc:_,oldIndex:y,newIndex:w}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ya._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:s})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Ot("string",Ya._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function fN(s){s=is(s,bt);const e=is(s.firestore,rl),i=rg(e);return $R(i,s._key).then((r=>Nb(e,s,r)))}function es(s,e,i){s=is(s,bt);const r=is(s.firestore,rl),o=cN(s.converter,e,i),c=vb(r);return Rb(r,[nN(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Ni.none())])}function Zd(s){return Rb(is(s.firestore,rl),[new qm(s._key,Ni.none())])}function Lc(s,...e){s=An(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||uv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(uv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof bt)d=is(s.firestore,rl),g=Th(s._key.path),c={next:y=>{e[r]&&e[r](Nb(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=is(s,ea);d=is(y.firestore,rl),g=y._query;const w=new wb(d);c={next:A=>{e[r]&&e[r](new Ya(d,w,y,A))},error:e[r+1],complete:e[r+2]},uN(s._query)}const _=rg(d);return GR(_,g,o,c)}function Rb(s,e){const i=rg(s);return QR(i,e)}function Nb(s,e,i){const r=i.docs.get(e._key),o=new wb(s);return new Hr(s,o,e._key,r,new xo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){$S(ll),Wa(new Gr("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new rl(new YS(r.getProvider("auth-internal")),new ZS(d,r.getProvider("app-check-internal")),p2(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),er(lv,ov,e),er(lv,ov,"esm2020")})();function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dN=Cb,Ib=new Ho("auth","Firebase",Cb());const ch=new Dm("@firebase/auth");function mN(s,...e){ch.logLevel<=Oe.WARN&&ch.warn(`Auth (${ll}): ${s}`,...e)}function $c(s,...e){ch.logLevel<=Oe.ERROR&&ch.error(`Auth (${ll}): ${s}`,...e)}function ls(s,...e){throw gg(s,...e)}function Di(s,...e){return gg(s,...e)}function Db(s,e,i){const r={...dN(),[e]:i};return new Ho("auth","Firebase",r).create(e,{appName:s.name})}function sr(s){return Db(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gg(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Ib.create(s,...e)}function ve(s,e,...i){if(!s)throw gg(e,...i)}function ts(s){const e="INTERNAL ASSERTION FAILED: "+s;throw $c(e),new Error(e)}function os(s,e){s||ts(e)}function Sm(){return typeof self<"u"&&self.location?.href||""}function gN(){return dv()==="http:"||dv()==="https:"}function dv(){return typeof self<"u"&&self.location?.protocol||null}function pN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gN()||wA()||"connection"in navigator)?navigator.onLine:!0}function yN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jo{constructor(e,i){this.shortDelay=e,this.longDelay=i,os(i>e,"Short delay should be less than long delay!"),this.isMobile=bA()||AA()}get(){return pN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pg(s,e){os(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Ob{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bN=new Jo(3e4,6e4);function Oh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function fl(s,e,i,r,o={}){return Vb(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=Fo({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return TA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&al(s.emulatorConfig.host)&&(y.credentials="include"),Ob.fetch()(await kb(s,s.config.apiHost,i,g),y)})}async function Vb(s,e,i){s._canInitEmulator=!1;const r={..._N,...e};try{const o=new EN(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Uc(s,"user-disabled",d);const w=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Db(s,w,y);ls(s,w)}}catch(o){if(o instanceof us)throw o;ls(s,"network-request-failed",{message:String(o)})}}async function Mb(s,e,i,r,o={}){const c=await fl(s,e,i,r,o);return"mfaPendingCredential"in c&&ls(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function kb(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?pg(s.config,o):`${s.config.apiScheme}://${o}`;return vN.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class EN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),bN.get())})}}function Uc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Di(s,e,r);return o.customData._tokenResponse=i,o}async function TN(s,e){return fl(s,"POST","/v1/accounts:delete",e)}async function hh(s,e){return fl(s,"POST","/v1/accounts:lookup",e)}function Vo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wN(s,e=!1){const i=An(s),r=await i.getIdToken(e),o=yg(r);ve(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Vo(Wd(o.auth_time)),issuedAtTime:Vo(Wd(o.iat)),expirationTime:Vo(Wd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wd(s){return Number(s)*1e3}function yg(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=jv(i);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o?.toString()),null}}function mv(s){const e=yg(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof us&&AN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function AN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class SN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(s){const e=s.auth,i=await s.getIdToken(),r=await qo(s,hh(e,{idToken:i}));ve(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?jb(o.providerUserInfo):[],d=RN(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,y=g?_:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,w)}async function xN(s){const e=An(s);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function jb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function NN(s,e){const i=await Vb(s,{},async()=>{const r=Fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await kb(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&al(s.emulatorConfig.host)&&(_.credentials="include"),Ob.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function CN(s,e){return fl(s,"POST","/v2/accounts:revokeToken",Oh(s,e))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=mv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await NN(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new Xa;return r&&(ve(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(ve(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return ts("not implemented")}}function $s(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new SN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await qo(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return wN(this,e)}reload(){return xN(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await qo(this,TN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,w=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:Q,providerData:Z,stsTokenManager:ee}=i;ve(A&&ee,e,"internal-error");const ie=Xa.fromJSON(this.name,ee);ve(typeof A=="string",e,"internal-error"),$s(r,e.name),$s(o,e.name),ve(typeof V=="boolean",e,"internal-error"),ve(typeof Q=="boolean",e,"internal-error"),$s(c,e.name),$s(d,e.name),$s(g,e.name),$s(_,e.name),$s(y,e.name),$s(w,e.name);const ue=new ei({uid:A,auth:e,email:o,emailVerified:V,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ie,createdAt:y,lastLoginAt:w});return Z&&Array.isArray(Z)&&(ue.providerData=Z.map(ye=>({...ye}))),_&&(ue._redirectEventId=_),ue}static async _fromIdTokenResponse(e,i,r=!1){const o=new Xa;o.updateFromServerResponse(i);const c=new ei({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await fh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];ve(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?jb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Xa;g.updateFromIdToken(r);const _=new ei({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const gv=new Map;function ns(s){os(s instanceof Function,"Expected a class definition");let e=gv.get(s);return e?(os(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,gv.set(s,e),e)}class Lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Lb.type="NONE";const pv=Lb;function Qc(s,e,i){return`firebase:${s}:${e}:${i}`}class Ja{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Qc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await hh(this.auth,{idToken:e}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Ja(ns(pv),e,r);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ns(pv);const d=Qc(r,e.config.apiKey,e.name);let g=null;for(const y of i)try{const w=await y._get(d);if(w){let A;if(typeof w=="string"){const V=await hh(e,{idToken:w}).catch(()=>{});if(!V)break;A=await ei._fromGetAccountInfoResponse(e,V,w)}else A=ei._fromJSON(e,w);y!==c&&(g=A),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ja(c,e,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ja(c,e,r))}}function yv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ub(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hb(e))return"Blackberry";if(Fb(e))return"Webos";if(Pb(e))return"Safari";if((e.includes("chrome/")||zb(e))&&!e.includes("edge/"))return"Chrome";if(qb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Ub(s=en()){return/firefox\//i.test(s)}function Pb(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zb(s=en()){return/crios\//i.test(s)}function Bb(s=en()){return/iemobile/i.test(s)}function qb(s=en()){return/android/i.test(s)}function Hb(s=en()){return/blackberry/i.test(s)}function Fb(s=en()){return/webos/i.test(s)}function _g(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function IN(s=en()){return _g(s)&&!!window.navigator?.standalone}function DN(){return SA()&&document.documentMode===10}function Gb(s=en()){return _g(s)||qb(s)||Fb(s)||Hb(s)||/windows phone/i.test(s)||Bb(s)}function $b(s,e=[]){let i;switch(s){case"Browser":i=yv(en());break;case"Worker":i=`${yv(en())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ll}/${r}`}class ON{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function VN(s,e={}){return fl(s,"GET","/v2/passwordPolicy",Oh(s,e))}const MN=6;class kN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??MN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class jN{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _v(this),this.idTokenSubscription=new _v(this),this.beforeStateQueue=new ON(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ib,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ns(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await hh(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(sr(this));const i=e?An(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VN(this),i=new kN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await CN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ns(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[ns(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vh(s){return An(s)}class _v{constructor(e){this.auth=e,this.observer=null,this.addObserver=VA(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LN(s){vg=s}function UN(s){return vg.loadJS(s)}function PN(){return vg.gapiScript}function zN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function BN(s,e){const i=Vm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Fr(c,e??{}))return o;ls(o,"already-initialized")}return i.initialize({options:e})}function qN(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ns);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function HN(s,e,i){const r=Vh(s);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=Qb(e),{host:d,port:g}=FN(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},w=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Fr(y,r.config.emulator)&&Fr(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,al(d)?(zv(`${c}//${d}${_}`),Bv("Auth",!0)):GN()}function Qb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function FN(s){const e=Qb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:vv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:vv(d)}}}function vv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function GN(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Kb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,i){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function Za(s,e){return Mb(s,"POST","/v1/accounts:signInWithIdp",Oh(s,e))}const $N="http://localhost";class Yr extends Kb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ls("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new Yr(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Za(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Za(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Za(e,i)}buildRequest(){const e={requestUri:$N,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Fo(i)}return e}}class Yb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zo extends Yb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qs extends Zo{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Ks extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Yr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Ks.credential(i,r)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Ys extends Zo{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";class Xs extends Zo{constructor(){super("twitter.com")}static credential(e,i){return Yr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Xs.credential(i,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";async function QN(s,e){return Mb(s,"POST","/v1/accounts:signUp",Oh(s,e))}class hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await ei._fromIdTokenResponse(e,r,o),d=bv(r);return new hr({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=bv(r);return new hr({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function bv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function KN(s){if(Zn(s.app))return Promise.reject(sr(s));const e=Vh(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new hr({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await QN(e,{returnSecureToken:!0}),r=await hr._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}class dh extends us{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new dh(e,i,r,o)}}function Xb(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(s,c,e,r):c})}async function YN(s,e,i=!1){const r=await qo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return hr._forOperation(s,"link",r)}async function XN(s,e,i=!1){const{auth:r}=s;if(Zn(r.app))return Promise.reject(sr(r));const o="reauthenticate";try{const c=await qo(s,Xb(r,o,e,s),i);ve(c.idToken,r,"internal-error");const d=yg(c.idToken);ve(d,r,"internal-error");const{sub:g}=d;return ve(s.uid===g,r,"user-mismatch"),hr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ls(r,"user-mismatch"),c}}async function JN(s,e,i=!1){if(Zn(s.app))return Promise.reject(sr(s));const r="signIn",o=await Xb(s,r,e),c=await hr._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}function ZN(s,e,i,r){return An(s).onIdTokenChanged(e,i,r)}function WN(s,e,i){return An(s).beforeAuthStateChanged(e,i)}const mh="__sak";class Jb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eC=1e3,tC=10;class Zb extends Jb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);DN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tC):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},eC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zb.type="LOCAL";const nC=Zb;class Wb extends Jb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Wb.type="SESSION";const eE=Wb;function iC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await iC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];function bg(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class sC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=bg("",20);o.port1.start();const w=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(A){const V=A;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(w),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function rC(s){Oi().location.href=s}function tE(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function aC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lC(){return navigator?.serviceWorker?.controller||null}function oC(){return tE()?self:null}const nE="firebaseLocalStorageDb",uC=1,gh="firebaseLocalStorage",iE="fbase_key";class Wo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kh(s,e){return s.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function cC(){const s=indexedDB.deleteDatabase(nE);return new Wo(s).toPromise()}function Rm(){const s=indexedDB.open(nE,uC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(gh,{keyPath:iE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(gh)?e(r):(r.close(),await cC(),e(await Rm()))})})}async function Ev(s,e,i){const r=kh(s,!0).put({[iE]:e,value:i});return new Wo(r).toPromise()}async function hC(s,e){const i=kh(s,!1).get(e),r=await new Wo(i).toPromise();return r===void 0?null:r.value}function Tv(s,e){const i=kh(s,!0).delete(e);return new Wo(i).toPromise()}const fC=800,dC=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>dC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(oC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aC(),!this.activeServiceWorker)return;this.sender=new sC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await Ev(e,mh,"1"),await Tv(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ev(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>hC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=kh(o,!1).getAll();return new Wo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const mC=sE;new Jo(3e4,6e4);function gC(s,e){return e?ns(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Eg extends Kb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Za(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function pC(s){return JN(s.auth,new Eg(s),s.bypassAuthState)}function yC(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),XN(i,new Eg(s),s.bypassAuthState)}async function _C(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),YN(i,new Eg(s),s.bypassAuthState)}class rE{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pC;case"linkViaPopup":case"linkViaRedirect":return _C;case"reauthViaPopup":case"reauthViaRedirect":return yC;default:ls(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vC=new Jo(2e3,1e4);class $a extends rE{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}$a.currentPopupAction=null;const bC="pendingRedirect",Kc=new Map;class EC extends rE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const r=await TC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TC(s,e){const i=SC(e),r=AC(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function wC(s,e){Kc.set(s._key(),e)}function AC(s){return ns(s._redirectPersistence)}function SC(s){return Qc(bC,s.config.apiKey,s.name)}async function xC(s,e,i=!1){if(Zn(s.app))return Promise.reject(sr(s));const r=Vh(s),o=gC(r,e),d=await new EC(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const RC=600*1e3;class NC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!aE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RC&&this.cachedEventUids.clear(),this.cachedEventUids.has(wv(e))}saveEventToCache(e){this.cachedEventUids.add(wv(e)),this.lastProcessedEventTime=Date.now()}}function wv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function aE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function CC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aE(s);default:return!1}}async function IC(s,e={}){return fl(s,"GET","/v1/projects",e)}const DC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OC=/^https?/;async function VC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await IC(s);for(const i of e)try{if(MC(i))return}catch{}ls(s,"unauthorized-domain")}function MC(s){const e=Sm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!OC.test(i))return!1;if(DC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const kC=new Jo(3e4,6e4);function Av(){const s=Oi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function jC(s){return new Promise((e,i)=>{function r(){Av(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Av(),i(Di(s,"network-request-failed"))},timeout:kC.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)r();else{const o=zN("iframefcb");return Oi()[o]=()=>{gapi.load?r():i(Di(s,"network-request-failed"))},UN(`${PN()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function LC(s){return Yc=Yc||jC(s),Yc}const UC=new Jo(5e3,15e3),PC="__/auth/iframe",zC="emulator/auth/iframe",BC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HC(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?pg(e,zC):`https://${s.config.authDomain}/${PC}`,r={apiKey:e.apiKey,appName:s.name,v:ll},o=qC.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Fo(r).slice(1)}`}async function FC(s){const e=await LC(s),i=Oi().gapi;return ve(i,s,"internal-error"),e.open({where:document.body,url:HC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Di(s,"network-request-failed"),g=Oi().setTimeout(()=>{c(d)},UC.get());function _(){Oi().clearTimeout(g),o(r)}r.ping(_).then(_,()=>{c(d)})}))}const GC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$C=500,QC=600,KC="_blank",YC="http://localhost";class Sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XC(s,e,i,r=$C,o=QC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...GC,width:r.toString(),height:o.toString(),top:c,left:d},y=en().toLowerCase();i&&(g=zb(y)?KC:i),Ub(y)&&(e=e||YC,_.scrollbars="yes");const w=Object.entries(_).reduce((V,[Q,Z])=>`${V}${Q}=${Z},`,"");if(IN(y)&&g!=="_self")return JC(e||"",g),new Sv(null);const A=window.open(e||"",g,w);ve(A,s,"popup-blocked");try{A.focus()}catch{}return new Sv(A)}function JC(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const ZC="__/auth/handler",WC="emulator/auth/handler",eI=encodeURIComponent("fac");async function xv(s,e,i,r,o,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:ll,eventId:o};if(e instanceof Yb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",OA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,A]of Object.entries({}))d[w]=A}if(e instanceof Zo){const w=e.getScopes().filter(A=>A!=="");w.length>0&&(d.scopes=w.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const w of Object.keys(g))g[w]===void 0&&delete g[w];const _=await s._getAppCheckToken(),y=_?`#${eI}=${encodeURIComponent(_)}`:"";return`${tI(s)}?${Fo(g).slice(1)}${y}`}function tI({config:s}){return s.emulator?pg(s,WC):`https://${s.authDomain}/${ZC}`}const em="webStorageSupport";class nI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eE,this._completeRedirectFn=xC,this._overrideRedirectResult=wC}async _openPopup(e,i,r,o){os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await xv(e,i,r,Sm(),o);return XC(e,c,bg())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await xv(e,i,r,Sm(),o);return rC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(os(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await FC(e),r=new NC(e);return i.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(em,{type:em},o=>{const c=o?.[0]?.[em];c!==void 0&&i(!!c),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=VC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Gb()||Pb()||_g()}}const iI=nI;var Rv="@firebase/auth",Nv="1.12.0";class sI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aI(s){Wa(new Gr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$b(s)},y=new jN(r,o,c,_);return qN(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Wa(new Gr("auth-internal",e=>{const i=Vh(e.getProvider("auth").getImmediate());return(r=>new sI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(Rv,Nv,rI(s)),er(Rv,Nv,"esm2020")}const lI=300,oI=Pv("authIdTokenMaxAge")||lI;let Cv=null;const uI=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>oI)return;const o=i?.token;Cv!==o&&(Cv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cI(s=Gv()){const e=Vm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=BN(s,{popupRedirectResolver:iI,persistence:[mC,nC,eE]}),r=Pv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=uI(c.toString());WN(i,d,()=>d(i.currentUser)),ZN(i,g=>d(g))}}const o=Lv("auth");return o&&HN(i,`http://${o}`),i}function hI(){return document.getElementsByTagName("head")?.[0]??document}LN({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Di("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",hI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aI("Browser");const fI={apiKey:"AIzaSyBT93hmr81TT_-KltaYxcYwms_xKxg3c1I",authDomain:"medivend-a3d51.firebaseapp.com",projectId:"medivend-a3d51",storageBucket:"medivend-a3d51.firebasestorage.app",messagingSenderId:"743343498567",appId:"1:743343498567:web:2d50fb42346f31350d1862"},lE=Fv(fI),fn=JR(lE),dI=cI(lE),dn="medivend-local",tm={username:"admin",password:"admin123",email:"admin@medivend.com",displayName:"System Administrator",photoUrl:"image_3f1ac4.png"};function mI(){const[s,e]=Ce.useState(!1),[i,r]=Ce.useState(null),[o,c]=Ce.useState(!0);return Ce.useEffect(()=>{(async()=>{try{await KN(dI);const g=Si(fn,"artifacts",dn,"public","data","settings","admin_profile"),_=await fN(g);_.exists()?r(_.data()):(await es(g,tm),r(tm))}catch(g){console.error("Failed to initialize admin:",g),r(tm)}finally{c(!1)}})()},[]),o?b.jsx("div",{className:"flex h-screen items-center justify-center bg-[#0B0F19]",children:b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx(Im,{className:"w-8 h-8 text-indigo-500 animate-spin"}),b.jsx("p",{className:"text-sm font-semibold text-slate-400",children:"Connecting to Secure Server..."})]})}):s?b.jsx(pI,{onLogout:()=>e(!1),initialProfile:i}):b.jsx(gI,{onLogin:()=>e(!0),cloudProfile:i})}function gI({onLogin:s,cloudProfile:e}){const[i,r]=Ce.useState(""),[o,c]=Ce.useState(""),[d,g]=Ce.useState(""),[_,y]=Ce.useState(!1),[w,A]=Ce.useState(0),[V,Q]=Ce.useState(!1),[Z,ee]=Ce.useState(0);Ce.useEffect(()=>{let ue;return V&&Z>0?ue=setInterval(()=>{ee(ye=>ye-1)},1e3):Z===0&&V&&(Q(!1),A(0),g("")),()=>clearInterval(ue)},[V,Z]);const ie=ue=>{ue.preventDefault(),!V&&(y(!0),g(""),setTimeout(()=>{const ye=e?.username||"admin",_e=e?.password||"admin123";if(i===ye&&o===_e)s();else{const xe=w+1;A(xe),y(!1),xe>=5?(Q(!0),ee(10),g("Too many failed attempts. Locked for 10s.")):g(`Invalid credentials. ${5-xe} attempts remaining.`)}},800))};return b.jsxs("div",{className:"flex h-screen w-full bg-[#0B0F19] font-sans text-slate-900 overflow-hidden relative",children:[b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/40 via-[#0B0F19] to-black opacity-90"}),b.jsx("div",{className:"w-full lg:w-1/2 h-full flex flex-col justify-center items-center p-6 md:p-12 relative z-10",children:b.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-3xl shadow-2xl border-4 border-slate-200/20 animate-in fade-in slide-in-from-bottom-8 duration-700 relative overflow-hidden ring-1 ring-white/10",children:[b.jsxs("div",{className:"text-center mb-8 relative z-10",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-tr from-indigo-600 to-blue-600 rounded-2xl shadow-lg shadow-indigo-500/30 mb-6 transform transition-transform hover:scale-105 ring-4 ring-white",children:b.jsx(Ro,{className:"w-8 h-8 text-white"})}),b.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-slate-900 mb-2",children:"Super Admin"}),b.jsx("p",{className:"text-slate-500 text-sm",children:"MediVend Network Control"})]}),b.jsxs("form",{onSubmit:ie,className:"space-y-5 relative z-10",children:[b.jsxs("div",{className:"relative group",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Username"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(nm,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),b.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium",placeholder:"Enter username",value:i,onChange:ue=>r(ue.target.value),disabled:V})]})]}),b.jsxs("div",{className:"relative group",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(Ov,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),b.jsx("input",{required:!0,type:"password",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium",placeholder:"",value:o,onChange:ue=>c(ue.target.value),disabled:V})]})]}),d&&b.jsxs("div",{className:`p-3 rounded-xl text-sm font-medium border flex items-center gap-2 animate-in slide-in-from-top-2 ${V?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:[b.jsx(Ww,{className:"w-4 h-4"})," ",V?`Security Lockout: Try again in ${Z}s`:d]}),b.jsx("button",{type:"submit",disabled:_||V,className:"w-full bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-indigo-600/30 disabled:opacity-70 disabled:cursor-not-allowed transition-all transform active:scale-[0.98] flex justify-center items-center",children:_?b.jsx(Im,{className:"w-5 h-5 animate-spin"}):V?"Locked":"Access Portal"})]}),b.jsx("div",{className:"text-center text-[10px] text-slate-400 pt-8 mt-4 border-t border-slate-100",children:b.jsx("p",{children:"Authorized Personnel Only  Secure Connection"})})]})}),b.jsxs("div",{className:"hidden lg:flex w-1/2 bg-[#0B0F19] relative overflow-hidden items-center justify-center border-l border-white/5",children:[b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/40 via-[#0B0F19] to-black opacity-90"}),b.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-[0.03]"}),b.jsxs("div",{className:"relative z-10 p-12 text-white max-w-lg text-center",children:[b.jsx(Cm,{className:"w-24 h-24 text-emerald-400 mx-auto mb-6 opacity-80 drop-shadow-lg"}),b.jsx("h1",{className:"text-4xl font-bold mb-4 tracking-tight text-white",children:"System Status: Optimal"}),b.jsx("p",{className:"text-slate-400 text-lg",children:"Real-time monitoring active."})]})]})]})}function pI({onLogout:s,initialProfile:e}){const[i,r]=Ce.useState(!0),[o,c]=Ce.useState("overview"),[d,g]=Ce.useState([]),[_,y]=Ce.useState([]),[w,A]=Ce.useState([]),[V,Q]=Ce.useState([]),[Z,ee]=Ce.useState(!0),[ie,ue]=Ce.useState("pending"),[ye,_e]=Ce.useState(new Date),[xe,rt]=Ce.useState(e),[Ue,C]=Ce.useState(!1),[S,N]=Ce.useState(!1),[M,D]=Ce.useState(!1);Ce.useEffect(()=>{const J=setInterval(()=>_e(new Date),1e3);return()=>clearInterval(J)},[]),Ce.useEffect(()=>{ee(!0);const J=Eo(fn,"artifacts",dn,"public","data","doctors"),ae=Lc(jc(J),it=>{g(it.docs.map(Yt=>({id:Yt.id,...Yt.data()})))},it=>console.error("Error doctors:",it)),He=Eo(fn,"artifacts",dn,"public","data","prescriptions"),nt=Lc(jc(He,cv(30)),it=>{y(it.docs.map(Yt=>({id:Yt.id,...Yt.data()}))),ee(!1)},it=>console.error("Error transactions:",it)),Mi=Eo(fn,"artifacts",dn,"public","data","machines"),cs=Lc(jc(Mi),it=>{A(it.docs.map(Yt=>({id:Yt.id,...Yt.data()})))},it=>console.error("Error machines:",it)),hs=Eo(fn,"artifacts",dn,"public","data","audit_logs"),fs=Lc(jc(hs,cv(20)),it=>{const Yt=it.docs.map(ii=>({id:ii.id,...ii.data()}));Q(Yt),ee(!1)},it=>{console.error("Error audit:",it),ee(!1)});return()=>{ae(),nt(),cs(),fs()}},[]);const j=async(J,ae)=>{try{const He=Si(fn,"artifacts",dn,"public","data","doctors",J);await es(He,{status:ae,adminReviewedAt:kc()},{merge:!0}),await H("Doctor Status Update",`Set ${J} to ${ae}`)}catch(He){alert("Update failed: "+He.message)}},x=async J=>{try{const ae=Si(fn,"artifacts",dn,"public","data","machines",J);await es(ae,{lastPing:kc(),status:"online"},{merge:!0}),alert(`Ping signal sent to ${J}. Connection OK.`),await H("System Ping",`Pinged ${J}`)}catch(ae){alert("Failed to ping: "+ae.message)}},tt=async J=>{if(window.confirm(`Are you sure you want to reboot ${J}?`))try{const ae=Si(fn,"artifacts",dn,"public","data","machines",J);await es(ae,{status:"rebooting"},{merge:!0}),setTimeout(async()=>{await es(ae,{status:"offline"},{merge:!0}),setTimeout(async()=>{await es(ae,{status:"online",lastPing:kc()},{merge:!0}),alert(`${J} rebooted successfully.`),await H("System Reboot",`Rebooted ${J}`)},3e3)},1500)}catch(ae){alert("Reboot command failed: "+ae.message)}},mt=async J=>{if(window.confirm(`Remove ${J} from network? This cannot be undone.`))try{const ae=Si(fn,"artifacts",dn,"public","data","machines",J);await Zd(ae),await H("System Removal",`Removed kiosk ${J}`)}catch(ae){alert("Deletion failed: "+ae.message)}},H=async(J,ae)=>{try{const He=Eo(fn,"artifacts",dn,"public","data","audit_logs");await es(Si(He),{action:J,details:ae,user:xe.username,time:new Date().toLocaleTimeString(),timestamp:kc()})}catch(He){console.error("Failed to log audit:",He)}},ne=async()=>{if(V.length===0){alert("No audit logs to clear.");return}if(window.confirm(`Permanently delete ${V.length} audit records?`)){ee(!0);try{await Promise.all(V.map(J=>Zd(Si(fn,"artifacts",dn,"public","data","audit_logs",J.id)))),alert("Audit logs cleared.")}catch(J){console.error("Error clearing audit logs:",J)}ee(!1)}},he=async()=>{try{const J=Si(fn,"artifacts",dn,"public","data","settings","admin_profile");await es(J,xe),C(!1),alert("Profile updated and synced to cloud."),await H("Profile Update","Admin profile details updated")}catch(J){alert("Failed to save profile: "+J.message)}},je=async J=>{try{const ae={...xe,password:J},He=Si(fn,"artifacts",dn,"public","data","settings","admin_profile");await es(He,ae,{merge:!0}),rt(ae),N(!1),alert("Password updated and synced to cloud."),await H("Password Change","Admin password updated")}catch(ae){alert("Failed to update password: "+ae.message)}},qe=async()=>{const J=_.filter(ae=>ae.status==="completed");if(J.length===0){alert("No completed transactions to clear.");return}if(window.confirm(`Delete ${J.length} completed records?`)){ee(!0);try{await Promise.all(J.map(ae=>Zd(Si(fn,"artifacts",dn,"public","data","prescriptions",ae.id)))),alert("Cleanup successful."),await H("Data Cleanup",`Cleared ${J.length} completed transactions`)}catch(ae){console.error("Error clearing logs:",ae)}ee(!1)}},I=d.filter(J=>J.status==="pending").length,G=d.filter(J=>J.status==="active").length,W=w.filter(J=>J.status==="online").length,re=d.filter(J=>ie==="all"?!0:J.status===ie),me=J=>{c(J),D(!1)};return b.jsxs("div",{className:`flex h-screen font-sans overflow-hidden transition-colors duration-300 ${i?"bg-[#0B0F19] text-slate-300":"bg-gray-50 text-slate-600"}`,children:[M&&b.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 backdrop-blur-sm md:hidden",onClick:()=>D(!1)}),b.jsxs("aside",{className:`fixed inset-y-0 left-0 z-30 w-72 border-r shadow-2xl transform transition-all duration-300 ease-in-out flex flex-col ${M?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 ${i?"bg-[#0B0F19] border-white/5":"bg-white border-gray-200"}`,children:[b.jsxs("div",{className:`relative z-10 p-6 flex items-center gap-3 border-b ${i?"border-white/5":"border-gray-100"}`,children:[b.jsx("div",{className:"bg-gradient-to-tr from-indigo-500 to-blue-600 p-2.5 rounded-xl shadow-lg shadow-indigo-500/20 ring-1 ring-white/10",children:b.jsx(Ro,{className:"w-6 h-6 text-white"})}),b.jsxs("div",{children:[b.jsx("h1",{className:`font-bold text-lg tracking-wide ${i?"text-white":"text-slate-900"}`,children:"MediVend"}),b.jsx("p",{className:"text-[10px] uppercase font-bold text-indigo-500 tracking-wider",children:"Super Admin"})]}),b.jsx("button",{onClick:()=>D(!1),className:`md:hidden ml-auto ${i?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:b.jsx(Vv,{className:"w-5 h-5"})})]}),b.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:[b.jsx("div",{className:"px-3 mb-2 mt-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Workspace"}),b.jsx(To,{id:"overview",label:"Dashboard",icon:b.jsx(e_,{className:"w-5 h-5"}),active:o==="overview",onClick:me,isDarkMode:i}),b.jsx("div",{className:"px-3 mt-8 mb-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Network"}),b.jsx(To,{id:"doctors",label:"Doctors",icon:b.jsx(vo,{className:"w-5 h-5"}),active:o==="doctors",onClick:me,badge:I,isDarkMode:i}),b.jsx(To,{id:"machines",label:"Kiosks",icon:b.jsx(Cc,{className:"w-5 h-5"}),active:o==="machines",onClick:me,isDarkMode:i}),b.jsx("div",{className:"px-3 mt-8 mb-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Compliance"}),b.jsx(To,{id:"transactions",label:"Logs",icon:b.jsx(Aw,{className:"w-5 h-5"}),active:o==="transactions",onClick:me,isDarkMode:i}),b.jsx(To,{id:"audit",label:"Audit",icon:b.jsx(hw,{className:"w-5 h-5"}),active:o==="audit",onClick:me,isDarkMode:i})]}),b.jsx("div",{className:`p-4 border-t ${i?"bg-[#05080F] border-white/5":"bg-gray-50 border-gray-200"}`,children:b.jsxs("button",{onClick:s,className:"flex w-full items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-slate-400 hover:bg-rose-500/10 hover:text-rose-500 transition-all text-sm font-medium group",children:[b.jsx(Cw,{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform"})," Sign Out"]})})]}),b.jsxs("div",{className:`flex-1 flex flex-col min-w-0 overflow-hidden relative ${i?"bg-[#0B0F19]":"bg-gray-50"}`,children:[b.jsxs("header",{className:`h-16 border-b flex items-center justify-between px-6 shadow-sm z-10 sticky top-0 transition-colors ${i?"bg-[#0B0F19] border-white/5":"bg-white border-gray-200"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:()=>D(!0),className:`md:hidden p-2 -ml-2 rounded-lg ${i?"text-slate-400 hover:bg-white/5":"text-slate-600 hover:bg-gray-100"}`,children:b.jsx(Dw,{className:"w-6 h-6"})}),b.jsxs("h2",{className:`text-lg md:text-xl font-bold capitalize tracking-tight flex items-center gap-2 ${i?"text-white":"text-slate-900"}`,children:[o==="overview"&&b.jsx(e_,{className:"w-5 h-5 text-indigo-500 hidden sm:block"}),o==="doctors"&&b.jsx(vo,{className:"w-5 h-5 text-indigo-500 hidden sm:block"}),o==="machines"&&b.jsx(Cc,{className:"w-5 h-5 text-emerald-500 hidden sm:block"}),o==="settings"&&b.jsx(Gw,{className:"w-5 h-5 text-slate-400 hidden sm:block"}),o.replace("-"," ")]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>r(!i),className:`p-2 rounded-full transition-all ${i?"bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-slate-600 hover:text-slate-900"}`,title:"Toggle Theme",children:i?b.jsx(Xw,{className:"w-4 h-4 text-amber-400"}):b.jsx(Vw,{className:"w-4 h-4 text-indigo-500"})}),b.jsxs("div",{className:`hidden lg:flex items-center gap-2 px-3 py-1.5 rounded-full border text-xs font-semibold ${i?"bg-white/5 border-white/10 text-slate-300":"bg-gray-100 border-gray-200 text-slate-600"}`,children:[b.jsx(dw,{className:"w-3.5 h-3.5 text-indigo-500"}),ye.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),b.jsxs("button",{onClick:()=>{c("doctors"),ue("pending")},className:`p-2 transition-colors relative rounded-full ${i?"text-slate-400 hover:text-indigo-400 hover:bg-white/5":"text-slate-600 hover:text-indigo-600 hover:bg-gray-100"}`,children:[b.jsx(iw,{className:"w-5 h-5"}),I>0&&b.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-rose-500 rounded-full border border-white/10"})]}),b.jsx("div",{onClick:()=>c("settings"),className:`flex items-center gap-3 cursor-pointer p-1.5 -mr-1.5 rounded-lg transition-colors group ${i?"hover:bg-white/5":"hover:bg-gray-100"}`,children:b.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-xs ring-2 ring-white/10 shadow-md group-hover:ring-indigo-500/50 transition-all",children:xe?.displayName?.charAt(0)||"A"})})]})]}),b.jsxs("main",{className:`flex-1 overflow-y-auto p-4 lg:p-6 ${i?"bg-[#0B0F19]":"bg-gray-50"}`,children:[o==="overview"&&b.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[b.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-5 items-stretch",children:[b.jsx(Pc,{title:"Pending Approvals",value:I,icon:b.jsx(vo,{className:"w-5 h-5 text-amber-400"}),color:"amber",subtext:"Requires attention",onClick:()=>{c("doctors"),ue("pending")},isDarkMode:i}),b.jsx(Pc,{title:"Active Kiosks",value:`${W}/${w.length>0?w.length:0}`,icon:b.jsx(Cc,{className:"w-5 h-5 text-emerald-400"}),color:"emerald",subtext:"Network Status",onClick:()=>c("machines"),isDarkMode:i}),b.jsx(Pc,{title:"Active Physicians",value:G,icon:b.jsx(Kw,{className:"w-5 h-5 text-blue-400"}),color:"blue",subtext:"Verified prescribers",onClick:()=>{c("doctors"),ue("active")},isDarkMode:i}),b.jsx(Pc,{title:"Security Alerts",value:V.length,icon:b.jsx(kw,{className:"w-5 h-5 text-rose-400"}),color:"red",subtext:"System events",onClick:()=>c("audit"),isDarkMode:i})]}),b.jsxs("div",{className:`p-6 rounded-xl border shadow-lg ${i?"bg-white/5 border-white/5":"bg-white border-gray-200"}`,children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:`font-bold text-lg ${i?"text-white":"text-slate-900"}`,children:"Network Health"}),b.jsx("p",{className:"text-xs text-slate-400",children:"Real-time infrastructure status & capacity"})]}),b.jsx("div",{className:"flex gap-2",children:b.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-emerald-500 bg-emerald-500/10 px-3 py-1 rounded-full border border-emerald-500/20 whitespace-nowrap flex-shrink-0",children:[b.jsx(Cm,{className:"w-3 h-3"})," System Normal"]})})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{children:[b.jsxs("h4",{className:`text-sm font-bold mb-4 flex items-center gap-2 ${i?"text-slate-300":"text-slate-700"}`,children:[b.jsx(Cc,{className:"w-4 h-4 text-emerald-500"})," Kiosk Connectivity"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[b.jsxs("span",{className:"font-medium text-slate-400",children:["Online (",W,")"]}),b.jsxs("span",{className:"text-emerald-500 font-bold",children:[w.length>0?Math.round(W/w.length*100):0,"%"]})]}),b.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${i?"bg-white/10":"bg-gray-100"}`,children:b.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all duration-1000",style:{width:`${w.length>0?W/w.length*100:0}%`}})})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[b.jsxs("span",{className:"font-medium text-slate-400",children:["Offline / Maintenance (",w.length-W,")"]}),b.jsxs("span",{className:"text-slate-500 font-bold",children:[w.length>0?Math.round((w.length-W)/w.length*100):0,"%"]})]}),b.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${i?"bg-white/10":"bg-gray-100"}`,children:b.jsx("div",{className:"bg-slate-500 h-2 rounded-full transition-all duration-1000",style:{width:`${w.length>0?(w.length-W)/w.length*100:0}%`}})})]})]})]}),b.jsxs("div",{children:[b.jsxs("h4",{className:`text-sm font-bold mb-4 flex items-center gap-2 ${i?"text-slate-300":"text-slate-700"}`,children:[b.jsx(vo,{className:"w-4 h-4 text-blue-500"})," Provider Status"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[b.jsxs("span",{className:"font-medium text-slate-400",children:["Active Physicians (",G,")"]}),b.jsxs("span",{className:"text-blue-500 font-bold",children:[d.length>0?Math.round(G/d.length*100):0,"%"]})]}),b.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${i?"bg-white/10":"bg-gray-100"}`,children:b.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-1000",style:{width:`${d.length>0?G/d.length*100:0}%`}})})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[b.jsxs("span",{className:"font-medium text-slate-400",children:["Pending Approval (",I,")"]}),b.jsxs("span",{className:"text-amber-500 font-bold",children:[d.length>0?Math.round(I/d.length*100):0,"%"]})]}),b.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${i?"bg-white/10":"bg-gray-100"}`,children:b.jsx("div",{className:"bg-amber-500 h-2 rounded-full transition-all duration-1000",style:{width:`${d.length>0?I/d.length*100:0}%`}})})]})]})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:`p-5 rounded-xl border h-full ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[b.jsx("h3",{className:`font-bold text-base mb-4 ${i?"text-white":"text-slate-900"}`,children:"Quick Actions"}),b.jsxs("div",{className:"flex gap-2 md:flex-col",children:[b.jsx("div",{className:"flex-1",children:b.jsx(Iv,{onClick:()=>{c("doctors"),ue("pending")},icon:b.jsx(vo,{className:"w-4 h-4"}),label:`Review ${I} Doctors`,variant:"primary"})}),b.jsx("div",{className:"flex-1",children:b.jsx(Iv,{onClick:()=>c("audit"),icon:b.jsx(Tw,{className:"w-4 h-4"}),label:"View Security Audit",variant:"secondary",isDarkMode:i})})]})]}),b.jsxs("div",{className:`lg:col-span-2 p-5 rounded-xl border ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[b.jsx("h3",{className:`font-bold text-base mb-4 ${i?"text-white":"text-slate-900"}`,children:"Live Activity Feed"}),b.jsxs("div",{className:"space-y-0 relative",children:[b.jsx("div",{className:`absolute left-3 top-2 bottom-2 w-px ${i?"bg-white/10":"bg-gray-200"}`}),_.length===0&&V.length===0?b.jsx("div",{className:"pl-8 py-4 text-sm text-slate-500 italic",children:"No recent activity"}):b.jsxs(b.Fragment,{children:[_.slice(0,3).map(J=>b.jsxs("div",{className:`py-3 pl-8 relative flex justify-between items-center text-sm group rounded-lg -ml-2 pr-2 transition-colors ${i?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[b.jsx("div",{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 bg-blue-900 border-2 border-blue-500 rounded-full z-10"}),b.jsx("div",{className:"flex items-center gap-3",children:b.jsxs("div",{children:[b.jsx("p",{className:`font-bold text-xs ${i?"text-white":"text-slate-900"}`,children:"Prescription Issued"}),b.jsxs("p",{className:"text-xs text-slate-400",children:["Dr. ",J.doctorName]})]})}),b.jsx("span",{className:"text-xs text-slate-500 font-mono",children:J.date})]},J.id)),V.slice(0,3).map((J,ae)=>b.jsxs("div",{className:`py-3 pl-8 relative flex justify-between items-center text-sm group rounded-lg -ml-2 pr-2 transition-colors ${i?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[b.jsx("div",{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 bg-amber-900 border-2 border-amber-500 rounded-full z-10"}),b.jsx("div",{className:"flex items-center gap-3",children:b.jsxs("div",{children:[b.jsx("p",{className:`font-bold text-xs ${i?"text-white":"text-slate-900"}`,children:J.action}),b.jsx("p",{className:"text-xs text-slate-400",children:J.details})]})}),b.jsx("span",{className:"text-xs text-slate-500 font-mono",children:J.time})]},ae))]})]})]})]})]}),o==="doctors"&&b.jsx(yI,{doctors:re,filter:ie,setFilter:ue,onRefresh:()=>{},onUpdateStatus:j,loading:Z,isDarkMode:i}),o==="machines"&&b.jsx(_I,{machines:w,onPing:x,onReboot:tt,onDelete:mt,isDarkMode:i}),o==="transactions"&&b.jsx(vI,{transactions:_,onClear:qe,isDarkMode:i}),o==="audit"&&b.jsx(bI,{logs:V,onClear:ne,isDarkMode:i}),o==="settings"&&b.jsx(EI,{profile:xe,setProfile:rt,onSave:he,isEditing:Ue,setIsEditing:C,setShowPassword:()=>N(!0),isDarkMode:i})]}),S&&b.jsx(TI,{onClose:()=>N(!1),currentCreds:xe,onUpdate:je,isDarkMode:i})]})]})}function yI({doctors:s,filter:e,setFilter:i,onRefresh:r,onUpdateStatus:o,loading:c,isDarkMode:d}){const[g,_]=Ce.useState(null);return b.jsxs("div",{className:`rounded-xl border overflow-hidden max-w-7xl mx-auto ${d?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[b.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${d?"border-white/5":"border-gray-100"}`,children:[b.jsx("h3",{className:`font-bold text-base ${d?"text-white":"text-slate-900"}`,children:"Medical Practitioners"}),b.jsxs("button",{onClick:r,className:"text-xs font-bold uppercase text-slate-400 flex items-center gap-1 hover:text-emerald-500 transition-colors",children:[b.jsx(Im,{className:`w-3 h-3 ${c?"animate-spin":""}`})," Refresh"]})]}),b.jsx("div",{className:`p-3 border-b flex gap-2 overflow-x-auto ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:["pending","active","rejected","all"].map(y=>b.jsx("button",{onClick:()=>i(y),className:`px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${e===y?"bg-emerald-600 text-white shadow":d?"bg-transparent border border-white/10 text-slate-400 hover:bg-white/10":"bg-white border border-gray-300 text-slate-500 hover:bg-gray-100"}`,children:y},y))}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:`text-[10px] uppercase font-bold text-slate-400 ${d?"bg-white/5":"bg-gray-50"}`,children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-5 py-3",children:"Name"}),b.jsx("th",{className:"px-5 py-3",children:"License Info"}),b.jsx("th",{className:"px-5 py-3",children:"Status"}),b.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),b.jsx("tbody",{className:`divide-y ${d?"divide-white/5":"divide-gray-100"}`,children:s.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"4",className:"p-4 text-center text-xs text-slate-500",children:"No doctors found."})}):s.map(y=>b.jsxs("tr",{className:`transition-colors ${d?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[b.jsx("td",{className:"px-5 py-3",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs border ${d?"bg-slate-700 text-white border-white/10":"bg-indigo-50 text-indigo-600 border-indigo-100"}`,children:y.name?y.name.charAt(0):"?"}),b.jsxs("div",{children:[b.jsx("div",{className:`font-bold text-sm ${d?"text-white":"text-slate-900"}`,children:y.name}),b.jsx("div",{className:"text-[10px] text-slate-400",children:y.email})]})]})}),b.jsx("td",{className:"px-5 py-3 text-xs text-slate-400",children:b.jsx("span",{className:`font-mono px-1 rounded ${d?"bg-white/10 text-slate-300":"bg-gray-100 text-slate-600"}`,children:y.license})}),b.jsx("td",{className:"px-5 py-3",children:b.jsx(wI,{status:y.status})}),b.jsx("td",{className:"px-5 py-3 text-right",children:b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{onClick:()=>_(y),className:`p-1.5 rounded ${d?"text-slate-400 hover:text-blue-400 hover:bg-blue-500/10":"text-slate-500 hover:text-blue-600 hover:bg-blue-50"}`,title:"Verify Details",children:b.jsx(_w,{className:"w-4 h-4"})}),y.status==="pending"&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>o(y.id,"active"),className:"p-1.5 text-emerald-500 bg-emerald-500/10 rounded hover:bg-emerald-500/20",children:b.jsx(lw,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>o(y.id,"rejected"),className:"p-1.5 text-rose-500 bg-rose-500/10 rounded hover:bg-rose-500/20",children:b.jsx(uw,{className:"w-4 h-4"})})]}),y.status==="active"&&b.jsx("button",{onClick:()=>o(y.id,"rejected"),className:"text-[10px] font-bold text-rose-500 border border-rose-500/30 px-2 py-1 rounded hover:bg-rose-500/10",children:"Revoke"}),y.status==="rejected"&&b.jsx("button",{onClick:()=>o(y.id,"active"),className:"text-[10px] font-bold text-emerald-500 border border-emerald-500/30 px-2 py-1 rounded hover:bg-emerald-500/10",children:"Restore"})]})})]},y.id))})]})}),g&&b.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:b.jsxs("div",{className:`rounded-xl shadow-2xl max-w-lg w-full overflow-hidden border animate-in fade-in zoom-in duration-200 ${d?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:[b.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${d?"border-white/10":"border-gray-100"}`,children:[b.jsx("h3",{className:`font-bold text-base ${d?"text-white":"text-slate-900"}`,children:"Verification Details"}),b.jsx("button",{onClick:()=>_(null),children:b.jsx(Vv,{className:`w-5 h-5 ${d?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`})})]}),b.jsxs("div",{className:"p-6 space-y-4",children:[b.jsxs("div",{className:`p-4 rounded-lg border text-center ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[b.jsx(bw,{className:"w-10 h-10 text-slate-500 mx-auto mb-2"}),b.jsx("p",{className:`text-sm font-bold ${d?"text-slate-300":"text-slate-700"}`,children:"PRC License ID Image"}),b.jsx("p",{className:"text-xs text-slate-500",children:"Mockup: No image uploaded"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Full Name"}),b.jsx("p",{className:`font-semibold ${d?"text-white":"text-slate-900"}`,children:g.name})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"License No."}),b.jsx("p",{className:`font-mono ${d?"text-white":"text-slate-900"}`,children:g.license})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Clinic"}),b.jsx("p",{className:`${d?"text-white":"text-slate-900"}`,children:g.clinicDetails?.name||"N/A"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Contact"}),b.jsx("p",{className:`${d?"text-white":"text-slate-900"}`,children:g.clinicDetails?.contactNumber||"N/A"})]})]})]}),b.jsx("div",{className:`p-4 border-t flex justify-end ${d?"bg-white/5 border-white/10":"bg-gray-50 border-gray-200"}`,children:b.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-xs font-bold uppercase tracking-wide hover:bg-indigo-700",children:"Close"})})]})})]})}function _I({machines:s,onPing:e,onReboot:i,onDelete:r,isDarkMode:o}){return b.jsxs("div",{className:`rounded-xl border overflow-hidden max-w-7xl mx-auto ${o?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[b.jsx("div",{className:`p-5 border-b ${o?"border-white/5":"border-gray-100"}`,children:b.jsx("h3",{className:`font-bold text-base ${o?"text-white":"text-slate-900"}`,children:"Kiosk Network"})}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left text-sm",children:[b.jsx("thead",{className:`text-xs uppercase text-slate-400 ${o?"bg-white/5":"bg-gray-50"}`,children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3",children:"ID"}),b.jsx("th",{className:"px-6 py-3",children:"Location"}),b.jsx("th",{className:"px-6 py-3",children:"Status"}),b.jsx("th",{className:"px-6 py-3 text-right",children:"Controls"})]})}),b.jsx("tbody",{className:`divide-y ${o?"divide-white/5":"divide-gray-100"}`,children:s.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"4",className:"p-4 text-center text-xs text-slate-500",children:"No kiosks connected."})}):s.map(c=>b.jsxs("tr",{className:`transition-colors ${o?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[b.jsx("td",{className:`px-6 py-3 font-bold ${o?"text-white":"text-slate-900"}`,children:c.id}),b.jsx("td",{className:"px-6 py-3 text-slate-400",children:c.location}),b.jsx("td",{className:"px-6 py-3",children:b.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${c.status==="online"?"bg-emerald-500/20 text-emerald-500":c.status==="rebooting"?"bg-amber-500/20 text-amber-500":"bg-rose-500/20 text-rose-500"}`,children:[c.status==="online"?b.jsx(rA,{className:"w-3 h-3"}):b.jsx(iA,{className:"w-3 h-3"})," ",c.status]})}),b.jsx("td",{className:"px-6 py-3 text-right",children:b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{onClick:()=>e(c.id),className:`p-1.5 rounded ${o?"bg-white/10 hover:bg-white/20 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-slate-600"}`,title:"Ping",children:b.jsx(Cm,{size:14})}),b.jsx("button",{onClick:()=>i(c.id),className:`p-1.5 rounded ${o?"bg-white/10 hover:bg-white/20 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-slate-600"}`,title:"Reboot",children:b.jsx(Pw,{size:14})}),b.jsx("button",{onClick:()=>r(c.id),className:"p-1.5 bg-rose-500/10 hover:bg-rose-500/20 rounded text-rose-500",title:"Remove",children:b.jsx(ph,{size:14})})]})})]},c.id))})]})})]})}function vI({transactions:s,onClear:e,isDarkMode:i}){return b.jsxs("div",{className:`rounded-xl border overflow-hidden max-w-7xl mx-auto ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[b.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${i?"border-white/5":"border-gray-100"}`,children:[b.jsx("h3",{className:`font-bold text-base ${i?"text-white":"text-slate-900"}`,children:"Prescription Registry"}),b.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 px-3 py-1.5 bg-rose-500/10 text-rose-500 hover:bg-rose-500/20 rounded-lg text-xs font-bold uppercase tracking-wide transition-colors",children:[b.jsx(ph,{className:"w-3.5 h-3.5"})," Safe Cleanup"]})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:`text-[10px] uppercase font-bold text-slate-400 ${i?"bg-white/5":"bg-gray-50"}`,children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-5 py-3",children:"ID"}),b.jsx("th",{className:"px-5 py-3",children:"Prescribing Doctor"}),b.jsx("th",{className:"px-5 py-3",children:"Patient"}),b.jsx("th",{className:"px-5 py-3",children:"Value"}),b.jsx("th",{className:"px-5 py-3",children:"Status"})]})}),b.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-gray-100"}`,children:s.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"5",className:"p-4 text-center text-xs text-slate-500",children:"No transactions recorded."})}):s.map(r=>b.jsxs("tr",{className:`transition-colors ${i?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[b.jsx("td",{className:"px-5 py-3 font-mono text-xs text-slate-500",children:r.id}),b.jsx("td",{className:`px-5 py-3 text-sm font-semibold ${i?"text-white":"text-slate-900"}`,children:r.doctorName}),b.jsx("td",{className:"px-5 py-3 text-sm text-slate-400",children:r.patient?.name}),b.jsxs("td",{className:"px-5 py-3 text-sm font-bold text-emerald-500",children:["",r.grandTotal?.toFixed(2)]}),b.jsx("td",{className:"px-5 py-3",children:b.jsx(AI,{status:r.status||"issued"})})]},r.id))})]})})]})}function bI({logs:s,onClear:e,isDarkMode:i}){return b.jsxs("div",{className:`rounded-xl border overflow-hidden max-w-7xl mx-auto ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[b.jsxs("div",{className:`p-4 border-b flex justify-between items-center ${i?"border-white/5":"border-gray-100"}`,children:[b.jsx("h3",{className:`font-bold ${i?"text-white":"text-slate-900"}`,children:"Audit Log"}),b.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 px-3 py-1.5 bg-rose-500/10 text-rose-500 hover:bg-rose-500/20 rounded-lg text-xs font-bold uppercase tracking-wide transition-colors",children:[b.jsx(ph,{className:"w-3.5 h-3.5"})," Clear Log"]})]}),b.jsxs("table",{className:"w-full text-left text-sm",children:[b.jsx("thead",{className:`text-xs uppercase text-slate-400 ${i?"bg-white/5":"bg-gray-50"}`,children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3",children:"Action"}),b.jsx("th",{className:"px-6 py-3",children:"Details"}),b.jsx("th",{className:"px-6 py-3",children:"User"}),b.jsx("th",{className:"px-6 py-3 text-right",children:"Time"})]})}),b.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-gray-100"}`,children:s.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"4",className:"p-4 text-center text-xs text-slate-500",children:"No logs available."})}):s.map((r,o)=>b.jsxs("tr",{className:`transition-colors ${i?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[b.jsx("td",{className:`px-6 py-3 font-bold ${i?"text-white":"text-slate-900"}`,children:r.action}),b.jsx("td",{className:"px-6 py-3 text-slate-400",children:r.details}),b.jsx("td",{className:"px-6 py-3 font-mono text-xs text-slate-500",children:r.user}),b.jsx("td",{className:"px-6 py-3 text-right text-slate-500 text-xs",children:r.time})]},o))})]})]})}function EI({profile:s,setProfile:e,onSave:i,isEditing:r,setIsEditing:o,setShowPassword:c,isDarkMode:d}){const[g,_]=Ce.useState("profile");return b.jsxs("div",{className:`w-full rounded-xl border overflow-hidden flex flex-col md:flex-row ${d?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[b.jsxs("div",{className:`hidden md:block w-64 border-r p-4 ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[b.jsx("h3",{className:`font-bold mb-4 px-2 ${d?"text-white":"text-slate-900"}`,children:"Settings"}),b.jsxs("nav",{className:"space-y-1",children:[b.jsxs("button",{onClick:()=>_("profile"),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${g==="profile"?"bg-indigo-600 text-white shadow-lg":d?"text-slate-400 hover:text-white hover:bg-white/5":"text-slate-600 hover:text-slate-900 hover:bg-gray-200"}`,children:[b.jsx(nm,{className:"w-4 h-4"})," Profile"]}),b.jsxs("button",{onClick:()=>_("security"),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${g==="security"?"bg-indigo-600 text-white shadow-lg":d?"text-slate-400 hover:text-white hover:bg-white/5":"text-slate-600 hover:text-slate-900 hover:bg-gray-200"}`,children:[b.jsx(Ro,{className:"w-4 h-4"})," Security"]}),b.jsxs("button",{onClick:()=>_("data"),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${g==="data"?"bg-indigo-600 text-white shadow-lg":d?"text-slate-400 hover:text-white hover:bg-white/5":"text-slate-600 hover:text-slate-900 hover:bg-gray-200"}`,children:[b.jsx(Bd,{className:"w-4 h-4"})," Data Management"]})]})]}),b.jsx("div",{className:`md:hidden w-full border-b ${d?"border-white/10":"border-gray-200"}`,children:b.jsxs("div",{className:"flex overflow-x-auto",children:[b.jsxs("button",{onClick:()=>_("profile"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wide border-b-2 transition-colors whitespace-nowrap ${g==="profile"?"border-indigo-500 text-indigo-500":"border-transparent text-slate-500"}`,children:[b.jsx(nm,{className:"w-4 h-4 inline mr-1"})," Profile"]}),b.jsxs("button",{onClick:()=>_("security"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wide border-b-2 transition-colors whitespace-nowrap ${g==="security"?"border-indigo-500 text-indigo-500":"border-transparent text-slate-500"}`,children:[b.jsx(Ro,{className:"w-4 h-4 inline mr-1"})," Security"]}),b.jsxs("button",{onClick:()=>_("data"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wide border-b-2 transition-colors whitespace-nowrap ${g==="data"?"border-indigo-500 text-indigo-500":"border-transparent text-slate-500"}`,children:[b.jsx(Bd,{className:"w-4 h-4 inline mr-1"})," Data"]})]})}),b.jsxs("div",{className:"flex-1 p-4 md:p-8",children:[g==="profile"&&b.jsxs("div",{className:"space-y-4 md:space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[b.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center border-b pb-3 md:pb-4 gap-3 ${d?"border-white/10":"border-gray-100"}`,children:[b.jsxs("div",{children:[b.jsx("h4",{className:`font-bold text-base md:text-lg ${d?"text-white":"text-slate-900"}`,children:"Admin Profile"}),b.jsx("p",{className:"text-xs text-slate-400",children:"Manage your personal account details."})]}),r?b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>o(!1),className:`px-3 py-1.5 text-xs font-bold uppercase tracking-wide text-slate-400 border rounded-lg ${d?"bg-white/5 border-white/10 hover:bg-white/10":"bg-gray-100 border-gray-200 hover:bg-gray-200"}`,children:"Cancel"}),b.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-bold uppercase tracking-wide text-white bg-indigo-600 rounded-lg hover:bg-indigo-700",children:[b.jsx(qw,{className:"w-3.5 h-3.5"})," Save"]})]}):b.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-1.5 text-xs font-bold uppercase tracking-wide text-indigo-500 bg-indigo-500/10 border border-indigo-500/20 rounded-lg hover:bg-indigo-500/20",children:[b.jsx(Lw,{className:"w-3.5 h-3.5"})," Edit"]})]}),b.jsxs("div",{className:"space-y-3 md:space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wide mb-1.5",children:"Display Name"}),b.jsx("input",{type:"text",disabled:!r,className:`w-full px-3 md:px-4 py-2 border rounded-lg outline-none text-sm ${r?"border-indigo-500 focus:ring-2 focus:ring-indigo-500/50":"border-transparent"} ${d?"bg-white/5 text-slate-300":"bg-gray-100 text-slate-700"}`,value:s.displayName,onChange:y=>e({...s,displayName:y.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wide mb-1.5",children:"Username"}),b.jsx("input",{type:"text",disabled:!r,className:`w-full px-3 md:px-4 py-2 border rounded-lg outline-none text-sm ${r?"border-indigo-500 focus:ring-2 focus:ring-indigo-500/50":"border-transparent"} ${d?"bg-white/5 text-slate-300":"bg-gray-100 text-slate-700"}`,value:s.username,onChange:y=>e({...s,username:y.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wide mb-1.5",children:"Email"}),b.jsx("input",{type:"email",disabled:!r,className:`w-full px-3 md:px-4 py-2 border rounded-lg outline-none text-sm ${r?"border-indigo-500 focus:ring-2 focus:ring-indigo-500/50":"border-transparent"} ${d?"bg-white/5 text-slate-300":"bg-gray-100 text-slate-700"}`,value:s.email,onChange:y=>e({...s,email:y.target.value})})]})]}),b.jsx("div",{className:`pt-3 md:pt-4 border-t ${d?"border-white/10":"border-gray-100"}`,children:b.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-xs text-indigo-500 font-bold uppercase tracking-wide hover:text-indigo-400",children:[b.jsx(Ov,{className:"w-3.5 h-3.5"})," Change Password"]})})]}),g==="security"&&b.jsxs("div",{className:"space-y-4 md:space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[b.jsxs("div",{className:`border-b pb-3 md:pb-4 ${d?"border-white/10":"border-gray-100"}`,children:[b.jsx("h4",{className:`font-bold text-base md:text-lg ${d?"text-white":"text-slate-900"}`,children:"Security"}),b.jsx("p",{className:"text-xs text-slate-400",children:"Manage account security and access."})]}),b.jsxs("div",{className:"p-3 md:p-4 bg-indigo-500/10 border border-indigo-500/20 rounded-lg md:rounded-xl flex items-start gap-3",children:[b.jsx(Ro,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-500 mt-0.5 flex-shrink-0"}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("p",{className:"text-xs md:text-sm font-bold text-indigo-500",children:"Two-Factor Authentication"}),b.jsxs("p",{className:"text-xs text-indigo-500/80 mt-1",children:["2FA is currently ",b.jsx("span",{className:"font-bold",children:"Enabled"})," via Email."]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"Session Timeout"}),b.jsxs("select",{className:`w-full border rounded-lg p-2 md:p-2.5 text-sm ${d?"bg-[#0B0F19] border-white/10 text-white":"bg-white border-gray-200 text-slate-700"}`,children:[b.jsx("option",{children:"15 Minutes"}),b.jsx("option",{children:"30 Minutes"}),b.jsx("option",{children:"1 Hour"}),b.jsx("option",{children:"Never"})]})]}),b.jsxs("div",{className:`border-t pt-3 md:pt-4 ${d?"border-white/10":"border-gray-100"}`,children:[b.jsx("h5",{className:"font-bold text-xs md:text-sm text-slate-400 mb-2",children:"Recent Login Activity"}),b.jsxs("div",{className:`p-2 md:p-3 rounded-lg border text-xs text-slate-400 space-y-1 ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Manila, PH (Current)"}),b.jsx("span",{className:"whitespace-nowrap ml-2",children:"Just now"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Cebu, PH"}),b.jsx("span",{className:"whitespace-nowrap ml-2",children:"2 hrs ago"})]})]})]})]}),g==="data"&&b.jsxs("div",{className:"space-y-4 md:space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[b.jsxs("div",{className:`border-b pb-3 md:pb-4 ${d?"border-white/10":"border-gray-100"}`,children:[b.jsx("h4",{className:`font-bold text-base md:text-lg ${d?"text-white":"text-slate-900"}`,children:"Data Management"}),b.jsx("p",{className:"text-xs text-slate-400",children:"Export logs or clear system caches."})]}),b.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-2 gap-1 md:gap-4",children:[b.jsxs("button",{onClick:()=>alert("Exporting..."),className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group ${d?"border-white/10 hover:bg-white/5":"border-gray-200 hover:bg-gray-50"}`,children:[b.jsx(pw,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-emerald-500 mb-1 md:mb-2"}),b.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 text-center line-clamp-2",children:"Export Logs"})]}),b.jsxs("button",{onClick:()=>alert("Cache Cleared"),className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group border-dashed ${d?"border-white/10 hover:bg-rose-500/10":"border-gray-300 hover:bg-rose-50"}`,children:[b.jsx(ph,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-rose-500 mb-1 md:mb-2"}),b.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 group-hover:text-rose-500 text-center line-clamp-2",children:"Clear Cache"})]}),b.jsxs("button",{onClick:()=>alert("Backing up..."),className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group ${d?"border-white/10 hover:bg-blue-500/10":"border-gray-200 hover:bg-blue-50"}`,children:[b.jsx(Bd,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-blue-500 mb-1 md:mb-2"}),b.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 text-center line-clamp-2",children:"Backup DB"})]}),b.jsxs("button",{onClick:()=>alert("Storage: 45%"),className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group ${d?"border-white/10 hover:bg-purple-500/10":"border-gray-200 hover:bg-purple-50"}`,children:[b.jsx(W0,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-purple-500 mb-1 md:mb-2"}),b.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 text-center line-clamp-2",children:"Storage"})]})]}),b.jsxs("div",{className:"p-3 md:p-4 bg-amber-500/10 border border-amber-500/20 rounded-lg md:rounded-xl flex gap-2 md:gap-3",children:[b.jsx(W0,{className:"w-4 h-4 md:w-5 md:h-5 text-amber-500 flex-shrink-0 mt-0.5"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-xs md:text-sm font-bold text-amber-500",children:"Storage Usage"}),b.jsx("div",{className:"w-full bg-amber-500/20 h-1.5 rounded-full mt-2 mb-1 overflow-hidden",children:b.jsx("div",{className:"bg-amber-500 h-full w-[45%]"})}),b.jsx("p",{className:"text-xs text-amber-500/80",children:"45% used of 5GB quota"})]})]})]})]})]})}function TI({onClose:s,currentCreds:e,onUpdate:i,isDarkMode:r}){const[o,c]=Ce.useState({cur:"",new:"",conf:""});return b.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:b.jsxs("div",{className:`p-6 rounded-xl w-full max-w-sm shadow-2xl border ${r?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:[b.jsx("h3",{className:`font-bold text-lg mb-4 ${r?"text-white":"text-slate-900"}`,children:"Change Password"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{type:"password",placeholder:"Current",className:`w-full border p-2 rounded-lg text-sm ${r?"border-white/10 bg-[#0B0F19] text-white":"border-gray-200 bg-gray-50 text-slate-900"}`,value:o.cur,onChange:d=>c({...o,cur:d.target.value})}),b.jsx("input",{type:"password",placeholder:"New",className:`w-full border p-2 rounded-lg text-sm ${r?"border-white/10 bg-[#0B0F19] text-white":"border-gray-200 bg-gray-50 text-slate-900"}`,value:o.new,onChange:d=>c({...o,new:d.target.value})}),b.jsx("input",{type:"password",placeholder:"Confirm",className:`w-full border p-2 rounded-lg text-sm ${r?"border-white/10 bg-[#0B0F19] text-white":"border-gray-200 bg-gray-50 text-slate-900"}`,value:o.conf,onChange:d=>c({...o,conf:d.target.value})})]}),b.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[b.jsx("button",{onClick:s,className:"px-4 py-2 text-xs font-bold text-slate-400 hover:text-slate-500",children:"Cancel"}),b.jsx("button",{onClick:()=>{if(o.cur!==e.password)return alert("Wrong password");if(o.new!==o.conf)return alert("Mismatch");i(o.new)},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-xs font-bold hover:bg-indigo-700",children:"Update"})]})]})})}function To({id:s,label:e,icon:i,active:r,onClick:o,badge:c,isDarkMode:d}){return b.jsxs("button",{onClick:()=>o(s),className:`flex w-full items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 group relative ${r?"bg-indigo-500/10 text-indigo-500 shadow-sm ring-1 ring-indigo-500/20":d?"text-slate-400 hover:bg-white/5 hover:text-white":"text-slate-500 hover:bg-gray-100 hover:text-slate-900"}`,children:[r&&b.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-indigo-500 rounded-r-full shadow-[0_0_10px_2px_rgba(99,102,241,0.5)]"}),b.jsxs("div",{className:"flex items-center gap-3",children:[qT.cloneElement(i,{className:`w-5 h-5 transition-colors ${r?"text-indigo-500":d?"group-hover:text-white":"group-hover:text-slate-900"}`}),b.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:e})]}),c?b.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full text-white bg-indigo-600",children:c}):null,r&&b.jsx(rw,{className:"w-4 h-4 ml-auto opacity-50 text-indigo-500"})]})}function Pc({title:s,value:e,icon:i,color:r,subtext:o,onClick:c,isDarkMode:d}){const g={amber:"bg-amber-500/10 text-amber-500",blue:"bg-blue-500/10 text-blue-500",emerald:"bg-emerald-500/10 text-emerald-500",red:"bg-rose-500/10 text-rose-500"};return b.jsxs("div",{onClick:c,className:`p-3 rounded-xl border shadow-sm transition-all cursor-pointer group relative overflow-hidden flex flex-col justify-between h-32 sm:h-36 md:h-40 lg:h-44 ${d?"bg-white/5 border-white/5 hover:bg-white/10":"bg-white border-gray-200 hover:shadow-md"}`,children:[b.jsx("div",{className:"flex justify-between items-start mb-2",children:b.jsx("div",{className:`p-2 rounded-lg ${g[r]}`,children:i})}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("h4",{className:`text-lg font-bold ${d?"text-white":"text-slate-900"}`,children:e}),b.jsx("p",{className:`text-sm font-bold tracking-tight mt-1 whitespace-normal leading-tight ${d?"text-slate-300":"text-slate-600"}`,children:s}),o&&b.jsx("p",{className:"text-[10px] text-slate-500 mt-1 truncate",children:o})]})]})}function wI({status:s}){const e={active:"bg-emerald-500/10 text-emerald-500",pending:"bg-amber-500/10 text-amber-500",rejected:"bg-rose-500/10 text-rose-500"}[s];return b.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide ${e}`,children:s})}function AI({status:s}){const e={issued:"bg-emerald-500/10 text-emerald-500",partial:"bg-amber-500/10 text-amber-500",completed:"bg-white/10 text-slate-400"}[s]||"bg-white/5";return b.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wide ${e}`,children:s})}function Iv({onClick:s,label:e,icon:i,variant:r,isDarkMode:o}){const c=r==="primary"?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-500/20":o?"bg-white/5 border border-white/10 text-slate-300 hover:bg-white/10":"bg-white border border-gray-200 text-slate-600 hover:bg-gray-50";return b.jsxs("button",{onClick:s,className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide shadow-sm transition-all ${c}`,children:[i,e]})}YT.createRoot(document.getElementById("root")).render(b.jsx(Ce.StrictMode,{children:b.jsx(mI,{})}));
