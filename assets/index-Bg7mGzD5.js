(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function g2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wf={exports:{}},Mo={};var cv;function p2(){if(cv)return Mo;cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:r,type:i,key:d,ref:o!==void 0?o:null,props:u}}return Mo.Fragment=e,Mo.jsx=n,Mo.jsxs=n,Mo}var uv;function y2(){return uv||(uv=1,Wf.exports=p2()),Wf.exports}var m=y2(),em={exports:{}},Ne={};var hv;function v2(){if(hv)return Ne;hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),R=Symbol.iterator;function L(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,te={};function de(V,X,ae){this.props=V,this.context=X,this.refs=te,this.updater=ae||Q}de.prototype.isReactComponent={},de.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},de.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function me(){}me.prototype=de.prototype;function ne(V,X,ae){this.props=V,this.context=X,this.refs=te,this.updater=ae||Q}var ye=ne.prototype=new me;ye.constructor=ne,se(ye,de.prototype),ye.isPureReactComponent=!0;var F=Array.isArray;function _e(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(V,X,ae){var oe=ae.ref;return{$$typeof:r,type:V,key:X,ref:oe!==void 0?oe:null,props:ae}}function N(V,X){return I(V.type,X,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function M(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return X[ae]})}var S=/\/+/g;function ct(V,X){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):X.toString(36)}function yt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(_e,_e):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,X,ae,oe,fe){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var ke=!1;if(V===null)ke=!0;else switch(Ae){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(V.$$typeof){case r:case e:ke=!0;break;case w:return ke=V._init,G(ke(V._payload),X,ae,oe,fe)}}if(ke)return fe=fe(V),ke=oe===""?"."+ct(V,0):oe,F(fe)?(ae="",ke!=null&&(ae=ke.replace(S,"$&/")+"/"),G(fe,X,ae,"",function(Qe){return Qe})):fe!=null&&(D(fe)&&(fe=N(fe,ae+(fe.key==null||V&&V.key===fe.key?"":(""+fe.key).replace(S,"$&/")+"/")+ke)),X.push(fe)),1;ke=0;var Oe=oe===""?".":oe+":";if(F(V))for(var Ke=0;Ke<V.length;Ke++)oe=V[Ke],Ae=Oe+ct(oe,Ke),ke+=G(oe,X,ae,Ae,fe);else if(Ke=L(V),typeof Ke=="function")for(V=Ke.call(V),Ke=0;!(oe=V.next()).done;)oe=oe.value,Ae=Oe+ct(oe,Ke++),ke+=G(oe,X,ae,Ae,fe);else if(Ae==="object"){if(typeof V.then=="function")return G(yt(V),X,ae,oe,fe);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ke}function re(V,X,ae){if(V==null)return V;var oe=[],fe=0;return G(V,oe,"","",function(Ae){return X.call(ae,Ae,fe++)}),oe}function ve(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Ve=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:re,forEach:function(V,X,ae){re(V,function(){X.apply(this,arguments)},ae)},count:function(V){var X=0;return re(V,function(){X++}),X},toArray:function(V){return re(V,function(X){return X})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ne.Activity=E,Ne.Children=Ge,Ne.Component=de,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=ne,Ne.StrictMode=i,Ne.Suspense=v,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(V,X,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=se({},V.props),fe=V.key;if(X!=null)for(Ae in X.key!==void 0&&(fe=""+X.key),X)!A.call(X,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&X.ref===void 0||(oe[Ae]=X[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=ae;else if(1<Ae){for(var ke=Array(Ae),Oe=0;Oe<Ae;Oe++)ke[Oe]=arguments[Oe+2];oe.children=ke}return I(V.type,fe,oe)},Ne.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ne.createElement=function(V,X,ae){var oe,fe={},Ae=null;if(X!=null)for(oe in X.key!==void 0&&(Ae=""+X.key),X)A.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=X[oe]);var ke=arguments.length-2;if(ke===1)fe.children=ae;else if(1<ke){for(var Oe=Array(ke),Ke=0;Ke<ke;Ke++)Oe[Ke]=arguments[Ke+2];fe.children=Oe}if(V&&V.defaultProps)for(oe in ke=V.defaultProps,ke)fe[oe]===void 0&&(fe[oe]=ke[oe]);return I(V,Ae,fe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:y,render:V}},Ne.isValidElement=D,Ne.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:ve}},Ne.memo=function(V,X){return{$$typeof:p,type:V,compare:X===void 0?null:X}},Ne.startTransition=function(V){var X=C.T,ae={};C.T=ae;try{var oe=V(),fe=C.S;fe!==null&&fe(ae,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(_e,Ve)}catch(Ae){Ve(Ae)}finally{X!==null&&ae.types!==null&&(X.types=ae.types),C.T=X}},Ne.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ne.use=function(V){return C.H.use(V)},Ne.useActionState=function(V,X,ae){return C.H.useActionState(V,X,ae)},Ne.useCallback=function(V,X){return C.H.useCallback(V,X)},Ne.useContext=function(V){return C.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,X){return C.H.useDeferredValue(V,X)},Ne.useEffect=function(V,X){return C.H.useEffect(V,X)},Ne.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Ne.useId=function(){return C.H.useId()},Ne.useImperativeHandle=function(V,X,ae){return C.H.useImperativeHandle(V,X,ae)},Ne.useInsertionEffect=function(V,X){return C.H.useInsertionEffect(V,X)},Ne.useLayoutEffect=function(V,X){return C.H.useLayoutEffect(V,X)},Ne.useMemo=function(V,X){return C.H.useMemo(V,X)},Ne.useOptimistic=function(V,X){return C.H.useOptimistic(V,X)},Ne.useReducer=function(V,X,ae){return C.H.useReducer(V,X,ae)},Ne.useRef=function(V){return C.H.useRef(V)},Ne.useState=function(V){return C.H.useState(V)},Ne.useSyncExternalStore=function(V,X,ae){return C.H.useSyncExternalStore(V,X,ae)},Ne.useTransition=function(){return C.H.useTransition()},Ne.version="19.2.4",Ne}var dv;function Ym(){return dv||(dv=1,em.exports=v2()),em.exports}var le=Ym();const Z_=g2(le);var tm={exports:{}},Lo={},nm={exports:{}},sm={};var fv;function _2(){return fv||(fv=1,(function(r){function e(G,re){var ve=G.length;G.push(re);e:for(;0<ve;){var Ve=ve-1>>>1,Ge=G[Ve];if(0<o(Ge,re))G[Ve]=re,G[ve]=Ge,ve=Ve;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var re=G[0],ve=G.pop();if(ve!==re){G[0]=ve;e:for(var Ve=0,Ge=G.length,V=Ge>>>1;Ve<V;){var X=2*(Ve+1)-1,ae=G[X],oe=X+1,fe=G[oe];if(0>o(ae,ve))oe<Ge&&0>o(fe,ae)?(G[Ve]=fe,G[oe]=ve,Ve=oe):(G[Ve]=ae,G[X]=ve,Ve=X);else if(oe<Ge&&0>o(fe,ve))G[Ve]=fe,G[oe]=ve,Ve=oe;else break e}}return re}function o(G,re){var ve=G.sortIndex-re.sortIndex;return ve!==0?ve:G.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],p=[],w=1,E=null,R=3,L=!1,Q=!1,se=!1,te=!1,de=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ye(G){for(var re=n(p);re!==null;){if(re.callback===null)i(p);else if(re.startTime<=G)i(p),re.sortIndex=re.expirationTime,e(v,re);else break;re=n(p)}}function F(G){if(se=!1,ye(G),!Q)if(n(v)!==null)Q=!0,_e||(_e=!0,M());else{var re=n(p);re!==null&&yt(F,re.startTime-G)}}var _e=!1,C=-1,A=5,I=-1;function N(){return te?!0:!(r.unstable_now()-I<A)}function D(){if(te=!1,_e){var G=r.unstable_now();I=G;var re=!0;try{e:{Q=!1,se&&(se=!1,me(C),C=-1),L=!0;var ve=R;try{t:{for(ye(G),E=n(v);E!==null&&!(E.expirationTime>G&&N());){var Ve=E.callback;if(typeof Ve=="function"){E.callback=null,R=E.priorityLevel;var Ge=Ve(E.expirationTime<=G);if(G=r.unstable_now(),typeof Ge=="function"){E.callback=Ge,ye(G),re=!0;break t}E===n(v)&&i(v),ye(G)}else i(v);E=n(v)}if(E!==null)re=!0;else{var V=n(p);V!==null&&yt(F,V.startTime-G),re=!1}}break e}finally{E=null,R=ve,L=!1}re=void 0}}finally{re?M():_e=!1}}}var M;if(typeof ne=="function")M=function(){ne(D)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,ct=S.port2;S.port1.onmessage=D,M=function(){ct.postMessage(null)}}else M=function(){de(D,0)};function yt(G,re){C=de(function(){G(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(G){switch(R){case 1:case 2:case 3:var re=3;break;default:re=R}var ve=R;R=re;try{return G()}finally{R=ve}},r.unstable_requestPaint=function(){te=!0},r.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ve=R;R=G;try{return re()}finally{R=ve}},r.unstable_scheduleCallback=function(G,re,ve){var Ve=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ve+ve:Ve):ve=Ve,G){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ve+Ge,G={id:w++,callback:re,priorityLevel:G,startTime:ve,expirationTime:Ge,sortIndex:-1},ve>Ve?(G.sortIndex=ve,e(p,G),n(v)===null&&G===n(p)&&(se?(me(C),C=-1):se=!0,yt(F,ve-Ve))):(G.sortIndex=Ge,e(v,G),Q||L||(Q=!0,_e||(_e=!0,M()))),G},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(G){var re=R;return function(){var ve=R;R=re;try{return G.apply(this,arguments)}finally{R=ve}}}})(sm)),sm}var mv;function b2(){return mv||(mv=1,nm.exports=_2()),nm.exports}var im={exports:{}},rn={};var gv;function x2(){if(gv)return rn;gv=1;var r=Ym();function e(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,p,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:v,containerInfo:p,implementation:w}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rn.createPortal=function(v,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(v,p,null,w)},rn.flushSync=function(v){var p=d.T,w=i.p;try{if(d.T=null,i.p=2,v)return v()}finally{d.T=p,i.p=w,i.d.f()}},rn.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(v,p))},rn.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},rn.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var w=p.as,E=y(w,p.crossOrigin),R=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;w==="style"?i.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:R,fetchPriority:L}):w==="script"&&i.d.X(v,{crossOrigin:E,integrity:R,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var w=y(p.as,p.crossOrigin);i.d.M(v,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(v)},rn.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var w=p.as,E=y(w,p.crossOrigin);i.d.L(v,w,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(v,p){if(typeof v=="string")if(p){var w=y(p.as,p.crossOrigin);i.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(v)},rn.requestFormReset=function(v){i.d.r(v)},rn.unstable_batchedUpdates=function(v,p){return v(p)},rn.useFormState=function(v,p,w){return d.H.useFormState(v,p,w)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.4",rn}var pv;function w2(){if(pv)return im.exports;pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),im.exports=x2(),im.exports}var yv;function T2(){if(yv)return Lo;yv=1;var r=b2(),e=Ym(),n=w2();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(i(188))}function p(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),t;if(f===l)return v(h),s;f=f.sibling}throw Error(i(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,x=h.child;x;){if(x===a){_=!0,a=h,l=f;break}if(x===l){_=!0,l=h,a=f;break}x=x.sibling}if(!_){for(x=f.child;x;){if(x===a){_=!0,a=f,l=h;break}if(x===l){_=!0,l=f,a=h;break}x=x.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function w(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=w(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function ct(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case de:return"Profiler";case te:return"StrictMode";case F:return"Suspense";case _e:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ne:return t.displayName||"Context";case me:return(t._context.displayName||"Context")+".Consumer";case ye:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return s=t.displayName||null,s!==null?s:ct(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return ct(t(s))}catch{}}return null}var yt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ve=[],Ge=-1;function V(t){return{current:t}}function X(t){0>Ge||(t.current=Ve[Ge],Ve[Ge]=null,Ge--)}function ae(t,s){Ge++,Ve[Ge]=t.current,t.current=s}var oe=V(null),fe=V(null),Ae=V(null),ke=V(null);function Oe(t,s){switch(ae(Ae,s),ae(fe,t),ae(oe,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Dy(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Dy(s),t=Oy(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(oe),ae(oe,t)}function Ke(){X(oe),X(fe),X(Ae)}function Qe(t){t.memoizedState!==null&&ae(ke,t);var s=oe.current,a=Oy(s,t.type);s!==a&&(ae(fe,t),ae(oe,a))}function Wn(t){fe.current===t&&(X(oe),X(fe)),ke.current===t&&(X(ke),Do._currentValue=ve)}var bi,xi;function Mn(t){if(bi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);bi=s&&s[1]||"",xi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bi+t+xi}var wi=!1;function $s(t,s){if(!t||wi)return"";wi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var B=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){B=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){B=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],x=f[1];if(_&&x){var j=_.split(`
`),z=x.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===z.length)for(l=j.length-1,h=z.length-1;1<=l&&0<=h&&j[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==z[h]){var K=`
`+j[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{wi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mn(a):""}function Ti(t,s){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return t.child!==s&&s!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return $s(t.type,!1);case 11:return $s(t.type.render,!1);case 1:return $s(t.type,!0);case 31:return Mn("Activity");default:return""}}function Ei(t){try{var s="",a=null;do s+=Ti(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,We=r.unstable_scheduleCallback,gs=r.unstable_cancelCallback,kl=r.unstable_shouldYield,ga=r.unstable_requestPaint,Gt=r.unstable_now,Fs=r.unstable_getCurrentPriorityLevel,Nr=r.unstable_ImmediatePriority,Cr=r.unstable_UserBlockingPriority,Kt=r.unstable_NormalPriority,pa=r.unstable_LowPriority,ps=r.unstable_IdlePriority,Ln=r.log,ys=r.unstable_setDisableYieldValue,En=null,Rt=null;function sn(t){if(typeof Ln=="function"&&ys(t),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(En,t)}catch{}}var mt=Math.clz32?Math.clz32:$,ya=Math.log,Ai=Math.LN2;function $(t){return t>>>=0,t===0?32:31-(ya(t)/Ai|0)|0}var ee=256,Re=262144,Pe=4194304;function mn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vs(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?h=mn(l):(_&=x,_!==0?h=mn(_):a||(a=x&~t,a!==0&&(h=mn(a))))):(x=l&~f,x!==0?h=mn(x):_!==0?h=mn(_):a||(a=l&~t,a!==0&&(h=mn(a)))),h===0?0:s!==0&&s!==h&&(s&f)===0&&(f=h&-h,a=s&-s,f>=a||f===32&&(a&4194048)!==0)?s:h}function es(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function nd(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(){var t=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),t}function _s(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Rr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function sd(t,s,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,j=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-mt(a),J=1<<K;x[K]=0,j[K]=-1;var B=z[K];if(B!==null)for(z[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&Ir(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~s))}function Ir(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-mt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ml(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&s|t[l]&s&&(t[l]|=s),a&=~h}}function Ll(t,s){var a=s&-s;return a=(a&42)!==0?1:jr(a),(a&(t.suspendedLanes|s))!==0?0:a}function jr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:nv(t.type))}function ts(t,s){var a=re.p;try{return re.p=t,s()}finally{re.p=a}}var ns=Math.random().toString(36).slice(2),It="__reactFiber$"+ns,qt="__reactProps$"+ns,bs="__reactContainer$"+ns,va="__reactEvents$"+ns,id="__reactListeners$"+ns,Ec="__reactHandles$"+ns,Ac="__reactResources$"+ns,xs="__reactMarker$"+ns;function _a(t){delete t[It],delete t[qt],delete t[va],delete t[id],delete t[Ec]}function ws(t){var s=t[It];if(s)return s;for(var a=t.parentNode;a;){if(s=a[bs]||a[It]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=zy(t);t!==null;){if(a=t[It])return a;t=zy(t)}return s}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[It]||t[bs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function An(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Ts(t){var s=t[Ac];return s||(s=t[Ac]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function jt(t){t[xs]=!0}var Pl=new Set,Ul={};function Es(t,s){As(t,s),As(t+"Capture",s)}function As(t,s){for(Ul[t]=s,t=0;t<s.length;t++)Pl.add(s[t])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},ql={};function Sc(t){return _t.call(ql,t)?!0:_t.call(Bl,t)?!1:zl.test(t)?ql[t]=!0:(Bl[t]=!0,!1)}function ba(t,s,a){if(Sc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Sn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Dt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Si(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Hl(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function tt(t){if(!t._valueTracker){var s=Si(t)?"checked":"value";t._valueTracker=Hl(t,s,""+t[s])}}function Dr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Si(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Ss(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function gn(t){return t.replace(Or,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xa(t,s,a,l,h,f,_,x){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ht(s)):t.value!==""+Ht(s)&&(t.value=""+Ht(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?$l(t,_,Ht(s)):a!=null?$l(t,_,Ht(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ht(x):t.removeAttribute("name")}function Nc(t,s,a,l,h,f,_,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){tt(t);return}a=a!=null?""+Ht(a):"",s=s!=null?""+Ht(s):a,x||s===t.value||(t.value=s),t.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),tt(t)}function $l(t,s,a){s==="number"&&Ss(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ni(t,s,a,l){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Cc(t,s,a){if(s!=null&&(s=""+Ht(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Ht(a):""}function Ci(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(yt(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Ht(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),tt(t)}function pn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Rc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Gl(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&Fl(t,h,l)}else for(var f in s)s.hasOwnProperty(f)&&Fl(t,f,s[f])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ri=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Ri.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ss(){}var Kl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,Ns=null;function Vr(t){var s=Pn(t);if(s&&(t=s.stateNode)){var a=t[qt]||null;e:switch(t=s.stateNode,s.type){case"input":if(xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var h=l[qt]||null;if(!h)throw Error(i(90));xa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Dr(l)}break e;case"textarea":Cc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ni(t,!!a.multiple,s,!1)}}}var Ea=!1;function ji(t,s,a){if(Ea)return t(s,a);Ea=!0;try{var l=t(s);return l}finally{if(Ea=!1,(Ii!==null||Ns!==null)&&(Tu(),Ii&&(s=Ii,t=Ns,Ns=Ii=null,Vr(s),t)))for(s=0;s<t.length;s++)Vr(t[s])}}function is(t,s){var a=t.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(zn)try{var it={};Object.defineProperty(it,"passive",{get:function(){kr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{kr=!1}var Cs=null,Ql=null,Mr=null;function Yl(){if(Mr)return Mr;var t,s=Ql,a=s.length,l,h="value"in Cs?Cs.value:Cs.textContent,f=h.length;for(t=0;t<a&&s[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&s[a-l]===h[f-l];l++);return Mr=h.slice(t,1<l?1-l:void 0)}function Lr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ks(){return!0}function rs(){return!1}function Qt(t){function s(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ks:rs,this.isPropagationStopped=rs,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),s}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=Qt(Qs),Di=E({},Qs,{view:0,detail:0}),Xl=Qt(Di),Oi,Aa,Is,Sa=E({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Is&&(Is&&t.type==="mousemove"?(Oi=t.screenX-Is.screenX,Aa=t.screenY-Is.screenY):Aa=Oi=0,Is=t),Oi)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Jl=Qt(Sa),Pr=E({},Sa,{dataTransfer:0}),jc=Qt(Pr),Dc=E({},Di,{relatedTarget:0}),Ur=Qt(Dc),Zl=E({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Oc=Qt(Zl),Na=E({},Qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vc=Qt(Na),kc=E({},Qs,{data:0}),js=Qt(kc),Mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Pc[t])?!!s[t]:!1}function Vi(){return Uc}var hn=E({},Di,{key:function(t){if(t.key){var s=Mc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vi,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zc=Qt(hn),Bc=E({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=Qt(Bc),c=E({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vi}),g=Qt(c),b=E({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qt(b),P=E({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Qt(P),ie=E({},Qs,{newState:0,oldState:0}),Ie=Qt(ie),At=[9,13,27,32],Je=zn&&"CompositionEvent"in window,gt=null;zn&&"documentMode"in document&&(gt=document.documentMode);var Bn=zn&&"TextEvent"in window&&!gt,Ds=zn&&(!Je||gt&&8<gt&&11>=gt),as=" ",ls=!1;function zr(t,s){switch(t){case"keyup":return At.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function Ux(t,s){switch(t){case"compositionend":return Ca(s);case"keypress":return s.which!==32?null:(ls=!0,as);case"textInput":return t=s.data,t===as&&ls?null:t;default:return null}}function zx(t,s){if(Ra)return t==="compositionend"||!Je&&zr(t,s)?(t=Yl(),Mr=Ql=Cs=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ds&&s.locale!=="ko"?null:s.data;default:return null}}var Bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Bx[t.type]:s==="textarea"}function $g(t,s,a,l){Ii?Ns?Ns.push(l):Ns=[l]:Ii=l,s=Iu(s,"onChange"),0<s.length&&(a=new Rs("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Wl=null,eo=null;function qx(t){Sy(t,0)}function qc(t){var s=An(t);if(Dr(s))return t}function Fg(t,s){if(t==="change")return s}var Gg=!1;if(zn){var rd;if(zn){var ad="oninput"in document;if(!ad){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),ad=typeof Kg.oninput=="function"}rd=ad}else rd=!1;Gg=rd&&(!document.documentMode||9<document.documentMode)}function Qg(){Wl&&(Wl.detachEvent("onpropertychange",Yg),eo=Wl=null)}function Yg(t){if(t.propertyName==="value"&&qc(eo)){var s=[];$g(s,eo,t,Un(t)),ji(qx,s)}}function Hx(t,s,a){t==="focusin"?(Qg(),Wl=s,eo=a,Wl.attachEvent("onpropertychange",Yg)):t==="focusout"&&Qg()}function $x(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qc(eo)}function Fx(t,s){if(t==="click")return qc(s)}function Gx(t,s){if(t==="input"||t==="change")return qc(s)}function Kx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Nn=typeof Object.is=="function"?Object.is:Kx;function to(t,s){if(Nn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(s,h)||!Nn(t[h],s[h]))return!1}return!0}function Xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jg(t,s){var a=Xg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xg(a)}}function Zg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Zg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ss(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Ss(t.document)}return s}function ld(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Qx=zn&&"documentMode"in document&&11>=document.documentMode,Ia=null,od=null,no=null,cd=!1;function ep(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cd||Ia==null||Ia!==Ss(l)||(l=Ia,"selectionStart"in l&&ld(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),no&&to(no,l)||(no=l,l=Iu(od,"onSelect"),0<l.length&&(s=new Rs("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Ia)))}function Br(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ja={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},ud={},tp={};zn&&(tp=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function qr(t){if(ud[t])return ud[t];if(!ja[t])return t;var s=ja[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in tp)return ud[t]=s[a];return t}var np=qr("animationend"),sp=qr("animationiteration"),ip=qr("animationstart"),Yx=qr("transitionrun"),Xx=qr("transitionstart"),Jx=qr("transitioncancel"),rp=qr("transitionend"),ap=new Map,hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hd.push("scrollEnd");function os(t,s){ap.set(t,s),Es(s,[t])}var Hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],Da=0,dd=0;function $c(){for(var t=Da,s=dd=Da=0;s<t;){var a=qn[s];qn[s++]=null;var l=qn[s];qn[s++]=null;var h=qn[s];qn[s++]=null;var f=qn[s];if(qn[s++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&lp(a,h,f)}}function Fc(t,s,a,l){qn[Da++]=t,qn[Da++]=s,qn[Da++]=a,qn[Da++]=l,dd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function fd(t,s,a,l){return Fc(t,s,a,l),Gc(t)}function Hr(t,s){return Fc(t,null,null,s),Gc(t)}function lp(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&s!==null&&(h=31-mt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[s]:l.push(s),s.lane=a|536870912),f):null}function Gc(t){if(50<Ao)throw Ao=0,Tf=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Oa={};function Zx(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,s,a,l){return new Zx(t,s,a,l)}function md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xs(t,s){var a=t.alternate;return a===null?(a=Cn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function op(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Kc(t,s,a,l,h,f){var _=0;if(l=t,typeof t=="function")md(t)&&(_=1);else if(typeof t=="string")_=s2(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Cn(31,a,s,h),t.elementType=I,t.lanes=f,t;case se:return $r(a.children,h,f,s);case te:_=8,h|=24;break;case de:return t=Cn(12,a,s,h|2),t.elementType=de,t.lanes=f,t;case F:return t=Cn(13,a,s,h),t.elementType=F,t.lanes=f,t;case _e:return t=Cn(19,a,s,h),t.elementType=_e,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:_=10;break e;case me:_=9;break e;case ye:_=11;break e;case C:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=Cn(_,a,s,h),s.elementType=t,s.type=l,s.lanes=f,s}function $r(t,s,a,l){return t=Cn(7,t,l,s),t.lanes=a,t}function gd(t,s,a){return t=Cn(6,t,null,s),t.lanes=a,t}function cp(t){var s=Cn(18,null,null,0);return s.stateNode=t,s}function pd(t,s,a){return s=Cn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var up=new WeakMap;function Hn(t,s){if(typeof t=="object"&&t!==null){var a=up.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Ei(s)},up.set(t,s),s)}return{value:t,source:s,stack:Ei(s)}}var Va=[],ka=0,Qc=null,so=0,$n=[],Fn=0,ki=null,Os=1,Vs="";function Js(t,s){Va[ka++]=so,Va[ka++]=Qc,Qc=t,so=s}function hp(t,s,a){$n[Fn++]=Os,$n[Fn++]=Vs,$n[Fn++]=ki,ki=t;var l=Os;t=Vs;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var f=32-mt(s)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Os=1<<32-mt(s)+h|a<<h|l,Vs=f+t}else Os=1<<f|a<<h|l,Vs=t}function yd(t){t.return!==null&&(Js(t,1),hp(t,1,0))}function vd(t){for(;t===Qc;)Qc=Va[--ka],Va[ka]=null,so=Va[--ka],Va[ka]=null;for(;t===ki;)ki=$n[--Fn],$n[Fn]=null,Vs=$n[--Fn],$n[Fn]=null,Os=$n[--Fn],$n[Fn]=null}function dp(t,s){$n[Fn++]=Os,$n[Fn++]=Vs,$n[Fn++]=ki,Os=s.id,Vs=s.overflow,ki=t}var Yt=null,ht=null,$e=!1,Mi=null,Gn=!1,_d=Error(i(519));function Li(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io(Hn(s,t)),_d}function fp(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[It]=t,s[qt]=l,a){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(a=0;a<No.length;a++)Le(No[a],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),Nc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),Ci(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Iy(s.textContent,a)?(l.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),l.onScroll!=null&&Le("scroll",s),l.onScrollEnd!=null&&Le("scrollend",s),l.onClick!=null&&(s.onclick=ss),s=!0):s=!1,s||Li(t,!0)}function mp(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Yt=Yt.return}}function Ma(t){if(t!==Yt)return!1;if(!$e)return mp(t),$e=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Pf(t.type,t.memoizedProps)),a=!a),a&&ht&&Li(t),mp(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ht=Uy(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ht=Uy(t)}else s===27?(s=ht,Ji(t.type)?(t=Hf,Hf=null,ht=t):ht=s):ht=Yt?Qn(t.stateNode.nextSibling):null;return!0}function Fr(){ht=Yt=null,$e=!1}function bd(){var t=Mi;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Mi=null),t}function io(t){Mi===null?Mi=[t]:Mi.push(t)}var xd=V(null),Gr=null,Zs=null;function Pi(t,s,a){ae(xd,s._currentValue),s._currentValue=a}function Ws(t){t._currentValue=xd.current,X(xd)}function wd(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function Td(t,s,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=h;for(var j=0;j<s.length;j++)if(x.context===s[j]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),wd(f.return,a,t),l||(_=null);break e}f=x.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(i(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),wd(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function La(t,s,a,l){t=null;for(var h=s,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var x=h.type;Nn(h.pendingProps.value,_.value)||(t!==null?t.push(x):t=[x])}}else if(h===ke.current){if(_=h.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Do):t=[Do])}h=h.return}t!==null&&Td(s,t,a,l),s.flags|=262144}function Yc(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Gr=t,Zs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return gp(Gr,t)}function Xc(t,s){return Gr===null&&Kr(t),gp(t,s)}function gp(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Zs===null){if(t===null)throw Error(i(308));Zs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Zs=Zs.next=s;return a}var Wx=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},ew=r.unstable_scheduleCallback,tw=r.unstable_NormalPriority,Ot={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ed(){return{controller:new Wx,data:new Map,refCount:0}}function ro(t){t.refCount--,t.refCount===0&&ew(tw,function(){t.controller.abort()})}var ao=null,Ad=0,Pa=0,Ua=null;function nw(t,s){if(ao===null){var a=ao=[];Ad=0,Pa=Rf(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ad++,s.then(pp,pp),s}function pp(){if(--Ad===0&&ao!==null){Ua!==null&&(Ua.status="fulfilled");var t=ao;ao=null,Pa=0,Ua=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function sw(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yp=G.S;G.S=function(t,s){ey=Gt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&nw(t,s),yp!==null&&yp(t,s)};var Qr=V(null);function Sd(){var t=Qr.current;return t!==null?t:ot.pooledCache}function Jc(t,s){s===null?ae(Qr,Qr.current):ae(Qr,s.pool)}function vp(){var t=Sd();return t===null?null:{parent:Ot._currentValue,pool:t}}var za=Error(i(460)),Nd=Error(i(474)),Zc=Error(i(542)),Wc={then:function(){}};function _p(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bp(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ss,ss),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,wp(t),t;default:if(typeof s.status=="string")s.then(ss,ss);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,wp(t),t}throw Xr=s,za}}function Yr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xr=a,za):a}}var Xr=null;function xp(){if(Xr===null)throw Error(i(459));var t=Xr;return Xr=null,t}function wp(t){if(t===za||t===Zc)throw Error(i(483))}var Ba=null,lo=0;function eu(t){var s=lo;return lo+=1,Ba===null&&(Ba=[]),bp(Ba,t,s)}function oo(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function tu(t,s){throw s.$$typeof===R?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Tp(t){function s(k,O){if(t){var U=k.deletions;U===null?(k.deletions=[O],k.flags|=16):U.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)s(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Xs(k,O),k.index=0,k.sibling=null,k}function f(k,O,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<O?(k.flags|=67108866,O):U):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function x(k,O,U,Y){return O===null||O.tag!==6?(O=gd(U,k.mode,Y),O.return=k,O):(O=h(O,U),O.return=k,O)}function j(k,O,U,Y){var be=U.type;return be===se?K(k,O,U.props.children,Y,U.key):O!==null&&(O.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===A&&Yr(be)===O.type)?(O=h(O,U.props),oo(O,U),O.return=k,O):(O=Kc(U.type,U.key,U.props,null,k.mode,Y),oo(O,U),O.return=k,O)}function z(k,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=pd(U,k.mode,Y),O.return=k,O):(O=h(O,U.children||[]),O.return=k,O)}function K(k,O,U,Y,be){return O===null||O.tag!==7?(O=$r(U,k.mode,Y,be),O.return=k,O):(O=h(O,U),O.return=k,O)}function J(k,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=gd(""+O,k.mode,U),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case L:return U=Kc(O.type,O.key,O.props,null,k.mode,U),oo(U,O),U.return=k,U;case Q:return O=pd(O,k.mode,U),O.return=k,O;case A:return O=Yr(O),J(k,O,U)}if(yt(O)||M(O))return O=$r(O,k.mode,U,null),O.return=k,O;if(typeof O.then=="function")return J(k,eu(O),U);if(O.$$typeof===ne)return J(k,Xc(k,O),U);tu(k,O)}return null}function B(k,O,U,Y){var be=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return be!==null?null:x(k,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case L:return U.key===be?j(k,O,U,Y):null;case Q:return U.key===be?z(k,O,U,Y):null;case A:return U=Yr(U),B(k,O,U,Y)}if(yt(U)||M(U))return be!==null?null:K(k,O,U,Y,null);if(typeof U.then=="function")return B(k,O,eu(U),Y);if(U.$$typeof===ne)return B(k,O,Xc(k,U),Y);tu(k,U)}return null}function H(k,O,U,Y,be){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(U)||null,x(O,k,""+Y,be);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return k=k.get(Y.key===null?U:Y.key)||null,j(O,k,Y,be);case Q:return k=k.get(Y.key===null?U:Y.key)||null,z(O,k,Y,be);case A:return Y=Yr(Y),H(k,O,U,Y,be)}if(yt(Y)||M(Y))return k=k.get(U)||null,K(O,k,Y,be,null);if(typeof Y.then=="function")return H(k,O,U,eu(Y),be);if(Y.$$typeof===ne)return H(k,O,U,Xc(O,Y),be);tu(O,Y)}return null}function he(k,O,U,Y){for(var be=null,Ye=null,ge=O,De=O=0,ze=null;ge!==null&&De<U.length;De++){ge.index>De?(ze=ge,ge=null):ze=ge.sibling;var Xe=B(k,ge,U[De],Y);if(Xe===null){ge===null&&(ge=ze);break}t&&ge&&Xe.alternate===null&&s(k,ge),O=f(Xe,O,De),Ye===null?be=Xe:Ye.sibling=Xe,Ye=Xe,ge=ze}if(De===U.length)return a(k,ge),$e&&Js(k,De),be;if(ge===null){for(;De<U.length;De++)ge=J(k,U[De],Y),ge!==null&&(O=f(ge,O,De),Ye===null?be=ge:Ye.sibling=ge,Ye=ge);return $e&&Js(k,De),be}for(ge=l(ge);De<U.length;De++)ze=H(ge,k,De,U[De],Y),ze!==null&&(t&&ze.alternate!==null&&ge.delete(ze.key===null?De:ze.key),O=f(ze,O,De),Ye===null?be=ze:Ye.sibling=ze,Ye=ze);return t&&ge.forEach(function(nr){return s(k,nr)}),$e&&Js(k,De),be}function we(k,O,U,Y){if(U==null)throw Error(i(151));for(var be=null,Ye=null,ge=O,De=O=0,ze=null,Xe=U.next();ge!==null&&!Xe.done;De++,Xe=U.next()){ge.index>De?(ze=ge,ge=null):ze=ge.sibling;var nr=B(k,ge,Xe.value,Y);if(nr===null){ge===null&&(ge=ze);break}t&&ge&&nr.alternate===null&&s(k,ge),O=f(nr,O,De),Ye===null?be=nr:Ye.sibling=nr,Ye=nr,ge=ze}if(Xe.done)return a(k,ge),$e&&Js(k,De),be;if(ge===null){for(;!Xe.done;De++,Xe=U.next())Xe=J(k,Xe.value,Y),Xe!==null&&(O=f(Xe,O,De),Ye===null?be=Xe:Ye.sibling=Xe,Ye=Xe);return $e&&Js(k,De),be}for(ge=l(ge);!Xe.done;De++,Xe=U.next())Xe=H(ge,k,De,Xe.value,Y),Xe!==null&&(t&&Xe.alternate!==null&&ge.delete(Xe.key===null?De:Xe.key),O=f(Xe,O,De),Ye===null?be=Xe:Ye.sibling=Xe,Ye=Xe);return t&&ge.forEach(function(m2){return s(k,m2)}),$e&&Js(k,De),be}function lt(k,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===se&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case L:e:{for(var be=U.key;O!==null;){if(O.key===be){if(be=U.type,be===se){if(O.tag===7){a(k,O.sibling),Y=h(O,U.props.children),Y.return=k,k=Y;break e}}else if(O.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===A&&Yr(be)===O.type){a(k,O.sibling),Y=h(O,U.props),oo(Y,U),Y.return=k,k=Y;break e}a(k,O);break}else s(k,O);O=O.sibling}U.type===se?(Y=$r(U.props.children,k.mode,Y,U.key),Y.return=k,k=Y):(Y=Kc(U.type,U.key,U.props,null,k.mode,Y),oo(Y,U),Y.return=k,k=Y)}return _(k);case Q:e:{for(be=U.key;O!==null;){if(O.key===be)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(k,O.sibling),Y=h(O,U.children||[]),Y.return=k,k=Y;break e}else{a(k,O);break}else s(k,O);O=O.sibling}Y=pd(U,k.mode,Y),Y.return=k,k=Y}return _(k);case A:return U=Yr(U),lt(k,O,U,Y)}if(yt(U))return he(k,O,U,Y);if(M(U)){if(be=M(U),typeof be!="function")throw Error(i(150));return U=be.call(U),we(k,O,U,Y)}if(typeof U.then=="function")return lt(k,O,eu(U),Y);if(U.$$typeof===ne)return lt(k,O,Xc(k,U),Y);tu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(k,O.sibling),Y=h(O,U),Y.return=k,k=Y):(a(k,O),Y=gd(U,k.mode,Y),Y.return=k,k=Y),_(k)):a(k,O)}return function(k,O,U,Y){try{lo=0;var be=lt(k,O,U,Y);return Ba=null,be}catch(ge){if(ge===za||ge===Zc)throw ge;var Ye=Cn(29,ge,null,k.mode);return Ye.lanes=Y,Ye.return=k,Ye}}}var Jr=Tp(!0),Ep=Tp(!1),Ui=!1;function Cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Gc(t),lp(t,null,a),s}return Fc(t,l,s,a),Gc(t)}function co(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ml(t,a)}}function Id(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=s:f=f.next=s}else h=f=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var jd=!1;function uo(){if(jd){var t=Ua;if(t!==null)throw t}}function ho(t,s,a,l){jd=!1;var h=t.updateQueue;Ui=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var j=x,z=j.next;j.next=null,_===null?f=z:_.next=z,_=j;var K=t.alternate;K!==null&&(K=K.updateQueue,x=K.lastBaseUpdate,x!==_&&(x===null?K.firstBaseUpdate=z:x.next=z,K.lastBaseUpdate=j))}if(f!==null){var J=h.baseState;_=0,K=z=j=null,x=f;do{var B=x.lane&-536870913,H=B!==x.lane;if(H?(Ue&B)===B:(l&B)===B){B!==0&&B===Pa&&(jd=!0),K!==null&&(K=K.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=t,we=x;B=s;var lt=a;switch(we.tag){case 1:if(he=we.payload,typeof he=="function"){J=he.call(lt,J,B);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=we.payload,B=typeof he=="function"?he.call(lt,J,B):he,B==null)break e;J=E({},J,B);break e;case 2:Ui=!0}}B=x.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:x.tag,payload:x.payload,callback:x.callback,next:null},K===null?(z=K=H,j=J):K=K.next=H,_|=B;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;H=x,x=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(j=J),h.baseState=j,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Gi|=_,t.lanes=_,t.memoizedState=J}}function Ap(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Sp(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ap(a[t],s)}var qa=V(null),nu=V(0);function Np(t,s){t=oi,ae(nu,t),ae(qa,s),oi=t|s.baseLanes}function Dd(){ae(nu,oi),ae(qa,qa.current)}function Od(){oi=nu.current,X(qa),X(nu)}var Rn=V(null),Kn=null;function qi(t){var s=t.alternate;ae(St,St.current&1),ae(Rn,t),Kn===null&&(s===null||qa.current!==null||s.memoizedState!==null)&&(Kn=t)}function Vd(t){ae(St,St.current),ae(Rn,t),Kn===null&&(Kn=t)}function Cp(t){t.tag===22?(ae(St,St.current),ae(Rn,t),Kn===null&&(Kn=t)):Hi()}function Hi(){ae(St,St.current),ae(Rn,Rn.current)}function In(t){X(Rn),Kn===t&&(Kn=null),X(St)}var St=V(0);function su(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bf(a)||qf(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ei=0,je=null,rt=null,Vt=null,iu=!1,Ha=!1,Zr=!1,ru=0,fo=0,$a=null,iw=0;function bt(){throw Error(i(321))}function kd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Nn(t[a],s[a]))return!1;return!0}function Md(t,s,a,l,h,f){return ei=f,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=t===null||t.memoizedState===null?h0:Jd,Zr=!1,f=a(l,h),Zr=!1,Ha&&(f=Ip(s,a,l,h)),Rp(t),f}function Rp(t){G.H=po;var s=rt!==null&&rt.next!==null;if(ei=0,Vt=rt=je=null,iu=!1,fo=0,$a=null,s)throw Error(i(300));t===null||kt||(t=t.dependencies,t!==null&&Yc(t)&&(kt=!0))}function Ip(t,s,a,l){je=t;var h=0;do{if(Ha&&($a=null),fo=0,Ha=!1,25<=h)throw Error(i(301));if(h+=1,Vt=rt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=d0,f=s(a,l)}while(Ha);return f}function rw(){var t=G.H,s=t.useState()[0];return s=typeof s.then=="function"?mo(s):s,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(je.flags|=1024),s}function Ld(){var t=ru!==0;return ru=0,t}function Pd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Ud(t){if(iu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}iu=!1}ei=0,Vt=rt=je=null,Ha=!1,fo=ru=0,$a=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?je.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Nt(){if(rt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var s=Vt===null?je.memoizedState:Vt.next;if(s!==null)Vt=s,rt=t;else{if(t===null)throw je.alternate===null?Error(i(467)):Error(i(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Vt===null?je.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(t){var s=fo;return fo+=1,$a===null&&($a=[]),t=bp($a,t,s),s=je,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?h0:Jd),t}function lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mo(t);if(t.$$typeof===ne)return Xt(t)}throw Error(i(438,String(t)))}function zd(t){var s=null,a=je.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=au(),je.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=N;return s.index++,a}function ti(t,s){return typeof s=="function"?s(t):s}function ou(t){var s=Nt();return Bd(s,rt,t)}function Bd(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}s.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{s=h.next;var x=_=null,j=null,z=s,K=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Ue&J)===J:(ei&J)===J){var B=z.revertLane;if(B===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Pa&&(K=!0);else if((ei&B)===B){z=z.next,B===Pa&&(K=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},j===null?(x=j=J,_=f):j=j.next=J,je.lanes|=B,Gi|=B;J=z.action,Zr&&a(f,J),f=z.hasEagerState?z.eagerState:a(f,J)}else B={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},j===null?(x=j=B,_=f):j=j.next=B,je.lanes|=J,Gi|=J;z=z.next}while(z!==null&&z!==s);if(j===null?_=f:j.next=x,!Nn(f,t.memoizedState)&&(kt=!0,K&&(a=Ua,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=j,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qd(t){var s=Nt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Nn(f,s.memoizedState)||(kt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,l]}function jp(t,s,a){var l=je,h=Nt(),f=$e;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=s();var _=!Nn((rt||h).memoizedState,a);if(_&&(h.memoizedState=a,kt=!0),h=h.queue,Fd(Vp.bind(null,l,h,t),[t]),h.getSnapshot!==s||_||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},Op.bind(null,l,h,a,s),null),ot===null)throw Error(i(349));f||(ei&127)!==0||Dp(l,s,a)}return a}function Dp(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=je.updateQueue,s===null?(s=au(),je.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Op(t,s,a,l){s.value=a,s.getSnapshot=l,kp(s)&&Mp(t)}function Vp(t,s,a){return a(function(){kp(s)&&Mp(t)})}function kp(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Nn(t,a)}catch{return!0}}function Mp(t){var s=Hr(t,2);s!==null&&xn(s,t,2)}function Hd(t){var s=dn();if(typeof t=="function"){var a=t;if(t=a(),Zr){sn(!0);try{a()}finally{sn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:t},s}function Lp(t,s,a,l){return t.baseState=a,Bd(t,rt,typeof l=="function"?l:ti)}function aw(t,s,a,l,h){if(hu(t))throw Error(i(485));if(t=s.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=s.pending,a===null?(f.next=s.pending=f,Pp(s,f)):(f.next=a.next,s.pending=a.next=f)}}function Pp(t,s){var a=s.action,l=s.payload,h=t.state;if(s.isTransition){var f=G.T,_={};G.T=_;try{var x=a(h,l),j=G.S;j!==null&&j(_,x),Up(t,s,x)}catch(z){$d(t,s,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),G.T=f}}else try{f=a(h,l),Up(t,s,f)}catch(z){$d(t,s,z)}}function Up(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zp(t,s,l)},function(l){return $d(t,s,l)}):zp(t,s,a)}function zp(t,s,a){s.status="fulfilled",s.value=a,Bp(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Pp(t,a)))}function $d(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Bp(s),s=s.next;while(s!==l)}t.action=null}function Bp(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function qp(t,s){return s}function Hp(t,s){if($e){var a=ot.formState;if(a!==null){e:{var l=je;if($e){if(ht){t:{for(var h=ht,f=Gn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=Qn(h.nextSibling),l=h.data==="F!";break e}}Li(l)}l=!1}l&&(s=a[0])}}return a=dn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:s},a.queue=l,a=o0.bind(null,je,l),l.dispatch=a,l=Hd(!1),f=Xd.bind(null,je,!1,l.queue),l=dn(),h={state:s,dispatch:null,action:t,pending:null},l.queue=h,a=aw.bind(null,je,h,f,a),h.dispatch=a,l.memoizedState=t,[s,a,!1]}function $p(t){var s=Nt();return Fp(s,rt,t)}function Fp(t,s,a){if(s=Bd(t,s,qp)[0],t=ou(ti)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=mo(s)}catch(_){throw _===za?Zc:_}else l=s;s=Nt();var h=s.queue,f=h.dispatch;return a!==s.memoizedState&&(je.flags|=2048,Fa(9,{destroy:void 0},lw.bind(null,h,a),null)),[l,f,t]}function lw(t,s){t.action=s}function Gp(t){var s=Nt(),a=rt;if(a!==null)return Fp(s,a,t);Nt(),s=s.memoizedState,a=Nt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Fa(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=je.updateQueue,s===null&&(s=au(),je.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Kp(){return Nt().memoizedState}function cu(t,s,a,l){var h=dn();je.flags|=t,h.memoizedState=Fa(1|s,{destroy:void 0},a,l===void 0?null:l)}function uu(t,s,a,l){var h=Nt();l=l===void 0?null:l;var f=h.memoizedState.inst;rt!==null&&l!==null&&kd(l,rt.memoizedState.deps)?h.memoizedState=Fa(s,f,a,l):(je.flags|=t,h.memoizedState=Fa(1|s,f,a,l))}function Qp(t,s){cu(8390656,8,t,s)}function Fd(t,s){uu(2048,8,t,s)}function ow(t){je.flags|=4;var s=je.updateQueue;if(s===null)s=au(),je.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Yp(t){var s=Nt().memoizedState;return ow({ref:s,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Xp(t,s){return uu(4,2,t,s)}function Jp(t,s){return uu(4,4,t,s)}function Zp(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Wp(t,s,a){a=a!=null?a.concat([t]):null,uu(4,4,Zp.bind(null,s,t),a)}function Gd(){}function e0(t,s){var a=Nt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&kd(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function t0(t,s){var a=Nt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&kd(s,l[1]))return l[0];if(l=t(),Zr){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,s],l}function Kd(t,s,a){return a===void 0||(ei&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=ny(),je.lanes|=t,Gi|=t,a)}function n0(t,s,a,l){return Nn(a,s)?a:qa.current!==null?(t=Kd(t,a,l),Nn(t,s)||(kt=!0),t):(ei&42)===0||(ei&1073741824)!==0&&(Ue&261930)===0?(kt=!0,t.memoizedState=a):(t=ny(),je.lanes|=t,Gi|=t,s)}function s0(t,s,a,l,h){var f=re.p;re.p=f!==0&&8>f?f:8;var _=G.T,x={};G.T=x,Xd(t,!1,s,a);try{var j=h(),z=G.S;if(z!==null&&z(x,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var K=sw(j,l);go(t,s,K,On(t))}else go(t,s,l,On(t))}catch(J){go(t,s,{then:function(){},status:"rejected",reason:J},On())}finally{re.p=f,_!==null&&x.types!==null&&(_.types=x.types),G.T=_}}function cw(){}function Qd(t,s,a,l){if(t.tag!==5)throw Error(i(476));var h=i0(t).queue;s0(t,h,s,ve,a===null?cw:function(){return r0(t),a(l)})}function i0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:ve},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function r0(t){var s=i0(t);s.next===null&&(s=t.alternate.memoizedState),go(t,s.next.queue,{},On())}function Yd(){return Xt(Do)}function a0(){return Nt().memoizedState}function l0(){return Nt().memoizedState}function uw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=On();t=zi(a);var l=Bi(s,t,a);l!==null&&(xn(l,s,a),co(l,s,a)),s={cache:Ed()},t.payload=s;return}s=s.return}}function hw(t,s,a){var l=On();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hu(t)?c0(s,a):(a=fd(t,s,a,l),a!==null&&(xn(a,t,l),u0(a,s,l)))}function o0(t,s,a){var l=On();go(t,s,a,l)}function go(t,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hu(t))c0(s,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var _=s.lastRenderedState,x=f(_,a);if(h.hasEagerState=!0,h.eagerState=x,Nn(x,_))return Fc(t,s,h,0),ot===null&&$c(),!1}catch{}if(a=fd(t,s,h,l),a!==null)return xn(a,t,l),u0(a,s,l),!0}return!1}function Xd(t,s,a,l){if(l={lane:2,revertLane:Rf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(s)throw Error(i(479))}else s=fd(t,a,l,2),s!==null&&xn(s,t,2)}function hu(t){var s=t.alternate;return t===je||s!==null&&s===je}function c0(t,s){Ha=iu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function u0(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ml(t,a)}}var po={readContext:Xt,use:lu,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};po.useEffectEvent=bt;var h0={readContext:Xt,use:lu,useCallback:function(t,s){return dn().memoizedState=[t,s===void 0?null:s],t},useContext:Xt,useEffect:Qp,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,cu(4194308,4,Zp.bind(null,s,t),a)},useLayoutEffect:function(t,s){return cu(4194308,4,t,s)},useInsertionEffect:function(t,s){cu(4,2,t,s)},useMemo:function(t,s){var a=dn();s=s===void 0?null:s;var l=t();if(Zr){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=dn();if(a!==void 0){var h=a(s);if(Zr){sn(!0);try{a(s)}finally{sn(!1)}}}else h=s;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=hw.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var s=dn();return t={current:t},s.memoizedState=t},useState:function(t){t=Hd(t);var s=t.queue,a=o0.bind(null,je,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Gd,useDeferredValue:function(t,s){var a=dn();return Kd(a,t,s)},useTransition:function(){var t=Hd(!1);return t=s0.bind(null,je,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=je,h=dn();if($e){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),ot===null)throw Error(i(349));(Ue&127)!==0||Dp(l,s,a)}h.memoizedState=a;var f={value:a,getSnapshot:s};return h.queue=f,Qp(Vp.bind(null,l,f,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},Op.bind(null,l,f,a,s),null),a},useId:function(){var t=dn(),s=ot.identifierPrefix;if($e){var a=Vs,l=Os;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=ru++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=iw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Yd,useFormState:Hp,useActionState:Hp,useOptimistic:function(t){var s=dn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Xd.bind(null,je,!0,a),a.dispatch=s,[t,s]},useMemoCache:zd,useCacheRefresh:function(){return dn().memoizedState=uw.bind(null,je)},useEffectEvent:function(t){var s=dn(),a={impl:t};return s.memoizedState=a,function(){if((Ze&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Jd={readContext:Xt,use:lu,useCallback:e0,useContext:Xt,useEffect:Fd,useImperativeHandle:Wp,useInsertionEffect:Xp,useLayoutEffect:Jp,useMemo:t0,useReducer:ou,useRef:Kp,useState:function(){return ou(ti)},useDebugValue:Gd,useDeferredValue:function(t,s){var a=Nt();return n0(a,rt.memoizedState,t,s)},useTransition:function(){var t=ou(ti)[0],s=Nt().memoizedState;return[typeof t=="boolean"?t:mo(t),s]},useSyncExternalStore:jp,useId:a0,useHostTransitionStatus:Yd,useFormState:$p,useActionState:$p,useOptimistic:function(t,s){var a=Nt();return Lp(a,rt,t,s)},useMemoCache:zd,useCacheRefresh:l0};Jd.useEffectEvent=Yp;var d0={readContext:Xt,use:lu,useCallback:e0,useContext:Xt,useEffect:Fd,useImperativeHandle:Wp,useInsertionEffect:Xp,useLayoutEffect:Jp,useMemo:t0,useReducer:qd,useRef:Kp,useState:function(){return qd(ti)},useDebugValue:Gd,useDeferredValue:function(t,s){var a=Nt();return rt===null?Kd(a,t,s):n0(a,rt.memoizedState,t,s)},useTransition:function(){var t=qd(ti)[0],s=Nt().memoizedState;return[typeof t=="boolean"?t:mo(t),s]},useSyncExternalStore:jp,useId:a0,useHostTransitionStatus:Yd,useFormState:Gp,useActionState:Gp,useOptimistic:function(t,s){var a=Nt();return rt!==null?Lp(a,rt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:zd,useCacheRefresh:l0};d0.useEffectEvent=Yp;function Zd(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Wd={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=On(),h=zi(l);h.payload=s,a!=null&&(h.callback=a),s=Bi(t,h,l),s!==null&&(xn(s,t,l),co(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=On(),h=zi(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=Bi(t,h,l),s!==null&&(xn(s,t,l),co(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=On(),l=zi(a);l.tag=2,s!=null&&(l.callback=s),s=Bi(t,l,a),s!==null&&(xn(s,t,a),co(s,t,a))}};function f0(t,s,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):s.prototype&&s.prototype.isPureReactComponent?!to(a,l)||!to(h,f):!0}function m0(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Wd.enqueueReplaceState(s,s.state,null)}function Wr(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function g0(t){Hc(t)}function p0(t){console.error(t)}function y0(t){Hc(t)}function du(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function v0(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ef(t,s,a){return a=zi(a),a.tag=3,a.payload={element:null},a.callback=function(){du(t,s)},a}function _0(t){return t=zi(t),t.tag=3,t}function b0(t,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){v0(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){v0(s,a,l),typeof h!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function dw(t,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&La(s,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Kn===null?Eu():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Sf(t,l,h)),!1;case 22:return a.flags|=65536,l===Wc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Sf(t,l,h)),!1}throw Error(i(435,a.tag))}return Sf(t,l,h),Eu(),!1}if($e)return s=Rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==_d&&(t=Error(i(422),{cause:l}),io(Hn(t,a)))):(l!==_d&&(s=Error(i(423),{cause:l}),io(Hn(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Hn(l,a),h=ef(t.stateNode,l,h),Id(t,h),xt!==4&&(xt=2)),!1;var f=Error(i(520),{cause:l});if(f=Hn(f,a),Eo===null?Eo=[f]:Eo.push(f),xt!==4&&(xt=2),s===null)return!0;l=Hn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ef(a.stateNode,l,t),Id(a,t),!1;case 1:if(s=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ki===null||!Ki.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_0(h),b0(h,t,a,l),Id(a,h),!1}a=a.return}while(a!==null);return!1}var tf=Error(i(461)),kt=!1;function Jt(t,s,a,l){s.child=t===null?Ep(s,null,a,l):Jr(s,t.child,a,l)}function x0(t,s,a,l,h){a=a.render;var f=s.ref;if("ref"in l){var _={};for(var x in l)x!=="ref"&&(_[x]=l[x])}else _=l;return Kr(s),l=Md(t,s,a,_,f,h),x=Ld(),t!==null&&!kt?(Pd(t,s,h),ni(t,s,h)):($e&&x&&yd(s),s.flags|=1,Jt(t,s,l,h),s.child)}function w0(t,s,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!md(f)&&f.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=f,T0(t,s,f,l,h)):(t=Kc(a.type,null,l,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!uf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:to,a(_,l)&&t.ref===s.ref)return ni(t,s,h)}return s.flags|=1,t=Xs(f,l),t.ref=s.ref,t.return=s,s.child=t}function T0(t,s,a,l,h){if(t!==null){var f=t.memoizedProps;if(to(f,l)&&t.ref===s.ref)if(kt=!1,s.pendingProps=l=f,uf(t,h))(t.flags&131072)!==0&&(kt=!0);else return s.lanes=t.lanes,ni(t,s,h)}return nf(t,s,a,l,h)}function E0(t,s,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=s.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,s.child=null;return A0(t,s,f,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jc(s,f!==null?f.cachePool:null),f!==null?Np(s,f):Dd(),Cp(s);else return l=s.lanes=536870912,A0(t,s,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Jc(s,f.cachePool),Np(s,f),Hi(),s.memoizedState=null):(t!==null&&Jc(s,null),Dd(),Hi());return Jt(t,s,h,a),s.child}function yo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function A0(t,s,a,l,h){var f=Sd();return f=f===null?null:{parent:Ot._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},t!==null&&Jc(s,null),Dd(),Cp(s),t!==null&&La(t,s,l,!0),s.childLanes=h,null}function fu(t,s){return s=gu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function S0(t,s,a){return Jr(s,t.child,null,a),t=fu(s,s.pendingProps),t.flags|=2,In(s),s.memoizedState=null,t}function fw(t,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if($e){if(l.mode==="hidden")return t=fu(s,l),s.lanes=536870912,yo(null,t);if(Vd(s),(t=ht)?(t=Py(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ki!==null?{id:Os,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},a=cp(t),a.return=s,s.child=a,Yt=s,ht=null)):t=null,t===null)throw Li(s);return s.lanes=536870912,null}return fu(s,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Vd(s),h)if(s.flags&256)s.flags&=-257,s=S0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(kt||La(t,s,a,!1),h=(a&t.childLanes)!==0,kt||h){if(l=ot,l!==null&&(_=Ll(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Hr(t,_),xn(l,t,_),tf;Eu(),s=S0(t,s,a)}else t=f.treeContext,ht=Qn(_.nextSibling),Yt=s,$e=!0,Mi=null,Gn=!1,t!==null&&dp(s,t),s=fu(s,l),s.flags|=4096;return s}return t=Xs(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function mu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function nf(t,s,a,l,h){return Kr(s),a=Md(t,s,a,l,void 0,h),l=Ld(),t!==null&&!kt?(Pd(t,s,h),ni(t,s,h)):($e&&l&&yd(s),s.flags|=1,Jt(t,s,a,h),s.child)}function N0(t,s,a,l,h,f){return Kr(s),s.updateQueue=null,a=Ip(s,l,a,h),Rp(t),l=Ld(),t!==null&&!kt?(Pd(t,s,f),ni(t,s,f)):($e&&l&&yd(s),s.flags|=1,Jt(t,s,a,f),s.child)}function C0(t,s,a,l,h){if(Kr(s),s.stateNode===null){var f=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Xt(_)),f=new a(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wd,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},Cd(s),_=a.contextType,f.context=typeof _=="object"&&_!==null?Xt(_):Oa,f.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Zd(s,a,_,l),f.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Wd.enqueueReplaceState(f,f.state,null),ho(s,l,f,h),uo(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){f=s.stateNode;var x=s.memoizedProps,j=Wr(a,x);f.props=j;var z=f.context,K=a.contextType;_=Oa,typeof K=="object"&&K!==null&&(_=Xt(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||z!==_)&&m0(s,f,l,_),Ui=!1;var B=s.memoizedState;f.state=B,ho(s,l,f,h),uo(),z=s.memoizedState,x||B!==z||Ui?(typeof J=="function"&&(Zd(s,a,J,l),z=s.memoizedState),(j=Ui||f0(s,a,j,l,B,z,_))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=z),f.props=l,f.state=z,f.context=_,l=j):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,Rd(t,s),_=s.memoizedProps,K=Wr(a,_),f.props=K,J=s.pendingProps,B=f.context,z=a.contextType,j=Oa,typeof z=="object"&&z!==null&&(j=Xt(z)),x=a.getDerivedStateFromProps,(z=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==J||B!==j)&&m0(s,f,l,j),Ui=!1,B=s.memoizedState,f.state=B,ho(s,l,f,h),uo();var H=s.memoizedState;_!==J||B!==H||Ui||t!==null&&t.dependencies!==null&&Yc(t.dependencies)?(typeof x=="function"&&(Zd(s,a,x,l),H=s.memoizedState),(K=Ui||f0(s,a,K,l,B,H,j)||t!==null&&t.dependencies!==null&&Yc(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,j)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=H),f.props=l,f.state=H,f.context=j,l=K):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(s.flags|=1024),l=!1)}return f=l,mu(t,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&l?(s.child=Jr(s,t.child,null,h),s.child=Jr(s,null,a,h)):Jt(t,s,a,h),s.memoizedState=f.state,t=s.child):t=ni(t,s,h),t}function R0(t,s,a,l){return Fr(),s.flags|=256,Jt(t,s,a,l),s.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rf(t){return{baseLanes:t,cachePool:vp()}}function af(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Dn),t}function I0(t,s,a){var l=s.pendingProps,h=!1,f=(s.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if($e){if(h?qi(s):Hi(),(t=ht)?(t=Py(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ki!==null?{id:Os,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},a=cp(t),a.return=s,s.child=a,Yt=s,ht=null)):t=null,t===null)throw Li(s);return qf(t)?s.lanes=32:s.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Hi(),h=s.mode,x=gu({mode:"hidden",children:x},h),l=$r(l,h,a,null),x.return=s,l.return=s,x.sibling=l,s.child=x,l=s.child,l.memoizedState=rf(a),l.childLanes=af(t,_,a),s.memoizedState=sf,yo(null,l)):(qi(s),lf(s,x))}var j=t.memoizedState;if(j!==null&&(x=j.dehydrated,x!==null)){if(f)s.flags&256?(qi(s),s.flags&=-257,s=of(t,s,a)):s.memoizedState!==null?(Hi(),s.child=t.child,s.flags|=128,s=null):(Hi(),x=l.fallback,h=s.mode,l=gu({mode:"visible",children:l.children},h),x=$r(x,h,a,null),x.flags|=2,l.return=s,x.return=s,l.sibling=x,s.child=l,Jr(s,t.child,null,a),l=s.child,l.memoizedState=rf(a),l.childLanes=af(t,_,a),s.memoizedState=sf,s=yo(null,l));else if(qi(s),qf(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(i(419)),l.stack="",l.digest=_,io({value:l,source:null,stack:null}),s=of(t,s,a)}else if(kt||La(t,s,a,!1),_=(a&t.childLanes)!==0,kt||_){if(_=ot,_!==null&&(l=Ll(_,a),l!==0&&l!==j.retryLane))throw j.retryLane=l,Hr(t,l),xn(_,t,l),tf;Bf(x)||Eu(),s=of(t,s,a)}else Bf(x)?(s.flags|=192,s.child=t.child,s=null):(t=j.treeContext,ht=Qn(x.nextSibling),Yt=s,$e=!0,Mi=null,Gn=!1,t!==null&&dp(s,t),s=lf(s,l.children),s.flags|=4096);return s}return h?(Hi(),x=l.fallback,h=s.mode,j=t.child,z=j.sibling,l=Xs(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,z!==null?x=Xs(z,x):(x=$r(x,h,a,null),x.flags|=2),x.return=s,l.return=s,l.sibling=x,s.child=l,yo(null,l),l=s.child,x=t.child.memoizedState,x===null?x=rf(a):(h=x.cachePool,h!==null?(j=Ot._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=vp(),x={baseLanes:x.baseLanes|a,cachePool:h}),l.memoizedState=x,l.childLanes=af(t,_,a),s.memoizedState=sf,yo(t.child,l)):(qi(s),a=t.child,t=a.sibling,a=Xs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function lf(t,s){return s=gu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function gu(t,s){return t=Cn(22,t,null,s),t.lanes=0,t}function of(t,s,a){return Jr(s,t.child,null,a),t=lf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function j0(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),wd(t.return,s,a)}function cf(t,s,a,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function D0(t,s,a){var l=s.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=St.current,x=(_&2)!==0;if(x?(_=_&1|2,s.flags|=128):_&=1,ae(St,_),Jt(t,s,l,a),l=$e?so:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j0(t,a,s);else if(t.tag===19)j0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&su(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),cf(s,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&su(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cf(s,!0,a,null,f,l);break;case"together":cf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ni(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Gi|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(La(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Xs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Xs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function uf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Yc(t)))}function mw(t,s,a){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),Pi(s,Ot,t.memoizedState.cache),Fr();break;case 27:case 5:Qe(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:Pi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(qi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?I0(t,s,a):(qi(s),t=ni(t,s,a),t!==null?t.sibling:null);qi(s);break;case 19:var h=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(La(t,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return D0(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(St,St.current),l)break;return null;case 22:return s.lanes=0,E0(t,s,a,s.pendingProps);case 24:Pi(s,Ot,t.memoizedState.cache)}return ni(t,s,a)}function O0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)kt=!0;else{if(!uf(t,a)&&(s.flags&128)===0)return kt=!1,mw(t,s,a);kt=(t.flags&131072)!==0}else kt=!1,$e&&(s.flags&1048576)!==0&&hp(s,so,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Yr(s.elementType),s.type=t,typeof t=="function")md(t)?(l=Wr(t,l),s.tag=1,s=C0(null,s,t,l,a)):(s.tag=0,s=nf(null,s,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ye){s.tag=11,s=x0(null,s,t,l,a);break e}else if(h===C){s.tag=14,s=w0(null,s,t,l,a);break e}}throw s=ct(t)||t,Error(i(306,s,""))}}return s;case 0:return nf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=Wr(l,s.pendingProps),C0(t,s,l,h,a);case 3:e:{if(Oe(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var f=s.memoizedState;h=f.element,Rd(t,s),ho(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Pi(s,Ot,l),l!==f.cache&&Td(s,[Ot],a,!0),uo(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=R0(t,s,l,a);break e}else if(l!==h){h=Hn(Error(i(424)),s),io(h),s=R0(t,s,l,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ht=Qn(t.firstChild),Yt=s,$e=!0,Mi=null,Gn=!0,a=Ep(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fr(),l===h){s=ni(t,s,a);break e}Jt(t,s,l,a)}s=s.child}return s;case 26:return mu(t,s),t===null?(a=$y(s.type,null,s.pendingProps,null))?s.memoizedState=a:$e||(a=s.type,t=s.pendingProps,l=ju(Ae.current).createElement(a),l[It]=s,l[qt]=t,Zt(l,a,t),jt(l),s.stateNode=l):s.memoizedState=$y(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Qe(s),t===null&&$e&&(l=s.stateNode=By(s.type,s.pendingProps,Ae.current),Yt=s,Gn=!0,h=ht,Ji(s.type)?(Hf=h,ht=Qn(l.firstChild)):ht=h),Jt(t,s,s.pendingProps.children,a),mu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&$e&&((h=l=ht)&&(l=$w(l,s.type,s.pendingProps,Gn),l!==null?(s.stateNode=l,Yt=s,ht=Qn(l.firstChild),Gn=!1,h=!0):h=!1),h||Li(s)),Qe(s),h=s.type,f=s.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Pf(h,f)?l=null:_!==null&&Pf(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=Md(t,s,rw,null,null,a),Do._currentValue=h),mu(t,s),Jt(t,s,l,a),s.child;case 6:return t===null&&$e&&((t=a=ht)&&(a=Fw(a,s.pendingProps,Gn),a!==null?(s.stateNode=a,Yt=s,ht=null,t=!0):t=!1),t||Li(s)),null;case 13:return I0(t,s,a);case 4:return Oe(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Jr(s,null,l,a):Jt(t,s,l,a),s.child;case 11:return x0(t,s,s.type,s.pendingProps,a);case 7:return Jt(t,s,s.pendingProps,a),s.child;case 8:return Jt(t,s,s.pendingProps.children,a),s.child;case 12:return Jt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Pi(s,s.type,l.value),Jt(t,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,Kr(s),h=Xt(h),l=l(h),s.flags|=1,Jt(t,s,l,a),s.child;case 14:return w0(t,s,s.type,s.pendingProps,a);case 15:return T0(t,s,s.type,s.pendingProps,a);case 19:return D0(t,s,a);case 31:return fw(t,s,a);case 22:return E0(t,s,a,s.pendingProps);case 24:return Kr(s),l=Xt(Ot),t===null?(h=Sd(),h===null&&(h=ot,f=Ed(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),s.memoizedState={parent:l,cache:h},Cd(s),Pi(s,Ot,h)):((t.lanes&a)!==0&&(Rd(t,s),ho(s,null,null,a),uo()),h=t.memoizedState,f=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Pi(s,Ot,l)):(l=f.cache,Pi(s,Ot,l),l!==h.cache&&Td(s,[Ot],a,!0))),Jt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function si(t){t.flags|=4}function hf(t,s,a,l,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ay())t.flags|=8192;else throw Xr=Wc,Nd}else t.flags&=-16777217}function V0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Yy(s))if(ay())t.flags|=8192;else throw Xr=Wc,Nd}function pu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?wc():536870912,t.lanes|=s,Ya|=s)}function vo(t,s){if(!$e)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function gw(t,s,a){var l=s.pendingProps;switch(vd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(s),null;case 1:return dt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ws(Ot),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(s)?si(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,bd())),dt(s),null;case 26:var h=s.type,f=s.memoizedState;return t===null?(si(s),f!==null?(dt(s),V0(s,f)):(dt(s),hf(s,h,null,l,a))):f?f!==t.memoizedState?(si(s),dt(s),V0(s,f)):(dt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&si(s),dt(s),hf(s,h,t,l,a)),null;case 27:if(Wn(s),a=Ae.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&si(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return dt(s),null}t=oe.current,Ma(s)?fp(s):(t=By(h,l,a),s.stateNode=t,si(s))}return dt(s),null;case 5:if(Wn(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&si(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return dt(s),null}if(f=oe.current,Ma(s))fp(s);else{var _=ju(Ae.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[It]=s,f[qt]=l;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=f;e:switch(Zt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&si(s)}}return dt(s),hf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&si(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=Ae.current,Ma(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Iy(t.nodeValue,a)),t||Li(s,!0)}else t=ju(t).createTextNode(l),t[It]=s,s.stateNode=t}return dt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[It]=s}else Fr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),t=!1}else a=bd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(In(s),s):(In(s),null);if((s.flags&128)!==0)throw Error(i(558))}return dt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(s),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[It]=s}else Fr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),h=!1}else h=bd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(In(s),s):(In(s),null)}return In(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),pu(s,s.updateQueue),dt(s),null);case 4:return Ke(),t===null&&Of(s.stateNode.containerInfo),dt(s),null;case 10:return Ws(s.type),dt(s),null;case 19:if(X(St),l=s.memoizedState,l===null)return dt(s),null;if(h=(s.flags&128)!==0,f=l.rendering,f===null)if(h)vo(l,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=su(t),f!==null){for(s.flags|=128,vo(l,!1),t=f.updateQueue,s.updateQueue=t,pu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)op(a,t),a=a.sibling;return ae(St,St.current&1|2),$e&&Js(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&Gt()>xu&&(s.flags|=128,h=!0,vo(l,!1),s.lanes=4194304)}else{if(!h)if(t=su(f),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,pu(s,t),vo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!$e)return dt(s),null}else 2*Gt()-l.renderingStartTime>xu&&a!==536870912&&(s.flags|=128,h=!0,vo(l,!1),s.lanes=4194304);l.isBackwards?(f.sibling=s.child,s.child=f):(t=l.last,t!==null?t.sibling=f:s.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Gt(),t.sibling=null,a=St.current,ae(St,h?a&1|2:a&1),$e&&Js(s,l.treeForkCount),t):(dt(s),null);case 22:case 23:return In(s),Od(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(dt(s),s.subtreeFlags&6&&(s.flags|=8192)):dt(s),a=s.updateQueue,a!==null&&pu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&X(Qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ws(Ot),dt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function pw(t,s){switch(vd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ws(Ot),Ke(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Wn(s),null;case 31:if(s.memoizedState!==null){if(In(s),s.alternate===null)throw Error(i(340));Fr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(In(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Fr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return X(St),null;case 4:return Ke(),null;case 10:return Ws(s.type),null;case 22:case 23:return In(s),Od(),t!==null&&X(Qr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Ws(Ot),null;case 25:return null;default:return null}}function k0(t,s){switch(vd(s),s.tag){case 3:Ws(Ot),Ke();break;case 26:case 27:case 5:Wn(s);break;case 4:Ke();break;case 31:s.memoizedState!==null&&In(s);break;case 13:In(s);break;case 19:X(St);break;case 10:Ws(s.type);break;case 22:case 23:In(s),Od(),t!==null&&X(Qr);break;case 24:Ws(Ot)}}function _o(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(x){st(s,s.return,x)}}function $i(t,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,h=s;var j=a,z=x;try{z()}catch(K){st(h,j,K)}}}l=l.next}while(l!==f)}}catch(K){st(s,s.return,K)}}function M0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Sp(s,a)}catch(l){st(t,t.return,l)}}}function L0(t,s,a){a.props=Wr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){st(t,s,l)}}function bo(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){st(t,s,h)}}function ks(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){st(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,s,h)}else a.current=null}function P0(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function df(t,s,a){try{var l=t.stateNode;Pw(l,t.type,a,s),l[qt]=s}catch(h){st(t,t.return,h)}}function U0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ji(t.type)||t.tag===4}function ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ss));else if(l!==4&&(l===27&&Ji(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(mf(t,s,a),t=t.sibling;t!==null;)mf(t,s,a),t=t.sibling}function yu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Ji(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yu(t,s,a),t=t.sibling;t!==null;)yu(t,s,a),t=t.sibling}function z0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Zt(s,l,a),s[It]=t,s[qt]=a}catch(f){st(t,t.return,f)}}var ii=!1,Mt=!1,gf=!1,B0=typeof WeakSet=="function"?WeakSet:Set,$t=null;function yw(t,s){if(t=t.containerInfo,Mf=Pu,t=Wg(t),ld(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,x=-1,j=-1,z=0,K=0,J=t,B=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(x=_+h),J!==f||l!==0&&J.nodeType!==3||(j=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(H=J.firstChild)!==null;)B=J,J=H;for(;;){if(J===t)break t;if(B===a&&++z===h&&(x=_),B===f&&++K===l&&(j=_),(H=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=H}a=x===-1||j===-1?null:{start:x,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lf={focusedElem:t,selectionRange:a},Pu=!1,$t=s;$t!==null;)if(s=$t,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,$t=t;else for(;$t!==null;){switch(s=$t,f=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=s,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=Wr(a.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){st(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)zf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,$t=t;break}$t=s.return}}function q0(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ai(t,a),l&4&&_o(5,a);break;case 1:if(ai(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){st(a,a.return,_)}else{var h=Wr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){st(a,a.return,_)}}l&64&&M0(a),l&512&&bo(a,a.return);break;case 3:if(ai(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Sp(t,s)}catch(_){st(a,a.return,_)}}break;case 27:s===null&&l&4&&z0(a);case 26:case 5:ai(t,a),s===null&&l&4&&P0(a),l&512&&bo(a,a.return);break;case 12:ai(t,a);break;case 31:ai(t,a),l&4&&F0(t,a);break;case 13:ai(t,a),l&4&&G0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Sw.bind(null,a),Gw(t,a))));break;case 22:if(l=a.memoizedState!==null||ii,!l){s=s!==null&&s.memoizedState!==null||Mt,h=ii;var f=Mt;ii=l,(Mt=s)&&!f?li(t,a,(a.subtreeFlags&8772)!==0):ai(t,a),ii=h,Mt=f}break;case 30:break;default:ai(t,a)}}function H0(t){var s=t.alternate;s!==null&&(t.alternate=null,H0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&_a(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,yn=!1;function ri(t,s,a){for(a=a.child;a!==null;)$0(t,s,a),a=a.sibling}function $0(t,s,a){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(En,a)}catch{}switch(a.tag){case 26:Mt||ks(a,s),ri(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||ks(a,s);var l=pt,h=yn;Ji(a.type)&&(pt=a.stateNode,yn=!1),ri(t,s,a),Ro(a.stateNode),pt=l,yn=h;break;case 5:Mt||ks(a,s);case 6:if(l=pt,h=yn,pt=null,ri(t,s,a),pt=l,yn=h,pt!==null)if(yn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(f){st(a,s,f)}else try{pt.removeChild(a.stateNode)}catch(f){st(a,s,f)}break;case 18:pt!==null&&(yn?(t=pt,My(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),sl(t)):My(pt,a.stateNode));break;case 4:l=pt,h=yn,pt=a.stateNode.containerInfo,yn=!0,ri(t,s,a),pt=l,yn=h;break;case 0:case 11:case 14:case 15:$i(2,a,s),Mt||$i(4,a,s),ri(t,s,a);break;case 1:Mt||(ks(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&L0(a,s,l)),ri(t,s,a);break;case 21:ri(t,s,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,ri(t,s,a),Mt=l;break;default:ri(t,s,a)}}function F0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(a){st(s,s.return,a)}}}function G0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(a){st(s,s.return,a)}}function vw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new B0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new B0),s;default:throw Error(i(435,t.tag))}}function vu(t,s){var a=vw(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=Nw.bind(null,t,l);l.then(h,h)}})}function vn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=s,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(Ji(x.type)){pt=x.stateNode,yn=!1;break e}break;case 5:pt=x.stateNode,yn=!1;break e;case 3:case 4:pt=x.stateNode.containerInfo,yn=!0;break e}x=x.return}if(pt===null)throw Error(i(160));$0(f,_,h),pt=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)K0(s,t),s=s.sibling}var cs=null;function K0(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(s,t),_n(t),l&4&&($i(3,t,t.return),_o(3,t),$i(5,t,t.return));break;case 1:vn(s,t),_n(t),l&512&&(Mt||a===null||ks(a,a.return)),l&64&&ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=cs;if(vn(s,t),_n(t),l&512&&(Mt||a===null||ks(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[xs]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Zt(f,l,a),f[It]=t,jt(f),l=f;break e;case"link":var _=Ky("link","href",h).get(l+(a.href||""));if(_){for(var x=0;x<_.length;x++)if(f=_[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(x,1);break t}}f=h.createElement(l),Zt(f,l,a),h.head.appendChild(f);break;case"meta":if(_=Ky("meta","content",h).get(l+(a.content||""))){for(x=0;x<_.length;x++)if(f=_[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(x,1);break t}}f=h.createElement(l),Zt(f,l,a),h.head.appendChild(f);break;default:throw Error(i(468,l))}f[It]=t,jt(f),l=f}t.stateNode=l}else Qy(h,t.type,t.stateNode);else t.stateNode=Gy(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Qy(h,t.type,t.stateNode):Gy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&df(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(s,t),_n(t),l&512&&(Mt||a===null||ks(a,a.return)),a!==null&&l&4&&df(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(s,t),_n(t),l&512&&(Mt||a===null||ks(a,a.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(he){st(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,df(t,h,a!==null?a.memoizedProps:h)),l&1024&&(gf=!0);break;case 6:if(vn(s,t),_n(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){st(t,t.return,he)}}break;case 3:if(Vu=null,h=cs,cs=Du(s.containerInfo),vn(s,t),cs=h,_n(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{sl(s.containerInfo)}catch(he){st(t,t.return,he)}gf&&(gf=!1,Q0(t));break;case 4:l=cs,cs=Du(t.stateNode.containerInfo),vn(s,t),_n(t),cs=l;break;case 12:vn(s,t),_n(t);break;case 31:vn(s,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 13:vn(s,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bu=Gt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 22:h=t.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,z=ii,K=Mt;if(ii=z||h,Mt=K||j,vn(s,t),Mt=K,ii=z,_n(t),l&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||j||ii||Mt||ea(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){j=a=s;try{if(f=j.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=j.stateNode;var J=j.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;x.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){st(j,j.return,he)}}}else if(s.tag===6){if(a===null){j=s;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(he){st(j,j.return,he)}}}else if(s.tag===18){if(a===null){j=s;try{var H=j.stateNode;h?Ly(H,!0):Ly(j.stateNode,!1)}catch(he){st(j,j.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vu(t,a))));break;case 19:vn(s,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 30:break;case 21:break;default:vn(s,t),_n(t)}}function _n(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(U0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,f=ff(t);yu(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(pn(_,""),a.flags&=-33);var x=ff(t);yu(t,x,_);break;case 3:case 4:var j=a.stateNode.containerInfo,z=ff(t);mf(t,z,j);break;default:throw Error(i(161))}}catch(K){st(t,t.return,K)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Q0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Q0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ai(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)q0(t,s.alternate,s),s=s.sibling}function ea(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:$i(4,s,s.return),ea(s);break;case 1:ks(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&L0(s,s.return,a),ea(s);break;case 27:Ro(s.stateNode);case 26:case 5:ks(s,s.return),ea(s);break;case 22:s.memoizedState===null&&ea(s);break;case 30:ea(s);break;default:ea(s)}t=t.sibling}}function li(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=t,f=s,_=f.flags;switch(f.tag){case 0:case 11:case 15:li(h,f,a),_o(4,f);break;case 1:if(li(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){st(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var x=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)Ap(j[h],x)}catch(z){st(l,l.return,z)}}a&&_&64&&M0(f),bo(f,f.return);break;case 27:z0(f);case 26:case 5:li(h,f,a),a&&l===null&&_&4&&P0(f),bo(f,f.return);break;case 12:li(h,f,a);break;case 31:li(h,f,a),a&&_&4&&F0(h,f);break;case 13:li(h,f,a),a&&_&4&&G0(h,f);break;case 22:f.memoizedState===null&&li(h,f,a),bo(f,f.return);break;case 30:break;default:li(h,f,a)}s=s.sibling}}function pf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ro(a))}function yf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ro(t))}function us(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Y0(t,s,a,l),s=s.sibling}function Y0(t,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:us(t,s,a,l),h&2048&&_o(9,s);break;case 1:us(t,s,a,l);break;case 3:us(t,s,a,l),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ro(t)));break;case 12:if(h&2048){us(t,s,a,l),t=s.stateNode;try{var f=s.memoizedProps,_=f.id,x=f.onPostCommit;typeof x=="function"&&x(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){st(s,s.return,j)}}else us(t,s,a,l);break;case 31:us(t,s,a,l);break;case 13:us(t,s,a,l);break;case 23:break;case 22:f=s.stateNode,_=s.alternate,s.memoizedState!==null?f._visibility&2?us(t,s,a,l):xo(t,s):f._visibility&2?us(t,s,a,l):(f._visibility|=2,Ga(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&pf(_,s);break;case 24:us(t,s,a,l),h&2048&&yf(s.alternate,s);break;default:us(t,s,a,l)}}function Ga(t,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=t,_=s,x=a,j=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(f,_,x,j,h),_o(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ga(f,_,x,j,h):xo(f,_):(K._visibility|=2,Ga(f,_,x,j,h)),h&&z&2048&&pf(_.alternate,_);break;case 24:Ga(f,_,x,j,h),h&&z&2048&&yf(_.alternate,_);break;default:Ga(f,_,x,j,h)}s=s.sibling}}function xo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,h=l.flags;switch(l.tag){case 22:xo(a,l),h&2048&&pf(l.alternate,l);break;case 24:xo(a,l),h&2048&&yf(l.alternate,l);break;default:xo(a,l)}s=s.sibling}}var wo=8192;function Ka(t,s,a){if(t.subtreeFlags&wo)for(t=t.child;t!==null;)X0(t,s,a),t=t.sibling}function X0(t,s,a){switch(t.tag){case 26:Ka(t,s,a),t.flags&wo&&t.memoizedState!==null&&i2(a,cs,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,s,a);break;case 3:case 4:var l=cs;cs=Du(t.stateNode.containerInfo),Ka(t,s,a),cs=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wo,wo=16777216,Ka(t,s,a),wo=l):Ka(t,s,a));break;default:Ka(t,s,a)}}function J0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function To(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,W0(l,t)}J0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Z0(t),t=t.sibling}function Z0(t){switch(t.tag){case 0:case 11:case 15:To(t),t.flags&2048&&$i(9,t,t.return);break;case 3:To(t);break;case 12:To(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,_u(t)):To(t);break;default:To(t)}}function _u(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,W0(l,t)}J0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:$i(8,s,s.return),_u(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,_u(s));break;default:_u(s)}t=t.sibling}}function W0(t,s){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:$i(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ro(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=t;$t!==null;){l=$t;var h=l.sibling,f=l.return;if(H0(l),l===a){$t=null;break e}if(h!==null){h.return=f,$t=h;break e}$t=f}}}var _w={getCacheForType:function(t){var s=Xt(Ot),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Xt(Ot).controller.signal}},bw=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ot=null,Me=null,Ue=0,nt=0,jn=null,Fi=!1,Qa=!1,vf=!1,oi=0,xt=0,Gi=0,ta=0,_f=0,Dn=0,Ya=0,Eo=null,bn=null,bf=!1,bu=0,ey=0,xu=1/0,wu=null,Ki=null,zt=0,Qi=null,Xa=null,ci=0,xf=0,wf=null,ty=null,Ao=0,Tf=null;function On(){return(Ze&2)!==0&&Ue!==0?Ue&-Ue:G.T!==null?Rf():Tc()}function ny(){if(Dn===0)if((Ue&536870912)===0||$e){var t=Re;Re<<=1,(Re&3932160)===0&&(Re=262144),Dn=t}else Dn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Dn}function xn(t,s,a){(t===ot&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Yi(t,Ue,Dn,!1)),Rr(t,a),((Ze&2)===0||t!==ot)&&(t===ot&&((Ze&2)===0&&(ta|=a),xt===4&&Yi(t,Ue,Dn,!1)),Ms(t))}function sy(t,s,a){if((Ze&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||es(t,s),h=l?Tw(t,s):Af(t,s,!0),f=l;do{if(h===0){Qa&&!l&&Yi(t,s,0,!1);break}else{if(a=t.current.alternate,f&&!xw(a)){h=Af(t,s,!1),f=!1;continue}if(h===2){if(f=s,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var x=t;h=Eo;var j=x.current.memoizedState.isDehydrated;if(j&&(Ja(x,_).flags|=256),_=Af(x,_,!1),_!==2){if(vf&&!j){x.errorRecoveryDisabledLanes|=f,ta|=f,h=4;break e}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),Yi(t,s,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Yi(l,s,Dn,!Fi);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=bu+300-Gt(),10<h)){if(Yi(l,s,Dn,!Fi),vs(l,0,!0)!==0)break e;ci=s,l.timeoutHandle=Vy(iy.bind(null,l,a,bn,wu,bf,s,Dn,ta,Ya,Fi,f,"Throttled",-0,0),h);break e}iy(l,a,bn,wu,bf,s,Dn,ta,Ya,Fi,f,null,-0,0)}}break}while(!0);Ms(t)}function iy(t,s,a,l,h,f,_,x,j,z,K,J,B,H){if(t.timeoutHandle=-1,J=s.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ss},X0(s,f,J);var he=(f&62914560)===f?bu-Gt():(f&4194048)===f?ey-Gt():0;if(he=r2(J,he),he!==null){ci=f,t.cancelPendingCommit=he(dy.bind(null,t,s,f,a,l,h,_,x,j,K,J,null,B,H)),Yi(t,f,_,!z);return}}dy(t,s,f,a,l,h,_,x,j)}function xw(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yi(t,s,a,l){s&=~_f,s&=~ta,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var h=s;0<h;){var f=31-mt(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&Ir(t,a,s)}function Tu(){return(Ze&6)===0?(So(0),!1):!0}function Ef(){if(Me!==null){if(nt===0)var t=Me.return;else t=Me,Zs=Gr=null,Ud(t),Ba=null,lo=0,t=Me;for(;t!==null;)k0(t.alternate,t),t=t.return;Me=null}}function Ja(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Bw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ci=0,Ef(),ot=t,Me=a=Xs(t.current,null),Ue=s,nt=0,jn=null,Fi=!1,Qa=es(t,s),vf=!1,Ya=Dn=_f=ta=Gi=xt=0,bn=Eo=null,bf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var h=31-mt(l),f=1<<h;s|=t[h],l&=~f}return oi=s,$c(),a}function ry(t,s){je=null,G.H=po,s===za||s===Zc?(s=xp(),nt=3):s===Nd?(s=xp(),nt=4):nt=s===tf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,jn=s,Me===null&&(xt=1,du(t,Hn(s,t.current)))}function ay(){var t=Rn.current;return t===null?!0:(Ue&4194048)===Ue?Kn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Kn:!1}function ly(){var t=G.H;return G.H=po,t===null?po:t}function oy(){var t=G.A;return G.A=_w,t}function Eu(){xt=4,Fi||(Ue&4194048)!==Ue&&Rn.current!==null||(Qa=!0),(Gi&134217727)===0&&(ta&134217727)===0||ot===null||Yi(ot,Ue,Dn,!1)}function Af(t,s,a){var l=Ze;Ze|=2;var h=ly(),f=oy();(ot!==t||Ue!==s)&&(wu=null,Ja(t,s)),s=!1;var _=xt;e:do try{if(nt!==0&&Me!==null){var x=Me,j=jn;switch(nt){case 8:Ef(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(s=!0);var z=nt;if(nt=0,jn=null,Za(t,x,j,z),a&&Qa){_=0;break e}break;default:z=nt,nt=0,jn=null,Za(t,x,j,z)}}ww(),_=xt;break}catch(K){ry(t,K)}while(!0);return s&&t.shellSuspendCounter++,Zs=Gr=null,Ze=l,G.H=h,G.A=f,Me===null&&(ot=null,Ue=0,$c()),_}function ww(){for(;Me!==null;)cy(Me)}function Tw(t,s){var a=Ze;Ze|=2;var l=ly(),h=oy();ot!==t||Ue!==s?(wu=null,xu=Gt()+500,Ja(t,s)):Qa=es(t,s);e:do try{if(nt!==0&&Me!==null){s=Me;var f=jn;t:switch(nt){case 1:nt=0,jn=null,Za(t,s,f,1);break;case 2:case 9:if(_p(f)){nt=0,jn=null,uy(s);break}s=function(){nt!==2&&nt!==9||ot!==t||(nt=7),Ms(t)},f.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:_p(f)?(nt=0,jn=null,uy(s)):(nt=0,jn=null,Za(t,s,f,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var x=Me;if(_?Yy(_):x.stateNode.complete){nt=0,jn=null;var j=x.sibling;if(j!==null)Me=j;else{var z=x.return;z!==null?(Me=z,Au(z)):Me=null}break t}}nt=0,jn=null,Za(t,s,f,5);break;case 6:nt=0,jn=null,Za(t,s,f,6);break;case 8:Ef(),xt=6;break e;default:throw Error(i(462))}}Ew();break}catch(K){ry(t,K)}while(!0);return Zs=Gr=null,G.H=l,G.A=h,Ze=a,Me!==null?0:(ot=null,Ue=0,$c(),xt)}function Ew(){for(;Me!==null&&!kl();)cy(Me)}function cy(t){var s=O0(t.alternate,t,oi);t.memoizedProps=t.pendingProps,s===null?Au(t):Me=s}function uy(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=N0(a,s,s.pendingProps,s.type,void 0,Ue);break;case 11:s=N0(a,s,s.pendingProps,s.type.render,s.ref,Ue);break;case 5:Ud(s);default:k0(a,s),s=Me=op(s,oi),s=O0(a,s,oi)}t.memoizedProps=t.pendingProps,s===null?Au(t):Me=s}function Za(t,s,a,l){Zs=Gr=null,Ud(s),Ba=null,lo=0;var h=s.return;try{if(dw(t,h,s,a,Ue)){xt=1,du(t,Hn(a,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;xt=1,du(t,Hn(a,t.current)),Me=null;return}s.flags&32768?($e||l===1?t=!0:Qa||(Ue&536870912)!==0?t=!1:(Fi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),hy(s,t)):Au(s)}function Au(t){var s=t;do{if((s.flags&32768)!==0){hy(s,Fi);return}t=s.return;var a=gw(s.alternate,s,oi);if(a!==null){Me=a;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=t}while(s!==null);xt===0&&(xt=5)}function hy(t,s){do{var a=pw(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);xt=6,Me=null}function dy(t,s,a,l,h,f,_,x,j){t.cancelPendingCommit=null;do Su();while(zt!==0);if((Ze&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(f=s.lanes|s.childLanes,f|=dd,sd(t,a,f,_,x,j),t===ot&&(Me=ot=null,Ue=0),Xa=s,Qi=t,ci=a,xf=f,wf=h,ty=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Cw(Kt,function(){return yy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=re.p,re.p=2,_=Ze,Ze|=4;try{yw(t,s,a)}finally{Ze=_,re.p=h,G.T=l}}zt=1,fy(),my(),gy()}}function fy(){if(zt===1){zt=0;var t=Qi,s=Xa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=re.p;re.p=2;var h=Ze;Ze|=4;try{K0(s,t);var f=Lf,_=Wg(t.containerInfo),x=f.focusedElem,j=f.selectionRange;if(_!==x&&x&&x.ownerDocument&&Zg(x.ownerDocument.documentElement,x)){if(j!==null&&ld(x)){var z=j.start,K=j.end;if(K===void 0&&(K=z),"selectionStart"in x)x.selectionStart=z,x.selectionEnd=Math.min(K,x.value.length);else{var J=x.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var H=B.getSelection(),he=x.textContent.length,we=Math.min(j.start,he),lt=j.end===void 0?we:Math.min(j.end,he);!H.extend&&we>lt&&(_=lt,lt=we,we=_);var k=Jg(x,we),O=Jg(x,lt);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var U=J.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),we>lt?(H.addRange(U),H.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),H.addRange(U))}}}}for(J=[],H=x;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<J.length;x++){var Y=J[x];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Pu=!!Mf,Lf=Mf=null}finally{Ze=h,re.p=l,G.T=a}}t.current=s,zt=2}}function my(){if(zt===2){zt=0;var t=Qi,s=Xa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=re.p;re.p=2;var h=Ze;Ze|=4;try{q0(t,s.alternate,s)}finally{Ze=h,re.p=l,G.T=a}}zt=3}}function gy(){if(zt===4||zt===3){zt=0,ga();var t=Qi,s=Xa,a=ci,l=ty;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,Xa=Qi=null,py(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ki=null),Gs(a),s=s.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(En,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=G.T,h=re.p,re.p=2,G.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var x=l[_];f(x.value,{componentStack:x.stack})}}finally{G.T=s,re.p=h}}(ci&3)!==0&&Su(),Ms(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Tf?Ao++:(Ao=0,Tf=t):Ao=0,So(0)}}function py(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,ro(s)))}function Su(){return fy(),my(),gy(),yy()}function yy(){if(zt!==5)return!1;var t=Qi,s=xf;xf=0;var a=Gs(ci),l=G.T,h=re.p;try{re.p=32>a?32:a,G.T=null,a=wf,wf=null;var f=Qi,_=ci;if(zt=0,Xa=Qi=null,ci=0,(Ze&6)!==0)throw Error(i(331));var x=Ze;if(Ze|=4,Z0(f.current),Y0(f,f.current,_,a),Ze=x,So(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(En,f)}catch{}return!0}finally{re.p=h,G.T=l,py(t,s)}}function vy(t,s,a){s=Hn(a,s),s=ef(t.stateNode,s,2),t=Bi(t,s,2),t!==null&&(Rr(t,2),Ms(t))}function st(t,s,a){if(t.tag===3)vy(t,t,a);else for(;s!==null;){if(s.tag===3){vy(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ki===null||!Ki.has(l))){t=Hn(a,t),a=_0(2),l=Bi(s,a,2),l!==null&&(b0(a,l,s,t),Rr(l,2),Ms(l));break}}s=s.return}}function Sf(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new bw;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(vf=!0,h.add(a),t=Aw.bind(null,t,s,a),s.then(t,t))}function Aw(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(Ue&a)===a&&(xt===4||xt===3&&(Ue&62914560)===Ue&&300>Gt()-bu?(Ze&2)===0&&Ja(t,0):_f|=a,Ya===Ue&&(Ya=0)),Ms(t)}function _y(t,s){s===0&&(s=wc()),t=Hr(t,s),t!==null&&(Rr(t,s),Ms(t))}function Sw(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),_y(t,a)}function Nw(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),_y(t,a)}function Cw(t,s){return We(t,s)}var Nu=null,Wa=null,Nf=!1,Cu=!1,Cf=!1,Xi=0;function Ms(t){t!==Wa&&t.next===null&&(Wa===null?Nu=Wa=t:Wa=Wa.next=t),Cu=!0,Nf||(Nf=!0,Iw())}function So(t,s){if(!Cf&&Cu){Cf=!0;do for(var a=!1,l=Nu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=h&~(_&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ty(l,f))}else f=Ue,f=vs(l,l===ot?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||es(l,f)||(a=!0,Ty(l,f));l=l.next}while(a);Cf=!1}}function Rw(){by()}function by(){Cu=Nf=!1;var t=0;Xi!==0&&zw()&&(t=Xi);for(var s=Gt(),a=null,l=Nu;l!==null;){var h=l.next,f=xy(l,s);f===0?(l.next=null,a===null?Nu=h:a.next=h,h===null&&(Wa=a)):(a=l,(t!==0||(f&3)!==0)&&(Cu=!0)),l=h}zt!==0&&zt!==5||So(t),Xi!==0&&(Xi=0)}function xy(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-mt(f),x=1<<_,j=h[_];j===-1?((x&a)===0||(x&l)!==0)&&(h[_]=nd(x,s)):j<=s&&(t.expiredLanes|=x),f&=~x}if(s=ot,a=Ue,a=vs(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||es(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&gs(l),Gs(a)){case 2:case 8:a=Cr;break;case 32:a=Kt;break;case 268435456:a=ps;break;default:a=Kt}return l=wy.bind(null,t),a=We(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&gs(l),t.callbackPriority=2,t.callbackNode=null,2}function wy(t,s){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Su()&&t.callbackNode!==a)return null;var l=Ue;return l=vs(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sy(t,l,s),xy(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?wy.bind(null,t):null)}function Ty(t,s){if(Su())return null;sy(t,s,!0)}function Iw(){qw(function(){(Ze&6)!==0?We(Nr,Rw):by()})}function Rf(){if(Xi===0){var t=Pa;t===0&&(t=ee,ee<<=1,(ee&261888)===0&&(ee=256)),Xi=t}return Xi}function Ey(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function Ay(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function jw(t,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var f=Ey((h[qt]||null).action),_=l.submitter;_&&(s=(s=_[qt]||null)?Ey(s.formAction):_.getAttribute("formAction"),s!==null&&(f=s,_=null));var x=new Rs("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xi!==0){var j=_?Ay(h,_):new FormData(h);Qd(a,{pending:!0,data:j,method:h.method,action:f},null,j)}}else typeof f=="function"&&(x.preventDefault(),j=_?Ay(h,_):new FormData(h),Qd(a,{pending:!0,data:j,method:h.method,action:f},f,j))},currentTarget:h}]})}}for(var If=0;If<hd.length;If++){var jf=hd[If],Dw=jf.toLowerCase(),Ow=jf[0].toUpperCase()+jf.slice(1);os(Dw,"on"+Ow)}os(np,"onAnimationEnd"),os(sp,"onAnimationIteration"),os(ip,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(Yx,"onTransitionRun"),os(Xx,"onTransitionStart"),os(Jx,"onTransitionCancel"),os(rp,"onTransitionEnd"),As("onMouseEnter",["mouseout","mouseover"]),As("onMouseLeave",["mouseout","mouseover"]),As("onPointerEnter",["pointerout","pointerover"]),As("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function Sy(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var _=l.length-1;0<=_;_--){var x=l[_],j=x.instance,z=x.currentTarget;if(x=x.listener,j!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=z;try{f(h)}catch(K){Hc(K)}h.currentTarget=null,f=j}else for(_=0;_<l.length;_++){if(x=l[_],j=x.instance,z=x.currentTarget,x=x.listener,j!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=z;try{f(h)}catch(K){Hc(K)}h.currentTarget=null,f=j}}}}function Le(t,s){var a=s[va];a===void 0&&(a=s[va]=new Set);var l=t+"__bubble";a.has(l)||(Ny(s,t,2,!1),a.add(l))}function Df(t,s,a){var l=0;s&&(l|=4),Ny(a,t,l,s)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[Ru]){t[Ru]=!0,Pl.forEach(function(a){a!=="selectionchange"&&(Vw.has(a)||Df(a,!1,t),Df(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ru]||(s[Ru]=!0,Df("selectionchange",!1,s))}}function Ny(t,s,a,l){switch(nv(s)){case 2:var h=o2;break;case 8:h=c2;break;default:h=Qf}a=h.bind(null,s,a,t),h=void 0,!kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function Vf(t,s,a,l,h){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var x=l.stateNode.containerInfo;if(x===h)break;if(_===4)for(_=l.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;x!==null;){if(_=ws(x),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){l=f=_;continue e}x=x.parentNode}}l=l.return}ji(function(){var z=f,K=Un(a),J=[];e:{var B=ap.get(t);if(B!==void 0){var H=Rs,he=t;switch(t){case"keypress":if(Lr(a)===0)break e;case"keydown":case"keyup":H=zc;break;case"focusin":he="focus",H=Ur;break;case"focusout":he="blur",H=Ur;break;case"beforeblur":case"afterblur":H=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case np:case sp:case ip:H=Oc;break;case rp:H=T;break;case"scroll":case"scrollend":H=Xl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ys;break;case"toggle":case"beforetoggle":H=Ie}var we=(s&4)!==0,lt=!we&&(t==="scroll"||t==="scrollend"),k=we?B!==null?B+"Capture":null:B;we=[];for(var O=z,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||k===null||(Y=is(O,k),Y!=null&&we.push(Co(O,Y,U))),lt)break;O=O.return}0<we.length&&(B=new H(B,he,null,a,K),J.push({event:B,listeners:we}))}}if((s&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Kl&&(he=a.relatedTarget||a.fromElement)&&(ws(he)||he[bs]))break e;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=z,he=he?ws(he):null,he!==null&&(lt=u(he),we=he.tag,he!==lt||we!==5&&we!==27&&we!==6)&&(he=null)):(H=null,he=z),H!==he)){if(we=Jl,Y="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(we=Ys,Y="onPointerLeave",k="onPointerEnter",O="pointer"),lt=H==null?B:An(H),U=he==null?B:An(he),B=new we(Y,O+"leave",H,a,K),B.target=lt,B.relatedTarget=U,Y=null,ws(K)===z&&(we=new we(k,O+"enter",he,a,K),we.target=U,we.relatedTarget=lt,Y=we),lt=Y,H&&he)t:{for(we=kw,k=H,O=he,U=0,Y=k;Y;Y=we(Y))U++;Y=0;for(var be=O;be;be=we(be))Y++;for(;0<U-Y;)k=we(k),U--;for(;0<Y-U;)O=we(O),Y--;for(;U--;){if(k===O||O!==null&&k===O.alternate){we=k;break t}k=we(k),O=we(O)}we=null}else we=null;H!==null&&Cy(J,B,H,we,!1),he!==null&&lt!==null&&Cy(J,lt,he,we,!0)}}e:{if(B=z?An(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ye=Fg;else if(Hg(B))if(Gg)Ye=Gx;else{Ye=$x;var ge=Hx}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&wa(z.elementType)&&(Ye=Fg):Ye=Fx;if(Ye&&(Ye=Ye(t,z))){$g(J,Ye,a,K);break e}ge&&ge(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&$l(B,"number",B.value)}switch(ge=z?An(z):window,t){case"focusin":(Hg(ge)||ge.contentEditable==="true")&&(Ia=ge,od=z,no=null);break;case"focusout":no=od=Ia=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,ep(J,a,K);break;case"selectionchange":if(Qx)break;case"keydown":case"keyup":ep(J,a,K)}var De;if(Je)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Ra?zr(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Ds&&a.locale!=="ko"&&(Ra||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Ra&&(De=Yl()):(Cs=K,Ql="value"in Cs?Cs.value:Cs.textContent,Ra=!0)),ge=Iu(z,ze),0<ge.length&&(ze=new js(ze,t,null,a,K),J.push({event:ze,listeners:ge}),De?ze.data=De:(De=Ca(a),De!==null&&(ze.data=De)))),(De=Bn?Ux(t,a):zx(t,a))&&(ze=Iu(z,"onBeforeInput"),0<ze.length&&(ge=new js("onBeforeInput","beforeinput",null,a,K),J.push({event:ge,listeners:ze}),ge.data=De)),jw(J,t,z,a,K)}Sy(J,s)})}function Co(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Iu(t,s){for(var a=s+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=is(t,a),h!=null&&l.unshift(Co(t,h,f)),h=is(t,s),h!=null&&l.push(Co(t,h,f))),t.tag===3)return l;t=t.return}return[]}function kw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cy(t,s,a,l,h){for(var f=s._reactName,_=[];a!==null&&a!==l;){var x=a,j=x.alternate,z=x.stateNode;if(x=x.tag,j!==null&&j===l)break;x!==5&&x!==26&&x!==27||z===null||(j=z,h?(z=is(a,f),z!=null&&_.unshift(Co(a,z,j))):h||(z=is(a,f),z!=null&&_.push(Co(a,z,j)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var Mw=/\r\n?/g,Lw=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(Mw,`
`).replace(Lw,"")}function Iy(t,s){return s=Ry(s),Ry(t)===s}function at(t,s,a,l,h,f){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&pn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":Gl(t,l,f);break;case"data":if(s!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(s!=="input"&&at(t,s,"name",h.name,h,null),at(t,s,"formEncType",h.formEncType,h,null),at(t,s,"formMethod",h.formMethod,h,null),at(t,s,"formTarget",h.formTarget,h,null)):(at(t,s,"encType",h.encType,h,null),at(t,s,"method",h.method,h,null),at(t,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ss);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ic.get(a)||a,ba(t,a,l))}}function kf(t,s,a,l,h,f){switch(a){case"style":Gl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),f=t[qt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(s,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ba(t,a,l)}}}function Zt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(t,s,f,_,a,null)}}h&&at(t,s,"srcSet",a.srcSet,a,null),l&&at(t,s,"src",a.src,a,null);return;case"input":Le("invalid",t);var x=f=_=h=null,j=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":j=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:at(t,s,l,K,a,null)}}Nc(t,f,x,j,z,_,h,!1);return;case"select":Le("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":_=x;break;case"multiple":l=x;default:at(t,s,h,x,a,null)}s=f,a=_,t.multiple=!!l,s!=null?Ni(t,!!l,s,!1):a!=null&&Ni(t,!!l,a,!0);return;case"textarea":Le("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(x=a[_],x!=null))switch(_){case"value":l=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:at(t,s,_,x,a,null)}Ci(t,l,h,f);return;case"option":for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!=null)&&(j==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":at(t,s,j,l,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<No.length;l++)Le(No[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(t,s,z,l,a,null)}return;default:if(wa(s)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&kf(t,s,K,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&at(t,s,x,l,a,null))}function Pw(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,x=null,j=null,z=null,K=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":j=J;default:l.hasOwnProperty(H)||at(t,s,H,null,l,J)}}for(var B in l){var H=l[B];if(J=a[B],l.hasOwnProperty(B)&&(H!=null||J!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":_=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:H!==J&&at(t,s,B,H,l,J)}}xa(t,_,x,j,z,K,f,h);return;case"select":H=_=x=B=null;for(f in a)if(j=a[f],a.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":H=j;default:l.hasOwnProperty(f)||at(t,s,f,null,l,j)}for(h in l)if(f=l[h],j=a[h],l.hasOwnProperty(h)&&(f!=null||j!=null))switch(h){case"value":B=f;break;case"defaultValue":x=f;break;case"multiple":_=f;default:f!==j&&at(t,s,h,f,l,j)}s=x,a=_,l=H,B!=null?Ni(t,!!a,B,!1):!!l!=!!a&&(s!=null?Ni(t,!!a,s,!0):Ni(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:at(t,s,x,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==f&&at(t,s,_,h,l,f)}Cc(t,B,H);return;case"option":for(var he in a)B=a[he],a.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:at(t,s,he,null,l,B));for(j in l)B=l[j],H=a[j],l.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null)&&(j==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":at(t,s,j,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)B=a[we],a.hasOwnProperty(we)&&B!=null&&!l.hasOwnProperty(we)&&at(t,s,we,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,s));break;default:at(t,s,z,B,l,H)}return;default:if(wa(s)){for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!==void 0&&!l.hasOwnProperty(lt)&&kf(t,s,lt,void 0,l,B);for(K in l)B=l[K],H=a[K],!l.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||kf(t,s,K,B,l,H);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&at(t,s,k,null,l,B);for(J in l)B=l[J],H=a[J],!l.hasOwnProperty(J)||B===H||B==null&&H==null||at(t,s,J,B,l,H)}function jy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,x=h.duration;if(f&&x&&jy(_)){for(_=0,x=h.responseEnd,l+=1;l<a.length;l++){var j=a[l],z=j.startTime;if(z>x)break;var K=j.transferSize,J=j.initiatorType;K&&jy(J)&&(j=j.responseEnd,_+=K*(j<x?1:(x-z)/(j-z)))}if(--l,s+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Mf=null,Lf=null;function ju(t){return t.nodeType===9?t:t.ownerDocument}function Dy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oy(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Pf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Uf=null;function zw(){var t=window.event;return t&&t.type==="popstate"?t===Uf?!1:(Uf=t,!0):(Uf=null,!1)}var Vy=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,qw=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(t){return ky.resolve(null).then(t).catch(Hw)}:Vy;function Hw(t){setTimeout(function(){throw t})}function Ji(t){return t==="head"}function My(t,s){var a=s,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),sl(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ro(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ro(a);for(var f=a.firstChild;f;){var _=f.nextSibling,x=f.nodeName;f[xs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Ro(t.ownerDocument.body);a=h}while(a);sl(s)}function Ly(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function zf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zf(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $w(t,s,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function Fw(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function Py(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Qn(t.nextSibling),t===null))return null;return t}function Bf(t){return t.data==="$?"||t.data==="$~"}function qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Gw(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Hf=null;function Uy(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Qn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function zy(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function By(t,s,a){switch(s=ju(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Ro(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);_a(t)}var Yn=new Map,qy=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ui=re.d;re.d={f:Kw,r:Qw,D:Yw,C:Xw,L:Jw,m:Zw,X:e2,S:Ww,M:t2};function Kw(){var t=ui.f(),s=Tu();return t||s}function Qw(t){var s=Pn(t);s!==null&&s.tag===5&&s.type==="form"?r0(s):ui.r(t)}var el=typeof document>"u"?null:document;function Hy(t,s,a){var l=el;if(l&&typeof s=="string"&&s){var h=gn(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),qy.has(h)||(qy.add(h),t={rel:t,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),Zt(s,"link",t),jt(s),l.head.appendChild(s)))}}function Yw(t){ui.D(t),Hy("dns-prefetch",t,null)}function Xw(t,s){ui.C(t,s),Hy("preconnect",t,s)}function Jw(t,s,a){ui.L(t,s,a);var l=el;if(l&&t&&s){var h='link[rel="preload"][as="'+gn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(s){case"style":f=tl(t);break;case"script":f=nl(t)}Yn.has(f)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Yn.set(f,t),l.querySelector(h)!==null||s==="style"&&l.querySelector(Io(f))||s==="script"&&l.querySelector(jo(f))||(s=l.createElement("link"),Zt(s,"link",t),jt(s),l.head.appendChild(s)))}}function Zw(t,s){ui.m(t,s);var a=el;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=nl(t)}if(!Yn.has(f)&&(t=E({rel:"modulepreload",href:t},s),Yn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jo(f)))return}l=a.createElement("link"),Zt(l,"link",t),jt(l),a.head.appendChild(l)}}}function Ww(t,s,a){ui.S(t,s,a);var l=el;if(l&&t){var h=Ts(l).hoistableStyles,f=tl(t);s=s||"default";var _=h.get(f);if(!_){var x={loading:0,preload:null};if(_=l.querySelector(Io(f)))x.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Yn.get(f))&&$f(t,a);var j=_=l.createElement("link");jt(j),Zt(j,"link",t),j._p=new Promise(function(z,K){j.onload=z,j.onerror=K}),j.addEventListener("load",function(){x.loading|=1}),j.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ou(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:x},h.set(f,_)}}}function e2(t,s){ui.X(t,s);var a=el;if(a&&t){var l=Ts(a).hoistableScripts,h=nl(t),f=l.get(h);f||(f=a.querySelector(jo(h)),f||(t=E({src:t,async:!0},s),(s=Yn.get(h))&&Ff(t,s),f=a.createElement("script"),jt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function t2(t,s){ui.M(t,s);var a=el;if(a&&t){var l=Ts(a).hoistableScripts,h=nl(t),f=l.get(h);f||(f=a.querySelector(jo(h)),f||(t=E({src:t,async:!0,type:"module"},s),(s=Yn.get(h))&&Ff(t,s),f=a.createElement("script"),jt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function $y(t,s,a,l){var h=(h=Ae.current)?Du(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=tl(a.href),a=Ts(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=tl(a.href);var f=Ts(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Io(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Yn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(t,a),f||n2(h,t,a,_.state))),s&&l===null)throw Error(i(528,""));return _}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nl(a),a=Ts(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function tl(t){return'href="'+gn(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function Fy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function n2(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Zt(s,"link",a),jt(s),t.head.appendChild(s))}function nl(t){return'[src="'+gn(t)+'"]'}function jo(t){return"script[async]"+t}function Gy(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(l)return s.instance=l,jt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),Zt(l,"style",h),Ou(l,a.precedence,t),s.instance=l;case"stylesheet":h=tl(a.href);var f=t.querySelector(Io(h));if(f)return s.state.loading|=4,s.instance=f,jt(f),f;l=Fy(a),(h=Yn.get(h))&&$f(l,h),f=(t.ownerDocument||t).createElement("link"),jt(f);var _=f;return _._p=new Promise(function(x,j){_.onload=x,_.onerror=j}),Zt(f,"link",l),s.state.loading|=4,Ou(f,a.precedence,t),s.instance=f;case"script":return f=nl(a.src),(h=t.querySelector(jo(f)))?(s.instance=h,jt(h),h):(l=a,(h=Yn.get(f))&&(l=E({},a),Ff(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),jt(h),Zt(h,"link",l),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Ou(l,a.precedence,t));return s.instance}function Ou(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var x=l[_];if(x.dataset.precedence===s)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function $f(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Ff(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Vu=null;function Ky(t,s,a){if(Vu===null){var l=new Map,h=Vu=new Map;h.set(a,l)}else h=Vu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[xs]||f[It]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(s)||"";_=t+_;var x=l.get(_);x?x.push(f):l.set(_,[f])}}return l}function Qy(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function s2(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Yy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function i2(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=tl(l.href),f=s.querySelector(Io(h));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ku.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=f,jt(f);return}f=s.ownerDocument||s,l=Fy(l),(h=Yn.get(h))&&$f(l,h),f=f.createElement("link"),jt(f);var _=f;_._p=new Promise(function(x,j){_.onload=x,_.onerror=j}),Zt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ku.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Gf=0;function r2(t,s){return t.stylesheets&&t.count===0&&Lu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Lu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+s);0<t.imgBytes&&Gf===0&&(Gf=62500*Uw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Gf?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function Lu(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,s.forEach(a2,t),Mu=null,ku.call(t))}function a2(t,s){if(!(s.state.loading&4)){var a=Mu.get(t);if(a)var l=a.get(null);else{a=new Map,Mu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=s.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var Do={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function l2(t,s,a,l,h,f,_,x,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.hiddenUpdates=_s(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Xy(t,s,a,l,h,f,_,x,j,z,K,J){return t=new l2(t,s,a,_,j,z,K,J,x),s=1,f===!0&&(s|=24),f=Cn(3,null,null,s),t.current=f,f.stateNode=t,s=Ed(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:s},Cd(f),t}function Jy(t){return t?(t=Oa,t):Oa}function Zy(t,s,a,l,h,f){h=Jy(h),l.context===null?l.context=h:l.pendingContext=h,l=zi(s),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Bi(t,l,s),a!==null&&(xn(a,t,s),co(a,t,s))}function Wy(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Kf(t,s){Wy(t,s),(t=t.alternate)&&Wy(t,s)}function ev(t){if(t.tag===13||t.tag===31){var s=Hr(t,67108864);s!==null&&xn(s,t,67108864),Kf(t,67108864)}}function tv(t){if(t.tag===13||t.tag===31){var s=On();s=jr(s);var a=Hr(t,s);a!==null&&xn(a,t,s),Kf(t,s)}}var Pu=!0;function o2(t,s,a,l){var h=G.T;G.T=null;var f=re.p;try{re.p=2,Qf(t,s,a,l)}finally{re.p=f,G.T=h}}function c2(t,s,a,l){var h=G.T;G.T=null;var f=re.p;try{re.p=8,Qf(t,s,a,l)}finally{re.p=f,G.T=h}}function Qf(t,s,a,l){if(Pu){var h=Yf(l);if(h===null)Vf(t,s,l,Uu,a),sv(t,l);else if(h2(h,t,s,a,l))l.stopPropagation();else if(sv(t,l),s&4&&-1<u2.indexOf(t)){for(;h!==null;){var f=Pn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=mn(f.pendingLanes);if(_!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var j=1<<31-mt(_);x.entanglements[1]|=j,_&=~j}Ms(f),(Ze&6)===0&&(xu=Gt()+500,So(0))}}break;case 31:case 13:x=Hr(f,2),x!==null&&xn(x,f,2),Tu(),Kf(f,2)}if(f=Yf(l),f===null&&Vf(t,s,l,Uu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Vf(t,s,l,null,a)}}function Yf(t){return t=Un(t),Xf(t)}var Uu=null;function Xf(t){if(Uu=null,t=ws(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=y(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Uu=t,null}function nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fs()){case Nr:return 2;case Cr:return 8;case Kt:case pa:return 32;case ps:return 268435456;default:return 32}default:return 32}}var Jf=!1,Zi=null,Wi=null,er=null,Oo=new Map,Vo=new Map,tr=[],u2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(t,s){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Oo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(s.pointerId)}}function ko(t,s,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},s!==null&&(s=Pn(s),s!==null&&ev(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function h2(t,s,a,l,h){switch(s){case"focusin":return Zi=ko(Zi,t,s,a,l,h),!0;case"dragenter":return Wi=ko(Wi,t,s,a,l,h),!0;case"mouseover":return er=ko(er,t,s,a,l,h),!0;case"pointerover":var f=h.pointerId;return Oo.set(f,ko(Oo.get(f)||null,t,s,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Vo.set(f,ko(Vo.get(f)||null,t,s,a,l,h)),!0}return!1}function iv(t){var s=ws(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,ts(t.priority,function(){tv(a)});return}}else if(s===31){if(s=y(a),s!==null){t.blockedOn=s,ts(t.priority,function(){tv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Yf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Kl=l,a.target.dispatchEvent(l),Kl=null}else return s=Pn(a),s!==null&&ev(s),t.blockedOn=a,!1;s.shift()}return!0}function rv(t,s,a){zu(t)&&a.delete(s)}function d2(){Jf=!1,Zi!==null&&zu(Zi)&&(Zi=null),Wi!==null&&zu(Wi)&&(Wi=null),er!==null&&zu(er)&&(er=null),Oo.forEach(rv),Vo.forEach(rv)}function Bu(t,s){t.blockedOn===s&&(t.blockedOn=null,Jf||(Jf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,d2)))}var qu=null;function av(t){qu!==t&&(qu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qu===t&&(qu=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],h=t[s+2];if(typeof l!="function"){if(Xf(l||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(s,3),s-=3,Qd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function sl(t){function s(j){return Bu(j,t)}Zi!==null&&Bu(Zi,t),Wi!==null&&Bu(Wi,t),er!==null&&Bu(er,t),Oo.forEach(s),Vo.forEach(s);for(var a=0;a<tr.length;a++){var l=tr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<tr.length&&(a=tr[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&tr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[qt]||null;if(typeof f=="function")_||av(a);else if(_){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[qt]||null)x=_.formAction;else if(Xf(h)!==null)continue}else x=_.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),av(a)}}}function lv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Zf(t){this._internalRoot=t}Hu.prototype.render=Zf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=On();Zy(a,l,t,s,null,null)},Hu.prototype.unmount=Zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Zy(t.current,2,null,t,null,null),Tu(),s[bs]=null}};function Hu(t){this._internalRoot=t}Hu.prototype.unstable_scheduleHydration=function(t){if(t){var s=Tc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<tr.length&&s!==0&&s<tr[a].priority;a++);tr.splice(a,0,t),a===0&&iv(t)}};var ov=e.version;if(ov!=="19.2.4")throw Error(i(527,ov,"19.2.4"));re.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(s),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var f2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{En=$u.inject(f2),Rt=$u}catch{}}return Lo.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",h=g0,f=p0,_=y0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Xy(t,1,!1,null,null,a,l,null,h,f,_,lv),t[bs]=s.current,Of(t),new Zf(s)},Lo.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,h="",f=g0,_=p0,x=y0,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),s=Xy(t,1,!0,s,a??null,l,h,j,f,_,x,lv),s.context=Jy(null),a=s.current,l=On(),l=jr(l),h=zi(l),h.callback=null,Bi(a,h,l),a=l,s.current.lanes=a,Rr(s,a),Ms(s),t[bs]=s.current,Of(t),new Hu(s)},Lo.version="19.2.4",Lo}var vv;function E2(){if(vv)return tm.exports;vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=T2(),tm.exports}var A2=E2();const W_=(...r)=>r.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const S2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const N2=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const _v=r=>{const e=N2(r);return e.charAt(0).toUpperCase()+e.slice(1)};var C2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const R2=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const I2=le.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:d,...y},v)=>le.createElement("svg",{ref:v,...C2,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:W_("lucide",o),...!u&&!R2(y)&&{"aria-hidden":"true"},...y},[...d.map(([p,w])=>le.createElement(p,w)),...Array.isArray(u)?u:[u]]));const pe=(r,e)=>{const n=le.forwardRef(({className:i,...o},u)=>le.createElement(I2,{ref:u,iconNode:e,className:W_(`lucide-${S2(_v(r))}`,`lucide-${r}`,i),...o}));return n.displayName=_v(r),n};const j2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Jo=pe("activity",j2);const D2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],O2=pe("bell",D2);const V2=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],k2=pe("brain-circuit",V2);const M2=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],eb=pe("chart-column",M2);const L2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],P2=pe("chevron-left",L2);const U2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tb=pe("chevron-right",U2);const z2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],B2=pe("circle-alert",z2);const q2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rm=pe("circle-check-big",q2);const H2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bm=pe("circle-check",H2);const $2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],am=pe("circle-x",$2);const F2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],nb=pe("clipboard-list",F2);const G2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],K2=pe("clock",G2);const Q2=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],bv=pe("database",Q2);const Y2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],X2=pe("download",Y2);const J2=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Z2=pe("ellipsis",J2);const W2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sb=pe("eye-off",W2);const eT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ch=pe("eye",eT);const tT=[["path",{d:"M13 22h5a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.3",key:"cvl1xm"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m7.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.879.001l-1.846.85a.5.5 0 0 1-.692-.593l1.29-4.88",key:"1ff7gj"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]],nT=pe("file-badge",tT);const sT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xm=pe("file-text",sT);const iT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],rT=pe("globe",iT);const aT=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],lT=pe("hard-drive",aT);const oT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],cT=pe("layers",oT);const uT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],hT=pe("layout-dashboard",uT);const dT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],Zu=pe("life-buoy",dT);const fT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],xm=pe("lock-open",fT);const mT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cr=pe("lock",mT);const gT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pT=pe("log-out",gT);const yT=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],ib=pe("megaphone",yT);const vT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_T=pe("menu",vT);const bT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xT=pe("message-square",bT);const wT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],TT=pe("moon",wT);const ET=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],AT=pe("octagon-alert",ET);const ST=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wm=pe("package",ST);const NT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],CT=pe("pen",NT);const RT=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Tm=pe("power",RT);const IT=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],jT=pe("printer",IT);const DT=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],OT=pe("radio",DT);const VT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oc=pe("refresh-cw",VT);const kT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],MT=pe("save",kT);const LT=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],PT=pe("scan",LT);const UT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rb=pe("search",UT);const zT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],BT=pe("send",zT);const qT=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],$o=pe("server",qT);const HT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Dh=pe("shield-check",HT);const $T=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ab=pe("shield",$T);const FT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lb=pe("square-check-big",FT);const GT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],KT=pe("sun",GT);const QT=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],YT=pe("thermometer",QT);const XT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fn=pe("trash-2",XT);const JT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uh=pe("triangle-alert",JT);const ZT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ob=pe("user",ZT);const WT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sa=pe("users",WT);const eE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tE=pe("wifi-off",eE);const nE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],sE=pe("wifi",nE);const iE=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],xv=pe("wrench",iE);const rE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vl=pe("x",rE);const aE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lE=pe("zap",aE),oE=()=>{};var wv={};const cb=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},cE=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],y=r[n++],v=((o&7)<<18|(u&63)<<12|(d&63)<<6|y&63)-65536;e[i++]=String.fromCharCode(55296+(v>>10)),e[i++]=String.fromCharCode(56320+(v&1023))}else{const u=r[n++],d=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,p=v?r[o+2]:0,w=u>>2,E=(u&3)<<4|y>>4;let R=(y&15)<<2|p>>6,L=p&63;v||(L=64,d||(R=64)),i.push(n[w],n[E],n[R],n[L])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(cb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):cE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],y=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||y==null||p==null||E==null)throw new uE;const R=u<<2|y>>4;if(i.push(R),p!==64){const L=y<<4&240|p>>2;if(i.push(L),E!==64){const Q=p<<6&192|E;i.push(Q)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hE=function(r){const e=cb(r);return ub.encodeByteArray(e,!0)},hh=function(r){return hE(r).replace(/\./g,"")},hb=function(r){try{return ub.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fE=()=>dE().__FIREBASE_DEFAULTS__,mE=()=>{if(typeof process>"u"||typeof wv>"u")return;const r=wv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&hb(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return oE()||fE()||mE()||gE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},db=r=>Oh()?.emulatorHosts?.[r],pE=r=>{const e=db(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},fb=()=>Oh()?.config,mb=r=>Oh()?.[`_${r}`];class yE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Al(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gb(r){return(await fetch(r,{credentials:"include"})).ok}function vE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[hh(JSON.stringify(n)),hh(JSON.stringify(d)),""].join(".")}const Fo={};function _E(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fo))Fo[e]?r.emulator.push(e):r.prod.push(e);return r}function bE(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Tv=!1;function pb(r,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||Fo[r]===e||Fo[r]||Tv)return;Fo[r]=e;function n(R){return`__firebase__banner__${R}`}const i="__firebase__banner",u=_E().prod.length>0;function d(){const R=document.getElementById(i);R&&R.remove()}function y(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function p(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Tv=!0,d()},R}function w(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function E(){const R=bE(i),L=n("text"),Q=document.getElementById(L)||document.createElement("span"),se=n("learnmore"),te=document.getElementById(se)||document.createElement("a"),de=n("preprendIcon"),me=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ne=R.element;y(ne),w(te,se);const ye=p();v(me,de),ne.append(me,Q,te,ye),document.body.appendChild(ne)}u?(Q.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function wE(){const r=Oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SE(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function NE(){return!wE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CE(){try{return typeof indexedDB=="object"}catch{return!1}}function RE(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const IE="FirebaseError";class _i extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=IE,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?jE(u,i):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new _i(o,y,i)}}function jE(r,e){return r.replace(DE,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const DE=/\{\$([^}]+)}/g;function OE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function aa(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=r[o],d=e[o];if(Ev(u)&&Ev(d)){if(!aa(u,d))return!1}else if(u!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Ev(r){return r!==null&&typeof r=="object"}function uc(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function VE(r,e){const n=new kE(r,e);return n.subscribe.bind(n)}class kE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ME(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=lm),o.error===void 0&&(o.error=lm),o.complete===void 0&&(o.complete=lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ME(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function lm(){}function un(r){return r&&r._delegate?r._delegate:r}class la{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class LE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new yE;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UE(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);i===y&&d.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:PE(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PE(r){return r===na?void 0:r}function UE(r){return r.instantiationMode==="EAGER"}class zE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const BE={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},qE=Be.INFO,HE={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},$E=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=HE[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=qE,this._logHandler=$E,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const FE=(r,e)=>e.some(n=>r instanceof n);let Av,Sv;function GE(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KE(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yb=new WeakMap,Em=new WeakMap,vb=new WeakMap,om=new WeakMap,Zm=new WeakMap;function QE(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(ur(r.result)),o()},d=()=>{i(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&yb.set(n,r)}).catch(()=>{}),Zm.set(e,r),e}function YE(r){if(Em.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Em.set(r,e)}let Am={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||vb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function XE(r){Am=r(Am)}function JE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(cm(this),e,...n);return vb.set(i,e.sort?e.sort():[e]),ur(i)}:KE().includes(r)?function(...e){return r.apply(cm(this),e),ur(yb.get(this))}:function(...e){return ur(r.apply(cm(this),e))}}function ZE(r){return typeof r=="function"?JE(r):(r instanceof IDBTransaction&&YE(r),FE(r,GE())?new Proxy(r,Am):r)}function ur(r){if(r instanceof IDBRequest)return QE(r);if(om.has(r))return om.get(r);const e=ZE(r);return e!==r&&(om.set(r,e),Zm.set(e,r)),e}const cm=r=>Zm.get(r);function WE(r,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),y=ur(d);return i&&d.addEventListener("upgradeneeded",v=>{i(ur(d.result),v.oldVersion,v.newVersion,ur(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),y.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),y}const eA=["get","getKey","getAll","getAllKeys","count"],tA=["put","add","delete","clear"],um=new Map;function Nv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=tA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||eA.includes(n)))return;const u=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let p=v.store;return i&&(p=p.index(y.shift())),(await Promise.all([p[n](...y),o&&v.done]))[0]};return um.set(e,u),u}XE(r=>({...r,get:(e,n,i)=>Nv(e,n)||r.get(e,n,i),has:(e,n)=>!!Nv(e,n)||r.has(e,n)}));class nA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function sA(r){return r.getComponent()?.type==="VERSION"}const Sm="@firebase/app",Cv="0.14.8";const mi=new Jm("@firebase/app"),iA="@firebase/app-compat",rA="@firebase/analytics-compat",aA="@firebase/analytics",lA="@firebase/app-check-compat",oA="@firebase/app-check",cA="@firebase/auth",uA="@firebase/auth-compat",hA="@firebase/database",dA="@firebase/data-connect",fA="@firebase/database-compat",mA="@firebase/functions",gA="@firebase/functions-compat",pA="@firebase/installations",yA="@firebase/installations-compat",vA="@firebase/messaging",_A="@firebase/messaging-compat",bA="@firebase/performance",xA="@firebase/performance-compat",wA="@firebase/remote-config",TA="@firebase/remote-config-compat",EA="@firebase/storage",AA="@firebase/storage-compat",SA="@firebase/firestore",NA="@firebase/ai",CA="@firebase/firestore-compat",RA="firebase",IA="12.9.0";const Nm="[DEFAULT]",jA={[Sm]:"fire-core",[iA]:"fire-core-compat",[aA]:"fire-analytics",[rA]:"fire-analytics-compat",[oA]:"fire-app-check",[lA]:"fire-app-check-compat",[cA]:"fire-auth",[uA]:"fire-auth-compat",[hA]:"fire-rtdb",[dA]:"fire-data-connect",[fA]:"fire-rtdb-compat",[mA]:"fire-fn",[gA]:"fire-fn-compat",[pA]:"fire-iid",[yA]:"fire-iid-compat",[vA]:"fire-fcm",[_A]:"fire-fcm-compat",[bA]:"fire-perf",[xA]:"fire-perf-compat",[wA]:"fire-rc",[TA]:"fire-rc-compat",[EA]:"fire-gcs",[AA]:"fire-gcs-compat",[SA]:"fire-fst",[CA]:"fire-fst-compat",[NA]:"fire-vertex","fire-js":"fire-js",[RA]:"fire-js-all"};const dh=new Map,DA=new Map,Cm=new Map;function Rv(r,e){try{r.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function _l(r){const e=r.name;if(Cm.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,r);for(const n of dh.values())Rv(n,r);for(const n of DA.values())Rv(n,r);return!0}function Wm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function hs(r){return r==null?!1:r.settings!==void 0}const OA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new cc("app","Firebase",OA);class VA{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const Sl=IA;function _b(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:Nm,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(n||(n=fb()),!n)throw hr.create("no-options");const u=dh.get(o);if(u){if(aa(n,u.options)&&aa(i,u.config))return u;throw hr.create("duplicate-app",{appName:o})}const d=new zE(o);for(const v of Cm.values())d.addComponent(v);const y=new VA(n,i,d);return dh.set(o,y),y}function bb(r=Nm){const e=dh.get(r);if(!e&&r===Nm&&fb())return _b();if(!e)throw hr.create("no-app",{appName:r});return e}function dr(r,e,n){let i=jA[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(d.join(" "));return}_l(new la(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const kA="firebase-heartbeat-database",MA=1,Zo="firebase-heartbeat-store";let hm=null;function xb(){return hm||(hm=WE(kA,MA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(r=>{throw hr.create("idb-open",{originalErrorMessage:r.message})})),hm}async function LA(r){try{const n=(await xb()).transaction(Zo),i=await n.objectStore(Zo).get(wb(r));return await n.done,i}catch(e){if(e instanceof _i)mi.warn(e.message);else{const n=hr.create("idb-get",{originalErrorMessage:e?.message});mi.warn(n.message)}}}async function Iv(r,e){try{const i=(await xb()).transaction(Zo,"readwrite");await i.objectStore(Zo).put(e,wb(r)),await i.done}catch(n){if(n instanceof _i)mi.warn(n.message);else{const i=hr.create("idb-set",{originalErrorMessage:n?.message});mi.warn(i.message)}}}function wb(r){return`${r.name}!${r.options.appId}`}const PA=1024,UA=30;class zA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>UA){const o=HA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jv(),{heartbeatsToSend:n,unsentEntries:i}=BA(this._heartbeatsCache.heartbeats),o=hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return mi.warn(e),""}}}function jv(){return new Date().toISOString().substring(0,10)}function BA(r,e=PA){const n=[];let i=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Dv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Dv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class qA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CE()?RE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Dv(r){return hh(JSON.stringify({version:2,heartbeats:r})).length}function HA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function $A(r){_l(new la("platform-logger",e=>new nA(e),"PRIVATE")),_l(new la("heartbeat",e=>new zA(e),"PRIVATE")),dr(Sm,Cv,r),dr(Sm,Cv,"esm2020"),dr("fire-js","")}$A("");var FA="firebase",GA="12.9.0";dr(FA,GA,"app");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,Tb;(function(){var r;function e(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(N,D,M){for(var S=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)S[ct-2]=arguments[ct];return A.prototype[D].apply(N,S)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,I){I||(I=0);const N=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)N[D]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(D=0;D<16;++D)N[D]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],D=C.g[2];let M=C.g[3],S;S=A+(M^I&(D^M))+N[0]+3614090360&4294967295,A=I+(S<<7&4294967295|S>>>25),S=M+(D^A&(I^D))+N[1]+3905402710&4294967295,M=A+(S<<12&4294967295|S>>>20),S=D+(I^M&(A^I))+N[2]+606105819&4294967295,D=M+(S<<17&4294967295|S>>>15),S=I+(A^D&(M^A))+N[3]+3250441966&4294967295,I=D+(S<<22&4294967295|S>>>10),S=A+(M^I&(D^M))+N[4]+4118548399&4294967295,A=I+(S<<7&4294967295|S>>>25),S=M+(D^A&(I^D))+N[5]+1200080426&4294967295,M=A+(S<<12&4294967295|S>>>20),S=D+(I^M&(A^I))+N[6]+2821735955&4294967295,D=M+(S<<17&4294967295|S>>>15),S=I+(A^D&(M^A))+N[7]+4249261313&4294967295,I=D+(S<<22&4294967295|S>>>10),S=A+(M^I&(D^M))+N[8]+1770035416&4294967295,A=I+(S<<7&4294967295|S>>>25),S=M+(D^A&(I^D))+N[9]+2336552879&4294967295,M=A+(S<<12&4294967295|S>>>20),S=D+(I^M&(A^I))+N[10]+4294925233&4294967295,D=M+(S<<17&4294967295|S>>>15),S=I+(A^D&(M^A))+N[11]+2304563134&4294967295,I=D+(S<<22&4294967295|S>>>10),S=A+(M^I&(D^M))+N[12]+1804603682&4294967295,A=I+(S<<7&4294967295|S>>>25),S=M+(D^A&(I^D))+N[13]+4254626195&4294967295,M=A+(S<<12&4294967295|S>>>20),S=D+(I^M&(A^I))+N[14]+2792965006&4294967295,D=M+(S<<17&4294967295|S>>>15),S=I+(A^D&(M^A))+N[15]+1236535329&4294967295,I=D+(S<<22&4294967295|S>>>10),S=A+(D^M&(I^D))+N[1]+4129170786&4294967295,A=I+(S<<5&4294967295|S>>>27),S=M+(I^D&(A^I))+N[6]+3225465664&4294967295,M=A+(S<<9&4294967295|S>>>23),S=D+(A^I&(M^A))+N[11]+643717713&4294967295,D=M+(S<<14&4294967295|S>>>18),S=I+(M^A&(D^M))+N[0]+3921069994&4294967295,I=D+(S<<20&4294967295|S>>>12),S=A+(D^M&(I^D))+N[5]+3593408605&4294967295,A=I+(S<<5&4294967295|S>>>27),S=M+(I^D&(A^I))+N[10]+38016083&4294967295,M=A+(S<<9&4294967295|S>>>23),S=D+(A^I&(M^A))+N[15]+3634488961&4294967295,D=M+(S<<14&4294967295|S>>>18),S=I+(M^A&(D^M))+N[4]+3889429448&4294967295,I=D+(S<<20&4294967295|S>>>12),S=A+(D^M&(I^D))+N[9]+568446438&4294967295,A=I+(S<<5&4294967295|S>>>27),S=M+(I^D&(A^I))+N[14]+3275163606&4294967295,M=A+(S<<9&4294967295|S>>>23),S=D+(A^I&(M^A))+N[3]+4107603335&4294967295,D=M+(S<<14&4294967295|S>>>18),S=I+(M^A&(D^M))+N[8]+1163531501&4294967295,I=D+(S<<20&4294967295|S>>>12),S=A+(D^M&(I^D))+N[13]+2850285829&4294967295,A=I+(S<<5&4294967295|S>>>27),S=M+(I^D&(A^I))+N[2]+4243563512&4294967295,M=A+(S<<9&4294967295|S>>>23),S=D+(A^I&(M^A))+N[7]+1735328473&4294967295,D=M+(S<<14&4294967295|S>>>18),S=I+(M^A&(D^M))+N[12]+2368359562&4294967295,I=D+(S<<20&4294967295|S>>>12),S=A+(I^D^M)+N[5]+4294588738&4294967295,A=I+(S<<4&4294967295|S>>>28),S=M+(A^I^D)+N[8]+2272392833&4294967295,M=A+(S<<11&4294967295|S>>>21),S=D+(M^A^I)+N[11]+1839030562&4294967295,D=M+(S<<16&4294967295|S>>>16),S=I+(D^M^A)+N[14]+4259657740&4294967295,I=D+(S<<23&4294967295|S>>>9),S=A+(I^D^M)+N[1]+2763975236&4294967295,A=I+(S<<4&4294967295|S>>>28),S=M+(A^I^D)+N[4]+1272893353&4294967295,M=A+(S<<11&4294967295|S>>>21),S=D+(M^A^I)+N[7]+4139469664&4294967295,D=M+(S<<16&4294967295|S>>>16),S=I+(D^M^A)+N[10]+3200236656&4294967295,I=D+(S<<23&4294967295|S>>>9),S=A+(I^D^M)+N[13]+681279174&4294967295,A=I+(S<<4&4294967295|S>>>28),S=M+(A^I^D)+N[0]+3936430074&4294967295,M=A+(S<<11&4294967295|S>>>21),S=D+(M^A^I)+N[3]+3572445317&4294967295,D=M+(S<<16&4294967295|S>>>16),S=I+(D^M^A)+N[6]+76029189&4294967295,I=D+(S<<23&4294967295|S>>>9),S=A+(I^D^M)+N[9]+3654602809&4294967295,A=I+(S<<4&4294967295|S>>>28),S=M+(A^I^D)+N[12]+3873151461&4294967295,M=A+(S<<11&4294967295|S>>>21),S=D+(M^A^I)+N[15]+530742520&4294967295,D=M+(S<<16&4294967295|S>>>16),S=I+(D^M^A)+N[2]+3299628645&4294967295,I=D+(S<<23&4294967295|S>>>9),S=A+(D^(I|~M))+N[0]+4096336452&4294967295,A=I+(S<<6&4294967295|S>>>26),S=M+(I^(A|~D))+N[7]+1126891415&4294967295,M=A+(S<<10&4294967295|S>>>22),S=D+(A^(M|~I))+N[14]+2878612391&4294967295,D=M+(S<<15&4294967295|S>>>17),S=I+(M^(D|~A))+N[5]+4237533241&4294967295,I=D+(S<<21&4294967295|S>>>11),S=A+(D^(I|~M))+N[12]+1700485571&4294967295,A=I+(S<<6&4294967295|S>>>26),S=M+(I^(A|~D))+N[3]+2399980690&4294967295,M=A+(S<<10&4294967295|S>>>22),S=D+(A^(M|~I))+N[10]+4293915773&4294967295,D=M+(S<<15&4294967295|S>>>17),S=I+(M^(D|~A))+N[1]+2240044497&4294967295,I=D+(S<<21&4294967295|S>>>11),S=A+(D^(I|~M))+N[8]+1873313359&4294967295,A=I+(S<<6&4294967295|S>>>26),S=M+(I^(A|~D))+N[15]+4264355552&4294967295,M=A+(S<<10&4294967295|S>>>22),S=D+(A^(M|~I))+N[6]+2734768916&4294967295,D=M+(S<<15&4294967295|S>>>17),S=I+(M^(D|~A))+N[13]+1309151649&4294967295,I=D+(S<<21&4294967295|S>>>11),S=A+(D^(I|~M))+N[4]+4149444226&4294967295,A=I+(S<<6&4294967295|S>>>26),S=M+(I^(A|~D))+N[11]+3174756917&4294967295,M=A+(S<<10&4294967295|S>>>22),S=D+(A^(M|~I))+N[2]+718787259&4294967295,D=M+(S<<15&4294967295|S>>>17),S=I+(M^(D|~A))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+M&4294967295}i.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,N=this.C;let D=this.h,M=0;for(;M<A;){if(D==0)for(;M<=I;)o(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<A;)if(N[D++]=C.charCodeAt(M++),D==this.blockSize){o(this,N),D=0;break}}else for(;M<A;)if(N[D++]=C[M++],D==this.blockSize){o(this,N),D=0;break}}this.h=D,this.o+=A},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let N=0;N<32;N+=8)C[A++]=this.g[I]>>>N&255;return C};function u(C,A){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let N=!0;for(let D=C.length-1;D>=0;D--){const M=C[D]|0;N&&M==A||(I[D]=M,N=!1)}this.g=I}var y={};function v(C){return-128<=C&&C<128?u(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return te(p(-C));const A=[];let I=1;for(let N=0;C>=I;N++)A[N]=C/I|0,I*=4294967296;return new d(A,0)}function w(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return te(w(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(A,8));let N=E;for(let M=0;M<C.length;M+=8){var D=Math.min(8,C.length-M);const S=parseInt(C.substring(M,M+D),A);D<8?(D=p(Math.pow(A,D)),N=N.j(D).add(p(S))):(N=N.j(I),N=N.add(p(S)))}return N}var E=v(0),R=v(1),L=v(16777216);r=d.prototype,r.m=function(){if(se(this))return-te(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const N=this.i(I);C+=(N>=0?N:4294967296+N)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Q(this))return"0";if(se(this))return"-"+te(this).toString(C);const A=p(Math.pow(C,6));var I=this;let N="";for(;;){const D=ye(I,A).g;I=de(I,D.j(A));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,Q(I))return M+N;for(;M.length<6;)M="0"+M;N=M+N}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Q(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function se(C){return C.h==-1}r.l=function(C){return C=de(this,C),se(C)?-1:Q(C)?0:1};function te(C){const A=C.g.length,I=[];for(let N=0;N<A;N++)I[N]=~C.g[N];return new d(I,~C.h).add(R)}r.abs=function(){return se(this)?te(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let N=0;for(let D=0;D<=A;D++){let M=N+(this.i(D)&65535)+(C.i(D)&65535),S=(M>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);N=S>>>16,M&=65535,S&=65535,I[D]=S<<16|M}return new d(I,I[I.length-1]&-2147483648?-1:0)};function de(C,A){return C.add(te(A))}r.j=function(C){if(Q(this)||Q(C))return E;if(se(this))return se(C)?te(this).j(te(C)):te(te(this).j(C));if(se(C))return te(this.j(te(C)));if(this.l(L)<0&&C.l(L)<0)return p(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var N=0;N<2*A;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(let D=0;D<C.g.length;D++){const M=this.i(N)>>>16,S=this.i(N)&65535,ct=C.i(D)>>>16,yt=C.i(D)&65535;I[2*N+2*D]+=S*yt,me(I,2*N+2*D),I[2*N+2*D+1]+=M*yt,me(I,2*N+2*D+1),I[2*N+2*D+1]+=S*ct,me(I,2*N+2*D+1),I[2*N+2*D+2]+=M*ct,me(I,2*N+2*D+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function me(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function ne(C,A){this.g=C,this.h=A}function ye(C,A){if(Q(A))throw Error("division by zero");if(Q(C))return new ne(E,E);if(se(C))return A=ye(te(C),A),new ne(te(A.g),te(A.h));if(se(A))return A=ye(C,te(A)),new ne(te(A.g),A.h);if(C.g.length>30){if(se(C)||se(A))throw Error("slowDivide_ only works with positive integers.");for(var I=R,N=A;N.l(C)<=0;)I=F(I),N=F(N);var D=_e(I,1),M=_e(N,1);for(N=_e(N,2),I=_e(I,2);!Q(N);){var S=M.add(N);S.l(C)<=0&&(D=D.add(I),M=S),N=_e(N,1),I=_e(I,1)}return A=de(C,D.j(A)),new ne(D,A)}for(D=E;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),M=p(I),S=M.j(A);se(S)||S.l(C)>0;)I-=N,M=p(I),S=M.j(A);Q(M)&&(M=R),D=D.add(M),C=de(C,S)}return new ne(D,C)}r.B=function(C){return ye(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<A;N++)I[N]=this.i(N)&C.i(N);return new d(I,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<A;N++)I[N]=this.i(N)|C.i(N);return new d(I,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<A;N++)I[N]=this.i(N)^C.i(N);return new d(I,this.h^C.h)};function F(C){const A=C.g.length+1,I=[];for(let N=0;N<A;N++)I[N]=C.i(N)<<1|C.i(N-1)>>>31;return new d(I,C.h)}function _e(C,A){const I=A>>5;A%=32;const N=C.g.length-I,D=[];for(let M=0;M<N;M++)D[M]=A>0?C.i(M+I)>>>A|C.i(M+I+1)<<32-A:C.i(M+I);return new d(D,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Tb=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=w,fr=d}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Eb,zo,Ab,Wu,Rm,Sb,Nb,Cb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function o(c,g){if(g)e:{var b=i;c=c.split(".");for(var T=0;T<c.length-1;T++){var P=c[T];if(!(P in b))break e;b=b[P]}c=c[c.length-1],T=b[c],g=g(T),g!=T&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var b=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&b.push([T,g[T]]);return b}});var u=u||{},d=this||self;function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,b){return c.call.apply(c.bind,arguments)}function p(c,g,b){return p=v,p.apply(null,arguments)}function w(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function E(c,g){function b(){}b.prototype=g.prototype,c.Z=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(T,P,q){for(var ie=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ie[Ie-2]=arguments[Ie];return g.prototype[P].apply(T,ie)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const b=Array(g);for(let T=0;T<g;T++)b[T]=c[T];return b}return[]}function Q(c,g){for(let T=1;T<arguments.length;T++){const P=arguments[T];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=c.length||0;const q=P.length||0;c.length=b+q;for(let ie=0;ie<q;ie++)c[b+ie]=P[ie]}else c.push(P)}}class se{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(c){d.setTimeout(()=>{throw c},0)}function de(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class me{constructor(){this.h=this.g=null}add(g,b){const T=ne.get();T.set(g,b),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new se(()=>new ye,c=>c.reset());class ye{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let F,_e=!1,C=new me,A=()=>{const c=Promise.resolve(void 0);F=()=>{c.then(I)}};function I(){for(var c;c=de();){try{c.h.call(c.g)}catch(b){te(b)}var g=ne;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}_e=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,g),d.removeEventListener("test",b,g)}catch{}return c})();function S(c){return/^[\s\xa0]*$/.test(c)}function ct(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}E(ct,D),ct.prototype.init=function(c,g){const b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ct.Z.h.call(this)},ct.prototype.h=function(){ct.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),G=0;function re(c,g,b,T,P){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ve(c,g,b){for(const T in c)g.call(b,c[T],T,c)}function Ge(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function V(c){const g={};for(const b in c)g[b]=c[b];return g}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,g){let b,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(b in T)c[b]=T[b];for(let q=0;q<X.length;q++)b=X[q],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,g,b,T,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ie=Ae(c,g,T,P);return ie>-1?(g=c[ie],b||(g.fa=!1)):(g=new re(g,this.src,q,!!T,P),g.fa=b,c.push(g)),g};function fe(c,g){const b=g.type;if(b in c.g){var T=c.g[b],P=Array.prototype.indexOf.call(T,g,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(ve(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ae(c,g,b,T){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==g&&q.capture==!!b&&q.ha==T)return P}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Oe={};function Ke(c,g,b,T,P){if(Array.isArray(g)){for(let q=0;q<g.length;q++)Ke(c,g[q],b,T,P);return null}return b=Ei(b),c&&c[yt]?c.J(g,b,y(T)?!!T.capture:!1,P):Qe(c,g,b,!1,T,P)}function Qe(c,g,b,T,P,q){if(!g)throw Error("Invalid event type");const ie=y(P)?!!P.capture:!!P;let Ie=$s(c);if(Ie||(c[ke]=Ie=new oe(c)),b=Ie.add(g,b,T,ie,q),b.proxy)return b;if(T=Wn(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)M||(P=ie),P===void 0&&(P=!1),c.addEventListener(g.toString(),T,P);else if(c.attachEvent)c.attachEvent(Mn(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Wn(){function c(b){return g.call(c.src,c.listener,b)}const g=wi;return c}function bi(c,g,b,T,P){if(Array.isArray(g))for(var q=0;q<g.length;q++)bi(c,g[q],b,T,P);else T=y(T)?!!T.capture:!!T,b=Ei(b),c&&c[yt]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],b=Ae(g,b,T,P),b>-1&&(ve(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=$s(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ae(g,b,T,P)),(b=c>-1?g[c]:null)&&xi(b))}function xi(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[yt])fe(g.i,c);else{var b=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(b,T,c.capture):g.detachEvent?g.detachEvent(Mn(b),T):g.addListener&&g.removeListener&&g.removeListener(T),(b=$s(g))?(fe(b,c),b.h==0&&(b.src=null,g[ke]=null)):ve(c)}}}function Mn(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function wi(c,g){if(c.da)c=!0;else{g=new ct(g,this);const b=c.listener,T=c.ha||c.src;c.fa&&xi(c),c=b.call(T,g)}return c}function $s(c){return c=c[ke],c instanceof oe?c:null}var Ti="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ei(c){return typeof c=="function"?c:(c[Ti]||(c[Ti]=function(g){return c.handleEvent(g)}),c[Ti])}function _t(){N.call(this),this.i=new oe(this),this.M=this,this.G=null}E(_t,N),_t.prototype[yt]=!0,_t.prototype.removeEventListener=function(c,g,b,T){bi(this,c,g,b,T)};function We(c,g){var b,T=c.G;if(T)for(b=[];T;T=T.G)b.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var P=g;g=new D(T,c),ae(g,P)}P=!0;let q,ie;if(b)for(ie=b.length-1;ie>=0;ie--)q=g.g=b[ie],P=gs(q,T,!0,g)&&P;if(q=g.g=c,P=gs(q,T,!0,g)&&P,P=gs(q,T,!1,g)&&P,b)for(ie=0;ie<b.length;ie++)q=g.g=b[ie],P=gs(q,T,!1,g)&&P}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const b=c.g[g];for(let T=0;T<b.length;T++)ve(b[T]);delete c.g[g],c.h--}}this.G=null},_t.prototype.J=function(c,g,b,T){return this.i.add(String(c),g,!1,b,T)},_t.prototype.K=function(c,g,b,T){return this.i.add(String(c),g,!0,b,T)};function gs(c,g,b,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let q=0;q<g.length;++q){const ie=g[q];if(ie&&!ie.da&&ie.capture==b){const Ie=ie.listener,At=ie.ha||ie.src;ie.fa&&fe(c.i,ie),P=Ie.call(At,T)!==!1&&P}}return P&&!T.defaultPrevented}function kl(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(c,g||0)}function ga(c){c.g=kl(()=>{c.g=null,c.i&&(c.i=!1,ga(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Gt extends N{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ga(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(c){N.call(this),this.h=c,this.g={}}E(Fs,N);var Nr=[];function Cr(c){Ve(c.g,function(g,b){this.g.hasOwnProperty(b)&&xi(g)},c),c.g={}}Fs.prototype.N=function(){Fs.Z.N.call(this),Cr(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=d.JSON.stringify,pa=d.JSON.parse,ps=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ln(){}function ys(){}var En={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rt(){D.call(this,"d")}E(Rt,D);function sn(){D.call(this,"c")}E(sn,D);var mt={},ya=null;function Ai(){return ya=ya||new _t}mt.Ia="serverreachability";function $(c){D.call(this,mt.Ia,c)}E($,D);function ee(c){const g=Ai();We(g,new $(g))}mt.STAT_EVENT="statevent";function Re(c,g){D.call(this,mt.STAT_EVENT,c),this.stat=g}E(Re,D);function Pe(c){const g=Ai();We(g,new Re(g,c))}mt.Ja="timingevent";function mn(c,g){D.call(this,mt.Ja,c),this.size=g}E(mn,D);function vs(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function es(){this.g=!0}es.prototype.ua=function(){this.g=!1};function nd(c,g,b,T,P,q){c.info(function(){if(c.g)if(q){var ie="",Ie=q.split("&");for(let Je=0;Je<Ie.length;Je++){var At=Ie[Je].split("=");if(At.length>1){const gt=At[0];At=At[1];const Bn=gt.split("_");ie=Bn.length>=2&&Bn[1]=="type"?ie+(gt+"="+At+"&"):ie+(gt+"=redacted&")}}}else ie=null;else ie=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+g+`
`+b+`
`+ie})}function wc(c,g,b,T,P,q,ie){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+g+`
`+b+`
`+q+" "+ie})}function _s(c,g,b,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+sd(c,b)+(T?" "+T:"")})}function Rr(c,g){c.info(function(){return"TIMEOUT: "+g})}es.prototype.info=function(){};function sd(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var b=q[c];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<T.length;ie++)T[ie]=""}}}}return Kt(q)}catch{return g}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ll;function jr(){}E(jr,Ln),jr.prototype.g=function(){return new XMLHttpRequest},Ll=new jr;function Gs(c){return encodeURIComponent(String(c))}function Tc(c){var g=1;c=c.split(":");const b=[];for(;g>0&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function ts(c,g,b,T){this.j=c,this.i=g,this.l=b,this.S=T||1,this.V=new Fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ns}function ns(){this.i=null,this.g="",this.h=!1}var It={},qt={};function bs(c,g,b){c.M=1,c.A=Dr(Dt(g)),c.u=b,c.R=!0,va(c,null)}function va(c,g){c.F=Date.now(),xs(c),c.B=Dt(c.A);var b=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),wa(b.i,"t",T),c.C=0,b=c.j.L,c.h=new ns,c.g=Pc(c.j,b?g:null,!c.u),c.P>0&&(c.O=new Gt(p(c.Y,c,c.g),c.P)),g=c.V,b=c.g,T=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Nr[0]=P.toString()),P=Nr);for(let q=0;q<P.length;q++){const ie=Ke(b,P[q],T||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ee(),nd(c.i,c.v,c.B,c.l,c.S,c.u)}ts.prototype.ba=function(c){c=c.target;const g=this.O;g&&rs(c)==3?g.j():this.Y(c)},ts.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=rs(this.g),At=this.g.ya(),Je=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ie!=4||At==7||(At==8||Je<=0?ee(3):ee(2)),ws(this);var g=this.g.ca();this.X=g;var b=id(this);if(this.o=g==200,wc(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var q=T;break t}}q=null}if(c=q)_s(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ts(this,c);else{this.o=!1,this.m=3,Pe(12),An(this),Pn(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<b.length;)if(gt=Ac(this,b),gt==qt){Ie==4&&(this.m=4,Pe(14),c=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==It){this.m=4,Pe(15),_s(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else _s(this.i,this.l,gt,null),Ts(this,gt);if(Ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,Pe(16),c=!1),this.o=this.o&&c,!c)_s(this.i,this.l,b,"[Invalid Chunked Response]"),An(this),Pn(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Zl(ie),ie.P=!0,Pe(11))}}else _s(this.i,this.l,b,null),Ts(this,b);Ie==4&&An(this),this.o&&!this.K&&(Ie==4?Vc(this.j,this):(this.o=!1,xs(this)))}else Qs(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,Pe(12)):(this.m=0,Pe(13)),An(this),Pn(this)}}}catch{}};function id(c){if(!Ec(c))return c.g.la();const g=Qt(c.g);if(g==="")return"";let b="";const T=g.length,P=rs(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),Pn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<T;q++)c.h.h=!0,b+=c.h.i.decode(g[q],{stream:!(P&&q==T-1)});return g.length=0,c.h.g+=b,c.C=0,c.h.g}function Ec(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ac(c,g){var b=c.C,T=g.indexOf(`
`,b);return T==-1?qt:(b=Number(g.substring(b,T)),isNaN(b)?It:(T+=1,T+b>g.length?qt:(g=g.slice(T,T+b),c.C=T+b,g)))}ts.prototype.cancel=function(){this.K=!0,An(this)};function xs(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=vs(p(c.aa,c),g)}function ws(c){c.D&&(d.clearTimeout(c.D),c.D=null)}ts.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(ee(),Pe(17)),An(this),this.m=2,Pn(this)):_a(this,this.T-c)};function Pn(c){c.j.I==0||c.K||Vc(c.j,c)}function An(c){ws(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Cr(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ts(c,g){try{var b=c.j;if(b.I!=0&&(b.g==c||As(b.h,c))){if(!c.L&&As(b.h,c)&&b.I==3){try{var T=b.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Na(b),Oi(b);else break e;Ur(b),Pe(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=vs(p(b.Va,b),6e3));Es(b.h)<=1&&b.ta&&(b.ta=void 0)}else js(b,11)}else if((c.L||b.g==c)&&Na(b),!S(g))for(P=b.Ba.g.parse(g),g=0;g<P.length;g++){let Je=P[g];const gt=Je[0];if(!(gt<=b.K))if(b.K=gt,Je=Je[1],b.I==2)if(Je[0]=="c"){b.M=Je[1],b.ba=Je[2];const Bn=Je[3];Bn!=null&&(b.ka=Bn,b.j.info("VER="+b.ka));const Ds=Je[4];Ds!=null&&(b.za=Ds,b.j.info("SVER="+b.za));const as=Je[5];as!=null&&typeof as=="number"&&as>0&&(T=1.5*as,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const ls=c.g;if(ls){const zr=ls.g?ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var q=T.h;q.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(zl(q,q.h),q.h=null))}if(T.G){const Ca=ls.g?ls.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(T.wa=Ca,tt(T.J,T.G,Ca))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var ie=c;if(T.na=Lc(T,T.L?T.ba:null,T.W),ie.L){Bl(T.h,ie);var Ie=ie,At=T.O;At&&(Ie.H=At),Ie.D&&(ws(Ie),xs(Ie)),T.g=ie}else Dc(T);b.i.length>0&&Is(b)}else Je[0]!="stop"&&Je[0]!="close"||js(b,7);else b.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?js(b,7):Xl(b):Je[0]!="noop"&&b.l&&b.l.qa(Je),b.A=0)}}ee(4)}catch{}}var jt=class{constructor(c,g){this.g=c,this.map=g}};function Pl(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Es(c){return c.h?1:c.g?c.g.size:0}function As(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function zl(c,g){c.g?c.g.add(g):c.h=g}function Bl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Pl.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ql(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.G);return g}return L(c.i)}var Sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,g){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const T=c[b].indexOf("=");let P,q=null;T>=0?(P=c[b].substring(0,T),q=c[b].substring(T+1)):P=c[b],g(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Sn?(this.l=c.l,Ht(this,c.j),this.o=c.o,this.g=c.g,Si(this,c.u),this.h=c.h,Hl(this,Ic(c.i)),this.m=c.m):c&&(g=String(c).match(Sc))?(this.l=!1,Ht(this,g[1]||"",!0),this.o=Ss(g[2]||""),this.g=Ss(g[3]||"",!0),Si(this,g[4]),this.h=Ss(g[5]||"",!0),Hl(this,g[6]||"",!0),this.m=Ss(g[7]||"")):(this.l=!1,this.i=new Ci(null,this.l))}Sn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Or(g,xa,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Or(g,xa,!0),"@"),c.push(Gs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Or(b,b.charAt(0)=="/"?$l:Nc,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Or(b,Cc)),c.join("")},Sn.prototype.resolve=function(c){const g=Dt(this);let b=!!c.j;b?Ht(g,c.j):b=!!c.o,b?g.o=c.o:b=!!c.g,b?g.g=c.g:b=c.u!=null;var T=c.h;if(b)Si(g,c.u);else if(b=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=g.h.lastIndexOf("/");P!=-1&&(T=g.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let ie=0;ie<P.length;){const Ie=P[ie++];Ie=="."?T&&ie==P.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&ie==P.length&&q.push("")):(q.push(Ie),T=!0)}T=q.join("/")}else T=P}return b?g.h=T:b=c.i.toString()!=="",b?Hl(g,Ic(c.i)):b=!!c.m,b&&(g.m=c.m),g};function Dt(c){return new Sn(c)}function Ht(c,g,b){c.j=b?Ss(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Si(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Hl(c,g,b){g instanceof Ci?(c.i=g,Ta(c.i,c.l)):(b||(g=Or(g,Ni)),c.i=new Ci(g,c.l))}function tt(c,g,b){c.i.set(g,b)}function Dr(c){return tt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ss(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Or(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,gn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xa=/[#\/\?@]/g,Nc=/[#\?:]/g,$l=/[#\?]/g,Ni=/[#\?@]/g,Cc=/#/g;function Ci(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function pn(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}r=Ci.prototype,r.add=function(c,g){pn(this),this.i=null,c=Ri(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function Rc(c,g){pn(c),g=Ri(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Fl(c,g){return pn(c),g=Ri(c,g),c.g.has(g)}r.forEach=function(c,g){pn(this),this.g.forEach(function(b,T){b.forEach(function(P){c.call(g,P,T,this)},this)},this)};function Gl(c,g){pn(c);let b=[];if(typeof g=="string")Fl(c,g)&&(b=b.concat(c.g.get(Ri(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)b=b.concat(c[g]);return b}r.set=function(c,g){return pn(this),this.i=null,c=Ri(this,c),Fl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Gl(this,c),c.length>0?String(c[0]):g):g};function wa(c,g,b){Rc(c,g),b.length>0&&(c.i=null,c.g.set(Ri(c,g),L(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var b=g[T];const P=Gs(b);b=Gl(this,b);for(let q=0;q<b.length;q++){let ie=P;b[q]!==""&&(ie+="="+Gs(b[q])),c.push(ie)}}return this.i=c.join("&")};function Ic(c){const g=new Ci;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Ri(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ta(c,g){g&&!c.j&&(pn(c),c.i=null,c.g.forEach(function(b,T){const P=T.toLowerCase();T!=P&&(Rc(this,T),wa(this,P,b))},c)),c.j=g}function ss(c,g){const b=new es;if(d.Image){const T=new Image;T.onload=w(Un,b,"TestLoadImage: loaded",!0,g,T),T.onerror=w(Un,b,"TestLoadImage: error",!1,g,T),T.onabort=w(Un,b,"TestLoadImage: abort",!1,g,T),T.ontimeout=w(Un,b,"TestLoadImage: timeout",!1,g,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Kl(c,g){const b=new es,T=new AbortController,P=setTimeout(()=>{T.abort(),Un(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Un(b,"TestPingServer: ok",!0,g):Un(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Un(b,"TestPingServer: error",!1,g)})}function Un(c,g,b,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(b)}catch{}}function Ii(){this.g=new ps}function Ns(c){this.i=c.Sb||null,this.h=c.ab||!1}E(Ns,Ln),Ns.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(c,g){_t.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Vr,_t),r=Vr.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,is(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ji(this):is(this),this.readyState==3&&Ea(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,ji(this))},r.Na=function(c){this.g&&(this.response=c,ji(this))},r.ga=function(){this.g&&ji(this)};function ji(c){c.readyState=4,c.l=null,c.j=null,c.B=null,is(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function is(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zn(c){let g="";return Ve(c,function(b,T){g+=T,g+=":",g+=b,g+=`\r
`}),g}function kr(c,g,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=zn(b),typeof c=="string"?b!=null&&Gs(b):tt(c,g,b))}function it(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(it,_t);var Cs=/^https?$/i,Ql=["POST","PUT"];r=it.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ll.g(),this.g.onreadystatechange=R(p(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Mr(this,q);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)b.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())b.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Ql,g,void 0)>=0)||T||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of b)this.g.setRequestHeader(q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Mr(this,q)}};function Mr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Yl(c),Ks(c)}function Yl(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,We(this,"complete"),We(this,"abort"),Ks(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ks(this,!0)),it.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},r.Xa=function(){Lr(this)};function Lr(c){if(c.h&&typeof u<"u"){if(c.v&&rs(c)==4)setTimeout(c.Ca.bind(c),0);else if(We(c,"readystatechange"),rs(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var T;if(T=q===0){let ie=String(c.D).match(Sc)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),T=!Cs.test(ie?ie.toLowerCase():"")}b=T}if(b)We(c,"complete"),We(c,"success");else{c.o=6;try{var P=rs(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Yl(c)}}finally{Ks(c)}}}}function Ks(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,g||We(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function rs(c){return c.g?c.g.readyState:0}r.ca=function(){try{return rs(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),pa(g)}};function Qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qs(c){const g={};c=(c.g&&rs(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(S(c[T]))continue;var b=Tc(c[T]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=g[P]||[];g[P]=q,q.push(b)}Ge(g,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function Di(c){this.za=0,this.i=[],this.j=new es,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rs("baseRetryDelayMs",5e3,c),this.Za=Rs("retryDelaySeedMs",1e4,c),this.Ta=Rs("forwardChannelMaxRetries",2,c),this.va=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Pl(c&&c.concurrentRequestLimit),this.Ba=new Ii,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Di.prototype,r.ka=8,r.I=1,r.connect=function(c,g,b,T){Pe(0),this.W=c,this.H=g||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Lc(this,null,this.W),Is(this)};function Xl(c){if(Aa(c),c.I==3){var g=c.V++,b=Dt(c.J);if(tt(b,"SID",c.M),tt(b,"RID",g),tt(b,"TYPE","terminate"),Pr(c,b),g=new ts(c,c.j,g),g.M=2,g.A=Dr(Dt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=g.A,b=!0),b||(g.g=Pc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),xs(g)}Mc(c)}function Oi(c){c.g&&(Zl(c),c.g.cancel(),c.g=null)}function Aa(c){Oi(c),c.v&&(d.clearTimeout(c.v),c.v=null),Na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Is(c){if(!Ul(c.h)&&!c.m){c.m=!0;var g=c.Ea;F||A(),_e||(F(),_e=!0),C.add(g,c),c.D=0}}function Sa(c,g){return Es(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=vs(p(c.Ea,c,g),kc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new ts(this,this.j,c);let q=this.o;if(this.U&&(q?(q=V(q),ae(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=jc(this,P,g),b=Dt(this.J),tt(b,"RID",c),tt(b,"CVER",22),this.G&&tt(b,"X-HTTP-Session-Id",this.G),Pr(this,b),q&&(this.R?g="headers="+Gs(zn(q))+"&"+g:this.u&&kr(b,this.u,q)),zl(this.h,P),this.Ra&&tt(b,"TYPE","init"),this.S?(tt(b,"$req",g),tt(b,"SID","null"),P.U=!0,bs(P,b,null)):bs(P,b,g),this.I=2}}else this.I==3&&(c?Jl(this,c):this.i.length==0||Ul(this.h)||Jl(this))};function Jl(c,g){var b;g?b=g.l:b=c.V++;const T=Dt(c.J);tt(T,"SID",c.M),tt(T,"RID",b),tt(T,"AID",c.K),Pr(c,T),c.u&&c.o&&kr(T,c.u,c.o),b=new ts(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),g&&(c.i=g.G.concat(c.i)),g=jc(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),zl(c.h,b),bs(b,T,g)}function Pr(c,g){c.H&&Ve(c.H,function(b,T){tt(g,T,b)}),c.l&&Ve({},function(b,T){tt(g,T,b)})}function jc(c,g,b){b=Math.min(c.i.length,b);const T=c.l?p(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ie=-1;for(;;){const At=["count="+b];Ie==-1?b>0?(Ie=P[0].g,At.push("ofs="+Ie)):Ie=0:At.push("ofs="+Ie);let Je=!0;for(let gt=0;gt<b;gt++){var q=P[gt].g;const Bn=P[gt].map;if(q-=Ie,q<0)Ie=Math.max(0,P[gt].g-100),Je=!1;else try{q="req"+q+"_"||"";try{var ie=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Ds,as]of ie){let ls=as;y(as)&&(ls=Kt(as)),At.push(q+Ds+"="+encodeURIComponent(ls))}}catch(Ds){throw At.push(q+"type="+encodeURIComponent("_badmap")),Ds}}catch{T&&T(Bn)}}if(Je){ie=At.join("&");break e}}ie=void 0}return c=c.i.splice(0,b),g.G=c,ie}function Dc(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;F||A(),_e||(F(),_e=!0),C.add(g,c),c.A=0}}function Ur(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=vs(p(c.Da,c),kc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=vs(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pe(10),Oi(this),Oc(this))};function Zl(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Oc(c){c.g=new ts(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Dt(c.na);tt(g,"RID","rpc"),tt(g,"SID",c.M),tt(g,"AID",c.K),tt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&tt(g,"TO",c.ia),tt(g,"TYPE","xmlhttp"),Pr(c,g),c.u&&c.o&&kr(g,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Dr(Dt(g)),b.u=null,b.R=!0,va(b,c)}r.Va=function(){this.C!=null&&(this.C=null,Oi(this),Ur(this),Pe(19))};function Na(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Vc(c,g){var b=null;if(c.g==g){Na(c),Zl(c),c.g=null;var T=2}else if(As(c.h,g))b=g.G,Bl(c.h,g),T=1;else return;if(c.I!=0){if(g.o)if(T==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var P=c.D;T=Ai(),We(T,new mn(T,b)),Is(c)}else Dc(c);else if(P=g.m,P==3||P==0&&g.X>0||!(T==1&&Sa(c,g)||T==2&&Ur(c)))switch(b&&b.length>0&&(g=c.h,g.i=g.i.concat(b)),P){case 1:js(c,5);break;case 4:js(c,10);break;case 3:js(c,6);break;default:js(c,2)}}}function kc(c,g){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*g}function js(c,g){if(c.j.info("Error code "+g),g==2){var b=p(c.bb,c),T=c.Ua;const P=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(T,"https"),Dr(T),P?ss(T.toString(),b):Kl(T.toString(),b)}else Pe(2);c.I=0,c.l&&c.l.pa(g),Mc(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function Mc(c){if(c.I=0,c.ja=[],c.l){const g=ql(c.h);(g.length!=0||c.i.length!=0)&&(Q(c.ja,g),Q(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Lc(c,g,b){var T=b instanceof Sn?Dt(b):new Sn(b);if(T.g!="")g&&(T.g=g+"."+T.g),Si(T,T.u);else{var P=d.location;T=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const q=new Sn(null);T&&Ht(q,T),g&&(q.g=g),P&&Si(q,P),b&&(q.h=b),T=q}return b=c.G,g=c.wa,b&&g&&tt(T,b,g),tt(T,"VER",c.ka),Pr(c,T),T}function Pc(c,g,b){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new it(new Ns({ab:b})):new it(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uc(){}r=Uc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Vi(){}Vi.prototype.g=function(c,g){return new hn(c,g)};function hn(c,g){_t.call(this),this.g=new Di(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!S(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!S(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ys(this)}E(hn,_t),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Xl(this.g)},hn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=Kt(c),c=b);g.i.push(new jt(g.Ya++,c)),g.I==3&&Is(g)},hn.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,hn.Z.N.call(this)};function zc(c){Rt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}E(zc,Rt);function Bc(){sn.call(this),this.status=1}E(Bc,sn);function Ys(c){this.g=c}E(Ys,Uc),Ys.prototype.ra=function(){We(this.g,"a")},Ys.prototype.qa=function(c){We(this.g,new zc(c))},Ys.prototype.pa=function(c){We(this.g,new Bc)},Ys.prototype.oa=function(){We(this.g,"b")},Vi.prototype.createWebChannel=Vi.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Cb=function(){return new Vi},Nb=function(){return Ai()},Sb=mt,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Wu=Ir,Ml.COMPLETE="complete",Ab=Ml,ys.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",_t.prototype.listen=_t.prototype.J,zo=ys,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,Eb=it}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let Nl="12.9.0";function KA(r){Nl=r}const oa=new Jm("@firebase/firestore");function al(){return oa.logLevel}function ue(r,...e){if(oa.logLevel<=Be.DEBUG){const n=e.map(eg);oa.debug(`Firestore (${Nl}): ${r}`,...n)}}function gi(r,...e){if(oa.logLevel<=Be.ERROR){const n=e.map(eg);oa.error(`Firestore (${Nl}): ${r}`,...n)}}function ca(r,...e){if(oa.logLevel<=Be.WARN){const n=e.map(eg);oa.warn(`Firestore (${Nl}): ${r}`,...n)}}function eg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Rb(r,i,n)}function Rb(r,e,n){let i=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw gi(i),new Error(i)}function et(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||Rb(e,o,i)}function Ce(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends _i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Ib{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class YA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XA{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let i=this.i;const o=v=>this.i!==i?(i=this.i,n(v)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et(typeof i.accessToken=="string",31837,{l:i}),new Ib(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class JA{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ZA{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new JA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const i=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=eS(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function qe(r,e){return r<e?-1:r>e?1:0}function Im(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),u=e.charAt(i);if(o!==u)return dm(o)===dm(u)?qe(o,u):dm(o)?1:-1}return qe(r.length,e.length)}const tS=55296,nS=57343;function dm(r){const e=r.charCodeAt(0);return e>=tS&&e<=nS}function bl(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}const kv="__name__";class Ls{constructor(e,n,i){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Te(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Ls.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return qe(e.length,n.length)}static compareSegments(e,n){const i=Ls.isNumericId(e),o=Ls.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Ls.extractNumericId(e).compare(Ls.extractNumericId(n)):Im(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class ut extends Ls{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const sS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ls{construct(e,n,i){return new tn(e,n,i)}static isValidIdentifier(e){return sS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kv}static keyField(){return new tn([kv])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(i+=y,o++):(u(),o++)}if(u(),d)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ut.fromString(e))}static fromName(e){return new xe(ut.fromString(e).popFirst(5))}static empty(){return new xe(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ut(e.slice()))}}function jb(r,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function iS(r,e,n,i){if(e===!0&&i===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Mv(r){if(!xe.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Lv(r){if(xe.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Db(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Jn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ut(r,e){const n={typeString:r};return e&&(n.value=e),n}function hc(r,e){if(!Db(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const d=r[i];if(o&&typeof d!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}const Pv=-62135596800,Uv=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Uv);return new ft(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Pv)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Pv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ut("string",ft._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ft(0,0))}static max(){return new Se(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wo=-1;function rS(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new ft(n+1,0):new ft(n,i));return new yr(o,xe.empty(),e)}function aS(r){return new yr(r.readTime,r.key,Wo)}class yr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new yr(Se.min(),xe.empty(),Wo)}static max(){return new yr(Se.max(),xe.empty(),Wo)}}function lS(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(r.documentKey,e.documentKey),n!==0?n:qe(r.largestBatchId,e.largestBatchId))}const oS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==oS)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,i)=>{n(e)}))}static reject(e){return new W(((n,i)=>{i(e)}))}static waitFor(e){return new W(((n,i)=>{let o=0,u=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++u,d&&u===o&&n()}),(v=>i(v)))})),d=!0,u===o&&n()}))}static or(e){let n=W.resolve(!1);for(const i of e)n=n.next((o=>o?W.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,u)=>{i.push(n.call(this,o,u))})),this.waitFor(i)}static mapArray(e,n){return new W(((i,o)=>{const u=e.length,d=new Array(u);let y=0;for(let v=0;v<u;v++){const p=v;n(e[p]).next((w=>{d[p]=w,++y,y===u&&i(d)}),(w=>o(w)))}}))}static doWhile(e,n){return new W(((i,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):i()};u()}))}}function uS(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(r){return r.name==="IndexedDbTransactionError"}class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;const ng=-1;function Mh(r){return r==null}function fh(r){return r===0&&1/r==-1/0}function hS(r){return typeof r=="number"&&Number.isInteger(r)&&!fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Ob="";function dS(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=zv(e)),e=fS(r.get(n),e);return zv(e)}function fS(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Ob:n+="";break;default:n+=u}}return n}function zv(r){return r+Ob+""}function Bv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ar(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Vb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new en(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qv(this.data.getIterator())}getIteratorFrom(e){return new qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Bt(tn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new kb("Invalid base64 string: "+u):u}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const mS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(r){if(et(!!r,39018),typeof r=="string"){let e=0;const n=mS.exec(r);if(et(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _r(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}const Mb="server_timestamp",Lb="__type__",Pb="__previous_value__",Ub="__local_write_time__";function sg(r){return(r?.mapValue?.fields||{})[Lb]?.stringValue===Mb}function Lh(r){const e=r.mapValue.fields[Pb];return sg(e)?Lh(e):e}function ec(r){const e=vr(r.mapValue.fields[Ub].timestampValue);return new ft(e.seconds,e.nanos)}class gS{constructor(e,n,i,o,u,d,y,v,p,w,E){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=p,this.isUsingEmulator=w,this.apiKey=E}}const mh="(default)";class tc{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}function pS(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(r.options.projectId,e)}const zb="__type__",yS="__max__",Ku={mapValue:{}},Bb="__vector__",gh="value";function br(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sg(r)?4:_S(r)?9007199254740991:vS(r)?10:11:Te(28295,{value:r})}function Hs(r,e){if(r===e)return!0;const n=br(r);if(n!==br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ec(r).isEqual(ec(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=vr(o.timestampValue),y=vr(u.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return _r(o.bytesValue).isEqual(_r(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Ct(o.doubleValue),y=Ct(u.doubleValue);return d===y?fh(d)===fh(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return bl(r.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},y=u.mapValue.fields||{};if(Bv(d)!==Bv(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Hs(d[v],y[v])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function nc(r,e){return(r.values||[]).find((n=>Hs(n,e)))!==void 0}function xl(r,e){if(r===e)return 0;const n=br(r),i=br(e);if(n!==i)return qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const y=Ct(u.integerValue||u.doubleValue),v=Ct(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return Hv(r.timestampValue,e.timestampValue);case 4:return Hv(ec(r),ec(e));case 5:return Im(r.stringValue,e.stringValue);case 6:return(function(u,d){const y=_r(u),v=_r(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const y=u.split("/"),v=d.split("/");for(let p=0;p<y.length&&p<v.length;p++){const w=qe(y[p],v[p]);if(w!==0)return w}return qe(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const y=qe(Ct(u.latitude),Ct(d.latitude));return y!==0?y:qe(Ct(u.longitude),Ct(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return $v(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const y=u.fields||{},v=d.fields||{},p=y[gh]?.arrayValue,w=v[gh]?.arrayValue,E=qe(p?.values?.length||0,w?.values?.length||0);return E!==0?E:$v(p,w)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Ku.mapValue&&d===Ku.mapValue)return 0;if(u===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const y=u.fields||{},v=Object.keys(y),p=d.fields||{},w=Object.keys(p);v.sort(),w.sort();for(let E=0;E<v.length&&E<w.length;++E){const R=Im(v[E],w[E]);if(R!==0)return R;const L=xl(y[v[E]],p[w[E]]);if(L!==0)return L}return qe(v.length,w.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Hv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qe(r,e);const n=vr(r),i=vr(e),o=qe(n.seconds,i.seconds);return o!==0?o:qe(n.nanos,i.nanos)}function $v(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=xl(n[o],i[o]);if(u)return u}return qe(n.length,i.length)}function wl(r){return jm(r)}function jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=vr(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return _r(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return xe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=jm(u);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of i)u?u=!1:o+=",",o+=`${d}:${jm(n.fields[d])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function eh(r){switch(br(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(r);return e?16+eh(e):16;case 5:return 2*r.stringValue.length;case 6:return _r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Ar(i.fields,((u,d)=>{o+=u.length+eh(d)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function Fv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Dm(r){return!!r&&"integerValue"in r}function ig(r){return!!r&&"arrayValue"in r}function Gv(r){return!!r&&"nullValue"in r}function Kv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function vS(r){return(r?.mapValue?.fields||{})[zb]?.stringValue===Bb}function Go(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ar(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Go(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Go(r.arrayValue.values[n]);return e}return{...r}}function _S(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yS}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Go(n)}setAll(e){let n=tn.emptyPath(),i={},o=[];e.forEach(((d,y)=>{if(!n.isImmediateParentOf(y)){const v=this.getFieldsMap(n);this.applyChanges(v,i,o),i={},o=[],n=y.popLast()}d?i[y.lastSegment()]=Go(d):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Ar(n,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new Tn(Go(this.value))}}function qb(r){const e=[];return Ar(r.fields,((n,i)=>{const o=new tn([n]);if(th(i)){const u=qb(i.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new kn(e)}class on{constructor(e,n,i,o,u,d,y){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=d,this.documentState=y}static newInvalidDocument(e){return new on(e,0,Se.min(),Se.min(),Se.min(),Tn.empty(),0)}static newFoundDocument(e,n,i,o){return new on(e,1,n,Se.min(),i,o,0)}static newNoDocument(e,n){return new on(e,2,n,Se.min(),Se.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,Se.min(),Se.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,n){this.position=e,this.inclusive=n}}function Qv(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?i=xe.comparator(xe.fromName(d.referenceValue),n.key):i=xl(d,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Yv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Hs(r.position[n],e.position[n]))return!1;return!0}class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function bS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Hb{}class Pt extends Hb{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new wS(e,n,i):n==="array-contains"?new AS(e,i):n==="in"?new SS(e,i):n==="not-in"?new NS(e,i):n==="array-contains-any"?new CS(e,i):new Pt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new TS(e,i):new ES(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&br(this.value)===br(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends Hb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ms(e,n)}matches(e){return $b(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $b(r){return r.op==="and"}function Fb(r){return xS(r)&&$b(r)}function xS(r){for(const e of r.filters)if(e instanceof ms)return!1;return!0}function Om(r){if(r instanceof Pt)return r.field.canonicalString()+r.op.toString()+wl(r.value);if(Fb(r))return r.filters.map((e=>Om(e))).join(",");{const e=r.filters.map((n=>Om(n))).join(",");return`${r.op}(${e})`}}function Gb(r,e){return r instanceof Pt?(function(i,o){return o instanceof Pt&&i.op===o.op&&i.field.isEqual(o.field)&&Hs(i.value,o.value)})(r,e):r instanceof ms?(function(i,o){return o instanceof ms&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,d,y)=>u&&Gb(d,o.filters[y])),!0):!1})(r,e):void Te(19439)}function Kb(r){return r instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`})(r):r instanceof ms?(function(n){return n.op.toString()+" {"+n.getFilters().map(Kb).join(" ,")+"}"})(r):"Filter"}class wS extends Pt{constructor(e,n,i){super(e,n,i),this.key=xe.fromName(i.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class TS extends Pt{constructor(e,n){super(e,"in",n),this.keys=Qb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ES extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=Qb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Qb(r,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class AS extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ig(n)&&nc(n.arrayValue,this.value)}}class SS extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class NS extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nc(this.value.arrayValue,n)}}class CS extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>nc(this.value.arrayValue,i)))}}class RS{constructor(e,n=null,i=[],o=[],u=null,d=null,y=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=d,this.endAt=y,this.Te=null}}function Xv(r,e=null,n=[],i=[],o=null,u=null,d=null){return new RS(r,e,n,i,o,u,d)}function rg(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Om(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>wl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>wl(i))).join(",")),e.Te=n}return e.Te}function ag(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!bS(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Gb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Yv(r.startAt,e.startAt)&&Yv(r.endAt,e.endAt)}function Vm(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dc{constructor(e,n=null,i=[],o=[],u=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function IS(r,e,n,i,o,u,d,y){return new dc(r,e,n,i,o,u,d,y)}function Ph(r){return new dc(r)}function Jv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jS(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Yb(r){return r.collectionGroup!==null}function Ko(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Bt(tn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((p=>{p.isInequality()&&(y=y.add(p.field))}))})),y})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yh(u,i))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new yh(tn.keyField(),i))}return e.Ie}function Ps(r){const e=Ce(r);return e.Ee||(e.Ee=DS(e,Ko(r))),e.Ee}function DS(r,e){if(r.limitType==="F")return Xv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yh(o.field,u)}));const n=r.endAt?new ph(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new ph(r.startAt.position,r.startAt.inclusive):null;return Xv(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function km(r,e){const n=r.filters.concat([e]);return new dc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function vh(r,e,n){return new dc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Uh(r,e){return ag(Ps(r),Ps(e))&&r.limitType===e.limitType}function Xb(r){return`${rg(Ps(r))}|lt:${r.limitType}`}function ll(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>Kb(o))).join(", ")}]`),Mh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>wl(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>wl(o))).join(",")),`Target(${i})`})(Ps(r))}; limitType=${r.limitType})`}function zh(r,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):xe.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(r,e)&&(function(i,o){for(const u of Ko(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(d,y,v){const p=Qv(d,y,v);return d.inclusive?p<=0:p<0})(i.startAt,Ko(i),o)||i.endAt&&!(function(d,y,v){const p=Qv(d,y,v);return d.inclusive?p>=0:p>0})(i.endAt,Ko(i),o))})(r,e)}function OS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Jb(r){return(e,n)=>{let i=!1;for(const o of Ko(r)){const u=VS(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function VS(r,e,n){const i=r.field.isKeyField()?xe.comparator(e.key,n.key):(function(u,d,y){const v=d.data.field(u),p=y.data.field(u);return v!==null&&p!==null?xl(v,p):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:r.dir})}}class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((n,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return Vb(this.inner)}size(){return this.innerSize}}const kS=new vt(xe.comparator);function pi(){return kS}const Zb=new vt(xe.comparator);function Bo(...r){let e=Zb;for(const n of r)e=e.insert(n.key,n);return e}function Wb(r){let e=Zb;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ia(){return Qo()}function e1(){return Qo()}function Qo(){return new da((r=>r.toString()),((r,e)=>r.isEqual(e)))}const MS=new vt(xe.comparator),LS=new Bt(xe.comparator);function He(...r){let e=LS;for(const n of r)e=e.add(n);return e}const PS=new Bt(qe);function US(){return PS}function lg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function t1(r){return{integerValue:""+r}}function zS(r,e){return hS(e)?t1(e):lg(r,e)}class Bh{constructor(){this._=void 0}}function BS(r,e,n){return r instanceof sc?(function(o,u){const d={fields:{[Lb]:{stringValue:Mb},[Ub]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sg(u)&&(u=Lh(u)),u&&(d.fields[Pb]=u),{mapValue:d}})(n,e):r instanceof ic?s1(r,e):r instanceof rc?i1(r,e):(function(o,u){const d=n1(o,u),y=Zv(d)+Zv(o.Ae);return Dm(d)&&Dm(o.Ae)?t1(y):lg(o.serializer,y)})(r,e)}function qS(r,e,n){return r instanceof ic?s1(r,e):r instanceof rc?i1(r,e):n}function n1(r,e){return r instanceof _h?(function(i){return Dm(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class sc extends Bh{}class ic extends Bh{constructor(e){super(),this.elements=e}}function s1(r,e){const n=r1(e);for(const i of r.elements)n.some((o=>Hs(o,i)))||n.push(i);return{arrayValue:{values:n}}}class rc extends Bh{constructor(e){super(),this.elements=e}}function i1(r,e){let n=r1(e);for(const i of r.elements)n=n.filter((o=>!Hs(o,i)));return{arrayValue:{values:n}}}class _h extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Zv(r){return Ct(r.integerValue||r.doubleValue)}function r1(r){return ig(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class HS{constructor(e,n){this.field=e,this.transform=n}}function $S(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof ic&&o instanceof ic||i instanceof rc&&o instanceof rc?bl(i.elements,o.elements,Hs):i instanceof _h&&o instanceof _h?Hs(i.Ae,o.Ae):i instanceof sc&&o instanceof sc})(r.transform,e.transform)}class FS{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qh{}function a1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new og(r.key,Zn.none()):new fc(r.key,r.data,Zn.none());{const n=r.data,i=Tn.empty();let o=new Bt(tn.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?i.delete(u):i.set(u,d),o=o.add(u)}return new Sr(r.key,i,new kn(o.toArray()),Zn.none())}}function GS(r,e,n){r instanceof fc?(function(o,u,d){const y=o.value.clone(),v=e_(o.fieldTransforms,u,d.transformResults);y.setAll(v),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,n):r instanceof Sr?(function(o,u,d){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const y=e_(o.fieldTransforms,u,d.transformResults),v=u.data;v.setAll(l1(o)),v.setAll(y),u.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Yo(r,e,n,i){return r instanceof fc?(function(u,d,y,v){if(!nh(u.precondition,d))return y;const p=u.value.clone(),w=t_(u.fieldTransforms,v,d);return p.setAll(w),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,n,i):r instanceof Sr?(function(u,d,y,v){if(!nh(u.precondition,d))return y;const p=t_(u.fieldTransforms,v,d),w=d.data;return w.setAll(l1(u)),w.setAll(p),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(r,e,n,i):(function(u,d,y){return nh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,n)}function KS(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),u=n1(i.transform,o||null);u!=null&&(n===null&&(n=Tn.empty()),n.set(i.field,u))}return n||null}function Wv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&bl(i,o,((u,d)=>$S(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fc extends qh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends qh{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function l1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function e_(r,e,n){const i=new Map;et(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,y=e.data.field(u.field);i.set(u.field,qS(d,y,n[o]))}return i}function t_(r,e,n){const i=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);i.set(o.field,BS(u,d,e))}return i}class og extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QS extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YS{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&GS(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Yo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Yo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=e1();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let y=this.applyToLocalView(d,u.mutatedFields);y=n.has(o.key)?null:y;const v=a1(d,y);v!==null&&i.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Se.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((n,i)=>Wv(n,i)))&&bl(this.baseMutations,e.baseMutations,((n,i)=>Wv(n,i)))}}class cg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){et(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return MS})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,i[d].version);return new cg(e,n,i,o)}}class XS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JS{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,Fe;function ZS(r){switch(r){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function o1(r){if(r===void 0)return gi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Lt.OK:return Z.OK;case Lt.CANCELLED:return Z.CANCELLED;case Lt.UNKNOWN:return Z.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return Z.INTERNAL;case Lt.UNAVAILABLE:return Z.UNAVAILABLE;case Lt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Lt.NOT_FOUND:return Z.NOT_FOUND;case Lt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Lt.ABORTED:return Z.ABORTED;case Lt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Lt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}(Fe=Lt||(Lt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function WS(){return new TextEncoder}const eN=new fr([4294967295,4294967295],0);function n_(r){const e=WS().encode(r),n=new Tb;return n.update(e),new Uint8Array(n.digest())}function s_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fr([n,i],0),new fr([o,u],0)]}class ug{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new qo(`Invalid padding: ${n}`);if(i<0)throw new qo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new qo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fr.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(fr.fromNumber(i)));return o.compare(eN)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n_(e),[i,o]=s_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);if(!this.we(d))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ug(u,o,n);return i.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const n=n_(e),[i,o]=s_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hh{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Hh(Se.min(),o,new vt(qe),pi(),He())}}class mc{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new mc(i,n,He(),He(),He())}}class sh{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class c1{constructor(e,n){this.targetId=e,this.Ce=n}}class u1{constructor(e,n,i=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class i_{constructor(){this.ve=0,this.Fe=r_(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),i=He();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Te(38017,{changeType:u})}})),new mc(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=r_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class tN{constructor(e){this.Ge=e,this.ze=new Map,this.je=pi(),this.He=Qu(),this.Je=Qu(),this.Ze=new vt(qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Vm(u))if(i===0){const d=new xe(u.path);this.et(n,d,on.newNoDocument(d,Se.min()))}else et(i===1,20013,{expectedCount:i});else{const d=this._t(n);if(d!==i){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(n);const p=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let d,y;try{d=_r(i).toUint8Array()}catch(v){if(v instanceof kb)return ca("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new ug(d,o,u)}catch(v){return ca(v instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((u=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const y=this.ot(d);if(y){if(u.current&&Vm(y.target)){const v=new xe(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,on.newNoDocument(v,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let i=He();this.Je.forEach(((u,d)=>{let y=!0;d.forEachWhile((v=>{const p=this.ot(v);return!p||p.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(i=i.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Hh(e,n,this.Ze,this.je,i);return this.je=pi(),this.He=Qu(),this.Je=Qu(),this.Ze=new vt(qe),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new i_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Bt(qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Bt(qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qu(){return new vt(xe.comparator)}function r_(){return new vt(xe.comparator)}const nN={asc:"ASCENDING",desc:"DESCENDING"},sN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iN={and:"AND",or:"OR"};class rN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mm(r,e){return r.useProto3Json||Mh(e)?e:{value:e}}function bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aN(r,e){return bh(r,e.toTimestamp())}function Us(r){return et(!!r,49232),Se.fromTimestamp((function(n){const i=vr(n);return new ft(i.seconds,i.nanos)})(r))}function hg(r,e){return Lm(r,e).canonicalString()}function Lm(r,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function d1(r){const e=ut.fromString(r);return et(y1(e),10190,{key:e.toString()}),e}function Pm(r,e){return hg(r.databaseId,e.path)}function fm(r,e){const n=d1(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new xe(m1(n))}function f1(r,e){return hg(r.databaseId,e)}function lN(r){const e=d1(r);return e.length===4?ut.emptyPath():m1(e)}function Um(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function m1(r){return et(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function a_(r,e,n){return{name:Pm(r,e),fields:n.value.mapValue.fields}}function oN(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,w){return p.useProto3Json?(et(w===void 0||typeof w=="string",58123),nn.fromBase64String(w||"")):(et(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),nn.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(p){const w=p.code===void 0?Z.UNKNOWN:o1(p.code);return new ce(w,p.message||"")})(d);n=new u1(i,o,u,y||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=fm(r,i.document.name),u=Us(i.document.updateTime),d=i.document.createTime?Us(i.document.createTime):Se.min(),y=new Tn({mapValue:{fields:i.document.fields}}),v=on.newFoundDocument(o,u,d,y),p=i.targetIds||[],w=i.removedTargetIds||[];n=new sh(p,w,v.key,v)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=fm(r,i.document),u=i.readTime?Us(i.readTime):Se.min(),d=on.newNoDocument(o,u),y=i.removedTargetIds||[];n=new sh([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=fm(r,i.document),u=i.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,d=new JS(o,u),y=i.targetId;n=new c1(y,d)}}return n}function cN(r,e){let n;if(e instanceof fc)n={update:a_(r,e.key,e.value)};else if(e instanceof og)n={delete:Pm(r,e.key)};else if(e instanceof Sr)n={update:a_(r,e.key,e.data),updateMask:vN(e.fieldMask)};else{if(!(e instanceof QS))return Te(16599,{dt:e.type});n={verify:Pm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,d){const y=d.transform;if(y instanceof sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof ic)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof rc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof _h)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Te(20930,{transform:d.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:aN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function uN(r,e){return r&&r.length>0?(et(e!==void 0,14353),r.map((n=>(function(o,u){let d=o.updateTime?Us(o.updateTime):Us(u);return d.isEqual(Se.min())&&(d=Us(u)),new FS(d,o.transformResults||[])})(n,e)))):[]}function hN(r,e){return{documents:[f1(r,e.path)]}}function dN(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=f1(r,o);const u=(function(p){if(p.length!==0)return p1(ms.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((w=>(function(R){return{field:ol(R.field),direction:gN(R.dir)}})(w)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const y=Mm(r,e.limit);return y!==null&&(n.structuredQuery.limit=y),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function fN(r){let e=lN(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){et(i===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=(function(E){const R=g1(E);return R instanceof ms&&Fb(R)?R.getFilters():[R]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((R=>(function(Q){return new yh(cl(Q.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(R)))})(n.orderBy));let y=null;n.limit&&(y=(function(E){let R;return R=typeof E=="object"?E.value:E,Mh(R)?null:R})(n.limit));let v=null;n.startAt&&(v=(function(E){const R=!!E.before,L=E.values||[];return new ph(L,R)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const R=!E.before,L=E.values||[];return new ph(L,R)})(n.endAt)),IS(e,o,d,u,y,"F",v,p)}function mN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function g1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=cl(n.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=cl(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=cl(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cl(n.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Pt.create(cl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ms.create(n.compositeFilter.filters.map((i=>g1(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function gN(r){return nN[r]}function pN(r){return sN[r]}function yN(r){return iN[r]}function ol(r){return{fieldPath:r.canonicalString()}}function cl(r){return tn.fromServerFormat(r.fieldPath)}function p1(r){return r instanceof Pt?(function(n){if(n.op==="=="){if(Kv(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(Gv(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kv(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(Gv(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:pN(n.op),value:n.value}}})(r):r instanceof ms?(function(n){const i=n.getFilters().map((o=>p1(o)));return i.length===1?i[0]:{compositeFilter:{op:yN(n.op),filters:i}}})(r):Te(54877,{filter:r})}function vN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function y1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function v1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class or{constructor(e,n,i,o,u=Se.min(),d=Se.min(),y=nn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _N{constructor(e){this.yt=e}}function bN(r){const e=fN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vh(e,e.limit,"L"):e}class xN{constructor(){this.Sn=new wN}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(yr.min())}updateCollectionGroup(e,n,i){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class wN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Bt(ut.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Bt(ut.comparator)).toArray()}}const l_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_1=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(_1,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Tl(0)}static ar(){return new Tl(-1)}}const o_="LruGarbageCollector",TN=1048576;function c_([r,e],[n,i]){const o=qe(r,n);return o===0?qe(e,i):o}class EN{constructor(e){this.Pr=e,this.buffer=new Bt(c_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();c_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(o_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?ue(o_,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Ar(3e5)}))}}class SN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(kh.ce);const i=new EN(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(l_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,u,d,y,v,p;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,y=Date.now(),this.removeTargets(e,i,n)))).next((E=>(u=E,v=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(p=Date.now(),al()<=Be.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${u} targets in `+(v-y)+`ms
	Removed ${E} documents in `+(p-v)+`ms
Total Duration: ${p-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function NN(r,e){return new SN(r,e)}class CN{constructor(){this.changes=new da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?W.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class IN{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Yo(i.mutation,o,kn.empty(),ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,He()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=He()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((u=>{let d=Bo();return u.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=ia();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,He())))}populateOverlays(e,n,i){const o=[];return i.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,y)=>{n.set(d,y)}))}))}computeViews(e,n,i,o){let u=pi();const d=Qo(),y=(function(){return Qo()})();return n.forEach(((v,p)=>{const w=i.get(p.key);o.has(p.key)&&(w===void 0||w.mutation instanceof Sr)?u=u.insert(p.key,p):w!==void 0?(d.set(p.key,w.mutation.getFieldMask()),Yo(w.mutation,p,w.mutation.getFieldMask(),ft.now())):d.set(p.key,kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((p,w)=>d.set(p,w))),n.forEach(((p,w)=>y.set(p,new RN(w,d.get(p)??null)))),y)))}recalculateAndSaveOverlays(e,n){const i=Qo();let o=new vt(((d,y)=>d-y)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const y of d)y.keys().forEach((v=>{const p=n.get(v);if(p===null)return;let w=i.get(v)||kn.empty();w=y.applyToLocalView(p,w),i.set(v,w);const E=(o.get(y.batchId)||He()).add(v);o=o.insert(y.batchId,E)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),p=v.key,w=v.value,E=e1();w.forEach((R=>{if(!u.has(R)){const L=a1(n.get(R),i.get(R));L!==null&&E.set(R,L),u=u.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,E))}return W.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return jS(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):W.resolve(ia());let y=Wo,v=u;return d.next((p=>W.forEach(p,((w,E)=>(y<E.largestBatchId&&(y=E.largestBatchId),u.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next((R=>{v=v.insert(w,R)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,v,p,He()))).next((w=>({batchId:y,changes:Wb(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((i=>{let o=Bo();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let d=Bo();return this.indexManager.getCollectionParents(e,u).next((y=>W.forEach(y,(v=>{const p=(function(E,R){return new dc(R,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next((w=>{w.forEach(((E,R)=>{d=d.insert(E,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o)))).next((d=>{u.forEach(((v,p)=>{const w=p.getKey();d.get(w)===null&&(d=d.insert(w,on.newInvalidDocument(w)))}));let y=Bo();return d.forEach(((v,p)=>{const w=u.get(v);w!==void 0&&Yo(w.mutation,p,kn.empty(),ft.now()),zh(n,p)&&(y=y.insert(v,p))})),y}))}}class jN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Us(o.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:bN(o.bundledQuery),readTime:Us(o.readTime)}})(n)),W.resolve()}}class DN{constructor(){this.overlays=new vt(xe.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ia();return W.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,u)=>{this.bt(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(i)),W.resolve()}getOverlaysForCollection(e,n,i){const o=ia(),u=n.length+1,d=new xe(n.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,p=v.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&v.largestBatchId>i&&o.set(v.getKey(),v)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new vt(((p,w)=>p-w));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let w=u.get(p.largestBatchId);w===null&&(w=ia(),u=u.insert(p.largestBatchId,w)),w.set(p.getKey(),p)}}const y=ia(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((p,w)=>y.set(p,w))),!(y.size()>=o)););return W.resolve(y)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new XS(n,i));let u=this.Lr.get(n);u===void 0&&(u=He(),this.Lr.set(n,u)),this.Lr.set(n,u.add(i.key))}}class ON{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class dg{constructor(){this.kr=new Bt(Ft.Kr),this.qr=new Bt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Ft(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Ft(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new xe(new ut([])),i=new Ft(n,e),o=new Ft(n,e+1),u=[];return this.qr.forEachInRange([i,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new xe(new ut([])),i=new Ft(n,e),o=new Ft(n,e+1);let u=He();return this.qr.forEachInRange([i,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Ft(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ft{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return xe.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||xe.comparator(e.key,n.key)}}class VN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Bt(Ft.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YS(u,n,i,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new Ft(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?ng:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([i,o],(d=>{const y=this.Zr(d.Hr);u.push(y)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Bt(qe);return n.forEach((o=>{const u=new Ft(o,0),d=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(y=>{i=i.add(y.Hr)}))})),W.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;xe.isDocumentKey(u)||(u=u.child(""));const d=new Ft(new xe(u),0);let y=new Bt(qe);return this.Jr.forEachWhile((v=>{const p=v.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(y=y.add(v.Hr)),!0)}),d),W.resolve(this.Yr(y))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){et(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return W.forEach(n.mutations,(o=>{const u=new Ft(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Ft(n,0),o=this.Jr.firstAfterOrEqual(i);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kN{constructor(e){this.ti=e,this.docs=(function(){return new vt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return W.resolve(i?i.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let i=pi();return n.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))})),W.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=pi();const d=n.path,y=new xe(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:p,value:{document:w}}=v.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||lS(aS(w),i)<=0||(o.has(w.key)||zh(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,i,o){Te(9500)}ni(e,n){return W.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new MN(this)}getSize(e){return W.resolve(this.size)}}class MN extends CN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class LN{constructor(e){this.persistence=e,this.ri=new da((n=>rg(n)),ag),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new dg,this.targetCount=0,this.oi=Tl._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Tl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=n&&i.get(y.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return W.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),W.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return W.resolve(i)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}class b1{constructor(e,n){this._i={},this.overlays={},this.ai=new kh(0),this.ui=!1,this.ui=!0,this.ci=new ON,this.referenceDelegate=e(this),this.li=new LN(this),this.indexManager=new xN,this.remoteDocumentCache=(function(o){return new kN(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new _N(n),this.Pi=new jN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new VN(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ue("MemoryPersistence","Starting transaction:",e);const o=new PN(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return W.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class PN extends cS{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Ri=new dg,this.Ai=null}static Vi(e){return new fg(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),W.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(i=>{const o=xe.fromPath(i);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.fi=new da((i=>dS(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=NN(this,n)}static Vi(e,n){return new xh(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return W.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((u=>u?W.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((y=>{y||(i++,u.removeEntry(d,Se.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),W.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}wr(e,n,i){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return W.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mg(e,n.fromCache,i,o)}}class UN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return NE()?8:uS(cn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,i).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new UN;return this.ys(e,n,d).next((y=>{if(u.result=y,this.As)return this.ws(e,n,d,y.size)}))})).next((()=>u.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(al()<=Be.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(al()<=Be.DEBUG&&ue("QueryEngine","Query:",ll(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(al()<=Be.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(n))):W.resolve())}gs(e,n){if(Jv(n))return W.resolve(null);let i=Ps(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=vh(n,null,"F"),i=Ps(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const d=He(...u);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,i).next((v=>{const p=this.bs(n,y);return this.Ss(n,p,d,v.readTime)?this.gs(e,vh(n,null,"F")):this.Ds(e,p,n,v)}))))})))))}ps(e,n,i,o){return Jv(n)||o.isEqual(Se.min())?W.resolve(null):this.fs.getDocuments(e,i).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,i,o)?W.resolve(null):(al()<=Be.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ll(n)),this.Ds(e,d,n,rS(o,Wo)).next((y=>y)))}))}bs(e,n){let i=new Bt(Jb(e));return n.forEach(((o,u)=>{zh(e,u)&&(i=i.add(u))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,i){return al()<=Be.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ll(n)),this.fs.getDocumentsMatchingQuery(e,n,yr.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const gg="LocalStore",BN=3e8;class qN{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new vt(qe),this.Fs=new da((u=>rg(u)),ag),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function HN(r,e,n,i){return new qN(r,e,n,i)}async function x1(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const d=[],y=[];let v=He();for(const p of o){d.push(p.batchId);for(const w of p.mutations)v=v.add(w.key)}for(const p of u){y.push(p.batchId);for(const w of p.mutations)v=v.add(w.key)}return n.localDocuments.getDocuments(i,v).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:y})))}))}))}function $N(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(y,v,p,w){const E=p.batch,R=E.keys();let L=W.resolve();return R.forEach((Q=>{L=L.next((()=>w.getEntry(v,Q))).next((se=>{const te=p.docVersions.get(Q);et(te!==null,48541),se.version.compareTo(te)<0&&(E.applyToRemoteDocument(se,p),se.isValidDocument()&&(se.setReadTime(p.commitVersion),w.addEntry(se)))}))})),L.next((()=>y.mutationQueue.removeMutationBatch(v,E)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(y){let v=He();for(let p=0;p<y.mutationResults.length;++p)y.mutationResults[p].transformResults.length>0&&(v=v.add(y.batch.mutations[p].key));return v})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function w1(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function FN(r,e){const n=Ce(r),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const y=[];e.targetChanges.forEach(((w,E)=>{const R=o.get(E);if(!R)return;y.push(n.li.removeMatchingKeys(u,w.removedDocuments,E).next((()=>n.li.addMatchingKeys(u,w.addedDocuments,E))));let L=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?L=L.withResumeToken(nn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,i)),o=o.insert(E,L),(function(se,te,de){return se.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=BN?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(R,L,w)&&y.push(n.li.updateTargetData(u,L))}));let v=pi(),p=He();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),y.push(GN(u,d,e.documentUpdates).next((w=>{v=w.Bs,p=w.Ls}))),!i.isEqual(Se.min())){const w=n.li.getLastRemoteSnapshotVersion(u).next((E=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,i)));y.push(w)}return W.waitFor(y).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,v,p))).next((()=>v))})).then((u=>(n.vs=o,u)))}function GN(r,e,n){let i=He(),o=He();return n.forEach((u=>i=i.add(u))),e.getEntries(r,i).next((u=>{let d=pi();return n.forEach(((y,v)=>{const p=u.get(y);v.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Se.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!p.isValidDocument()||v.version.compareTo(p.version)>0||v.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ue(gg,"Ignoring outdated watch update for ",y,". Current version:",p.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function KN(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=ng),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function QN(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((u=>u?(o=u,W.resolve(o)):n.li.allocateTargetId(i).next((d=>(o=new or(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function zm(r,e,n){const i=Ce(r),o=i.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(d=>i.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Rl(d))throw d;ue(gg,`Failed to update sequence numbers for target ${e}: ${d}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function u_(r,e,n){const i=Ce(r);let o=Se.min(),u=He();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,p,w){const E=Ce(v),R=E.Fs.get(w);return R!==void 0?W.resolve(E.vs.get(R)):E.li.getTargetData(p,w)})(i,d,Ps(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(d,y.targetId).next((v=>{u=v}))})).next((()=>i.Cs.getDocumentsMatchingQuery(d,e,n?o:Se.min(),n?u:He()))).next((y=>(YN(i,OS(e),y),{documents:y,ks:u})))))}function YN(r,e,n){let i=r.Ms.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),r.Ms.set(e,i)}class h_{constructor(){this.activeTargetIds=US()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XN{constructor(){this.vo=new h_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new h_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JN{Mo(e){}shutdown(){}}const d_="ConnectivityMonitor";class f_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(d_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(d_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yu=null;function Bm(){return Yu===null?Yu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yu++,"0x"+Yu.toString(16)}const mm="RestConnection",ZN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class WN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===mh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,u){const d=Bm(),y=this.Qo(e,n.toUriEncodedString());ue(mm,`Sending RPC '${e}' ${d}:`,y,i);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,u);const{host:p}=new URL(y),w=Al(p);return this.zo(e,y,v,i,w).then((E=>(ue(mm,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw ca(mm,`RPC '${e}' ${d} failed with error: `,E,"url: ",y,"request:",i),E}))}jo(e,n,i,o,u,d){return this.Wo(e,n,i,o,u)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const i=ZN[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class e4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const an="WebChannelConnection",Po=(r,e,n)=>{r.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class hl extends WN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!hl.c_){const e=Nb();Po(e,Sb.STAT_EVENT,(n=>{n.stat===Rm.PROXY?ue(an,"STAT_EVENT: detected buffering proxy"):n.stat===Rm.NOPROXY&&ue(an,"STAT_EVENT: detected no buffering proxy")})),hl.c_=!0}}zo(e,n,i,o,u){const d=Bm();return new Promise(((y,v)=>{const p=new Eb;p.setWithCredentials(!0),p.listenOnce(Ab.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Wu.NO_ERROR:const E=p.getResponseJson();ue(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),y(E);break;case Wu.TIMEOUT:ue(an,`RPC '${e}' ${d} timed out`),v(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const R=p.getStatus();if(ue(an,`RPC '${e}' ${d} failed with status:`,R,"response text:",p.getResponseText()),R>0){let L=p.getResponseJson();Array.isArray(L)&&(L=L[0]);const Q=L?.error;if(Q&&Q.status&&Q.message){const se=(function(de){const me=de.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(me)>=0?me:Z.UNKNOWN})(Q.status);v(new ce(se,Q.message))}else v(new ce(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else v(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(an,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);ue(an,`RPC '${e}' ${d} sending request:`,o),p.send(n,"POST",w,i,15)}))}T_(e,n,i){const o=Bm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,n,i),y.encodeInitMessageHeaders=!0;const p=u.join("");ue(an,`Creating RPC '${e}' stream ${o}: ${p}`,y);const w=d.createWebChannel(p,y);this.I_(w);let E=!1,R=!1;const L=new e4({Ho:Q=>{R?ue(an,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(E||(ue(an,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),ue(an,`RPC '${e}' stream ${o} sending:`,Q),w.send(Q))},Jo:()=>w.close()});return Po(w,zo.EventType.OPEN,(()=>{R||(ue(an,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Po(w,zo.EventType.CLOSE,(()=>{R||(R=!0,ue(an,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(w))})),Po(w,zo.EventType.ERROR,(Q=>{R||(R=!0,ca(an,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),L.o_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),Po(w,zo.EventType.MESSAGE,(Q=>{if(!R){const se=Q.data[0];et(!!se,16349);const te=se,de=te?.error||te[0]?.error;if(de){ue(an,`RPC '${e}' stream ${o} received error:`,de);const me=de.status;let ne=(function(_e){const C=Lt[_e];if(C!==void 0)return o1(C)})(me),ye=de.message;me==="NOT_FOUND"&&ye.includes("database")&&ye.includes("does not exist")&&ye.includes(this.databaseId.database)&&ca(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ne===void 0&&(ne=Z.INTERNAL,ye="Unknown error status: "+me+" with message "+de.message),R=!0,L.o_(new ce(ne,ye)),w.close()}else ue(an,`RPC '${e}' stream ${o} received:`,se),L.__(se)}})),hl.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Cb()}}function t4(r){return new hl(r)}function gm(){return typeof document<"u"?document:null}function $h(r){return new rN(r,!0)}hl.c_=!1;class T1{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const m_="PersistentStream";class E1{constructor(e,n,i,o,u,d,y,v){this.Ci=e,this.b_=i,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(m_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(m_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n4 extends E1{constructor(e,n,i,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oN(this.serializer,e),i=(function(u){if(!("targetChange"in u))return Se.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Us(d.readTime):Se.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Um(this.serializer),n.addTarget=(function(u,d){let y;const v=d.target;if(y=Vm(v)?{documents:hN(u,v)}:{query:dN(u,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=h1(u,d.resumeToken);const p=Mm(u,d.expectedCount);p!==null&&(y.expectedCount=p)}else if(d.snapshotVersion.compareTo(Se.min())>0){y.readTime=bh(u,d.snapshotVersion.toTimestamp());const p=Mm(u,d.expectedCount);p!==null&&(y.expectedCount=p)}return y})(this.serializer,e);const i=mN(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.K_(n)}}class s4 extends E1{constructor(e,n,i,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uN(e.writeResults,e.commitTime),i=Us(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Um(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>cN(this.serializer,i)))};this.K_(n)}}class i4{}class r4 extends i4{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Lm(n,i),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Z.UNKNOWN,u.toString())}))}jo(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,Lm(n,i),o,d,y,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function a4(r,e,n,i){return new r4(r,e,n,i)}class l4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gi(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class o4{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{i.enqueueAndForget((async()=>{fa(this)&&(ue(ua,"Restarting streams for network reachability change."),await(async function(v){const p=Ce(v);p.Ea.add(4),await gc(p),p.Va.set("Unknown"),p.Ea.delete(4),await Fh(p)})(this))}))})),this.Va=new l4(i,o)}}async function Fh(r){if(fa(r))for(const e of r.Ra)await e(!0)}async function gc(r){for(const e of r.Ra)await e(!1)}function A1(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_g(n)?vg(n):Il(n).O_()&&yg(n,e))}function pg(r,e){const n=Ce(r),i=Il(n);n.Ia.delete(e),i.O_()&&S1(n,e),n.Ia.size===0&&(i.O_()?i.L_():fa(n)&&n.Va.set("Unknown"))}function yg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(r).Z_(e)}function S1(r,e){r.da.$e(e),Il(r).X_(e)}function vg(r){r.da=new tN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Il(r).start(),r.Va.ua()}function _g(r){return fa(r)&&!Il(r).x_()&&r.Ia.size>0}function fa(r){return Ce(r).Ea.size===0}function N1(r){r.da=void 0}async function c4(r){r.Va.set("Online")}async function u4(r){r.Ia.forEach(((e,n)=>{yg(r,e)}))}async function h4(r,e){N1(r),_g(r)?(r.Va.ha(e),vg(r)):r.Va.set("Unknown")}async function d4(r,e,n){if(r.Va.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(r,e)}catch(i){ue(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wh(r,i)}else if(e instanceof sh?r.da.Xe(e):e instanceof c1?r.da.st(e):r.da.tt(e),!n.isEqual(Se.min()))try{const i=await w1(r.localStore);n.compareTo(i)>=0&&await(function(u,d){const y=u.da.Tt(d);return y.targetChanges.forEach(((v,p)=>{if(v.resumeToken.approximateByteSize()>0){const w=u.Ia.get(p);w&&u.Ia.set(p,w.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,p)=>{const w=u.Ia.get(v);if(!w)return;u.Ia.set(v,w.withResumeToken(nn.EMPTY_BYTE_STRING,w.snapshotVersion)),S1(u,v);const E=new or(w.target,v,p,w.sequenceNumber);yg(u,E)})),u.remoteSyncer.applyRemoteEvent(y)})(r,n)}catch(i){ue(ua,"Failed to raise snapshot:",i),await wh(r,i)}}async function wh(r,e,n){if(!Rl(e))throw e;r.Ea.add(1),await gc(r),r.Va.set("Offline"),n||(n=()=>w1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(ua,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Fh(r)}))}function C1(r,e){return e().catch((n=>wh(r,n,e)))}async function Gh(r){const e=Ce(r),n=xr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ng;for(;f4(e);)try{const o=await KN(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,m4(e,o)}catch(o){await wh(e,o)}R1(e)&&I1(e)}function f4(r){return fa(r)&&r.Ta.length<10}function m4(r,e){r.Ta.push(e);const n=xr(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function R1(r){return fa(r)&&!xr(r).x_()&&r.Ta.length>0}function I1(r){xr(r).start()}async function g4(r){xr(r).ra()}async function p4(r){const e=xr(r);for(const n of r.Ta)e.ea(n.mutations)}async function y4(r,e,n){const i=r.Ta.shift(),o=cg.from(i,e,n);await C1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Gh(r)}async function v4(r,e){e&&xr(r).Y_&&await(async function(i,o){if((function(d){return ZS(d)&&d!==Z.ABORTED})(o.code)){const u=i.Ta.shift();xr(i).B_(),await C1(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Gh(i)}})(r,e),R1(r)&&I1(r)}async function g_(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),ue(ua,"RemoteStore received new credentials");const i=fa(n);n.Ea.add(3),await gc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Fh(n)}async function _4(r,e){const n=Ce(r);e?(n.Ea.delete(2),await Fh(n)):e||(n.Ea.add(2),await gc(n),n.Va.set("Unknown"))}function Il(r){return r.ma||(r.ma=(function(n,i,o){const u=Ce(n);return u.sa(),new n4(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:c4.bind(null,r),Yo:u4.bind(null,r),t_:h4.bind(null,r),J_:d4.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),_g(r)?vg(r):r.Va.set("Unknown")):(await r.ma.stop(),N1(r))}))),r.ma}function xr(r){return r.fa||(r.fa=(function(n,i,o){const u=Ce(n);return u.sa(),new s4(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:g4.bind(null,r),t_:v4.bind(null,r),ta:p4.bind(null,r),na:y4.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Gh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class bg{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const d=Date.now()+i,y=new bg(e,n,d,o,u);return y.start(i),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(r,e){if(gi("AsyncQueue",`${e}: ${r}`),Rl(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||xe.comparator(n.key,i.key):(n,i)=>xe.comparator(n.key,i.key),this.keyedMap=Bo(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new dl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class p_{constructor(){this.ga=new vt(xe.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class El{constructor(e,n,i,o,u,d,y,v,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,u){const d=[];return n.forEach((y=>{d.push({type:0,doc:y})})),new El(e,n,dl.emptySet(n),d,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class b4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class x4{constructor(){this.queries=y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ce(n),u=o.queries;o.queries=y_(),u.forEach(((d,y)=>{for(const v of y.ba)v.onError(i)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function y_(){return new da((r=>Xb(r)),Uh)}async function j1(r,e){const n=Ce(r);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(i=2):(u=new b4,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const y=xg(d,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(y)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&wg(n)}async function D1(r,e){const n=Ce(r),i=e.query;let o=3;const u=n.queries.get(i);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function w4(r,e){const n=Ce(r);let i=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const y of d.ba)y.Fa(o)&&(i=!0);d.wa=o}}i&&wg(n)}function T4(r,e,n){const i=Ce(r),o=i.queries.get(e);if(o)for(const u of o.ba)u.onError(n);i.queries.delete(e)}function wg(r){r.Ca.forEach((e=>{e.next()}))}var qm,v_;(v_=qm||(qm={})).Ma="default",v_.Cache="cache";class O1{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new El(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qm.Cache}}class V1{constructor(e){this.key=e}}class k1{constructor(e){this.key=e}}class E4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=Jb(e),this.tu=new dl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new p_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const R=o.get(w),L=zh(this.query,E)?E:null,Q=!!R&&this.mutatedKeys.has(R.key),se=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let te=!1;R&&L?R.data.isEqual(L.data)?Q!==se&&(i.track({type:3,doc:L}),te=!0):this.su(R,L)||(i.track({type:2,doc:L}),te=!0,(v&&this.eu(L,v)>0||p&&this.eu(L,p)<0)&&(y=!0)):!R&&L?(i.track({type:0,doc:L}),te=!0):R&&!L&&(i.track({type:1,doc:R}),te=!0,(v||p)&&(y=!0)),te&&(L?(d=d.add(L),u=se?u.add(w):u.delete(w)):(d=d.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),u=u.delete(w.key),i.track({type:1,doc:w})}return{tu:d,iu:i,Ss:y,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,E)=>(function(L,Q){const se=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:te})}};return se(L)-se(Q)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(i),o=o??!1;const y=n&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,p=v!==this.Xa;return this.Xa=v,d.length!==0||p?{snapshot:new El(this.query,e.tu,u,d,e.mutatedKeys,v===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new k1(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new V1(i))})),n}cu(e){this.Za=e.ks,this.Ya=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Tg="SyncEngine";class A4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class S4{constructor(e){this.key=e,this.hu=!1}}class N4{constructor(e,n,i,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((y=>Xb(y)),Uh),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(xe.comparator),this.Au=new Map,this.Vu=new dg,this.du={},this.mu=new Map,this.fu=Tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C4(r,e,n=!0){const i=B1(r);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await M1(i,e,n,!0),o}async function R4(r,e){const n=B1(r);await M1(n,e,!0,!1)}async function M1(r,e,n,i){const o=await QN(r.localStore,Ps(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let y;return i&&(y=await I4(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&A1(r.remoteStore,o),y}async function I4(r,e,n,i,o){r.pu=(E,R,L)=>(async function(se,te,de,me){let ne=te.view.ru(de);ne.Ss&&(ne=await u_(se.localStore,te.query,!1).then((({documents:C})=>te.view.ru(C,ne))));const ye=me&&me.targetChanges.get(te.targetId),F=me&&me.targetMismatches.get(te.targetId)!=null,_e=te.view.applyChanges(ne,se.isPrimaryClient,ye,F);return b_(se,te.targetId,_e.au),_e.snapshot})(r,E,R,L);const u=await u_(r.localStore,e,!0),d=new E4(e,u.ks),y=d.ru(u.documents),v=mc.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),p=d.applyChanges(y,r.isPrimaryClient,v);b_(r,n,p.au);const w=new A4(e,n,d);return r.Tu.set(e,w),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function j4(r,e,n){const i=Ce(r),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((d=>!Uh(d,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&pg(i.remoteStore,o.targetId),Hm(i,o.targetId)})).catch(Cl)):(Hm(i,o.targetId),await zm(i.localStore,o.targetId,!0))}async function D4(r,e){const n=Ce(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),pg(n.remoteStore,i.targetId))}async function O4(r,e,n){const i=z4(r);try{const o=await(function(d,y){const v=Ce(d),p=ft.now(),w=y.reduce(((L,Q)=>L.add(Q.key)),He());let E,R;return v.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Q=pi(),se=He();return v.xs.getEntries(L,w).next((te=>{Q=te,Q.forEach(((de,me)=>{me.isValidDocument()||(se=se.add(de))}))})).next((()=>v.localDocuments.getOverlayedDocuments(L,Q))).next((te=>{E=te;const de=[];for(const me of y){const ne=KS(me,E.get(me.key).overlayedDocument);ne!=null&&de.push(new Sr(me.key,ne,qb(ne.value.mapValue),Zn.exists(!0)))}return v.mutationQueue.addMutationBatch(L,p,de,y)})).next((te=>{R=te;const de=te.applyToLocalDocumentSet(E,se);return v.documentOverlayCache.saveOverlays(L,te.batchId,de)}))})).then((()=>({batchId:R.batchId,changes:Wb(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let p=d.du[d.currentUser.toKey()];p||(p=new vt(qe)),p=p.insert(y,v),d.du[d.currentUser.toKey()]=p})(i,o.batchId,n),await pc(i,o.changes),await Gh(i.remoteStore)}catch(o){const u=xg(o,"Failed to persist write");n.reject(u)}}async function L1(r,e){const n=Ce(r);try{const i=await FN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?et(d.hu,14607):o.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await pc(n,i,e)}catch(i){await Cl(i)}}function __(r,e,n){const i=Ce(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((u,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Ce(d);v.onlineState=y;let p=!1;v.queries.forEach(((w,E)=>{for(const R of E.ba)R.va(y)&&(p=!0)})),p&&wg(v)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function V4(r,e,n){const i=Ce(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let d=new vt(xe.comparator);d=d.insert(u,on.newNoDocument(u,Se.min()));const y=He().add(u),v=new Hh(Se.min(),new Map,new vt(qe),d,y);await L1(i,v),i.Ru=i.Ru.remove(u),i.Au.delete(e),Eg(i)}else await zm(i.localStore,e,!1).then((()=>Hm(i,e,n))).catch(Cl)}async function k4(r,e){const n=Ce(r),i=e.batch.batchId;try{const o=await $N(n.localStore,e);U1(n,i,null),P1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await pc(n,o)}catch(o){await Cl(o)}}async function M4(r,e,n){const i=Ce(r);try{const o=await(function(d,y){const v=Ce(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let w;return v.mutationQueue.lookupMutationBatch(p,y).next((E=>(et(E!==null,37113),w=E.keys(),v.mutationQueue.removeMutationBatch(p,E)))).next((()=>v.mutationQueue.performConsistencyCheck(p))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(p,w,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,w))).next((()=>v.localDocuments.getDocuments(p,w)))}))})(i.localStore,e);U1(i,e,n),P1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await pc(i,o)}catch(o){await Cl(o)}}function P1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function U1(r,e,n){const i=Ce(r);let o=i.du[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Hm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||z1(r,i)}))}function z1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(pg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Eg(r))}function b_(r,e,n){for(const i of n)i instanceof V1?(r.Vu.addReference(i.key,e),L4(r,i)):i instanceof k1?(ue(Tg,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||z1(r,i.key)):Te(19791,{wu:i})}function L4(r,e){const n=e.key,i=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(i)||(ue(Tg,"New document in limbo: "+n),r.Eu.add(i),Eg(r))}function Eg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new xe(ut.fromString(e)),i=r.fu.next();r.Au.set(i,new S4(n)),r.Ru=r.Ru.insert(n,i),A1(r.remoteStore,new or(Ps(Ph(n.path)),i,"TargetPurposeLimboResolution",kh.ce))}}async function pc(r,e,n){const i=Ce(r),o=[],u=[],d=[];i.Tu.isEmpty()||(i.Tu.forEach(((y,v)=>{d.push(i.pu(v,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const w=p?!p.fromCache:n?.targetChanges.get(v.targetId)?.current;i.sharedClientState.updateQueryState(v.targetId,w?"current":"not-current")}if(p){o.push(p);const w=mg.Es(v.targetId,p);u.push(w)}})))})),await Promise.all(d),i.Pu.J_(o),await(async function(v,p){const w=Ce(v);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>W.forEach(p,(R=>W.forEach(R.Ts,(L=>w.persistence.referenceDelegate.addReference(E,R.targetId,L))).next((()=>W.forEach(R.Is,(L=>w.persistence.referenceDelegate.removeReference(E,R.targetId,L)))))))))}catch(E){if(!Rl(E))throw E;ue(gg,"Failed to update sequence numbers: "+E)}for(const E of p){const R=E.targetId;if(!E.fromCache){const L=w.vs.get(R),Q=L.snapshotVersion,se=L.withLastLimboFreeSnapshotVersion(Q);w.vs=w.vs.insert(R,se)}}})(i.localStore,u))}async function P4(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){ue(Tg,"User change. New user:",e.toKey());const i=await x1(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((y=>{y.forEach((v=>{v.reject(new ce(Z.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await pc(n,i.Ns)}}function U4(r,e){const n=Ce(r),i=n.Au.get(e);if(i&&i.hu)return He().add(i.key);{let o=He();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const y=n.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function B1(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=L1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V4.bind(null,e),e.Pu.J_=w4.bind(null,e.eventManager),e.Pu.yu=T4.bind(null,e.eventManager),e}function z4(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M4.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HN(this.persistence,new zN,e.initialUser,this.serializer)}Cu(e){return new b1(fg.Vi,this.serializer)}Du(e){return new XN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class B4 extends Th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof xh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new AN(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new b1((i=>xh.Vi(i,n)),this.serializer)}}class $m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>__(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=P4.bind(null,this.syncEngine),await _4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new x4})()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),i=t4(e.databaseInfo);return a4(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,u,d,y){return new o4(i,o,u,d,y)})(this.localStore,this.datastore,e.asyncQueue,(n=>__(this.syncEngine,n,0)),(function(){return f_.v()?new f_:new JN})())}createSyncEngine(e,n){return(function(o,u,d,y,v,p,w){const E=new N4(o,u,d,y,v,p);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ce(n);ue(ua,"RemoteStore shutting down."),i.Ea.add(5),await gc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$m.provider={build:()=>new $m};class q1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const wr="FirestoreClient";class q4{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async d=>{ue(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(ue(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=xg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function pm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(wr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await x1(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function x_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await H4(r);ue(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>g_(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>g_(e.remoteStore,o))),r._onlineComponents=e}async function H4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(wr,"Using user provided OfflineComponentProvider");try{await pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await pm(r,new Th)}}else ue(wr,"Using default OfflineComponentProvider"),await pm(r,new B4(void 0));return r._offlineComponents}async function H1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(wr,"Using user provided OnlineComponentProvider"),await x_(r,r._uninitializedComponentsProvider._online)):(ue(wr,"Using default OnlineComponentProvider"),await x_(r,new $m))),r._onlineComponents}function $4(r){return H1(r).then((e=>e.syncEngine))}async function Fm(r){const e=await H1(r),n=e.eventManager;return n.onListen=C4.bind(null,e.syncEngine),n.onUnlisten=j4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=R4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D4.bind(null,e.syncEngine),n}function F4(r,e,n,i){const o=new q1(i),u=new O1(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>j1(await Fm(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>D1(await Fm(r),u)))}}function G4(r,e,n={}){const i=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,y,v,p){const w=new q1({next:R=>{w.Nu(),d.enqueueAndForget((()=>D1(u,E)));const L=R.docs.has(y);!L&&R.fromCache?p.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&R.fromCache&&v&&v.source==="server"?p.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(R)},error:R=>p.reject(R)}),E=new O1(Ph(y.path),w,{includeMetadataChanges:!0,Ka:!0});return j1(u,E)})(await Fm(r),r.asyncQueue,e,n,i))),i.promise}function K4(r,e){const n=new mr;return r.asyncQueue.enqueueAndForget((async()=>O4(await $4(r),e,n))),n.promise}function $1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Q4="ComponentProvider",w_=new Map;function Y4(r,e,n,i,o){return new gS(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,$1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}const F1="firestore.googleapis.com",T_=!0;class E_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=F1,this.ssl=T_}else this.host=e.host,this.ssl=e.ssl??T_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TN)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new QA;switch(i.type){case"firstParty":return new ZA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=w_.get(n);i&&(ue(Q4,"Removing Datastore"),w_.delete(n),i.terminate())})(this),Promise.resolve()}}function X4(r,e,n,i={}){r=Jn(r,Kh);const o=Al(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${n}`;o&&(gb(`https://${y}`),pb("Firestore",!0)),u.host!==F1&&u.host!==y&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:y,ssl:o,emulatorOptions:i};if(!aa(v,d)&&(r._setSettings(v),i.mockUserToken)){let p,w;if(typeof i.mockUserToken=="string")p=i.mockUserToken,w=ln.MOCK_USER;else{p=vE(i.mockUserToken,r._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ln(E)}r._authCredentials=new YA(new Ib(p,w))}}class ma{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class Et{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(hc(n,Et._jsonSchema))return new Et(e,i||null,new xe(ut.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Ut("string",Et._jsonSchemaVersion),referencePath:Ut("string")};class gr extends ma{constructor(e,n,i){super(e,n,Ph(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new xe(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function hi(r,e,...n){if(r=un(r),jb("collection","path",e),r instanceof Kh){const i=ut.fromString(e,...n);return Lv(i),new gr(r,null,i)}{if(!(r instanceof Et||r instanceof gr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ut.fromString(e,...n));return Lv(i),new gr(r.firestore,null,i)}}function Wt(r,e,...n){if(r=un(r),arguments.length===1&&(e=tg.newId()),jb("doc","path",e),r instanceof Kh){const i=ut.fromString(e,...n);return Mv(i),new Et(r,null,new xe(i))}{if(!(r instanceof Et||r instanceof gr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ut.fromString(e,...n));return Mv(i),new Et(r.firestore,r instanceof gr?r.converter:null,new xe(i))}}const A_="AsyncQueue";class S_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T1(this,"async_queue_retry"),this._c=()=>{const i=gm();i&&ue(A_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Rl(e))throw e;ue(A_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,gi("INTERNAL UNHANDLED ERROR: ",N_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=bg.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:N_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function N_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Tr extends Kh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new S_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S_(e),this._firestoreClient=void 0,await e}}}function J4(r,e){const n=typeof r=="object"?r:bb(),i=typeof r=="string"?r:mh,o=Wm(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=pE("firestore");u&&X4(o,...u)}return o}function Ag(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Z4(r),r._firestoreClient}function Z4(r){const e=r._freezeSettings(),n=Y4(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new q4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(nn.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ut("string",Xn._jsonSchemaVersion),bytes:Ut("string")};class Sg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qh{constructor(e){this._methodName=e}}class zs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zs._jsonSchemaVersion}}static fromJSON(e){if(hc(e,zs._jsonSchema))return new zs(e.latitude,e.longitude)}}zs._jsonSchemaVersion="firestore/geoPoint/1.0",zs._jsonSchema={type:Ut("string",zs._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class fs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fs(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fs._jsonSchemaVersion="firestore/vectorValue/1.0",fs._jsonSchema={type:Ut("string",fs._jsonSchemaVersion),vectorValues:Ut("object")};const W4=/^__.*__$/;class e5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new fc(e,this.data,n,this.fieldTransforms)}}class G1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function K1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:r})}}class Ng{constructor(e,n,i,o,u,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Eh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(K1(this.dataSource)&&W4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class t5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||$h(e)}createContext(e,n,i,o=!1){return new Ng({dataSource:e,methodName:n,targetDoc:i,path:tn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yh(r){const e=r._freezeSettings(),n=$h(r._databaseId);return new t5(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Q1(r,e,n,i,o,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Rg("Data must be an object, but it was:",d,i);const y=Y1(i,d);let v,p;if(u.merge)v=new kn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const w=[];for(const E of u.mergeFields){const R=ac(e,E,n);if(!d.contains(R))throw new ce(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Z1(w,R)||w.push(R)}v=new kn(w),p=d.fieldTransforms.filter((E=>v.covers(E.field)))}else v=null,p=d.fieldTransforms;return new e5(new Tn(y),v,p)}class Xh extends Qh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}class Cg extends Qh{_toFieldTransform(e){return new HS(e.path,new sc)}isEqual(e){return e instanceof Cg}}function n5(r,e,n,i){const o=r.createContext(1,e,n);Rg("Data must be an object, but it was:",o,i);const u=[],d=Tn.empty();Ar(i,((v,p)=>{const w=J1(e,v,n);p=un(p);const E=o.childContextForFieldPath(w);if(p instanceof Xh)u.push(w);else{const R=yc(p,E);R!=null&&(u.push(w),d.set(w,R))}}));const y=new kn(u);return new G1(d,y,o.fieldTransforms)}function s5(r,e,n,i,o,u){const d=r.createContext(1,e,n),y=[ac(e,i,n)],v=[o];if(u.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)y.push(ac(e,u[R])),v.push(u[R+1]);const p=[],w=Tn.empty();for(let R=y.length-1;R>=0;--R)if(!Z1(p,y[R])){const L=y[R];let Q=v[R];Q=un(Q);const se=d.childContextForFieldPath(L);if(Q instanceof Xh)p.push(L);else{const te=yc(Q,se);te!=null&&(p.push(L),w.set(L,te))}}const E=new kn(p);return new G1(w,E,d.fieldTransforms)}function i5(r,e,n,i=!1){return yc(n,r.createContext(i?4:3,e))}function yc(r,e){if(X1(r=un(r)))return Rg("Unsupported field value:",e,r),Y1(r,e);if(r instanceof Qh)return(function(i,o){if(!K1(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const u=[];let d=0;for(const y of i){let v=yc(y,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),d++}return{arrayValue:{values:u}}})(r,e)}return(function(i,o){if((i=un(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=ft.fromDate(i);return{timestampValue:bh(o.serializer,u)}}if(i instanceof ft){const u=new ft(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(i instanceof zs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xn)return{bytesValue:h1(o.serializer,i._byteString)};if(i instanceof Et){const u=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof fs)return(function(d,y){const v=d instanceof fs?d.toArray():d;return{mapValue:{fields:{[zb]:{stringValue:Bb},[gh]:{arrayValue:{values:v.map((w=>{if(typeof w!="number")throw y.createError("VectorValues must only contain numeric values.");return lg(y.serializer,w)}))}}}}}})(i,o);if(v1(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Vh(i)}`)})(r,e)}function Y1(r,e){const n={};return Vb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(r,((i,o)=>{const u=yc(o,e.childContextForField(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function X1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ft||r instanceof zs||r instanceof Xn||r instanceof Et||r instanceof Qh||r instanceof fs||v1(r))}function Rg(r,e,n){if(!X1(n)||!Db(n)){const i=Vh(n);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function ac(r,e,n){if((e=un(e))instanceof Sg)return e._internalPath;if(typeof e=="string")return J1(r,e);throw Eh("Field path arguments must be of type string or ",r,!1,void 0,n)}const r5=new RegExp("[~\\*/\\[\\]]");function J1(r,e,n){if(e.search(r5)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Sg(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Eh(r,e,n,i,o){const u=i&&!i.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${i}`),d&&(v+=` in document ${o}`),v+=")"),new ce(Z.INVALID_ARGUMENT,y+r+v)}function Z1(r,e){return r.some((n=>n.isEqual(e)))}class a5{convertValue(e,n="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ar(e,((o,u)=>{i[o]=this.convertValue(u,n)})),i}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((i=>Ct(i.doubleValue)));return new fs(n)}convertGeoPoint(e){return new zs(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Lh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=vr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);et(y1(i),9688,{name:e});const o=new tc(i.get(1),i.get(3)),u=new xe(i.popFirst(5));return o.isEqual(n)||gi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class W1 extends a5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function Uo(){return new Cg("serverTimestamp")}const C_="@firebase/firestore",R_="4.11.0";function I_(r){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of i)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ex{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ac("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l5 extends ex{data(){return super.data()}}function o5(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class tx extends Ig{}function il(r,e,...n){let i=[];e instanceof Ig&&i.push(e),i=i.concat(n),(function(u){const d=u.filter((v=>v instanceof Dg)).length,y=u.filter((v=>v instanceof jg)).length;if(d>1||d>0&&y>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class jg extends tx{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new jg(e,n,i)}_apply(e){const n=this._parse(e);return nx(e._query,n),new ma(e.firestore,e.converter,km(e._query,n))}_parse(e){const n=Yh(e.firestore);return(function(u,d,y,v,p,w,E){let R;if(p.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){D_(E,w);const Q=[];for(const se of E)Q.push(j_(v,u,se));R={arrayValue:{values:Q}}}else R=j_(v,u,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||D_(E,w),R=i5(y,d,E,w==="in"||w==="not-in");return Pt.create(p,w,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Dg extends Ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:ms.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const y=u.getFlattenedFilters();for(const v of y)nx(d,v),d=km(d,v)})(e._query,n),new ma(e.firestore,e.converter,km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Og extends tx{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Og(e,n,i)}_apply(e){return new ma(e.firestore,e.converter,vh(e._query,this._limit,this._limitType))}}function c5(r){return Og._create("limit",r,"F")}function j_(r,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yb(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!xe.isDocumentKey(i))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Fv(r,new xe(i))}if(n instanceof Et)return Fv(r,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function D_(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nx(r,e){const n=(function(o,u){for(const d of o)for(const y of d.getFlattenedFilters())if(u.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function sx(r,e,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,i}class Ho{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends ex{constructor(e,n,i,o,u,d){super(e,n,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ac("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Ut("string",ra._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class ih extends ra{data(e={}){return super.data(e)}}class fl{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ho(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new ih(this._firestore,this._userDataWriter,i.key,i,new Ho(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new ih(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ho(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const v=new ih(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ho(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,w=-1;return y.type!==0&&(p=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),w=d.indexOf(y.doc.key)),{type:u5(y.type),doc:v,oldIndex:p,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function u5(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:Ut("string",fl._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};function h5(r){r=Jn(r,Et);const e=Jn(r.firestore,Tr),n=Ag(e);return G4(n,r._key).then((i=>rx(e,r,i)))}function Vn(r,e,n){r=Jn(r,Et);const i=Jn(r.firestore,Tr),o=sx(r.converter,e,n),u=Yh(i);return Jh(i,[Q1(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Zn.none())])}function d5(r,e,n,...i){r=Jn(r,Et);const o=Jn(r.firestore,Tr),u=Yh(o);let d;return d=typeof(e=un(e))=="string"||e instanceof Sg?s5(u,"updateDoc",r._key,e,n,i):n5(u,"updateDoc",r._key,e),Jh(o,[d.toMutation(r._key,Zn.exists(!0))])}function Ah(r){return Jh(Jn(r.firestore,Tr),[new og(r._key,Zn.none())])}function ix(r,e){const n=Jn(r.firestore,Tr),i=Wt(r),o=sx(r.converter,e),u=Yh(r.firestore);return Jh(n,[Q1(u,"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,Zn.exists(!1))]).then((()=>i))}function rl(r,...e){r=un(r);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||I_(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(I_(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let u,d,y;if(r instanceof Et)d=Jn(r.firestore,Tr),y=Ph(r._key.path),u={next:p=>{e[i]&&e[i](rx(d,r,p))},error:e[i+1],complete:e[i+2]};else{const p=Jn(r,ma);d=Jn(p.firestore,Tr),y=p._query;const w=new W1(d);u={next:E=>{e[i]&&e[i](new fl(d,w,p,E))},error:e[i+1],complete:e[i+2]},o5(r._query)}const v=Ag(d);return F4(v,y,o,u)}function Jh(r,e){const n=Ag(r);return K4(n,e)}function rx(r,e,n){const i=n.docs.get(e._key),o=new W1(r);return new ra(r,o,e._key,i,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){KA(Sl),_l(new la("firestore",((i,{instanceIdentifier:o,options:u})=>{const d=i.getProvider("app").getImmediate(),y=new Tr(new XA(i.getProvider("auth-internal")),new WA(d,i.getProvider("app-check-internal")),pS(d,o),d);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),dr(C_,R_,e),dr(C_,R_,"esm2020")})();function ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f5=ax,lx=new cc("auth","Firebase",ax());const Sh=new Jm("@firebase/auth");function m5(r,...e){Sh.logLevel<=Be.WARN&&Sh.warn(`Auth (${Sl}): ${r}`,...e)}function rh(r,...e){Sh.logLevel<=Be.ERROR&&Sh.error(`Auth (${Sl}): ${r}`,...e)}function yi(r,...e){throw Vg(r,...e)}function Bs(r,...e){return Vg(r,...e)}function ox(r,e,n){const i={...f5(),[e]:n};return new cc("auth","Firebase",i).create(e,{appName:r.name})}function pr(r){return ox(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vg(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return lx.create(r,...e)}function Ee(r,e,...n){if(!r)throw Vg(e,...n)}function di(r){const e="INTERNAL ASSERTION FAILED: "+r;throw rh(e),new Error(e)}function vi(r,e){r||di(e)}function Gm(){return typeof self<"u"&&self.location?.href||""}function g5(){return O_()==="http:"||O_()==="https:"}function O_(){return typeof self<"u"&&self.location?.protocol||null}function p5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g5()||EE()||"connection"in navigator)?navigator.onLine:!0}function y5(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,vi(n>e,"Short delay should be less than long delay!"),this.isMobile=xE()||AE()}get(){return p5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kg(r,e){vi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class cx{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const v5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b5=new vc(3e4,6e4);function Zh(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function jl(r,e,n,i,o={}){return ux(r,o,async()=>{let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});const y=uc({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:v,...u};return TE()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Al(r.emulatorConfig.host)&&(p.credentials="include"),cx.fetch()(await dx(r,r.config.apiHost,n,y),p)})}async function ux(r,e,n){r._canInitEmulator=!1;const i={...v5,...e};try{const o=new x5(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Xu(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const y=u.ok?d.errorMessage:d.error.message,[v,p]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xu(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Xu(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Xu(r,"user-disabled",d);const w=i[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ox(r,w,p);yi(r,w)}}catch(o){if(o instanceof _i)throw o;yi(r,"network-request-failed",{message:String(o)})}}async function hx(r,e,n,i,o={}){const u=await jl(r,e,n,i,o);return"mfaPendingCredential"in u&&yi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function dx(r,e,n,i){const o=`${e}${n}?${i}`,u=r,d=u.config.emulator?kg(r.config,o):`${r.config.apiScheme}://${o}`;return _5.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class x5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Bs(this.auth,"network-request-failed")),b5.get())})}}function Xu(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Bs(r,e,i);return o.customData._tokenResponse=n,o}async function w5(r,e){return jl(r,"POST","/v1/accounts:delete",e)}async function Nh(r,e){return jl(r,"POST","/v1/accounts:lookup",e)}function Xo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T5(r,e=!1){const n=un(r),i=await n.getIdToken(e),o=Mg(i);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:i,authTime:Xo(ym(o.auth_time)),issuedAtTime:Xo(ym(o.iat)),expirationTime:Xo(ym(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ym(r){return Number(r)*1e3}function Mg(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=hb(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function V_(r){const e=Mg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function lc(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof _i&&E5(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function E5({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class A5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(r){const e=r.auth,n=await r.getIdToken(),i=await lc(r,Nh(e,{idToken:n}));Ee(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?fx(o.providerUserInfo):[],d=N5(r.providerData,u),y=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,p=y?v:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,w)}async function S5(r){const e=un(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N5(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function fx(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function C5(r,e){const n=await ux(r,{},async()=>{const i=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await dx(r,o,"/v1/token",`key=${u}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:i};return r.emulatorConfig&&Al(r.emulatorConfig.host)&&(v.credentials="include"),cx.fetch()(d,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R5(r,e){return jl(r,"POST","/v2/accounts:revokeToken",Zh(r,e))}class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=V_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await C5(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,d=new ml;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return di("not implemented")}}function sr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ds{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new A5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await lc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T5(this,e)}reload(){return S5(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hs(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await lc(this,w5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,y=n.tenantId??void 0,v=n._redirectEventId??void 0,p=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:E,emailVerified:R,isAnonymous:L,providerData:Q,stsTokenManager:se}=n;Ee(E&&se,e,"internal-error");const te=ml.fromJSON(this.name,se);Ee(typeof E=="string",e,"internal-error"),sr(i,e.name),sr(o,e.name),Ee(typeof R=="boolean",e,"internal-error"),Ee(typeof L=="boolean",e,"internal-error"),sr(u,e.name),sr(d,e.name),sr(y,e.name),sr(v,e.name),sr(p,e.name),sr(w,e.name);const de=new ds({uid:E,auth:e,email:o,emailVerified:R,displayName:i,isAnonymous:L,photoURL:d,phoneNumber:u,tenantId:y,stsTokenManager:te,createdAt:p,lastLoginAt:w});return Q&&Array.isArray(Q)&&(de.providerData=Q.map(me=>({...me}))),v&&(de._redirectEventId=v),de}static async _fromIdTokenResponse(e,n,i=!1){const o=new ml;o.updateFromServerResponse(n);const u=new ds({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fx(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,y=new ml;y.updateFromIdToken(i);const v=new ds({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(v,p),v}}const k_=new Map;function fi(r){vi(r instanceof Function,"Expected a class definition");let e=k_.get(r);return e?(vi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,k_.set(r,e),e)}class mx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mx.type="NONE";const M_=mx;function ah(r,e,n){return`firebase:${r}:${e}:${n}`}class gl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?ds._fromGetAccountInfoResponse(this.auth,n,e):null}return ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new gl(fi(M_),e,i);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||fi(M_);const d=ah(i,e.config.apiKey,e.name);let y=null;for(const p of n)try{const w=await p._get(d);if(w){let E;if(typeof w=="string"){const R=await Nh(e,{idToken:w}).catch(()=>{});if(!R)break;E=await ds._fromGetAccountInfoResponse(e,R,w)}else E=ds._fromJSON(e,w);p!==u&&(y=E),u=p;break}}catch{}const v=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new gl(u,e,i):(u=v[0],y&&await u._set(d,y.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new gl(u,e,i))}}function L_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bx(e))return"Blackberry";if(xx(e))return"Webos";if(px(e))return"Safari";if((e.includes("chrome/")||yx(e))&&!e.includes("edge/"))return"Chrome";if(_x(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function gx(r=cn()){return/firefox\//i.test(r)}function px(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yx(r=cn()){return/crios\//i.test(r)}function vx(r=cn()){return/iemobile/i.test(r)}function _x(r=cn()){return/android/i.test(r)}function bx(r=cn()){return/blackberry/i.test(r)}function xx(r=cn()){return/webos/i.test(r)}function Lg(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function I5(r=cn()){return Lg(r)&&!!window.navigator?.standalone}function j5(){return SE()&&document.documentMode===10}function wx(r=cn()){return Lg(r)||_x(r)||xx(r)||bx(r)||/windows phone/i.test(r)||vx(r)}function Tx(r,e=[]){let n;switch(r){case"Browser":n=L_(cn());break;case"Worker":n=`${L_(cn())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sl}/${i}`}class D5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((d,y)=>{try{const v=e(u);d(v)}catch(v){y(v)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function O5(r,e={}){return jl(r,"GET","/v2/passwordPolicy",Zh(r,e))}const V5=6;class k5{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??V5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class M5{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P_(this),this.idTokenSubscription=new P_(this),this.beforeStateQueue=new D5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),i=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=i?._redirectEventId,y=await this.tryRedirectSignIn(e);(!u||u===d)&&y?.user&&(i=y.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hs(this.app))return Promise.reject(pr(this));const n=e?un(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hs(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hs(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O5(this),n=new k5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await R5(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(y,this,"internal-error"),y.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const v=e.addObserver(n,i,o);return()=>{d=!0,v()}}else{const v=e.addObserver(n);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&m5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wh(r){return un(r)}class P_{constructor(e){this.auth=e,this.observer=null,this.addObserver=VE(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L5(r){Pg=r}function P5(r){return Pg.loadJS(r)}function U5(){return Pg.gapiScript}function z5(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function B5(r,e){const n=Wm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(aa(u,e??{}))return o;yi(o,"already-initialized")}return n.initialize({options:e})}function q5(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(fi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function H5(r,e,n){const i=Wh(r);Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=Ex(e),{host:d,port:y}=$5(e),v=y===null?"":`:${y}`,p={url:`${u}//${d}${v}/`},w=Object.freeze({host:d,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ee(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ee(aa(p,i.config.emulator)&&aa(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,Al(d)?(gb(`${u}//${d}${v}`),pb("Auth",!0)):F5()}function Ex(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function $5(r){const e=Ex(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:U_(i.substr(u.length+1))}}else{const[u,d]=i.split(":");return{host:u,port:U_(d)}}}function U_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function F5(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ax{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function pl(r,e){return hx(r,"POST","/v1/accounts:signInWithIdp",Zh(r,e))}const G5="http://localhost";class ha extends Ax{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const d=new ha(i,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return pl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,pl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pl(e,n)}buildRequest(){const e={requestUri:G5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uc(n)}return e}}class Sx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _c extends Sx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ir extends _c{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class rr extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return rr.credential(n,i)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends _c{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class lr extends _c{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return lr.credential(n,i)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function K5(r,e){return hx(r,"POST","/v1/accounts:signUp",Zh(r,e))}class Er{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await ds._fromIdTokenResponse(e,i,o),d=z_(i);return new Er({user:u,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=z_(i);return new Er({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function z_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Q5(r){if(hs(r.app))return Promise.reject(pr(r));const e=Wh(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Er({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await K5(e,{returnSecureToken:!0}),i=await Er._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(i.user),i}class Rh extends _i{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Rh(e,n,i,o)}}function Nx(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(r,u,e,i):u})}async function Y5(r,e,n=!1){const i=await lc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Er._forOperation(r,"link",i)}async function X5(r,e,n=!1){const{auth:i}=r;if(hs(i.app))return Promise.reject(pr(i));const o="reauthenticate";try{const u=await lc(r,Nx(i,o,e,r),n);Ee(u.idToken,i,"internal-error");const d=Mg(u.idToken);Ee(d,i,"internal-error");const{sub:y}=d;return Ee(r.uid===y,i,"user-mismatch"),Er._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&yi(i,"user-mismatch"),u}}async function J5(r,e,n=!1){if(hs(r.app))return Promise.reject(pr(r));const i="signIn",o=await Nx(r,i,e),u=await Er._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(u.user),u}function Z5(r,e,n,i){return un(r).onIdTokenChanged(e,n,i)}function W5(r,e,n){return un(r).beforeAuthStateChanged(e,n)}const Ih="__sak";class Cx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eC=1e3,tC=10;class Rx extends Cx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},u=this.storage.getItem(i);j5()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tC):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},eC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rx.type="LOCAL";const nC=Rx;class Ix extends Cx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ix.type="SESSION";const jx=Ix;function sC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new ed(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const y=Array.from(d).map(async p=>p(n.origin,u)),v=await sC(y);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:v})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ed.receivers=[];function Ug(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class iC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((y,v)=>{const p=Ug("",20);o.port1.start();const w=setTimeout(()=>{v(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(E){const R=E;if(R.data.eventId===p)switch(R.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(R.data.response);break;default:clearTimeout(w),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qs(){return window}function rC(r){qs().location.href=r}function Dx(){return typeof qs().WorkerGlobalScope<"u"&&typeof qs().importScripts=="function"}async function aC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lC(){return navigator?.serviceWorker?.controller||null}function oC(){return Dx()?self:null}const Ox="firebaseLocalStorageDb",cC=1,jh="firebaseLocalStorage",Vx="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function td(r,e){return r.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function uC(){const r=indexedDB.deleteDatabase(Ox);return new bc(r).toPromise()}function Qm(){const r=indexedDB.open(Ox,cC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(jh,{keyPath:Vx})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(jh)?e(i):(i.close(),await uC(),e(await Qm()))})})}async function B_(r,e,n){const i=td(r,!0).put({[Vx]:e,value:n});return new bc(i).toPromise()}async function hC(r,e){const n=td(r,!1).get(e),i=await new bc(n).toPromise();return i===void 0?null:i.value}function q_(r,e){const n=td(r,!0).delete(e);return new bc(n).toPromise()}const dC=800,fC=3;class kx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>fC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ed._getInstance(oC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aC(),!this.activeServiceWorker)return;this.sender=new iC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await B_(e,Ih,"1"),await q_(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>B_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>hC(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=td(o,!1).getAll();return new bc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kx.type="LOCAL";const mC=kx;new vc(3e4,6e4);function gC(r,e){return e?fi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class zg extends Ax{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pC(r){return J5(r.auth,new zg(r),r.bypassAuthState)}function yC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),X5(n,new zg(r),r.bypassAuthState)}async function vC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),Y5(n,new zg(r),r.bypassAuthState)}class Mx{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pC;case"linkViaPopup":case"linkViaRedirect":return vC;case"reauthViaPopup":case"reauthViaRedirect":return yC;default:yi(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _C=new vc(2e3,1e4);class ul extends Mx{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_C.get())};e()}}ul.currentPopupAction=null;const bC="pendingRedirect",lh=new Map;class xC extends Mx{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const i=await wC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wC(r,e){const n=AC(e),i=EC(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function TC(r,e){lh.set(r._key(),e)}function EC(r){return fi(r._redirectPersistence)}function AC(r){return ah(bC,r.config.apiKey,r.name)}async function SC(r,e,n=!1){if(hs(r.app))return Promise.reject(pr(r));const i=Wh(r),o=gC(i,e),d=await new xC(i,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}const NC=600*1e3;class CC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Lx(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NC&&this.cachedEventUids.clear(),this.cachedEventUids.has(H_(e))}saveEventToCache(e){this.cachedEventUids.add(H_(e)),this.lastProcessedEventTime=Date.now()}}function H_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Lx({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function RC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lx(r);default:return!1}}async function IC(r,e={}){return jl(r,"GET","/v1/projects",e)}const jC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DC=/^https?/;async function OC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await IC(r);for(const n of e)try{if(VC(n))return}catch{}yi(r,"unauthorized-domain")}function VC(r){const e=Gm(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!DC.test(n))return!1;if(jC.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const kC=new vc(3e4,6e4);function $_(){const r=qs().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function MC(r){return new Promise((e,n)=>{function i(){$_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$_(),n(Bs(r,"network-request-failed"))},timeout:kC.get()})}if(qs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qs().gapi?.load)i();else{const o=z5("iframefcb");return qs()[o]=()=>{gapi.load?i():n(Bs(r,"network-request-failed"))},P5(`${U5()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw oh=null,e})}let oh=null;function LC(r){return oh=oh||MC(r),oh}const PC=new vc(5e3,15e3),UC="__/auth/iframe",zC="emulator/auth/iframe",BC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HC(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?kg(e,zC):`https://${r.config.authDomain}/${UC}`,i={apiKey:e.apiKey,appName:r.name,v:Sl},o=qC.get(r.config.apiHost);o&&(i.eid=o);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${uc(i).slice(1)}`}async function $C(r){const e=await LC(r),n=qs().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:HC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BC,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const d=Bs(r,"network-request-failed"),y=qs().setTimeout(()=>{u(d)},PC.get());function v(){qs().clearTimeout(y),o(i)}i.ping(v).then(v,()=>{u(d)})}))}const FC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GC=500,KC=600,QC="_blank",YC="http://localhost";class F_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XC(r,e,n,i=GC,o=KC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let y="";const v={...FC,width:i.toString(),height:o.toString(),top:u,left:d},p=cn().toLowerCase();n&&(y=yx(p)?QC:n),gx(p)&&(e=e||YC,v.scrollbars="yes");const w=Object.entries(v).reduce((R,[L,Q])=>`${R}${L}=${Q},`,"");if(I5(p)&&y!=="_self")return JC(e||"",y),new F_(null);const E=window.open(e||"",y,w);Ee(E,r,"popup-blocked");try{E.focus()}catch{}return new F_(E)}function JC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const ZC="__/auth/handler",WC="emulator/auth/handler",eR=encodeURIComponent("fac");async function G_(r,e,n,i,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:Sl,eventId:o};if(e instanceof Sx){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",OE(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))d[w]=E}if(e instanceof _c){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(d.scopes=w.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const w of Object.keys(y))y[w]===void 0&&delete y[w];const v=await r._getAppCheckToken(),p=v?`#${eR}=${encodeURIComponent(v)}`:"";return`${tR(r)}?${uc(y).slice(1)}${p}`}function tR({config:r}){return r.emulator?kg(r,WC):`https://${r.authDomain}/${ZC}`}const vm="webStorageSupport";class nR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jx,this._completeRedirectFn=SC,this._overrideRedirectResult=TC}async _openPopup(e,n,i,o){vi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await G_(e,n,i,Gm(),o);return XC(e,u,Ug())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await G_(e,n,i,Gm(),o);return rC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(vi(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await $C(e),i=new CC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vm,{type:vm},o=>{const u=o?.[0]?.[vm];u!==void 0&&n(!!u),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wx()||px()||Lg()}}const sR=nR;var K_="@firebase/auth",Q_="1.12.0";class iR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aR(r){_l(new la("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=i.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const v={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tx(r)},p=new M5(i,o,u,v);return q5(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_l(new la("auth-internal",e=>{const n=Wh(e.getProvider("auth").getImmediate());return(i=>new iR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(K_,Q_,rR(r)),dr(K_,Q_,"esm2020")}const lR=300,oR=mb("authIdTokenMaxAge")||lR;let Y_=null;const cR=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>oR)return;const o=n?.token;Y_!==o&&(Y_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uR(r=bb()){const e=Wm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=B5(r,{popupRedirectResolver:sR,persistence:[mC,nC,jx]}),i=mb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const d=cR(u.toString());W5(n,d,()=>d(n.currentUser)),Z5(n,y=>d(y))}}const o=db("auth");return o&&H5(n,`http://${o}`),n}function hR(){return document.getElementsByTagName("head")?.[0]??document}L5({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const u=Bs("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",hR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aR("Browser");const dR={apiKey:"AIzaSyBT93hmr81TT_-KltaYxcYwms_xKxg3c1I",authDomain:"medivend-a3d51.firebaseapp.com",projectId:"medivend-a3d51",storageBucket:"medivend-a3d51.firebasestorage.app",messagingSenderId:"743343498567",appId:"1:743343498567:web:2d50fb42346f31350d1862"},Px=_b(dR),wt=J4(Px),fR=uR(Px),Tt="medivend-local",_m={username:"admin",password:"admin123",email:"admin@medivend.com",displayName:"System Administrator",photoUrl:"image_3f1ac4.png",recentLogins:[]},Bg=()=>(le.useEffect(()=>{const r=document.createElement("style");return r.textContent=`
      @import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap');
      
      * { box-sizing: border-box; }
      
      :root {
        --accent: #6366f1;
        --accent-glow: rgba(99,102,241,0.4);
        --emerald-glow: rgba(16,185,129,0.4);
        --rose-glow: rgba(244,63,94,0.4);
        --amber-glow: rgba(245,158,11,0.4);
      }

      body { font-family: 'Inter', sans-serif; }

      .font-display { font-family: 'Syne', sans-serif !important; }
      .font-mono { font-family: 'JetBrains Mono', monospace !important; }

      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-8px); }
      }
      @keyframes pulse-ring {
        0% { transform: scale(1); opacity: 1; }
        100% { transform: scale(2.5); opacity: 0; }
      }
      @keyframes shimmer {
        0% { background-position: -1000px 0; }
        100% { background-position: 1000px 0; }
      }
      @keyframes gradient-shift {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
      }
      @keyframes slide-up {
        from { opacity: 0; transform: translateY(24px); }
        to { opacity: 1; transform: translateY(0); }
      }
      @keyframes slide-right {
        from { opacity: 0; transform: translateX(-24px); }
        to { opacity: 1; transform: translateX(0); }
      }
      @keyframes scale-in {
        from { opacity: 0; transform: scale(0.9); }
        to { opacity: 1; transform: scale(1); }
      }
      @keyframes counter-up {
        from { transform: translateY(100%); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }
      @keyframes radar-sweep {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      @keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.3; }
      }
      @keyframes data-flow {
        0% { transform: translateY(-100%); opacity: 0; }
        50% { opacity: 1; }
        100% { transform: translateY(100%); opacity: 0; }
      }
      @keyframes neon-pulse {
        0%, 100% { box-shadow: 0 0 5px var(--accent-glow), 0 0 10px var(--accent-glow); }
        50% { box-shadow: 0 0 15px var(--accent-glow), 0 0 30px var(--accent-glow), 0 0 45px var(--accent-glow); }
      }
      @keyframes spin-slow {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      @keyframes typewriter {
        from { width: 0; }
        to { width: 100%; }
      }
      @keyframes grid-move {
        0% { transform: translateY(0); }
        100% { transform: translateY(40px); }
      }

      .animate-float { animation: float 3s ease-in-out infinite; }
      .animate-pulse-ring { animation: pulse-ring 1.5s ease-out infinite; }
      .animate-shimmer { 
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
        background-size: 2000px 100%;
        animation: shimmer 2s infinite;
      }
      .animate-gradient { 
        background-size: 200% 200%;
        animation: gradient-shift 4s ease infinite;
      }
      .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
      .animate-slide-right { animation: slide-right 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
      .animate-scale-in { animation: scale-in 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
      .animate-radar { animation: radar-sweep 3s linear infinite; }
      .animate-blink { animation: blink 2s ease-in-out infinite; }
      .animate-spin-slow { animation: spin-slow 8s linear infinite; }
      .animate-neon { animation: neon-pulse 2s ease-in-out infinite; }
      
      .glass {
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
      }
      
      .glow-indigo { box-shadow: 0 0 20px rgba(99,102,241,0.3), 0 0 40px rgba(99,102,241,0.1); }
      .glow-emerald { box-shadow: 0 0 20px rgba(16,185,129,0.3), 0 0 40px rgba(16,185,129,0.1); }
      .glow-rose { box-shadow: 0 0 20px rgba(244,63,94,0.3), 0 0 40px rgba(244,63,94,0.1); }
      .glow-amber { box-shadow: 0 0 20px rgba(245,158,11,0.3), 0 0 40px rgba(245,158,11,0.1); }

      .btn-hover-lift {
        transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease;
      }
      .btn-hover-lift:hover {
        transform: translateY(-2px);
      }
      .btn-hover-lift:active {
        transform: translateY(0px) scale(0.98);
      }

      .card-hover {
        transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease, border-color 0.3s ease;
      }
      .card-hover:hover {
        transform: translateY(-4px) scale(1.01);
      }

      .nav-active-indicator {
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 3px;
        height: 60%;
        background: linear-gradient(180deg, #818cf8, #6366f1);
        border-radius: 0 4px 4px 0;
        box-shadow: 0 0 12px rgba(99,102,241,0.6);
      }

      .stat-number {
        font-family: 'Syne', sans-serif;
        font-variant-numeric: tabular-nums;
      }

      .table-row-hover {
        transition: background 0.15s ease;
      }

      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
      
      .custom-scrollbar::-webkit-scrollbar { width: 4px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(99,102,241,0.3); border-radius: 10px; }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(99,102,241,0.6); }

      .grid-bg {
        background-image: 
          linear-gradient(rgba(99,102,241,0.05) 1px, transparent 1px),
          linear-gradient(90deg, rgba(99,102,241,0.05) 1px, transparent 1px);
        background-size: 40px 40px;
      }

      .hexagon-bg {
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 2L58 17v26L30 58 2 43V17z' fill='none' stroke='rgba(99,102,241,0.06)' stroke-width='1'/%3E%3C/svg%3E");
        background-size: 60px 60px;
      }

      .noise-overlay {
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
      }
      
      input[type=number]::-webkit-inner-spin-button,
      input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }

      .progress-bar {
        transition: width 1.2s cubic-bezier(0.22, 1, 0.36, 1);
      }

      .ripple {
        position: relative;
        overflow: hidden;
      }
      .ripple::after {
        content: '';
        position: absolute;
        inset: 0;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        opacity: 0;
        transition: opacity 0.3s;
      }
      .ripple:hover::after {
        opacity: 1;
      }

      .stagger-1 { animation-delay: 0.05s; }
      .stagger-2 { animation-delay: 0.1s; }
      .stagger-3 { animation-delay: 0.15s; }
      .stagger-4 { animation-delay: 0.2s; }
      .stagger-5 { animation-delay: 0.25s; }
      .stagger-6 { animation-delay: 0.3s; }
      .stagger-7 { animation-delay: 0.35s; }
      .stagger-8 { animation-delay: 0.4s; }
    `,document.head.appendChild(r),()=>document.head.removeChild(r)},[]),null);function mR({value:r,duration:e=1e3}){const[n,i]=le.useState(0),o=le.useRef(0);return le.useEffect(()=>{const u=o.current,d=Number(r)||0,y=Date.now(),v=()=>{const p=Date.now()-y,w=Math.min(p/e,1),E=1-Math.pow(1-w,3);i(Math.round(u+(d-u)*E)),w<1?requestAnimationFrame(v):o.current=d};requestAnimationFrame(v)},[r]),m.jsx("span",{children:n})}function yl({color:r="emerald",size:e="sm"}){const n={emerald:"bg-emerald-500",rose:"bg-rose-500",amber:"bg-amber-500",indigo:"bg-indigo-500",slate:"bg-slate-500"},i={sm:"w-2 h-2",md:"w-3 h-3"};return m.jsxs("span",{className:"relative inline-flex",children:[m.jsx("span",{className:`${i[e]} ${n[r]} rounded-full`}),m.jsx("span",{className:`absolute inset-0 ${n[r]} rounded-full animate-ping opacity-75`})]})}function gR({id:r,label:e,icon:n,active:i,onClick:o,badge:u,isDarkMode:d}){return m.jsxs("button",{onClick:()=>o(r),className:`relative flex w-full items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 group ripple overflow-hidden ${i?d?"bg-gradient-to-r from-indigo-600/20 to-indigo-500/5 text-indigo-400 shadow-lg":"bg-gradient-to-r from-indigo-50 to-indigo-50/50 text-indigo-600":d?"text-slate-500 hover:bg-white/5 hover:text-slate-200":"text-slate-400 hover:bg-slate-100 hover:text-slate-700"}`,children:[i&&m.jsx("span",{className:"nav-active-indicator"}),m.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[m.jsx("div",{className:`transition-all duration-300 ${i?"scale-110":"group-hover:scale-105"}`,children:Z_.cloneElement(n,{className:`w-4.5 h-4.5 transition-colors ${i?"text-indigo-400":d?"text-slate-500 group-hover:text-slate-200":"text-slate-400 group-hover:text-slate-700"}`})}),m.jsx("span",{className:"font-display font-semibold text-xs uppercase tracking-widest",children:e})]}),m.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[u?m.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full text-white bg-indigo-600 animate-pulse shadow-lg shadow-indigo-500/30",children:u}):null,i&&m.jsx(tb,{className:"w-3.5 h-3.5 text-indigo-400 opacity-60"})]})]})}function pR({title:r,value:e,icon:n,color:i,subtext:o,onClick:u,isDarkMode:d,trend:y}){const p={amber:{bg:"bg-amber-500/10",text:"text-amber-400",border:"border-amber-500/20",glow:"hover:glow-amber",gradient:"from-amber-500/20 to-transparent"},blue:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/20",glow:"hover:glow-indigo",gradient:"from-blue-500/20 to-transparent"},emerald:{bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20",glow:"hover:glow-emerald",gradient:"from-emerald-500/20 to-transparent"},red:{bg:"bg-rose-500/10",text:"text-rose-400",border:"border-rose-500/20",glow:"hover:glow-rose",gradient:"from-rose-500/20 to-transparent"}}[i];return m.jsxs("div",{onClick:u,className:`relative p-5 rounded-2xl border cursor-pointer group card-hover overflow-hidden ${d?"bg-[#0d1424] border-white/5 hover:border-indigo-500/30":"bg-white border-gray-100 shadow-sm hover:shadow-lg hover:border-indigo-200"}`,children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${p.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),m.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${p.bg} rounded-full -translate-y-12 translate-x-12 group-hover:scale-110 transition-transform duration-500`}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:`inline-flex p-2.5 rounded-xl ${p.bg} ${p.border} border mb-4 transition-transform duration-300 group-hover:scale-110`,children:Z_.cloneElement(n,{className:`w-5 h-5 ${p.text}`})}),m.jsxs("div",{className:`font-display text-3xl font-bold mb-1 stat-number ${d?"text-white":"text-slate-900"}`,children:[m.jsx(mR,{value:typeof e=="string"?e.split("/")[0]:e}),typeof e=="string"&&e.includes("/")&&m.jsxs("span",{className:`text-lg ${d?"text-slate-500":"text-slate-400"}`,children:["/",e.split("/")[1]]})]}),m.jsx("p",{className:`font-semibold text-xs uppercase tracking-wider leading-tight ${d?"text-slate-400":"text-slate-500"}`,children:r}),o&&m.jsxs("p",{className:`text-[10px] mt-2 flex items-center gap-1 ${d?"text-slate-600":"text-slate-400"}`,children:[m.jsx("span",{className:"w-1 h-1 rounded-full bg-current"}),o]})]})]})}function X_({status:r}){const e={active:{cls:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",dot:"emerald"},pending:{cls:"bg-amber-500/10 text-amber-400 border-amber-500/20",dot:"amber"},rejected:{cls:"bg-rose-500/10 text-rose-400 border-rose-500/20",dot:"rose"}},n=e[r]||e.pending;return m.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border ${n.cls}`,children:[m.jsx(yl,{color:n.dot}),r]})}function J_({status:r}){const n={issued:{cls:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20"},partial:{cls:"bg-amber-500/10 text-amber-400 border-amber-500/20"},completed:{cls:"bg-slate-500/10 text-slate-400 border-slate-500/20"}}[r]||{cls:"bg-slate-500/10 text-slate-400 border-slate-500/20"};return m.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border ${n.cls}`,children:r})}function Ju({onClick:r,label:e,icon:n,variant:i,isDarkMode:o}){return i==="primary"?m.jsxs("button",{onClick:r,className:"w-full relative overflow-hidden flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-xs font-bold uppercase tracking-wider text-white bg-gradient-to-r from-indigo-600 to-indigo-500 btn-hover-lift glow-indigo ripple transition-all duration-200",children:[m.jsx("div",{className:"animate-shimmer absolute inset-0 opacity-30"}),n,e]}):m.jsxs("button",{onClick:r,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-xs font-bold uppercase tracking-wider btn-hover-lift ripple transition-all duration-200 border ${o?"bg-white/5 border-white/10 text-slate-300 hover:bg-white/10 hover:border-white/20":"bg-white border-gray-200 text-slate-600 hover:bg-gray-50 hover:border-gray-300 shadow-sm"}`,children:[n,e]})}function Dl({currentPage:r,totalPages:e,onPageChange:n,isDarkMode:i}){return e<=1?null:m.jsxs("div",{className:`flex justify-between items-center px-6 py-4 border-t ${i?"border-white/5":"border-gray-100"}`,children:[m.jsxs("span",{className:`font-mono text-[11px] ${i?"text-slate-600":"text-slate-400"}`,children:["PAGE ",m.jsx("span",{className:"text-indigo-400",children:r})," / ",e]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{disabled:r===1,onClick:()=>n(r-1),className:`flex items-center gap-1.5 px-3 py-1.5 text-[11px] font-bold rounded-lg border transition-all btn-hover-lift disabled:opacity-30 disabled:cursor-not-allowed ${i?"bg-white/5 border-white/10 text-slate-300 hover:bg-white/10":"bg-white border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:[m.jsx(P2,{className:"w-3 h-3"})," PREV"]}),m.jsxs("button",{disabled:r===e,onClick:()=>n(r+1),className:`flex items-center gap-1.5 px-3 py-1.5 text-[11px] font-bold rounded-lg border transition-all btn-hover-lift disabled:opacity-30 disabled:cursor-not-allowed ${i?"bg-white/5 border-white/10 text-slate-300 hover:bg-white/10":"bg-white border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:["NEXT ",m.jsx(tb,{className:"w-3 h-3"})]})]})]})}function Ol({children:r,isDarkMode:e}){const[n,i]=le.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:o=>{o.stopPropagation(),i(!n)},className:`p-2 rounded-lg transition-all duration-200 ${e?"text-slate-500 hover:bg-white/10 hover:text-slate-200":"text-slate-400 hover:bg-gray-100 hover:text-slate-600"}`,children:m.jsx(Z2,{className:"w-4 h-4"})}),n&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:o=>{o.stopPropagation(),i(!1)}}),m.jsx("div",{className:`absolute right-0 top-10 w-52 rounded-2xl shadow-2xl border z-20 flex flex-col p-2 gap-0.5 animate-scale-in glass ${e?"bg-[#1a2234] border-white/10":"bg-white border-gray-100 shadow-xl"}`,children:r})]})]})}function qg({isOpen:r,onClose:e,onConfirm:n,title:i,message:o,type:u="info",confirmText:d="Confirm",isLoading:y=!1,isDarkMode:v}){return r?m.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:m.jsxs("div",{className:`w-full max-w-sm rounded-3xl border overflow-hidden shadow-2xl animate-scale-in ${u==="danger"?v?"bg-[#1a1020] border-rose-500/20":"bg-white border-rose-100":v?"bg-[#0f1829] border-indigo-500/20":"bg-white border-indigo-100"}`,children:[m.jsxs("div",{className:"p-8 text-center",children:[m.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[m.jsx("div",{className:`absolute inset-0 rounded-2xl opacity-30 animate-pulse ${u==="danger"?"bg-rose-500":"bg-indigo-500"}`}),m.jsx("div",{className:`relative w-full h-full rounded-2xl flex items-center justify-center ${u==="danger"?"bg-gradient-to-br from-rose-500 to-pink-600 shadow-lg shadow-rose-500/30":"bg-gradient-to-br from-indigo-500 to-blue-600 shadow-lg shadow-indigo-500/30"}`,children:u==="danger"?m.jsx(uh,{className:"w-8 h-8 text-white"}):m.jsx(bm,{className:"w-8 h-8 text-white"})})]}),m.jsx("h3",{className:`font-display text-xl font-bold mb-2 ${v?"text-white":"text-slate-900"}`,children:i}),m.jsx("p",{className:`text-sm leading-relaxed whitespace-pre-wrap ${v?"text-slate-400":"text-slate-500"}`,children:o})]}),m.jsxs("div",{className:`p-5 flex gap-3 border-t ${v?"bg-white/5 border-white/10":"bg-slate-50 border-slate-100"}`,children:[m.jsx("button",{onClick:e,disabled:y,className:`flex-1 py-3 text-sm font-bold rounded-xl border transition-all btn-hover-lift disabled:opacity-50 ${v?"text-slate-300 border-white/10 hover:bg-white/5":"text-slate-600 border-gray-200 hover:bg-white"}`,children:"Cancel"}),m.jsx("button",{onClick:n,disabled:y,className:`flex-1 flex justify-center items-center py-3 text-sm font-bold text-white rounded-xl shadow-lg transition-all active:scale-95 disabled:opacity-50 btn-hover-lift ${u==="danger"?"bg-gradient-to-r from-rose-500 to-pink-600 shadow-rose-500/30":"bg-gradient-to-r from-indigo-600 to-blue-600 shadow-indigo-500/30"}`,children:y?m.jsx(oc,{className:"w-4 h-4 animate-spin"}):d})]})]})}):null}function yR({onClose:r,currentCreds:e,onUpdate:n,isDarkMode:i,onNotify:o}){const[u,d]=le.useState({cur:"",new:"",conf:""}),[y,v]=le.useState({cur:!1,new:!1,conf:!1});return m.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:m.jsxs("div",{className:`p-8 rounded-3xl w-full max-w-sm shadow-2xl border animate-scale-in ${i?"bg-[#0f1829] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"p-2.5 rounded-xl bg-indigo-500/10 border border-indigo-500/20",children:m.jsx(cr,{className:"w-5 h-5 text-indigo-400"})}),m.jsx("h3",{className:`font-display font-bold text-lg ${i?"text-white":"text-slate-900"}`,children:"Change Password"})]}),m.jsx("div",{className:"space-y-3",children:["cur","new","conf"].map((p,w)=>m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:`text-[10px] font-bold uppercase tracking-widest mb-1.5 block ${i?"text-slate-500":"text-slate-400"}`,children:p==="cur"?"Current Password":p==="new"?"New Password":"Confirm Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:y[p]?"text":"password",placeholder:"",className:`w-full border pr-10 p-3 rounded-xl text-sm font-mono transition-all outline-none focus:ring-2 focus:ring-indigo-500/30 ${i?"border-white/10 bg-black/20 text-white focus:border-indigo-500/50":"border-gray-200 bg-gray-50 text-slate-900 focus:border-indigo-400"}`,value:u[p],onChange:E=>d({...u,[p]:E.target.value})}),m.jsx("button",{type:"button",onClick:()=>v(E=>({...E,[p]:!E[p]})),className:`absolute right-3 top-3 ${i?"text-slate-500 hover:text-slate-300":"text-slate-400 hover:text-slate-600"}`,children:y[p]?m.jsx(sb,{className:"w-4 h-4"}):m.jsx(ch,{className:"w-4 h-4"})})]})]},p))}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:r,className:`px-5 py-2.5 rounded-xl text-xs font-bold transition-all btn-hover-lift border ${i?"text-slate-300 border-white/10 hover:bg-white/5":"text-slate-600 border-gray-200 hover:bg-gray-50"}`,children:"Cancel"}),m.jsx("button",{onClick:()=>{if(u.cur!==e.password)return o("Wrong current password","error");if(u.new!==u.conf)return o("Passwords do not match","error");if(u.new.length<6)return o("Password too short","error");n(u.new)},className:"px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-500 text-white rounded-xl text-xs font-bold shadow-lg shadow-indigo-500/20 btn-hover-lift transition-all",children:"Update Password"})]})]})})}function vR({onClose:r,onSend:e,isDarkMode:n}){const[i,o]=le.useState(""),[u,d]=le.useState("normal"),[y,v]=le.useState("all"),[p,w]=le.useState(!1),E=async()=>{i.trim()&&(w(!0),await new Promise(R=>setTimeout(R,800)),e(i,u,y),w(!1))};return m.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:m.jsxs("div",{className:`w-full max-w-md rounded-3xl shadow-2xl border animate-scale-in overflow-hidden ${n?"bg-[#0f1829] border-white/10":"bg-white border-gray-200"}`,children:[m.jsx("div",{className:`p-6 border-b ${n?"border-white/5 bg-gradient-to-r from-indigo-900/20 to-transparent":"border-gray-100 bg-gradient-to-r from-indigo-50 to-transparent"}`,children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2.5 rounded-xl bg-indigo-500/10 border border-indigo-500/20",children:m.jsx(ib,{className:"w-5 h-5 text-indigo-400"})}),m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-lg ${n?"text-white":"text-slate-900"}`,children:"System Broadcast"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Send alerts to your network"})]})]}),m.jsx("button",{onClick:r,className:`p-2 rounded-xl transition-all ${n?"hover:bg-white/10 text-slate-400":"hover:bg-gray-100 text-slate-500"}`,children:m.jsx(vl,{className:"w-5 h-5"})})]})}),m.jsxs("div",{className:"p-6 space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:`text-[10px] font-bold uppercase tracking-widest mb-2 block ${n?"text-slate-500":"text-slate-400"}`,children:"Message"}),m.jsx("textarea",{autoFocus:!0,rows:"3",className:`w-full p-4 rounded-xl border text-sm outline-none resize-none transition-all focus:ring-2 focus:ring-indigo-500/30 ${n?"bg-black/20 border-white/10 text-white focus:border-indigo-500/50 placeholder-slate-600":"bg-gray-50 border-gray-200 text-slate-900 focus:border-indigo-400"}`,placeholder:"e.g., Scheduled maintenance Sunday at 12 PM...",value:i,onChange:R=>o(R.target.value)}),m.jsxs("p",{className:`text-[10px] mt-1 text-right ${n?"text-slate-600":"text-slate-400"}`,children:[i.length,"/500"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:`text-[10px] font-bold uppercase tracking-widest mb-2 block ${n?"text-slate-500":"text-slate-400"}`,children:"Target"}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"all",label:"All Network",icon:m.jsx(rT,{className:"w-4 h-4"}),color:"indigo"},{id:"doctors",label:"Doctors Only",icon:m.jsx(sa,{className:"w-4 h-4"}),color:"blue"},{id:"kiosks",label:"Kiosks Only",icon:m.jsx($o,{className:"w-4 h-4"}),color:"emerald"}].map(R=>m.jsxs("button",{onClick:()=>v(R.id),className:`flex flex-col items-center justify-center py-3 rounded-xl border transition-all btn-hover-lift ${y===R.id?R.color==="indigo"?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-500/20":R.color==="blue"?"bg-blue-600 text-white border-blue-600 shadow-lg shadow-blue-500/20":"bg-emerald-600 text-white border-emerald-600 shadow-lg shadow-emerald-500/20":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:[R.icon,m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide mt-1",children:R.label})]},R.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:`text-[10px] font-bold uppercase tracking-widest mb-2 block ${n?"text-slate-500":"text-slate-400"}`,children:"Priority"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>d("normal"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold border transition-all btn-hover-lift ${u==="normal"?"bg-slate-600 text-white border-slate-600":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:"Normal"}),m.jsx("button",{onClick:()=>d("high"),className:`flex-1 py-2.5 rounded-xl text-xs font-bold border transition-all btn-hover-lift ${u==="high"?"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-rose-500 shadow-lg shadow-rose-500/20":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:" High Priority"})]})]})]}),m.jsxs("div",{className:"px-6 pb-6 flex justify-end gap-3",children:[m.jsx("button",{onClick:r,className:`px-5 py-2.5 rounded-xl text-xs font-bold transition-all btn-hover-lift border ${n?"text-slate-300 border-white/10 hover:bg-white/5":"text-slate-600 border-gray-200 hover:bg-gray-50"}`,children:"Cancel"}),m.jsxs("button",{onClick:E,disabled:!i.trim()||p,className:"flex items-center gap-2 px-6 py-2.5 rounded-xl text-xs font-bold bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-500 hover:to-indigo-400 text-white disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-500/20 btn-hover-lift transition-all",children:[p?m.jsx(oc,{className:"w-3.5 h-3.5 animate-spin"}):m.jsx(BT,{className:"w-3.5 h-3.5"}),p?"Sending...":"Broadcast"]})]})]})})}function _R({transactions:r,isDarkMode:e}){const n={};r?.length>0&&r.forEach(d=>{(d.items||[]).forEach(y=>{const v=y.name||y.medicine||"Unknown",p=Number(y.qty||y.quantity||1);n[v]=(n[v]||0)+p})});const i=Object.entries(n).sort((d,y)=>y[1]-d[1]).slice(0,5),o=Math.max(...i.map(d=>d[1]),1),u=["from-indigo-500 to-violet-500","from-blue-500 to-cyan-400","from-emerald-500 to-teal-400","from-amber-500 to-orange-400","from-rose-500 to-pink-400"];return m.jsxs("div",{className:"space-y-5",children:[i.map(([d,y],v)=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${u[v]} inline-block`}),m.jsx("span",{className:`font-semibold ${e?"text-slate-300":"text-slate-700"}`,children:d})]}),m.jsx("span",{className:"font-mono font-bold text-indigo-400",children:y})]}),m.jsx("div",{className:`w-full h-2.5 rounded-full overflow-hidden ${e?"bg-white/5":"bg-gray-100"}`,children:m.jsx("div",{className:`h-full bg-gradient-to-r ${u[v]} rounded-full progress-bar shadow-sm`,style:{width:`${y/o*100}%`}})})]},v)),i.length===0&&m.jsxs("div",{className:"flex flex-col items-center justify-center py-8 opacity-40",children:[m.jsx(eb,{className:"w-10 h-10 text-slate-500 mb-2"}),m.jsx("p",{className:"text-sm text-slate-500",children:"No prescription data yet"})]})]})}function Vl({children:r,isDarkMode:e,className:n=""}){return m.jsx("div",{className:`rounded-2xl border overflow-hidden animate-slide-up ${e?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"} ${n}`,children:r})}function xc({isDarkMode:r,children:e}){return m.jsx("thead",{className:`text-[10px] font-bold uppercase tracking-widest ${r?"bg-white/3 text-slate-500":"bg-gray-50 text-slate-400"}`,children:e})}function bR({medicines:r,db:e,appId:n,isDarkMode:i,onNotify:o}){const[u,d]=le.useState({name:"",generic:"",stock:0,price:0}),[y,v]=le.useState(!1),[p,w]=le.useState(1),[E,R]=le.useState(null),[L,Q]=le.useState(""),se=10,te=r.filter(F=>(F.name?.toLowerCase()||"").includes(L.toLowerCase())||(F.generic?.toLowerCase()||"").includes(L.toLowerCase())),de=Math.ceil(te.length/se),me=te.slice((p-1)*se,p*se),ne=async F=>{F.preventDefault();try{await ix(hi(e,"artifacts",n,"public","data","medicines"),u),v(!1),d({name:"",generic:"",stock:0,price:0}),o("Medicine added to Master Database")}catch(_e){o(_e.message,"error")}},ye=async()=>{try{await Ah(Wt(e,"artifacts",n,"public","data","medicines",E)),o("Medicine removed from database")}catch(F){o(F.message,"error")}R(null)};return m.jsxs(m.Fragment,{children:[m.jsx(qg,{isOpen:!!E,onClose:()=>R(null),onConfirm:ye,title:"Remove Medicine?",message:"This medicine will be removed from the Master Database across all doctors.",confirmText:"Remove",type:"danger",isDarkMode:i}),m.jsxs(Vl,{isDarkMode:i,className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:`p-5 border-b flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 ${i?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${i?"text-white":"text-slate-900"}`,children:"Master Medicine Database"}),m.jsxs("p",{className:`text-xs mt-0.5 ${i?"text-slate-500":"text-slate-400"}`,children:[r.length," medicines  Updates push to all doctors"]})]}),m.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[m.jsxs("div",{className:"relative flex-1 sm:w-56",children:[m.jsx(rb,{className:"w-3.5 h-3.5 absolute left-3 top-2.5 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"Search...",value:L,onChange:F=>Q(F.target.value),className:`w-full pl-8 pr-3 py-2 rounded-xl text-xs border outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all ${i?"bg-white/5 border-white/10 text-white placeholder-slate-600 focus:border-indigo-500/50":"bg-gray-50 border-gray-200 text-slate-700 placeholder-slate-400"}`})]}),m.jsx("button",{onClick:()=>v(!y),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold btn-hover-lift transition-all ${y?i?"bg-white/10 text-slate-300 border border-white/10":"bg-gray-100 text-slate-600 border border-gray-200":"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white shadow-lg shadow-indigo-500/20"}`,children:y?m.jsxs(m.Fragment,{children:[m.jsx(vl,{className:"w-3.5 h-3.5"})," Cancel"]}):m.jsx(m.Fragment,{children:"+ Add"})})]})]}),y&&m.jsxs("form",{onSubmit:ne,className:`p-5 border-b grid grid-cols-2 md:grid-cols-5 gap-3 animate-slide-up ${i?"bg-indigo-500/5 border-indigo-500/10":"bg-indigo-50/50 border-indigo-100"}`,children:[["Brand Name","Generic Name"].map((F,_e)=>m.jsx("input",{placeholder:F,required:!0,className:`p-3 rounded-xl border text-xs outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all font-medium ${i?"bg-black/20 border-white/10 text-white placeholder-slate-600":"bg-white border-gray-200 text-slate-900"}`,value:_e===0?u.name:u.generic,onChange:C=>d({...u,[_e===0?"name":"generic"]:C.target.value})},_e)),m.jsx("input",{type:"number",placeholder:"Stock Qty",required:!0,className:`p-3 rounded-xl border text-xs outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all font-mono ${i?"bg-black/20 border-white/10 text-white placeholder-slate-600":"bg-white border-gray-200 text-slate-900"}`,value:u.stock,onChange:F=>d({...u,stock:parseInt(F.target.value)})}),m.jsx("input",{type:"number",placeholder:"Price (PHP)",required:!0,className:`p-3 rounded-xl border text-xs outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all font-mono ${i?"bg-black/20 border-white/10 text-white placeholder-slate-600":"bg-white border-gray-200 text-slate-900"}`,value:u.price,onChange:F=>d({...u,price:parseFloat(F.target.value)})}),m.jsx("button",{type:"submit",className:"bg-gradient-to-r from-emerald-600 to-emerald-500 text-white font-bold rounded-xl p-3 text-xs hover:from-emerald-500 hover:to-emerald-400 shadow-lg shadow-emerald-500/20 btn-hover-lift",children:"Save to DB"})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:me.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx(wm,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No medicines found"})]}):me.map(F=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-2 transition-colors ${i?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Ol,{isDarkMode:i,children:m.jsxs("button",{onClick:()=>R(F.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Remove"]})})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:F.name}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:F.generic})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Stock"}),m.jsx("p",{className:`text-xs font-mono font-bold ${i?"text-white":"text-slate-900"}`,children:F.stock})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Price"}),m.jsxs("p",{className:"text-xs font-bold text-emerald-400",children:["",F.price]})]})]})]},F.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx(xc,{isDarkMode:i,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3.5",children:"Medicine"}),m.jsx("th",{className:"px-6 py-3.5",children:"Generic"}),m.jsx("th",{className:"px-6 py-3.5",children:"Stock"}),m.jsx("th",{className:"px-6 py-3.5",children:"Price"}),m.jsx("th",{className:"px-6 py-3.5 text-right",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-gray-50"}`,children:me.map(F=>m.jsxs("tr",{className:`table-row-hover ${i?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:`px-6 py-4 font-semibold ${i?"text-white":"text-slate-900"}`,children:F.name}),m.jsx("td",{className:`px-6 py-4 text-xs ${i?"text-slate-500":"text-slate-400"}`,children:F.generic}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`font-mono text-xs px-2.5 py-1 rounded-lg ${i?"bg-white/5 text-slate-300":"bg-gray-100 text-slate-600"}`,children:F.stock})}),m.jsxs("td",{className:"px-6 py-4 font-bold font-mono text-emerald-400",children:["",F.price]}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsx("button",{onClick:()=>R(F.id),className:"p-2 text-slate-600 hover:text-rose-400 hover:bg-rose-500/10 rounded-lg transition-all btn-hover-lift",children:m.jsx(fn,{className:"w-4 h-4"})})})]},F.id))})]})}),m.jsx(Dl,{currentPage:p,totalPages:de,onPageChange:w,isDarkMode:i})]})]})}function xR({tickets:r,db:e,appId:n,isDarkMode:i,onNotify:o}){const[u,d]=le.useState("all"),[y,v]=le.useState(1),[p,w]=le.useState(null),[E,R]=le.useState([]),L=10,Q=async(F,_e)=>{try{await Vn(Wt(e,"artifacts",n,"public","data","support_tickets",F.id),{...F,status:_e},{merge:!0}),o(`Ticket marked as ${_e.replace("_"," ")}`)}catch{o("Failed to update status","error")}},se=async()=>{R(F=>[...F,p]);try{await Ah(Wt(e,"artifacts",n,"public","data","support_tickets",p))}catch{}w(null),o("Ticket deleted")},te=r.filter(F=>!E.includes(F.id)).filter(F=>u==="all"?!0:F.status===u),de=Math.ceil(te.length/L),me=te.slice((y-1)*L,y*L),ne=["all","open","in_progress","resolved"],ye={all:r.length,open:r.filter(F=>F.status==="open").length,in_progress:r.filter(F=>F.status==="in_progress").length,resolved:r.filter(F=>F.status==="resolved").length};return m.jsxs(m.Fragment,{children:[m.jsx(qg,{isOpen:!!p,onClose:()=>w(null),onConfirm:se,title:"Delete Ticket?",message:"This support ticket will be permanently deleted.",confirmText:"Delete",type:"danger",isDarkMode:i}),m.jsxs(Vl,{isDarkMode:i,className:"max-w-7xl mx-auto",children:[m.jsx("div",{className:`p-5 border-b ${i?"border-white/5":"border-gray-100"}`,children:m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${i?"text-white":"text-slate-900"}`,children:"Support Ticketing"}),m.jsx("p",{className:`text-xs mt-0.5 ${i?"text-slate-500":"text-slate-400"}`,children:"Manage doctor issues and kiosk alerts"})]}),m.jsx("div",{className:`flex p-1 rounded-xl gap-1 ${i?"bg-white/5":"bg-gray-100"}`,children:ne.map(F=>m.jsxs("button",{onClick:()=>d(F),className:`px-3 py-1.5 rounded-lg text-[11px] font-bold uppercase tracking-wide transition-all flex items-center gap-1.5 ${u===F?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":i?"text-slate-400 hover:text-white":"text-slate-400 hover:text-slate-700"}`,children:[F.replace("_"," "),ye[F]>0&&m.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full ${u===F?"bg-white/20":i?"bg-white/10":"bg-slate-200"}`,children:ye[F]})]},F))})]})}),m.jsx("div",{className:"divide-y divide-white/5",children:me.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx(Zu,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No tickets found"})]}):me.map(F=>m.jsxs("div",{className:`p-4 md:p-5 flex flex-col md:flex-row justify-between items-start gap-4 transition-colors ${i?"hover:bg-white/3":"hover:bg-gray-50"} ${F.priority==="high"?i?"border-l-2 border-rose-500":"border-l-2 border-rose-400 bg-rose-50/50":""}`,children:[m.jsxs("div",{className:"flex gap-4 items-start w-full relative",children:[m.jsx("div",{className:"absolute top-0 right-0 md:hidden z-20",children:m.jsxs(Ol,{isDarkMode:i,children:[F.status==="open"&&m.jsx("button",{onClick:()=>Q(F,"in_progress"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-indigo-400 hover:bg-indigo-500/10 rounded-xl",children:"In Progress"}),F.status!=="resolved"&&m.jsx("button",{onClick:()=>Q(F,"resolved"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-400 hover:bg-emerald-500/10 rounded-xl",children:"Resolve"}),m.jsxs("button",{onClick:()=>w(F.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Delete"]})]})}),m.jsx("div",{className:`p-3 rounded-xl flex-shrink-0 ${F.priority==="high"?"bg-rose-500/15 text-rose-400":i?"bg-indigo-500/10 text-indigo-400":"bg-indigo-50 text-indigo-500"}`,children:F.type==="kiosk_alert"?m.jsx(B2,{className:"w-5 h-5"}):m.jsx(xT,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex-1 pr-10 md:pr-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[m.jsx("h4",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:F.subject}),F.priority==="high"&&m.jsx("span",{className:"text-[9px] font-bold bg-rose-500 text-white px-2 py-0.5 rounded-full",children:"HIGH"}),m.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded-full border ${F.status==="open"?"bg-amber-500/10 text-amber-400 border-amber-500/20":F.status==="resolved"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-blue-500/10 text-blue-400 border-blue-500/20"}`,children:F.status.replace("_"," ")})]}),m.jsx("p",{className:`text-xs ${i?"text-slate-400":"text-slate-500"}`,children:F.message}),m.jsxs("p",{className:`text-[10px] mt-2 font-mono ${i?"text-slate-600":"text-slate-400"}`,children:[F.sender,"  ",F.timestamp?.seconds?new Date(F.timestamp.seconds*1e3).toLocaleString():"Just now"]})]})]}),m.jsxs("div",{className:"hidden md:flex gap-2 self-center flex-shrink-0",children:[F.status==="open"&&m.jsx("button",{onClick:()=>Q(F,"in_progress"),className:"px-3 py-1.5 border border-indigo-500/30 text-indigo-400 hover:bg-indigo-500/10 rounded-lg text-xs font-bold transition-all btn-hover-lift",children:"In Progress"}),F.status!=="resolved"&&m.jsxs("button",{onClick:()=>Q(F,"resolved"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-xs font-bold shadow-lg shadow-emerald-500/20 btn-hover-lift",children:[m.jsx(lb,{className:"w-3.5 h-3.5"})," Resolve"]}),m.jsx("button",{onClick:()=>w(F.id),className:"p-1.5 text-slate-600 hover:text-rose-400 hover:bg-rose-500/10 rounded-lg transition-all btn-hover-lift",children:m.jsx(fn,{className:"w-4 h-4"})})]})]},F.id))}),m.jsx(Dl,{currentPage:y,totalPages:de,onPageChange:v,isDarkMode:i})]})]})}function wR({doctors:r,filter:e,setFilter:n,onRefresh:i,onUpdateStatus:o,onUpdatePassword:u,onDelete:d,loading:y,isDarkMode:v}){const[p,w]=le.useState(null),[E,R]=le.useState(""),[L,Q]=le.useState(!1),[se,te]=le.useState(!1),[de,me]=le.useState(""),[ne,ye]=le.useState(1),F=10,_e=r.filter(N=>(N.name?.toLowerCase()||"").includes(E.toLowerCase())||(N.email?.toLowerCase()||"").includes(E.toLowerCase())||(N.license?.toLowerCase()||"").includes(E.toLowerCase())),C=Math.ceil(_e.length/F),A=_e.slice((ne-1)*F,ne*F),I=["pending","active","rejected","all"];return m.jsxs(m.Fragment,{children:[m.jsxs(Vl,{isDarkMode:v,className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:`p-5 border-b ${v?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${v?"text-white":"text-slate-900"}`,children:"Medical Practitioners"}),m.jsxs("p",{className:`text-xs mt-0.5 ${v?"text-slate-500":"text-slate-400"}`,children:[r.length," registered physicians"]})]}),m.jsx("button",{onClick:i,className:`p-2 rounded-lg transition-all btn-hover-lift ${v?"text-slate-400 hover:bg-white/5 hover:text-emerald-400":"text-slate-400 hover:bg-gray-100 hover:text-emerald-600"}`,children:m.jsx(oc,{className:`w-4 h-4 ${y?"animate-spin":""}`})})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("div",{className:`flex p-1 rounded-xl gap-1 ${v?"bg-white/5":"bg-gray-100"}`,children:I.map(N=>m.jsx("button",{onClick:()=>n(N),className:`px-3 py-1.5 rounded-lg text-[11px] font-bold uppercase tracking-wide transition-all whitespace-nowrap ${e===N?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":v?"text-slate-400 hover:text-white":"text-slate-400 hover:text-slate-700"}`,children:N},N))}),m.jsxs("div",{className:"relative flex-1 max-w-xs",children:[m.jsx(rb,{className:"w-3.5 h-3.5 absolute left-3 top-2.5 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"Search doctors...",value:E,onChange:N=>R(N.target.value),className:`w-full pl-8 pr-3 py-2 rounded-xl text-xs border outline-none focus:ring-2 focus:ring-indigo-500/30 transition-all ${v?"bg-white/5 border-white/10 text-white placeholder-slate-600":"bg-white border-gray-200 text-slate-700 placeholder-slate-400"}`})]})]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:A.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx(sa,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No doctors found"})]}):A.map(N=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-3 transition-colors ${v?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsxs(Ol,{isDarkMode:v,children:[m.jsxs("button",{onClick:()=>{w(N),Q(!1),te(!1)},className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left rounded-xl ${v?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(ch,{className:"w-3.5 h-3.5"})," View"]}),N.status==="pending"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>o(N.id,"active"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-400 hover:bg-emerald-500/10 rounded-xl",children:[m.jsx(rm,{className:"w-3.5 h-3.5"})," Approve"]}),m.jsxs("button",{onClick:()=>o(N.id,"rejected"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(am,{className:"w-3.5 h-3.5"})," Reject"]})]}),N.status==="active"&&m.jsxs("button",{onClick:()=>o(N.id,"rejected"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(am,{className:"w-3.5 h-3.5"})," Revoke"]}),N.status==="rejected"&&m.jsxs("button",{onClick:()=>o(N.id,"active"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-400 hover:bg-emerald-500/10 rounded-xl",children:[m.jsx(rm,{className:"w-3.5 h-3.5"})," Restore"]}),m.jsxs("button",{onClick:()=>d(N.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Delete"]})]})}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-display font-bold text-sm ${v?"bg-indigo-500/20 text-indigo-300":"bg-indigo-50 text-indigo-600"}`,children:N.name?.charAt(0)||"?"}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm ${v?"text-white":"text-slate-900"}`,children:N.name}),m.jsx("p",{className:"text-xs text-slate-500",children:N.email})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(X_,{status:N.status}),m.jsx("span",{className:`font-mono text-[10px] ${v?"text-slate-500":"text-slate-400"}`,children:N.license})]})]},N.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx(xc,{isDarkMode:v,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4",children:"Physician"}),m.jsx("th",{className:"px-6 py-4",children:"License"}),m.jsx("th",{className:"px-6 py-4",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),m.jsx("tbody",{className:`divide-y ${v?"divide-white/5":"divide-gray-50"}`,children:A.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-10 text-center text-xs text-slate-500 italic",children:"No doctors found"})}):A.map(N=>m.jsxs("tr",{className:`table-row-hover ${v?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center font-display font-bold text-xs ${v?"bg-indigo-500/15 text-indigo-300":"bg-indigo-50 text-indigo-600"}`,children:N.name?.charAt(0)||"?"}),m.jsxs("div",{children:[m.jsx("p",{className:`font-semibold text-sm ${v?"text-white":"text-slate-900"}`,children:N.name}),m.jsx("p",{className:`text-[11px] ${v?"text-slate-500":"text-slate-400"}`,children:N.email})]})]})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`font-mono text-[11px] px-2 py-1 rounded-lg ${v?"bg-white/5 text-slate-400":"bg-gray-100 text-slate-600"}`,children:N.license})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx(X_,{status:N.status})}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsxs("div",{className:"flex justify-end gap-1.5",children:[m.jsx("button",{onClick:()=>{w(N),Q(!1),te(!1)},className:`p-2 rounded-lg transition-all btn-hover-lift ${v?"text-slate-500 hover:text-blue-400 hover:bg-blue-500/10":"text-slate-400 hover:text-blue-600 hover:bg-blue-50"}`,title:"View",children:m.jsx(ch,{className:"w-4 h-4"})}),N.status==="pending"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>o(N.id,"active"),className:"p-2 text-emerald-400 bg-emerald-500/10 rounded-lg hover:bg-emerald-500/20 btn-hover-lift",children:m.jsx(rm,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>o(N.id,"rejected"),className:"p-2 text-rose-400 bg-rose-500/10 rounded-lg hover:bg-rose-500/20 btn-hover-lift",children:m.jsx(am,{className:"w-4 h-4"})})]}),N.status==="active"&&m.jsx("button",{onClick:()=>o(N.id,"rejected"),className:"text-[10px] font-bold text-rose-400 border border-rose-500/30 px-2.5 py-1.5 rounded-lg hover:bg-rose-500/10 btn-hover-lift",children:"Revoke"}),N.status==="rejected"&&m.jsx("button",{onClick:()=>o(N.id,"active"),className:"text-[10px] font-bold text-emerald-400 border border-emerald-500/30 px-2.5 py-1.5 rounded-lg hover:bg-emerald-500/10 btn-hover-lift",children:"Restore"}),m.jsx("button",{onClick:()=>d(N.id),className:"p-2 text-slate-600 hover:text-rose-400 hover:bg-rose-500/10 rounded-lg transition-all btn-hover-lift ml-1",children:m.jsx(fn,{className:"w-4 h-4"})})]})})]},N.id))})]})}),m.jsx(Dl,{currentPage:ne,totalPages:C,onPageChange:ye,isDarkMode:v})]}),p&&m.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:m.jsxs("div",{className:`rounded-3xl shadow-2xl max-w-lg w-full overflow-hidden border animate-scale-in ${v?"bg-[#0f1829] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${v?"border-white/10 bg-gradient-to-r from-indigo-900/20 to-transparent":"border-gray-100 bg-gradient-to-r from-indigo-50 to-transparent"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-display font-bold ${v?"bg-indigo-500/20 text-indigo-300":"bg-indigo-50 text-indigo-600"}`,children:p.name?.charAt(0)||"?"}),m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${v?"text-white":"text-slate-900"}`,children:p.name}),m.jsx("p",{className:"text-xs text-slate-500",children:"Verification Details"})]})]}),m.jsx("button",{onClick:()=>w(null),className:`p-2 rounded-xl transition-all ${v?"hover:bg-white/10 text-slate-400":"hover:bg-gray-100 text-slate-500"}`,children:m.jsx(vl,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 space-y-5 max-h-[75vh] overflow-y-auto custom-scrollbar",children:[m.jsxs("div",{className:`p-4 rounded-2xl border text-center ${v?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsx(nT,{className:"w-10 h-10 text-slate-500 mx-auto mb-2"}),m.jsx("p",{className:`text-sm font-bold ${v?"text-slate-300":"text-slate-700"}`,children:"PRC License ID"}),m.jsx("p",{className:"text-xs text-slate-500",children:"No image uploaded"})]}),[{label:"Account Credentials",fields:[{label:"Full Name",value:p.name,span:2},{label:"Email",value:p.email,mono:!0,span:2},{label:"Password",isPassword:!0}]},{label:"Clinic Information",fields:[{label:"Clinic Name",value:p.clinicDetails?.name||"N/A",span:2},{label:"Address",value:p.clinicDetails?.address||"N/A",span:2},{label:"Contact",value:p.clinicDetails?.contactNumber||"N/A"},{label:"License No",value:p.license,mono:!0},{label:"PTR No",value:p.clinicDetails?.ptr||"N/A",mono:!0},{label:"S2 License",value:p.clinicDetails?.s2||"N/A",mono:!0}]}].map(N=>m.jsxs("div",{children:[m.jsx("h4",{className:`text-[10px] font-bold uppercase tracking-widest mb-3 ${v?"text-slate-500":"text-slate-400"}`,children:N.label}),m.jsx("div",{className:"grid grid-cols-2 gap-3 text-sm",children:N.fields.map((D,M)=>m.jsxs("div",{className:D.span===2?"col-span-2":"",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold mb-1",children:D.label}),D.isPassword?se?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"text",className:`flex-1 p-2 rounded-lg border text-xs outline-none focus:ring-2 focus:ring-emerald-500/30 font-mono ${v?"bg-black/20 border-white/10 text-white":"bg-white border-gray-200 text-slate-900"}`,value:de,onChange:S=>me(S.target.value),placeholder:"New password"}),m.jsx("button",{onClick:async()=>{de.trim()&&(await u(p.id,de),te(!1),w(S=>({...S,password:de})))},className:"p-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg btn-hover-lift",children:m.jsx(lb,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>te(!1),className:"p-2 bg-rose-600 hover:bg-rose-500 text-white rounded-lg btn-hover-lift",children:m.jsx(vl,{className:"w-4 h-4"})})]}):m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:`font-mono text-sm ${v?"text-white":"text-slate-900"}`,children:L?p.password:""}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>{te(!0),me(p.password)},className:"text-[10px] font-bold text-emerald-400 hover:text-emerald-300",children:"Edit"}),m.jsx("button",{onClick:()=>Q(!L),className:"text-[10px] font-bold text-indigo-400 hover:text-indigo-300",children:L?"Hide":"Show"})]})]}):m.jsx("p",{className:`${D.mono?"font-mono":""} ${v?"text-white":"text-slate-900"}`,children:D.value})]},M))})]},N.label))]}),m.jsx("div",{className:`p-4 border-t flex justify-end ${v?"bg-white/5 border-white/10":"bg-gray-50 border-gray-100"}`,children:m.jsx("button",{onClick:()=>w(null),className:"px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-500 text-white rounded-xl text-xs font-bold shadow-lg shadow-indigo-500/20 btn-hover-lift",children:"Close"})})]})})]})}function TR({machines:r,onPing:e,onRunDiagnostics:n,onReboot:i,onLock:o,onDelete:u,isDarkMode:d}){const[y,v]=le.useState(1),p=10,w=Math.ceil(r.length/p),E=r.slice((y-1)*p,y*p),R={online:{cls:"bg-emerald-500/15 text-emerald-400 border-emerald-500/20",icon:m.jsx(sE,{className:"w-3 h-3"}),dot:"emerald"},rebooting:{cls:"bg-amber-500/15 text-amber-400 border-amber-500/20",icon:m.jsx(oc,{className:"w-3 h-3 animate-spin"}),dot:"amber"},locked:{cls:"bg-slate-500/15 text-slate-400 border-slate-500/20",icon:m.jsx(cr,{className:"w-3 h-3"}),dot:"slate"},offline:{cls:"bg-rose-500/15 text-rose-400 border-rose-500/20",icon:m.jsx(tE,{className:"w-3 h-3"}),dot:"rose"}};return m.jsxs(Vl,{isDarkMode:d,className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:`p-5 border-b ${d?"border-white/5":"border-gray-100"}`,children:[m.jsx("h3",{className:`font-display font-bold text-base ${d?"text-white":"text-slate-900"}`,children:"Kiosk Network"}),m.jsxs("p",{className:`text-xs mt-0.5 ${d?"text-slate-500":"text-slate-400"}`,children:[r.length," machines registered  ",r.filter(L=>L.status==="online").length," online"]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:E.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx($o,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No kiosks connected"})]}):E.map(L=>{const Q=R[L.status]||R.offline;return m.jsxs("div",{className:`p-4 relative flex flex-col gap-3 transition-colors ${d?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsxs(Ol,{isDarkMode:d,children:[m.jsxs("button",{onClick:()=>e(L.id),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left rounded-xl ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(Jo,{className:"w-3.5 h-3.5"})," Ping"]}),m.jsxs("button",{onClick:()=>n(L),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left rounded-xl ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(xv,{className:"w-3.5 h-3.5"})," Diagnostics"]}),m.jsxs("button",{onClick:()=>i(L.id),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left rounded-xl ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(Tm,{className:"w-3.5 h-3.5"})," Reboot"]}),m.jsxs("button",{onClick:()=>o(L.id,L.status),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left rounded-xl ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[L.status==="locked"?m.jsx(xm,{className:"w-3.5 h-3.5"}):m.jsx(cr,{className:"w-3.5 h-3.5"})," ",L.status==="locked"?"Unlock":"Lock"]}),m.jsxs("button",{onClick:()=>u(L.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Remove"]})]})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm font-mono ${d?"text-white":"text-slate-900"}`,children:L.id}),m.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:L.location})]}),m.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border w-fit ${Q.cls}`,children:[Q.icon," ",L.status]})]},L.id)})}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx(xc,{isDarkMode:d,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4",children:"Kiosk ID"}),m.jsx("th",{className:"px-6 py-4",children:"Location"}),m.jsx("th",{className:"px-6 py-4",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Controls"})]})}),m.jsx("tbody",{className:`divide-y ${d?"divide-white/5":"divide-gray-50"}`,children:E.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-10 text-center text-xs text-slate-500 italic",children:"No kiosks connected"})}):E.map(L=>{const Q=R[L.status]||R.offline;return m.jsxs("tr",{className:`table-row-hover ${d?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:`px-6 py-4 font-bold font-mono text-sm ${d?"text-white":"text-slate-900"}`,children:L.id}),m.jsx("td",{className:`px-6 py-4 text-xs ${d?"text-slate-400":"text-slate-500"}`,children:L.location}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border ${Q.cls}`,children:[Q.icon," ",L.status]})}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsxs("div",{className:"flex justify-end gap-1.5",children:[[{action:()=>e(L.id),icon:m.jsx(Jo,{size:14}),title:"Ping"},{action:()=>n(L),icon:m.jsx(xv,{size:14}),title:"Diagnostics"},{action:()=>i(L.id),icon:m.jsx(Tm,{size:14}),title:"Reboot"},{action:()=>o(L.id,L.status),icon:L.status==="locked"?m.jsx(xm,{size:14}):m.jsx(cr,{size:14}),title:L.status==="locked"?"Unlock":"Lock"}].map((se,te)=>m.jsx("button",{onClick:se.action,title:se.title,className:`p-2 rounded-lg transition-all btn-hover-lift ${d?"bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-slate-500 hover:text-slate-700"}`,children:se.icon},te)),m.jsx("button",{onClick:()=>u(L.id),className:"p-2 bg-rose-500/10 hover:bg-rose-500/20 rounded-lg text-rose-400 btn-hover-lift ml-1",children:m.jsx(fn,{size:14})})]})})]},L.id)})})]})}),m.jsx(Dl,{currentPage:y,totalPages:w,onPageChange:v,isDarkMode:d})]})}function ER({transactions:r,onHide:e,onClearView:n,isDarkMode:i}){const[o,u]=le.useState(1),d=10,y=Math.ceil(r.length/d),v=r.slice((o-1)*d,o*d);return m.jsxs(Vl,{isDarkMode:i,className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${i?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${i?"text-white":"text-slate-900"}`,children:"Prescription Registry"}),m.jsxs("p",{className:`text-xs mt-0.5 ${i?"text-slate-500":"text-slate-400"}`,children:[r.length," records in view"]})]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 px-3 py-2 bg-rose-500/10 text-rose-400 hover:bg-rose-500/20 rounded-xl text-xs font-bold uppercase tracking-wide transition-all btn-hover-lift border border-rose-500/20",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Clear View"]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:v.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx(Xm,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No transactions"})]}):v.map(p=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-2 transition-colors ${i?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Ol,{isDarkMode:i,children:m.jsxs("button",{onClick:()=>e(p.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Hide"]})})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:p.doctorName}),m.jsx("p",{className:"text-xs text-slate-500",children:p.patient?.name}),m.jsx("p",{className:"text-[10px] font-mono text-slate-600 mt-1",children:p.id})]}),m.jsxs("div",{className:"flex gap-3 items-center",children:[m.jsxs("span",{className:"font-bold text-emerald-400 font-mono",children:["",p.grandTotal?.toFixed(2)]}),m.jsx(J_,{status:p.status||"issued"})]})]},p.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx(xc,{isDarkMode:i,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4",children:"Rx ID"}),m.jsx("th",{className:"px-6 py-4",children:"Doctor"}),m.jsx("th",{className:"px-6 py-4",children:"Patient"}),m.jsx("th",{className:"px-6 py-4",children:"Value"}),m.jsx("th",{className:"px-6 py-4",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-gray-50"}`,children:v.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"p-10 text-center text-xs text-slate-500 italic",children:"No transactions"})}):v.map(p=>m.jsxs("tr",{className:`table-row-hover ${i?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsxs("td",{className:`px-6 py-4 font-mono text-[11px] ${i?"text-slate-500":"text-slate-400"}`,children:[p.id?.slice(0,8),"..."]}),m.jsx("td",{className:`px-6 py-4 font-semibold text-sm ${i?"text-white":"text-slate-900"}`,children:p.doctorName}),m.jsx("td",{className:`px-6 py-4 text-xs ${i?"text-slate-400":"text-slate-500"}`,children:p.patient?.name}),m.jsxs("td",{className:"px-6 py-4 font-bold font-mono text-emerald-400",children:["",p.grandTotal?.toFixed(2)]}),m.jsx("td",{className:"px-6 py-4",children:m.jsx(J_,{status:p.status||"issued"})}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("button",{onClick:()=>e(p.id),className:`p-2 rounded-lg transition-all btn-hover-lift ${i?"text-slate-600 hover:text-rose-400 hover:bg-rose-900/20":"text-slate-400 hover:text-rose-600 hover:bg-rose-50"}`,children:m.jsx(fn,{className:"w-4 h-4"})})})]},p.id))})]})}),m.jsx(Dl,{currentPage:o,totalPages:y,onPageChange:u,isDarkMode:i})]})}function AR({logs:r,onHide:e,onClearView:n,isDarkMode:i}){const[o,u]=le.useState(1),d=10,y=Math.ceil(r.length/d),v=r.slice((o-1)*d,o*d);return m.jsxs(Vl,{isDarkMode:i,className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${i?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-base ${i?"text-white":"text-slate-900"}`,children:"Security Audit Log"}),m.jsxs("p",{className:`text-xs mt-0.5 ${i?"text-slate-500":"text-slate-400"}`,children:[r.length," system events"]})]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 px-3 py-2 bg-rose-500/10 text-rose-400 hover:bg-rose-500/20 rounded-xl text-xs font-bold uppercase tracking-wide transition-all btn-hover-lift border border-rose-500/20",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Clear View"]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:v.length===0?m.jsxs("div",{className:"p-10 text-center",children:[m.jsx(nb,{className:"w-8 h-8 text-slate-600 mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-slate-500 italic",children:"No audit logs"})]}):v.map((p,w)=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-2 transition-colors ${i?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Ol,{isDarkMode:i,children:m.jsxs("button",{onClick:()=>e(p.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-rose-400 hover:bg-rose-500/10 rounded-xl",children:[m.jsx(fn,{className:"w-3.5 h-3.5"})," Hide"]})})}),m.jsx("p",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:p.action}),m.jsx("p",{className:"text-xs text-slate-400",children:p.details}),m.jsxs("p",{className:"text-[10px] font-mono text-slate-600",children:[p.time,"  ",p.user]})]},w))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx(xc,{isDarkMode:i,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4",children:"Action"}),m.jsx("th",{className:"px-6 py-4",children:"Details"}),m.jsx("th",{className:"px-6 py-4",children:"User"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Timestamp"}),m.jsx("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-gray-50"}`,children:v.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"5",className:"p-10 text-center text-xs text-slate-500 italic",children:"No audit logs"})}):v.map((p,w)=>m.jsxs("tr",{className:`table-row-hover ${i?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:`px-6 py-4 font-semibold text-sm ${i?"text-white":"text-slate-900"}`,children:p.action}),m.jsx("td",{className:`px-6 py-4 text-xs max-w-xs truncate ${i?"text-slate-400":"text-slate-500"}`,children:p.details}),m.jsx("td",{className:`px-6 py-4 font-mono text-[11px] ${i?"text-slate-500":"text-slate-400"}`,children:p.user}),m.jsx("td",{className:`px-6 py-4 text-right font-mono text-[11px] ${i?"text-slate-500":"text-slate-400"}`,children:p.time}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("button",{onClick:()=>e(p.id),className:`p-2 rounded-lg transition-all btn-hover-lift ${i?"text-slate-600 hover:text-rose-400 hover:bg-rose-900/20":"text-slate-400 hover:text-rose-600 hover:bg-rose-50"}`,children:m.jsx(fn,{className:"w-4 h-4"})})})]},w))})]})}),m.jsx(Dl,{currentPage:o,totalPages:y,onPageChange:u,isDarkMode:i})]})}function SR({profile:r,setProfile:e,onSave:n,isEditing:i,setIsEditing:o,setShowPassword:u,isDarkMode:d,transactions:y,auditLogs:v,doctors:p,machines:w,medicines:E,supportTickets:R,onNotify:L}){const[Q,se]=le.useState("profile"),te=(ne,ye)=>{if(!ne?.length)return L("No data to export","error");const F=Object.keys(ne[0]),_e=[F.join(","),...ne.map(A=>F.map(I=>JSON.stringify(A[I]??"")).join(","))].join(`\r
`),C=Object.assign(document.createElement("a"),{href:URL.createObjectURL(new Blob([_e],{type:"text/csv"})),download:ye,hidden:!0});document.body.appendChild(C),C.click(),document.body.removeChild(C)},de=()=>{const ne={timestamp:new Date().toISOString(),doctors:p,machines:w,transactions:y,auditLogs:v,medicines:E,supportTickets:R},ye=Object.assign(document.createElement("a"),{href:URL.createObjectURL(new Blob([JSON.stringify(ne,null,2)],{type:"application/json"})),download:`medivend_backup_${Date.now()}.json`,hidden:!0});document.body.appendChild(ye),ye.click(),document.body.removeChild(ye)},me=[{id:"profile",label:"Profile",icon:m.jsx(ob,{className:"w-4 h-4"})},{id:"security",label:"Security",icon:m.jsx(Dh,{className:"w-4 h-4"})},{id:"data",label:"Data",icon:m.jsx(bv,{className:"w-4 h-4"})}];return m.jsxs("div",{className:`w-full max-w-4xl mx-auto rounded-2xl border overflow-hidden flex flex-col md:flex-row animate-slide-up ${d?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"}`,children:[m.jsxs("div",{className:`md:w-56 border-r p-4 flex-shrink-0 ${d?"bg-black/20 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsx("p",{className:`font-display font-bold text-xs uppercase tracking-widest mb-4 px-3 ${d?"text-slate-600":"text-slate-400"}`,children:"Settings"}),m.jsx("nav",{className:"space-y-1",children:me.map(ne=>m.jsxs("button",{onClick:()=>se(ne.id),className:`w-full text-left px-3 py-2.5 rounded-xl text-sm font-semibold flex items-center gap-2.5 transition-all btn-hover-lift ${Q===ne.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":d?"text-slate-400 hover:text-white hover:bg-white/5":"text-slate-500 hover:text-slate-900 hover:bg-gray-100"}`,children:[ne.icon," ",ne.label]},ne.id))})]}),m.jsx("div",{className:"hidden md:block"}),m.jsx("div",{className:`md:hidden w-full border-b ${d?"border-white/10":"border-gray-200"}`,children:m.jsx("div",{className:"flex",children:me.map(ne=>m.jsx("button",{onClick:()=>se(ne.id),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wide border-b-2 transition-colors ${Q===ne.id?"border-indigo-500 text-indigo-400":"border-transparent text-slate-500"}`,children:ne.label},ne.id))})}),m.jsxs("div",{className:"flex-1 p-6 md:p-8",children:[Q==="profile"&&m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center border-b pb-5 gap-3 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h4",{className:`font-display font-bold text-lg ${d?"text-white":"text-slate-900"}`,children:"Admin Profile"}),m.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Manage your account details"})]}),i?m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>o(!1),className:`px-3 py-2 text-xs font-bold rounded-xl border btn-hover-lift ${d?"text-slate-400 border-white/10 hover:bg-white/5":"text-slate-600 border-gray-200 hover:bg-gray-100"}`,children:"Cancel"}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-white bg-gradient-to-r from-indigo-600 to-indigo-500 rounded-xl shadow-lg shadow-indigo-500/20 btn-hover-lift",children:[m.jsx(MT,{className:"w-3.5 h-3.5"})," Save"]})]}):m.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-indigo-400 bg-indigo-500/10 border border-indigo-500/20 rounded-xl hover:bg-indigo-500/20 btn-hover-lift",children:[m.jsx(CT,{className:"w-3.5 h-3.5"})," Edit Profile"]})]}),m.jsx("div",{className:"space-y-4",children:[{label:"Display Name",key:"displayName",type:"text"},{label:"Username",key:"username",type:"text"},{label:"Email Address",key:"email",type:"email"}].map(ne=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2",children:ne.label}),m.jsx("input",{type:ne.type,disabled:!i,className:`w-full px-4 py-3 border rounded-xl outline-none text-sm transition-all ${i?"focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/50":"border-transparent cursor-default"} ${d?"bg-white/5 text-slate-200 border-white/10":"bg-gray-50 text-slate-700 border-gray-200"} ${i?"":"bg-transparent"}`,value:r?.[ne.key]||"",onChange:ye=>e({...r,[ne.key]:ye.target.value})})]},ne.key))}),m.jsx("div",{className:`pt-5 border-t ${d?"border-white/10":"border-gray-100"}`,children:m.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-xs text-indigo-400 font-bold hover:text-indigo-300 transition-colors btn-hover-lift",children:[m.jsx(cr,{className:"w-3.5 h-3.5"})," Change Password"]})})]}),Q==="security"&&m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:`border-b pb-5 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsx("h4",{className:`font-display font-bold text-lg ${d?"text-white":"text-slate-900"}`,children:"Security"}),m.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Manage access and authentication"})]}),m.jsxs("div",{children:[m.jsx("h5",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-3",children:"Recent Login Activity"}),r?.recentLogins?.length>0?r.recentLogins.map((ne,ye)=>m.jsxs("div",{className:`flex justify-between items-center p-3 rounded-xl mb-2 border text-xs ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-2",children:[ye===0&&m.jsx(yl,{color:"emerald"}),m.jsxs("span",{className:d?"text-slate-300":"text-slate-700",children:[ne.device||"Admin Device"," ",ye===0&&"(Current)"]})]}),m.jsx("span",{className:"text-slate-500 font-mono",children:new Date(ne.time).toLocaleString([],{dateStyle:"short",timeStyle:"short"})})]},ye)):m.jsx("div",{className:`p-4 text-center rounded-xl border text-xs italic ${d?"bg-white/5 border-white/5 text-slate-500":"bg-gray-50 border-gray-100 text-slate-400"}`,children:"No recent login activity recorded."})]})]}),Q==="data"&&m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:`border-b pb-5 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsx("h4",{className:`font-display font-bold text-lg ${d?"text-white":"text-slate-900"}`,children:"Data Management"}),m.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Export logs and manage system storage"})]}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Export Rx Logs",icon:m.jsx(X2,{className:"w-6 h-6"}),action:()=>te(y,"transactions.csv"),color:"emerald"},{label:"Export Audit",icon:m.jsx(Xm,{className:"w-6 h-6"}),action:()=>te(v,"audit.csv"),color:"blue"},{label:"Clear Cache",icon:m.jsx(fn,{className:"w-6 h-6"}),action:()=>L("Cache cleared"),color:"rose",dashed:!0},{label:"Full Backup",icon:m.jsx(bv,{className:"w-6 h-6"}),action:de,color:"indigo"}].map((ne,ye)=>m.jsxs("button",{onClick:ne.action,className:`flex flex-col items-center justify-center p-5 border rounded-2xl transition-all group btn-hover-lift ${ne.dashed?"border-dashed":""} ${d?`border-white/10 hover:bg-${ne.color}-500/5 hover:border-${ne.color}-500/20`:`border-gray-200 hover:bg-${ne.color}-50 hover:border-${ne.color}-200`}`,children:[m.jsx("div",{className:`text-slate-500 group-hover:text-${ne.color}-500 transition-colors mb-2`,children:ne.icon}),m.jsx("span",{className:`text-xs font-bold text-slate-400 group-hover:text-${ne.color}-500 transition-colors text-center`,children:ne.label})]},ye))}),m.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-2xl",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsxs("p",{className:"text-sm font-bold text-amber-400 flex items-center gap-2",children:[m.jsx(lT,{className:"w-4 h-4"})," Storage"]}),m.jsx("span",{className:"text-xs font-mono text-amber-400",children:"2.25 / 5 GB"})]}),m.jsx("div",{className:"w-full bg-amber-500/20 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-orange-500 h-full w-[45%] rounded-full progress-bar"})}),m.jsx("p",{className:"text-[11px] text-amber-500/70 mt-2",children:"45% of quota used"})]})]})]})]})}function NR({onLogin:r,cloudProfile:e}){const[n,i]=le.useState(""),[o,u]=le.useState(""),[d,y]=le.useState(!1),[v,p]=le.useState(""),[w,E]=le.useState(!1),[R,L]=le.useState(0),[Q,se]=le.useState(!1),[te,de]=le.useState(0),[me,ne]=le.useState(0);le.useEffect(()=>{setTimeout(()=>ne(1),100),setTimeout(()=>ne(2),300),setTimeout(()=>ne(3),500)},[]),le.useEffect(()=>{let F;return Q&&te>0?F=setInterval(()=>de(_e=>_e-1),1e3):te===0&&Q&&(se(!1),L(0),p("")),()=>clearInterval(F)},[Q,te]);const ye=async F=>{if(F.preventDefault(),Q)return;E(!0),p(""),await new Promise(A=>setTimeout(A,900));const _e=e?.username||"admin",C=e?.password||"admin123";if(n===_e&&o===C){try{const A=/Mobile|Android|iPhone/i.test(navigator.userAgent)?"Mobile Device":"Desktop Session",I=[{time:Date.now(),device:A},...e?.recentLogins||[]].slice(0,5);await Vn(Wt(wt,"artifacts",Tt,"public","data","settings","admin_profile"),{recentLogins:I},{merge:!0})}catch(A){console.error("Failed to log session",A)}r()}else{const A=R+1;L(A),E(!1),A>=5?(se(!0),de(30),p("Account locked.")):p(`Invalid credentials. ${5-A} attempts remaining.`)}};return m.jsxs("div",{className:"flex h-screen w-full bg-[#060b18] font-sans overflow-hidden relative",children:[m.jsx(Bg,{}),m.jsx("div",{className:"absolute inset-0 grid-bg opacity-50"}),m.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-600/10 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),m.jsx("div",{className:"w-full lg:w-1/2 h-full flex flex-col justify-center items-center p-6 relative z-10",children:m.jsxs("div",{className:"w-full max-w-md",style:{opacity:me>=2?1:0,transform:me>=2?"none":"translateY(30px)",transition:"all 0.7s cubic-bezier(0.16, 1, 0.3, 1)"},children:[m.jsxs("div",{className:"text-center mb-10",children:[m.jsxs("div",{className:"relative inline-block mb-6",children:[m.jsx("div",{className:"absolute inset-0 rounded-3xl bg-indigo-500/20 blur-xl scale-150 animate-pulse"}),m.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-indigo-600 via-indigo-500 to-blue-600 rounded-3xl flex items-center justify-center shadow-2xl shadow-indigo-500/30 ring-1 ring-white/10",children:m.jsx(Dh,{className:"w-9 h-9 text-white"})})]}),m.jsx("h1",{className:"font-display font-black text-4xl text-white tracking-tight mb-2",children:"MediVend"}),m.jsx("p",{className:"text-slate-500 text-sm font-medium tracking-widest uppercase",children:"Super Admin Portal"})]}),m.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-2xl",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-white font-display font-bold text-xl mb-1",children:"Sign In"}),m.jsx("p",{className:"text-slate-500 text-xs",children:"Authorized personnel only"})]}),m.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Username"}),m.jsxs("div",{className:"relative",children:[m.jsx(ob,{className:"w-4 h-4 absolute left-3.5 top-3.5 text-slate-500"}),m.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/40 focus:border-indigo-500/50 transition-all text-white text-sm placeholder-slate-600 font-medium",placeholder:"admin",value:n,onChange:F=>i(F.target.value),disabled:Q})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(cr,{className:"w-4 h-4 absolute left-3.5 top-3.5 text-slate-500"}),m.jsx("input",{required:!0,type:d?"text":"password",className:"w-full pl-10 pr-12 py-3 bg-white/5 border border-white/10 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/40 focus:border-indigo-500/50 transition-all text-white text-sm placeholder-slate-600 font-mono",placeholder:"",value:o,onChange:F=>u(F.target.value),disabled:Q}),m.jsx("button",{type:"button",onClick:()=>y(!d),className:"absolute right-3.5 top-3.5 text-slate-500 hover:text-slate-300 transition-colors",children:d?m.jsx(sb,{className:"w-4 h-4"}):m.jsx(ch,{className:"w-4 h-4"})})]})]}),v&&m.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-xl text-xs font-medium border animate-slide-up ${Q?"bg-rose-500/10 text-rose-400 border-rose-500/20":"bg-amber-500/10 text-amber-400 border-amber-500/20"}`,children:[m.jsx(uh,{className:"w-4 h-4 flex-shrink-0"}),Q?`Locked. Retry in ${te}s`:v]}),m.jsxs("button",{type:"submit",disabled:w||Q,className:"w-full relative overflow-hidden bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-500 hover:to-blue-500 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-indigo-500/30 disabled:opacity-60 disabled:cursor-not-allowed transition-all btn-hover-lift flex justify-center items-center gap-2 text-sm",children:[m.jsx("div",{className:"animate-shimmer absolute inset-0 opacity-20"}),w?m.jsxs(m.Fragment,{children:[m.jsx(oc,{className:"w-4 h-4 animate-spin"})," Authenticating..."]}):Q?m.jsxs(m.Fragment,{children:[m.jsx(cr,{className:"w-4 h-4"})," Locked"]}):m.jsxs(m.Fragment,{children:[m.jsx(ab,{className:"w-4 h-4"})," Access Portal"]})]})]}),m.jsxs("div",{className:"mt-6 pt-5 border-t border-white/10 flex items-center justify-center gap-2",children:[m.jsx(yl,{color:"emerald"}),m.jsx("span",{className:"text-[11px] text-slate-600 font-mono",children:"Secure Connection  TLS 1.3"})]})]}),m.jsx("p",{className:"text-center text-[11px] text-slate-700 mt-6 font-mono",children:"MediVend v2.5  Unauthorized access is prohibited"})]})}),m.jsxs("div",{className:"hidden lg:flex w-1/2 bg-black/20 relative overflow-hidden items-center justify-center border-l border-white/5",children:[m.jsx("div",{className:"absolute inset-0 hexagon-bg opacity-40"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900/20 via-transparent to-blue-900/20"}),m.jsxs("div",{className:"relative z-10 text-center max-w-sm px-8",style:{opacity:me>=3?1:0,transform:me>=3?"none":"translateX(30px)",transition:"all 0.7s cubic-bezier(0.16, 1, 0.3, 1) 0.2s"},children:[m.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-8",children:[m.jsx("div",{className:"absolute inset-0 rounded-full border border-indigo-500/20"}),m.jsx("div",{className:"absolute inset-4 rounded-full border border-indigo-500/30"}),m.jsx("div",{className:"absolute inset-8 rounded-full border border-indigo-500/40 bg-indigo-500/5"}),m.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:m.jsx("div",{className:"w-1/2 h-full origin-right animate-radar bg-gradient-to-r from-transparent to-indigo-500/20"})}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx(Jo,{className:"w-10 h-10 text-indigo-400 animate-pulse"})}),[0,1,2].map(F=>m.jsx("div",{className:"absolute w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-lg shadow-emerald-400/50",style:{top:`${25+F*20}%`,left:`${20+F*25}%`,animationDelay:`${F*.5}s`},children:m.jsx("div",{className:"w-full h-full rounded-full bg-emerald-400 animate-ping opacity-75"})},F))]}),m.jsx("h2",{className:"font-display font-black text-3xl text-white mb-3",children:"All Systems Optimal"}),m.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Real-time network monitoring active. All kiosks reporting normal status."}),m.jsx("div",{className:"mt-8 grid grid-cols-3 gap-3",children:[{label:"Uptime",value:"99.9%",color:"emerald"},{label:"Kiosks",value:"Online",color:"blue"},{label:"Security",value:"Active",color:"indigo"}].map((F,_e)=>m.jsxs("div",{className:`p-3 rounded-xl bg-${F.color}-500/10 border border-${F.color}-500/20`,children:[m.jsx("p",{className:`text-lg font-display font-bold text-${F.color}-400`,children:F.value}),m.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wide font-bold",children:F.label})]},_e))})]})]})]})}function CR({onLogout:r,initialProfile:e}){const[n,i]=le.useState(!0),[o,u]=le.useState("overview"),[d,y]=le.useState([]),[v,p]=le.useState([]),[w,E]=le.useState([]),[R,L]=le.useState([]),[Q,se]=le.useState([]),[te,de]=le.useState([]),[me,ne]=le.useState(!0),[ye,F]=le.useState("pending"),[_e,C]=le.useState(new Date),[A,I]=le.useState(e),[N,D]=le.useState(!1),[M,S]=le.useState(!1),[ct,yt]=le.useState(!1),[G,re]=le.useState(!1),[ve,Ve]=le.useState(!1),[Ge,V]=le.useState(e?.hiddenTransactions||[]),[X,ae]=le.useState(e?.hiddenAudits||[]),[oe,fe]=le.useState(null),[Ae,ke]=le.useState(null),[Oe,Ke]=le.useState(null);le.useEffect(()=>{const $=setInterval(()=>C(new Date),1e3);return()=>clearInterval($)},[]),le.useEffect(()=>{ne(!0);const $=[rl(il(hi(wt,"artifacts",Tt,"public","data","doctors")),ee=>y(ee.docs.map(Re=>({id:Re.id,...Re.data()}))),ee=>console.error(ee)),rl(il(hi(wt,"artifacts",Tt,"public","data","prescriptions")),ee=>{const Re=ee.docs.map(Pe=>({id:Pe.id,...Pe.data()})).sort((Pe,mn)=>(mn.createdAt?.seconds||0)-(Pe.createdAt?.seconds||0));p(Re),ne(!1)},ee=>console.error(ee)),rl(il(hi(wt,"artifacts",Tt,"public","data","machines")),ee=>E(ee.docs.map(Re=>({id:Re.id,...Re.data()}))),ee=>console.error(ee)),rl(il(hi(wt,"artifacts",Tt,"public","data","audit_logs"),c5(20)),ee=>{const Re=ee.docs.map(Pe=>({id:Pe.id,...Pe.data()})).sort((Pe,mn)=>(mn.timestamp?.seconds||0)-(Pe.timestamp?.seconds||0));L(Re),ne(!1)},ee=>{console.error(ee),ne(!1)}),rl(il(hi(wt,"artifacts",Tt,"public","data","medicines")),ee=>se(ee.docs.map(Re=>({id:Re.id,...Re.data()})))),rl(il(hi(wt,"artifacts",Tt,"public","data","support_tickets")),ee=>de(ee.docs.map(Re=>({id:Re.id,...Re.data()}))))];return()=>$.forEach(ee=>ee())},[]);const Qe=($,ee="success")=>{ke({message:$,type:ee}),setTimeout(()=>ke(null),3500)},Wn=async $=>{try{await Vn(Wt(wt,"artifacts",Tt,"public","data","settings","admin_profile"),$,{merge:!0}),I(ee=>({...ee,...$}))}catch(ee){console.error("Failed to save view preferences:",ee)}},bi=async($,ee)=>{try{await Vn(Wt(wt,"artifacts",Tt,"public","data","doctors",$),{status:ee,adminReviewedAt:Uo()},{merge:!0}),await We("Doctor Status Update",`Set ${$} to ${ee}`),Qe(`Doctor status updated to ${ee}`)}catch(Re){Qe("Update failed: "+Re.message,"error")}},xi=async($,ee)=>{if(ee)try{await d5(Wt(wt,"artifacts",Tt,"public","data","doctors",$),{password:ee}),await We("Doctor Mgmt",`Updated password for doctor ${$}`),Qe("Doctor password updated")}catch(Re){Qe("Update failed: "+Re.message,"error")}},Mn=$=>{fe({title:"Delete Doctor Account?",message:`Permanently remove ${$}?

This action cannot be undone.`,type:"danger",confirmText:"Delete Account",onConfirm:async()=>{fe(null);try{await Ah(Wt(wt,"artifacts",Tt,"public","data","doctors",$)),await We("Doctor Deletion",`Removed doctor: ${$}`),Qe("Doctor account deleted")}catch(ee){Qe("Deletion failed: "+ee.message,"error")}}})},wi=async $=>{try{await Vn(Wt(wt,"artifacts",Tt,"public","data","machines",$),{lastPing:Uo(),status:"online"},{merge:!0}),Qe(`Ping to ${$}  OK`),await We("Ping",`Pinged ${$}`)}catch(ee){Qe("Ping failed: "+ee.message,"error")}},$s=$=>{const ee=$.status==="online";Ke({...$,cpuTemp:ee?(35+Math.random()*15).toFixed(1)+"C":"N/A",printerPaper:ee?Math.floor(Math.random()*100)+"%":"Unknown",printerStatus:ee?"Ready":"Offline",motorStatus:ee?"Optimal":"Offline",scannerStatus:ee?"Active":"Not Detected",healthScore:ee?Math.floor(90+Math.random()*10)+"%":"0%",recommendation:ee?"System functioning normally. All sensors reporting within normal parameters.":"Check power and network connection.",slots:Array.from({length:10},(Re,Pe)=>({id:Pe+1,medicine:["Biogesic","Neozep","Amoxicillin","Solmux","Bioflu","Alaxan","Decolgen","Tuseran","Diatabs","Kremil-S"][Pe],stock:ee?Math.floor(Math.random()*100):0,status:ee?Math.random()>.95?"Jam":"OK":"Offline"}))})},Ti=$=>{fe({title:"Reboot Kiosk?",message:`Send reboot command to ${$}?

Kiosk will be unavailable for ~30 seconds.`,type:"info",confirmText:"Reboot Now",onConfirm:async()=>{fe(null);try{const ee=Wt(wt,"artifacts",Tt,"public","data","machines",$);await Vn(ee,{status:"rebooting"},{merge:!0}),Qe(`Rebooting ${$}...`),setTimeout(async()=>{await Vn(ee,{status:"offline"},{merge:!0}),setTimeout(async()=>{await Vn(ee,{status:"online",lastPing:Uo()},{merge:!0}),Qe(`${$} online`),await We("Reboot",`Rebooted ${$}`)},3e3)},1500)}catch(ee){Qe("Reboot failed: "+ee.message,"error")}}})},Ei=($,ee)=>{const Re=ee==="locked"?"online":"locked";fe({title:Re==="locked"?"Lock Kiosk?":"Unlock Kiosk?",message:`${Re==="locked"?"Lock":"Unlock"} kiosk ${$}?`,type:Re==="locked"?"danger":"info",confirmText:Re==="locked"?"Lock":"Unlock",onConfirm:async()=>{fe(null);try{await Vn(Wt(wt,"artifacts",Tt,"public","data","machines",$),{status:Re},{merge:!0}),await We("Security",`${Re.toUpperCase()} ${$}`)}catch(Pe){Qe("Command failed: "+Pe.message,"error")}}})},_t=$=>{fe({title:"Remove Kiosk?",message:`Remove ${$} from network?

This cannot be undone.`,type:"danger",confirmText:"Remove",onConfirm:async()=>{fe(null);try{await Ah(Wt(wt,"artifacts",Tt,"public","data","machines",$)),await We("Removal",`Removed kiosk ${$}`),Qe("Kiosk removed")}catch(ee){Qe("Failed: "+ee.message,"error")}}})},We=async($,ee)=>{try{await Vn(Wt(hi(wt,"artifacts",Tt,"public","data","audit_logs")),{action:$,details:ee,user:A.username,time:new Date().toLocaleTimeString(),timestamp:Uo()})}catch(Re){console.error("Audit log failed:",Re)}},gs=async($,ee,Re)=>{try{await ix(hi(wt,"artifacts",Tt,"public","data","broadcasts"),{message:$,priority:ee,target:Re,timestamp:Uo(),active:!0,sentBy:A.username,type:"admin_broadcast"}),await We("Broadcast",`Sent to ${Re}: ${$.slice(0,40)}...`),Qe(`Broadcast sent to ${Re==="all"?"entire network":Re}!`),yt(!1)}catch{Qe("Broadcast failed","error")}},kl=$=>{fe({title:"Hide Record?",message:`Hide this log from your view?

The record stays saved in the database.`,type:"danger",confirmText:"Hide",onConfirm:async()=>{fe(null);const ee=[...X,$];ae(ee),await Wn({hiddenAudits:ee})}})},ga=()=>{fe({title:"Clear All Audit Records?",message:`Hide all current records from view?

All records remain safe in the database.`,type:"danger",confirmText:"Clear View",onConfirm:async()=>{fe(null);const $=Array.from(new Set([...X,...R.map(ee=>ee.id)]));ae($),await Wn({hiddenAudits:$})}})},Gt=$=>{fe({title:"Hide Record?",message:`Hide this transaction from your view?

The record stays saved in the database.`,type:"danger",confirmText:"Hide",onConfirm:async()=>{fe(null);const ee=[...Ge,$];V(ee),await Wn({hiddenTransactions:ee})}})},Fs=()=>{fe({title:"Clear All Records?",message:`Hide all transactions from view?

All records remain safe in the database.`,type:"danger",confirmText:"Clear View",onConfirm:async()=>{fe(null);const $=Array.from(new Set([...Ge,...v.map(ee=>ee.id)]));V($),await Wn({hiddenTransactions:$})}})},Nr=async()=>{try{await Vn(Wt(wt,"artifacts",Tt,"public","data","settings","admin_profile"),A),D(!1),Qe("Profile saved and synced"),await We("Profile Update","Admin profile updated")}catch($){Qe("Save failed: "+$.message,"error")}},Cr=async $=>{try{const ee={...A,password:$};await Vn(Wt(wt,"artifacts",Tt,"public","data","settings","admin_profile"),ee,{merge:!0}),I(ee),S(!1),Qe("Password updated"),await We("Password Change","Admin password updated")}catch(ee){Qe("Failed: "+ee.message,"error")}},Kt=d.filter($=>$.status==="pending").length,pa=d.filter($=>$.status==="active").length,ps=w.filter($=>$.status==="online").length,Ln=te.filter($=>$.status==="open").length,ys=Kt+Ln,En=d.filter($=>ye==="all"?!0:$.status===ye),Rt=v.filter($=>!Ge.includes($.id)),sn=R.filter($=>!X.includes($.id)),mt=[...Rt.map($=>({...$,_type:"rx",_sortTime:$.createdAt?.seconds||0})),...sn.map($=>({...$,_type:"audit",_sortTime:$.timestamp?.seconds||0}))].sort(($,ee)=>ee._sortTime-$._sortTime).slice(0,8),ya=$=>{u($),re(!1),Ke(null)},Ai=[{label:"Workspace",items:[{id:"overview",label:"Dashboard",icon:m.jsx(hT,{})}]},{label:"Network",items:[{id:"doctors",label:"Doctors",icon:m.jsx(sa,{}),badge:Kt},{id:"machines",label:"Kiosks",icon:m.jsx($o,{})}]},{label:"Inventory & Support",items:[{id:"inventory",label:"Master List",icon:m.jsx(wm,{})},{id:"support",label:"Support",icon:m.jsx(Zu,{}),badge:Ln>0?Ln:null}]},{label:"Compliance",items:[{id:"transactions",label:"Logs",icon:m.jsx(Xm,{})},{id:"audit",label:"Audit",icon:m.jsx(nb,{})}]}];return m.jsxs("div",{className:`flex h-screen font-sans overflow-hidden transition-colors duration-500 ${n?"bg-[#060b18] text-slate-300":"bg-slate-50 text-slate-600"}`,children:[m.jsx(Bg,{}),Ae&&m.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-5 py-3 rounded-2xl shadow-2xl text-sm font-bold animate-slide-up glass border ${Ae.type==="error"?"bg-rose-600/90 text-white border-rose-500/30 shadow-rose-500/20":"bg-emerald-600/90 text-white border-emerald-500/30 shadow-emerald-500/20"}`,children:[Ae.type==="error"?m.jsx(uh,{className:"w-4 h-4"}):m.jsx(bm,{className:"w-4 h-4"}),Ae.message]}),m.jsx(qg,{isOpen:!!oe,...oe,onClose:()=>fe(null),isDarkMode:n}),G&&m.jsx("div",{className:"fixed inset-0 z-20 bg-black/60 backdrop-blur-sm md:hidden",onClick:()=>re(!1)}),m.jsxs("aside",{className:`fixed inset-y-0 left-0 z-30 w-64 border-r flex flex-col transform transition-all duration-300 ease-out ${G?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 ${n?"bg-[#090e1d] border-white/5":"bg-white border-gray-100 shadow-xl"}`,children:[m.jsxs("div",{className:`relative p-5 border-b overflow-hidden ${n?"border-white/5":"border-gray-100"}`,children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/5 to-transparent"}),m.jsxs("div",{className:"relative flex items-center gap-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 rounded-xl bg-indigo-500/30 blur-md"}),m.jsx("div",{className:"relative bg-gradient-to-br from-indigo-600 to-blue-600 p-2.5 rounded-xl shadow-lg shadow-indigo-500/20",children:m.jsx(Dh,{className:"w-5 h-5 text-white"})})]}),m.jsxs("div",{children:[m.jsx("h1",{className:`font-display font-black text-lg tracking-tight ${n?"text-white":"text-slate-900"}`,children:"MediVend"}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(yl,{color:"emerald"}),m.jsx("p",{className:"text-[10px] font-bold text-emerald-500 tracking-widest uppercase",children:"Super Admin"})]})]}),m.jsx("button",{onClick:()=>re(!1),className:`md:hidden ml-auto p-1.5 rounded-lg ${n?"text-slate-500 hover:bg-white/5":"text-slate-400 hover:bg-gray-100"}`,children:m.jsx(vl,{className:"w-4 h-4"})})]})]}),m.jsx("nav",{className:"flex-1 px-3 py-4 space-y-6 overflow-y-auto custom-scrollbar",children:Ai.map($=>m.jsxs("div",{children:[m.jsx("p",{className:`px-4 mb-2 text-[9px] font-black uppercase tracking-[0.15em] ${n?"text-slate-700":"text-slate-300"}`,children:$.label}),m.jsx("div",{className:"space-y-0.5",children:$.items.map(ee=>m.jsx(gR,{id:ee.id,label:ee.label,icon:ee.icon,active:o===ee.id,onClick:ya,badge:ee.badge,isDarkMode:n},ee.id))})]},$.label))}),m.jsxs("div",{className:`p-4 border-t ${n?"border-white/5 bg-black/20":"border-gray-100 bg-gray-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-xl bg-gradient-to-br from-indigo-600 to-blue-600 flex items-center justify-center text-white font-display font-bold text-sm shadow-lg shadow-indigo-500/20",children:A?.displayName?.charAt(0)||"A"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:`font-bold text-xs truncate ${n?"text-white":"text-slate-900"}`,children:A?.displayName}),m.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:A?.email})]})]}),m.jsxs("button",{onClick:r,className:`w-full flex items-center justify-center gap-2 py-2 rounded-xl text-xs font-bold transition-all btn-hover-lift border ${n?"text-slate-500 border-white/5 hover:bg-rose-500/10 hover:text-rose-400 hover:border-rose-500/20":"text-slate-400 border-gray-200 hover:bg-rose-50 hover:text-rose-600 hover:border-rose-200"}`,children:[m.jsx(pT,{className:"w-3.5 h-3.5"})," Sign Out"]})]})]}),m.jsxs("div",{className:`flex-1 flex flex-col min-w-0 overflow-hidden relative ${n?"bg-[#060b18]":"bg-slate-50"}`,children:[m.jsxs("header",{className:`h-16 border-b flex items-center justify-between px-4 md:px-6 z-10 sticky top-0 transition-all glass ${n?"bg-[#060b18]/90 border-white/5":"bg-white/90 border-gray-100 shadow-sm"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>re(!0),className:`md:hidden p-2 rounded-xl transition-all ${n?"text-slate-400 hover:bg-white/5":"text-slate-600 hover:bg-gray-100"}`,children:m.jsx(_T,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h2",{className:`font-display font-bold text-lg capitalize ${n?"text-white":"text-slate-900"}`,children:o==="overview"?"Dashboard":o.replace("-"," ")}),m.jsx("p",{className:`text-[10px] font-mono hidden sm:block ${n?"text-slate-600":"text-slate-400"}`,children:_e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:`hidden lg:flex items-center gap-2 px-3 py-2 rounded-xl border text-xs font-mono font-semibold ${n?"bg-white/5 border-white/10 text-slate-300":"bg-gray-100 border-gray-200 text-slate-600"}`,children:[m.jsx("div",{className:"relative",children:m.jsx(K2,{className:"w-3.5 h-3.5 text-indigo-400"})}),_e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),m.jsx("button",{onClick:()=>i(!n),className:`p-2 rounded-xl transition-all btn-hover-lift border ${n?"bg-white/5 border-white/10 text-amber-400 hover:bg-white/10":"bg-gray-100 border-gray-200 text-indigo-500 hover:bg-gray-200"}`,children:n?m.jsx(KT,{className:"w-4 h-4"}):m.jsx(TT,{className:"w-4 h-4"})}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>Ve(!ve),className:`p-2 rounded-xl transition-all btn-hover-lift border relative ${n?"bg-white/5 border-white/10 text-slate-400 hover:text-indigo-400":"bg-gray-100 border-gray-200 text-slate-500 hover:text-indigo-600"}`,children:[m.jsx(O2,{className:"w-4 h-4"}),ys>0&&m.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-rose-500 rounded-full text-[9px] font-bold text-white flex items-center justify-center shadow-lg shadow-rose-500/30",children:ys})]}),ve&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Ve(!1)}),m.jsxs("div",{className:`absolute right-0 top-12 w-72 rounded-2xl shadow-2xl border z-20 overflow-hidden animate-scale-in glass ${n?"bg-[#0f1829] border-white/10":"bg-white border-gray-100"}`,children:[m.jsxs("div",{className:`px-4 py-3 border-b flex items-center justify-between ${n?"border-white/5":"border-gray-100"}`,children:[m.jsx("span",{className:`font-display font-bold text-sm ${n?"text-white":"text-slate-900"}`,children:"Notifications"}),ys>0&&m.jsxs("span",{className:"text-[10px] font-bold bg-rose-500/10 text-rose-400 px-2 py-0.5 rounded-full border border-rose-500/20",children:[ys," new"]})]}),Kt>0&&m.jsxs("button",{onClick:()=>{u("doctors"),F("pending"),Ve(!1)},className:`w-full p-4 text-left flex items-center justify-between transition-all hover:bg-amber-500/5 border-b ${n?"border-white/5":"border-gray-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-xl bg-amber-500/10",children:m.jsx(sa,{className:"w-4 h-4 text-amber-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm ${n?"text-white":"text-slate-900"}`,children:"Pending Approvals"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Review doctor applications"})]})]}),m.jsx("span",{className:"bg-amber-500/15 text-amber-400 text-xs px-2 py-1 rounded-xl font-bold border border-amber-500/20",children:Kt})]}),Ln>0&&m.jsxs("button",{onClick:()=>{u("support"),Ve(!1)},className:"w-full p-4 text-left flex items-center justify-between transition-all hover:bg-rose-500/5",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-xl bg-rose-500/10",children:m.jsx(Zu,{className:"w-4 h-4 text-rose-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm ${n?"text-white":"text-slate-900"}`,children:"Open Tickets"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Requires response"})]})]}),m.jsx("span",{className:"bg-rose-500/15 text-rose-400 text-xs px-2 py-1 rounded-xl font-bold border border-rose-500/20",children:Ln})]}),ys===0&&m.jsxs("div",{className:"p-6 text-center",children:[m.jsx(bm,{className:"w-8 h-8 text-emerald-400 mx-auto mb-2"}),m.jsx("p",{className:`text-sm font-bold ${n?"text-white":"text-slate-700"}`,children:"All clear!"}),m.jsx("p",{className:"text-xs text-slate-500",children:"No new notifications"})]})]})]})]}),m.jsx("button",{onClick:()=>u("settings"),className:"w-9 h-9 rounded-xl bg-gradient-to-br from-indigo-600 to-blue-600 flex items-center justify-center text-white font-display font-bold text-sm shadow-lg shadow-indigo-500/20 hover:shadow-indigo-500/40 transition-all btn-hover-lift ring-2 ring-indigo-500/20 hover:ring-indigo-500/40",children:A?.displayName?.charAt(0)||"A"})]})]}),m.jsxs("main",{className:`flex-1 overflow-y-auto custom-scrollbar p-4 lg:p-6 ${n?"bg-[#060b18]":"bg-slate-50"}`,children:[o==="overview"&&m.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[m.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"Pending Approvals",value:Kt,icon:m.jsx(sa,{className:"w-5 h-5"}),color:"amber",subtext:"Needs attention",onClick:()=>{u("doctors"),F("pending")}},{title:"Active Kiosks",value:`${ps}/${w.length}`,icon:m.jsx($o,{className:"w-5 h-5"}),color:"emerald",subtext:"Network status",onClick:()=>u("machines")},{title:"Master Inventory",value:Q.length,icon:m.jsx(wm,{className:"w-5 h-5"}),color:"blue",subtext:"Medicine SKUs",onClick:()=>u("inventory")},{title:"Security Events",value:sn.length,icon:m.jsx(AT,{className:"w-5 h-5"}),color:"red",subtext:"System events",onClick:()=>u("audit")}].map(($,ee)=>m.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${ee*.07}s`,animationFillMode:"both",opacity:0},children:m.jsx(pR,{...$,isDarkMode:n})},ee))}),m.jsxs("div",{className:`p-6 rounded-2xl border animate-slide-up ${n?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"}`,style:{animationDelay:"0.2s",animationFillMode:"both",opacity:0},children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-display font-bold text-lg ${n?"text-white":"text-slate-900"}`,children:"Network Health"}),m.jsxs("p",{className:`text-xs mt-0.5 ${n?"text-slate-500":"text-slate-400"}`,children:[v.length," total prescriptions"]})]}),m.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl bg-emerald-500/10 border border-emerald-500/20",children:[m.jsx(yl,{color:"emerald"}),m.jsx("span",{className:"text-xs font-bold text-emerald-400",children:"All Systems Operational"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsxs("p",{className:`text-xs font-bold uppercase tracking-widest mb-4 flex items-center gap-2 ${n?"text-slate-500":"text-slate-400"}`,children:[m.jsx($o,{className:"w-3.5 h-3.5 text-emerald-400"})," Kiosk Connectivity"]}),m.jsx("div",{className:"space-y-4",children:[{label:`Online (${ps})`,pct:w.length>0?ps/w.length*100:0,color:"from-emerald-500 to-teal-400",textColor:"text-emerald-400"},{label:`Offline (${w.length-ps})`,pct:w.length>0?(w.length-ps)/w.length*100:0,color:"from-slate-500 to-slate-600",textColor:"text-slate-400"}].map(($,ee)=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[m.jsx("span",{className:n?"text-slate-400":"text-slate-600",children:$.label}),m.jsxs("span",{className:`font-bold font-mono ${$.textColor}`,children:[Math.round($.pct),"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/5":"bg-gray-100"}`,children:m.jsx("div",{className:`h-full bg-gradient-to-r ${$.color} rounded-full progress-bar`,style:{width:`${$.pct}%`}})})]},ee))})]}),m.jsxs("div",{children:[m.jsxs("p",{className:`text-xs font-bold uppercase tracking-widest mb-4 flex items-center gap-2 ${n?"text-slate-500":"text-slate-400"}`,children:[m.jsx(sa,{className:"w-3.5 h-3.5 text-blue-400"})," Provider Status"]}),m.jsx("div",{className:"space-y-4",children:[{label:`Active Physicians (${pa})`,pct:d.length>0?pa/d.length*100:0,color:"from-blue-500 to-cyan-400",textColor:"text-blue-400"},{label:`Pending Review (${Kt})`,pct:d.length>0?Kt/d.length*100:0,color:"from-amber-500 to-orange-400",textColor:"text-amber-400"}].map(($,ee)=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[m.jsx("span",{className:n?"text-slate-400":"text-slate-600",children:$.label}),m.jsxs("span",{className:`font-bold font-mono ${$.textColor}`,children:[Math.round($.pct),"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/5":"bg-gray-100"}`,children:m.jsx("div",{className:`h-full bg-gradient-to-r ${$.color} rounded-full progress-bar`,style:{width:`${$.pct}%`}})})]},ee))})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[m.jsxs("div",{className:`lg:col-span-2 p-6 rounded-2xl border animate-slide-up ${n?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"}`,style:{animationDelay:"0.3s",animationFillMode:"both",opacity:0},children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[m.jsx(eb,{className:"w-5 h-5 text-indigo-400"}),m.jsx("h3",{className:`font-display font-bold text-base ${n?"text-white":"text-slate-900"}`,children:"Top Prescribed Medicines"})]}),m.jsx(_R,{transactions:v,isDarkMode:n})]}),m.jsxs("div",{className:`p-6 rounded-2xl border animate-slide-up ${n?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"}`,style:{animationDelay:"0.35s",animationFillMode:"both",opacity:0},children:[m.jsx("h3",{className:`font-display font-bold text-base mb-5 ${n?"text-white":"text-slate-900"}`,children:"Quick Actions"}),m.jsxs("div",{className:"space-y-2.5",children:[m.jsx(Ju,{onClick:()=>{u("doctors"),F("pending")},icon:m.jsx(sa,{className:"w-4 h-4"}),label:`Review ${Kt} Pending`,variant:"primary"}),m.jsx(Ju,{onClick:()=>yt(!0),icon:m.jsx(ib,{className:"w-4 h-4"}),label:"Send Broadcast",variant:"secondary",isDarkMode:n}),m.jsx(Ju,{onClick:()=>u("audit"),icon:m.jsx(ab,{className:"w-4 h-4"}),label:"Security Audit",variant:"secondary",isDarkMode:n}),m.jsx(Ju,{onClick:()=>u("support"),icon:m.jsx(Zu,{className:"w-4 h-4"}),label:`Support ${Ln>0?`(${Ln})`:""}`,variant:"secondary",isDarkMode:n})]})]})]}),m.jsxs("div",{className:`p-6 rounded-2xl border animate-slide-up ${n?"bg-[#0d1424] border-white/5":"bg-white border-gray-100 shadow-sm"}`,style:{animationDelay:"0.4s",animationFillMode:"both",opacity:0},children:[m.jsxs("div",{className:"flex items-center justify-between mb-5",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(OT,{className:"w-4 h-4 text-indigo-400 animate-pulse"}),m.jsx("h3",{className:`font-display font-bold text-base ${n?"text-white":"text-slate-900"}`,children:"Live Activity Feed"})]}),m.jsx(yl,{color:"indigo"})]}),m.jsxs("div",{className:"space-y-1 relative",children:[m.jsx("div",{className:`absolute left-3.5 top-2 bottom-2 w-px ${n?"bg-white/5":"bg-gray-100"}`}),mt.length===0?m.jsx("div",{className:"pl-10 py-4 text-sm text-slate-500 italic",children:"No recent activity"}):mt.map(($,ee)=>m.jsxs("div",{className:`py-3 pl-10 pr-3 relative flex justify-between items-center rounded-xl transition-colors cursor-default ${n?"hover:bg-white/3":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 border-2 rounded-full z-10 ${$._type==="rx"?"bg-[#060b18] border-blue-500":"bg-[#060b18] border-amber-500"}`}),m.jsxs("div",{children:[m.jsx("p",{className:`font-semibold text-xs ${n?"text-white":"text-slate-900"}`,children:$._type==="rx"?"Prescription Issued":$.action}),m.jsx("p",{className:`text-[11px] mt-0.5 ${n?"text-slate-500":"text-slate-400"}`,children:$._type==="rx"?`Dr. ${$.doctorName}  ${$.patient?.name}`:$.details})]}),m.jsx("span",{className:`text-[10px] font-mono ml-4 flex-shrink-0 ${n?"text-slate-600":"text-slate-400"}`,children:$._type==="rx"?$.date:$.time})]},$.id+ee))]})]})]}),o==="doctors"&&m.jsx(wR,{doctors:En,filter:ye,setFilter:F,onRefresh:()=>{},onUpdateStatus:bi,onUpdatePassword:xi,onDelete:Mn,loading:me,isDarkMode:n}),o==="machines"&&m.jsx(TR,{machines:w,onPing:wi,onRunDiagnostics:$s,onReboot:Ti,onLock:Ei,onDelete:_t,isDarkMode:n}),o==="inventory"&&m.jsx(bR,{medicines:Q,db:wt,appId:Tt,isDarkMode:n,onNotify:Qe}),o==="support"&&m.jsx(xR,{tickets:te,db:wt,appId:Tt,isDarkMode:n,onNotify:Qe}),o==="transactions"&&m.jsx(ER,{transactions:Rt,onHide:Gt,onClearView:Fs,isDarkMode:n}),o==="audit"&&m.jsx(AR,{logs:sn,onHide:kl,onClearView:ga,isDarkMode:n}),o==="settings"&&m.jsx(SR,{profile:A,setProfile:I,onSave:Nr,isEditing:N,setIsEditing:D,setShowPassword:()=>S(!0),isDarkMode:n,transactions:v,auditLogs:R,doctors:d,machines:w,medicines:Q,supportTickets:te,onNotify:Qe})]}),M&&m.jsx(yR,{onClose:()=>S(!1),currentCreds:A,onUpdate:Cr,isDarkMode:n,onNotify:Qe}),ct&&m.jsx(vR,{onClose:()=>yt(!1),onSend:gs,isDarkMode:n}),Oe&&m.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-scale-in",children:m.jsxs("div",{className:`rounded-3xl shadow-2xl max-w-2xl w-full overflow-hidden border flex flex-col max-h-[90vh] ${n?"bg-[#0d1424] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center flex-shrink-0 ${n?"border-white/10 bg-gradient-to-r from-indigo-900/20 to-transparent":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsxs("h3",{className:`font-display font-bold text-lg flex items-center gap-2 ${n?"text-white":"text-slate-900"}`,children:[m.jsx(Jo,{className:"w-5 h-5 text-emerald-400"})," Kiosk Diagnostics"]}),m.jsxs("p",{className:`text-xs mt-0.5 font-mono ${n?"text-slate-500":"text-slate-400"}`,children:[Oe.id,"  ",Oe.location]})]}),m.jsx("button",{onClick:()=>Ke(null),className:`p-2 rounded-xl transition-all ${n?"hover:bg-white/10 text-slate-400":"hover:bg-gray-100 text-slate-500"}`,children:m.jsx(vl,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:`flex-1 text-center p-5 rounded-2xl border ${n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsx("div",{className:`text-5xl font-display font-black mb-1 ${Oe.status==="online"?"text-emerald-400":"text-rose-400"}`,children:Oe.healthScore}),m.jsx("p",{className:"text-[11px] text-slate-500 uppercase tracking-widest font-bold",children:"Health Score"})]}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Remote Commands"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[[{label:"Ping",icon:m.jsx(Jo,{size:14}),action:()=>{wi(Oe.id),Ke(null)}},{label:"Reboot",icon:m.jsx(Tm,{size:14}),action:()=>{Ti(Oe.id),Ke(null)}}].map(($,ee)=>m.jsxs("button",{onClick:$.action,className:`flex items-center justify-center gap-1.5 p-2.5 rounded-xl text-xs font-bold transition-all btn-hover-lift ${n?"bg-white/5 hover:bg-white/10 text-white border border-white/10":"bg-gray-100 hover:bg-gray-200 text-slate-700 border border-gray-200"}`,children:[$.icon," ",$.label]},ee)),m.jsx("button",{onClick:()=>{Ei(Oe.id,Oe.status),Ke(null)},className:`col-span-2 flex items-center justify-center gap-2 p-2.5 rounded-xl text-xs font-bold transition-all btn-hover-lift border ${Oe.status==="locked"?"bg-emerald-500/15 text-emerald-400 border-emerald-500/20 hover:bg-emerald-500/25":"bg-rose-500/15 text-rose-400 border-rose-500/20 hover:bg-rose-500/25"}`,children:Oe.status==="locked"?m.jsxs(m.Fragment,{children:[m.jsx(xm,{size:14})," Unlock"]}):m.jsxs(m.Fragment,{children:[m.jsx(cr,{size:14})," Lock Kiosk"]})})]})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-3",children:"Hardware Sensors"}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{icon:m.jsx(YT,{className:"w-4 h-4 text-rose-400"}),label:"CPU Temp",value:Oe.cpuTemp},{icon:m.jsx(jT,{className:"w-4 h-4 text-blue-400"}),label:"Paper Level",value:Oe.printerPaper},{icon:m.jsx(lE,{className:"w-4 h-4 text-amber-400"}),label:"Motor",value:Oe.motorStatus},{icon:m.jsx(PT,{className:"w-4 h-4 text-purple-400"}),label:"Scanner",value:Oe.scannerStatus}].map(($,ee)=>m.jsxs("div",{className:`p-3 rounded-2xl border ${n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[$.icon,m.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wide ${n?"text-slate-500":"text-slate-400"}`,children:$.label})]}),m.jsx("p",{className:`text-sm font-mono font-bold ${n?"text-white":"text-slate-900"}`,children:$.value})]},ee))})]}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[m.jsx(cT,{className:"w-3.5 h-3.5"})," Dispensing Slots"]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:Oe.slots?.map($=>m.jsxs("div",{className:`p-2.5 rounded-xl border relative overflow-hidden ${$.status==="Jam"?"border-rose-500/40 bg-rose-500/8":n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsxs("span",{className:`text-[9px] font-bold ${n?"text-slate-600":"text-slate-400"}`,children:["#",$.id]}),$.status==="Jam"&&m.jsx(uh,{className:"w-3 h-3 text-rose-400"})]}),m.jsx("p",{className:`text-[10px] font-bold truncate mb-2 ${n?"text-white":"text-slate-900"}`,children:$.medicine}),m.jsx("div",{className:`w-full h-1.5 rounded-full overflow-hidden ${n?"bg-black/40":"bg-gray-200"}`,children:m.jsx("div",{className:`h-full rounded-full progress-bar ${$.stock<20?"bg-rose-500":"bg-emerald-500"}`,style:{width:`${$.stock}%`}})}),m.jsxs("p",{className:`text-[9px] font-mono mt-1 ${$.stock<20?"text-rose-400":"text-emerald-400"}`,children:[$.stock,"%"]})]},$.id))})]}),m.jsxs("div",{className:`p-4 rounded-2xl border flex items-start gap-3 ${Oe.status==="online"?"bg-emerald-500/8 border-emerald-500/20":"bg-rose-500/8 border-rose-500/20"}`,children:[m.jsx(k2,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${Oe.status==="online"?"text-emerald-400":"text-rose-400"}`}),m.jsxs("div",{children:[m.jsx("p",{className:`text-[10px] font-bold uppercase tracking-widest mb-1 ${Oe.status==="online"?"text-emerald-400":"text-rose-400"}`,children:"AI Recommendation"}),m.jsx("p",{className:`text-sm ${n?"text-slate-300":"text-slate-700"}`,children:Oe.recommendation})]})]})]}),m.jsx("div",{className:`p-4 border-t flex justify-end flex-shrink-0 ${n?"bg-white/3 border-white/10":"bg-gray-50 border-gray-100"}`,children:m.jsx("button",{onClick:()=>Ke(null),className:"px-6 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-500 to-indigo-400 text-white text-xs font-bold rounded-xl shadow-lg shadow-indigo-500/20 btn-hover-lift",children:"Close"})})]})})]})]})}function RR(){const[r,e]=le.useState(!1),[n,i]=le.useState(null),[o,u]=le.useState(!0);return le.useEffect(()=>{(async()=>{try{await Q5(fR);const y=Wt(wt,"artifacts",Tt,"public","data","settings","admin_profile"),v=await h5(y);v.exists()?i(v.data()):(await Vn(y,_m),i(_m))}catch(y){console.error("Init failed:",y),i(_m)}finally{u(!1)}})()},[]),o?m.jsxs("div",{className:"flex h-screen items-center justify-center bg-[#060b18] font-sans",children:[m.jsx(Bg,{}),m.jsxs("div",{className:"flex flex-col items-center gap-5 text-center",children:[m.jsxs("div",{className:"relative w-20 h-20",children:[m.jsx("div",{className:"absolute inset-0 rounded-3xl bg-indigo-500/20 blur-xl animate-pulse"}),m.jsx("div",{className:"relative w-full h-full bg-gradient-to-br from-indigo-600 to-blue-600 rounded-3xl flex items-center justify-center shadow-2xl shadow-indigo-500/30",children:m.jsx(Dh,{className:"w-9 h-9 text-white"})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-sm font-bold text-slate-300 font-display",children:"Connecting to Secure Server"}),m.jsx("div",{className:"flex items-center justify-center gap-1.5",children:[0,1,2].map(d=>m.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:`${d*.15}s`}},d))})]})]})]}):r?m.jsx(CR,{onLogout:()=>e(!1),initialProfile:n}):m.jsx(NR,{onLogin:()=>e(!0),cloudProfile:n})}A2.createRoot(document.getElementById("root")).render(m.jsx(le.StrictMode,{children:m.jsx(RR,{})}));
