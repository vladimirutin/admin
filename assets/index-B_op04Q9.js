(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function cT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Qf={exports:{}},Mo={};var iv;function uT(){if(iv)return Mo;iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:r,type:i,key:d,ref:o!==void 0?o:null,props:u}}return Mo.Fragment=e,Mo.jsx=n,Mo.jsxs=n,Mo}var rv;function hT(){return rv||(rv=1,Qf.exports=uT()),Qf.exports}var m=hT(),Yf={exports:{}},Ae={};var av;function dT(){if(av)return Ae;av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ee={};function ae(O,K,re){this.props=O,this.context=K,this.refs=ee,this.updater=re||X}ae.prototype.isReactComponent={},ae.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ae.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=ae.prototype;function le(O,K,re){this.props=O,this.context=K,this.refs=ee,this.updater=re||X}var be=le.prototype=new te;be.constructor=le,J(be,ae.prototype),be.isPureReactComponent=!0;var ze=Array.isArray;function Ne(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function E(O,K,re){var ne=re.ref;return{$$typeof:r,type:O,key:K,ref:ne!==void 0?ne:null,props:re}}function V(O,K){return E(O.type,K,O.props)}function j(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function M(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return K[re]})}var R=/\/+/g;function lt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):K.toString(36)}function gt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ne,Ne):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,re,ne,ve){var Ee=typeof O;(Ee==="undefined"||Ee==="boolean")&&(O=null);var Ve=!1;if(O===null)Ve=!0;else switch(Ee){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(O.$$typeof){case r:case e:Ve=!0;break;case w:return Ve=O._init,F(Ve(O._payload),K,re,ne,ve)}}if(Ve)return ve=ve(O),Ve=ne===""?"."+lt(O,0):ne,ze(ve)?(re="",Ve!=null&&(re=Ve.replace(R,"$&/")+"/"),F(ve,K,re,"",function(ys){return ys})):ve!=null&&(j(ve)&&(ve=V(ve,re+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(R,"$&/")+"/")+Ve)),K.push(ve)),1;Ve=0;var Tt=ne===""?".":ne+":";if(ze(O))for(var ot=0;ot<O.length;ot++)ne=O[ot],Ee=Tt+lt(ne,ot),Ve+=F(ne,K,re,Ee,ve);else if(ot=q(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(ne=O.next()).done;)ne=ne.value,Ee=Tt+lt(ne,ot++),Ve+=F(ne,K,re,Ee,ve);else if(Ee==="object"){if(typeof O.then=="function")return F(gt(O),K,re,ne,ve);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ie(O,K,re){if(O==null)return O;var ne=[],ve=0;return F(O,ne,"","",function(Ee){return K.call(re,Ee,ve++)}),ne}function me(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Be=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Fe={map:ie,forEach:function(O,K,re){ie(O,function(){K.apply(this,arguments)},re)},count:function(O){var K=0;return ie(O,function(){K++}),K},toArray:function(O){return ie(O,function(K){return K})||[]},only:function(O){if(!j(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=A,Ae.Children=Fe,Ae.Component=ae,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=le,Ae.StrictMode=i,Ae.Suspense=v,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,K,re){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ne=J({},O.props),ve=O.key;if(K!=null)for(Ee in K.key!==void 0&&(ve=""+K.key),K)!S.call(K,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&K.ref===void 0||(ne[Ee]=K[Ee]);var Ee=arguments.length-2;if(Ee===1)ne.children=re;else if(1<Ee){for(var Ve=Array(Ee),Tt=0;Tt<Ee;Tt++)Ve[Tt]=arguments[Tt+2];ne.children=Ve}return E(O.type,ve,ne)},Ae.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ae.createElement=function(O,K,re){var ne,ve={},Ee=null;if(K!=null)for(ne in K.key!==void 0&&(Ee=""+K.key),K)S.call(K,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ve[ne]=K[ne]);var Ve=arguments.length-2;if(Ve===1)ve.children=re;else if(1<Ve){for(var Tt=Array(Ve),ot=0;ot<Ve;ot++)Tt[ot]=arguments[ot+2];ve.children=Tt}if(O&&O.defaultProps)for(ne in Ve=O.defaultProps,Ve)ve[ne]===void 0&&(ve[ne]=Ve[ne]);return E(O,Ee,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:y,render:O}},Ae.isValidElement=j,Ae.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:me}},Ae.memo=function(O,K){return{$$typeof:p,type:O,compare:K===void 0?null:K}},Ae.startTransition=function(O){var K=I.T,re={};I.T=re;try{var ne=O(),ve=I.S;ve!==null&&ve(re,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Ne,Be)}catch(Ee){Be(Ee)}finally{K!==null&&re.types!==null&&(K.types=re.types),I.T=K}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(O){return I.H.use(O)},Ae.useActionState=function(O,K,re){return I.H.useActionState(O,K,re)},Ae.useCallback=function(O,K){return I.H.useCallback(O,K)},Ae.useContext=function(O){return I.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},Ae.useEffect=function(O,K){return I.H.useEffect(O,K)},Ae.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(O,K,re){return I.H.useImperativeHandle(O,K,re)},Ae.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},Ae.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},Ae.useMemo=function(O,K){return I.H.useMemo(O,K)},Ae.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},Ae.useReducer=function(O,K,re){return I.H.useReducer(O,K,re)},Ae.useRef=function(O){return I.H.useRef(O)},Ae.useState=function(O){return I.H.useState(O)},Ae.useSyncExternalStore=function(O,K,re){return I.H.useSyncExternalStore(O,K,re)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.4",Ae}var lv;function Km(){return lv||(lv=1,Yf.exports=dT()),Yf.exports}var de=Km();const fT=cT(de);var Xf={exports:{}},Lo={},Jf={exports:{}},Zf={};var ov;function mT(){return ov||(ov=1,(function(r){function e(F,ie){var me=F.length;F.push(ie);e:for(;0<me;){var Be=me-1>>>1,Fe=F[Be];if(0<o(Fe,ie))F[Be]=ie,F[me]=Fe,me=Be;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var ie=F[0],me=F.pop();if(me!==ie){F[0]=me;e:for(var Be=0,Fe=F.length,O=Fe>>>1;Be<O;){var K=2*(Be+1)-1,re=F[K],ne=K+1,ve=F[ne];if(0>o(re,me))ne<Fe&&0>o(ve,re)?(F[Be]=ve,F[ne]=me,Be=ne):(F[Be]=re,F[K]=me,Be=K);else if(ne<Fe&&0>o(ve,me))F[Be]=ve,F[ne]=me,Be=ne;else break e}}return ie}function o(F,ie){var me=F.sortIndex-ie.sortIndex;return me!==0?me:F.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],p=[],w=1,A=null,N=3,q=!1,X=!1,J=!1,ee=!1,ae=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function be(F){for(var ie=n(p);ie!==null;){if(ie.callback===null)i(p);else if(ie.startTime<=F)i(p),ie.sortIndex=ie.expirationTime,e(v,ie);else break;ie=n(p)}}function ze(F){if(J=!1,be(F),!X)if(n(v)!==null)X=!0,Ne||(Ne=!0,M());else{var ie=n(p);ie!==null&&gt(ze,ie.startTime-F)}}var Ne=!1,I=-1,S=5,E=-1;function V(){return ee?!0:!(r.unstable_now()-E<S)}function j(){if(ee=!1,Ne){var F=r.unstable_now();E=F;var ie=!0;try{e:{X=!1,J&&(J=!1,te(I),I=-1),q=!0;var me=N;try{t:{for(be(F),A=n(v);A!==null&&!(A.expirationTime>F&&V());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,N=A.priorityLevel;var Fe=Be(A.expirationTime<=F);if(F=r.unstable_now(),typeof Fe=="function"){A.callback=Fe,be(F),ie=!0;break t}A===n(v)&&i(v),be(F)}else i(v);A=n(v)}if(A!==null)ie=!0;else{var O=n(p);O!==null&&gt(ze,O.startTime-F),ie=!1}}break e}finally{A=null,N=me,q=!1}ie=void 0}}finally{ie?M():Ne=!1}}}var M;if(typeof le=="function")M=function(){le(j)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,lt=R.port2;R.port1.onmessage=j,M=function(){lt.postMessage(null)}}else M=function(){ae(j,0)};function gt(F,ie){I=ae(function(){F(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(F){switch(N){case 1:case 2:case 3:var ie=3;break;default:ie=N}var me=N;N=ie;try{return F()}finally{N=me}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=N;N=F;try{return ie()}finally{N=me}},r.unstable_scheduleCallback=function(F,ie,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,F){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=me+Fe,F={id:w++,callback:ie,priorityLevel:F,startTime:me,expirationTime:Fe,sortIndex:-1},me>Be?(F.sortIndex=me,e(p,F),n(v)===null&&F===n(p)&&(J?(te(I),I=-1):J=!0,gt(ze,me-Be))):(F.sortIndex=Fe,e(v,F),X||q||(X=!0,Ne||(Ne=!0,M()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var ie=N;return function(){var me=N;N=ie;try{return F.apply(this,arguments)}finally{N=me}}}})(Zf)),Zf}var cv;function gT(){return cv||(cv=1,Jf.exports=mT()),Jf.exports}var Wf={exports:{}},an={};var uv;function pT(){if(uv)return an;uv=1;var r=Km();function e(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,p,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:p,implementation:w}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(v,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(v,p,null,w)},an.flushSync=function(v){var p=d.T,w=i.p;try{if(d.T=null,i.p=2,v)return v()}finally{d.T=p,i.p=w,i.d.f()}},an.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(v,p))},an.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},an.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var w=p.as,A=y(w,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;w==="style"?i.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:q}):w==="script"&&i.d.X(v,{crossOrigin:A,integrity:N,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var w=y(p.as,p.crossOrigin);i.d.M(v,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(v)},an.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var w=p.as,A=y(w,p.crossOrigin);i.d.L(v,w,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(v,p){if(typeof v=="string")if(p){var w=y(p.as,p.crossOrigin);i.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(v)},an.requestFormReset=function(v){i.d.r(v)},an.unstable_batchedUpdates=function(v,p){return v(p)},an.useFormState=function(v,p,w){return d.H.useFormState(v,p,w)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.4",an}var hv;function yT(){if(hv)return Wf.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wf.exports=pT(),Wf.exports}var dv;function vT(){if(dv)return Lo;dv=1;var r=gT(),e=Km(),n=yT();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(i(188))}function p(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),t;if(f===l)return v(h),s;f=f.sibling}throw Error(i(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,x=h.child;x;){if(x===a){_=!0,a=h,l=f;break}if(x===l){_=!0,l=h,a=f;break}x=x.sibling}if(!_){for(x=f.child;x;){if(x===a){_=!0,a=f,l=h;break}if(x===l){_=!0,l=f,a=h;break}x=x.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function w(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=w(t),s!==null)return s;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),le=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ae:return"Profiler";case ee:return"StrictMode";case ze:return"Suspense";case Ne:return"SuspenseList";case E:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case le:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case be:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return s=t.displayName||null,s!==null?s:lt(t.type)||"Memo";case S:s=t._payload,t=t._init;try{return lt(t(s))}catch{}}return null}var gt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],Fe=-1;function O(t){return{current:t}}function K(t){0>Fe||(t.current=Be[Fe],Be[Fe]=null,Fe--)}function re(t,s){Fe++,Be[Fe]=t.current,t.current=s}var ne=O(null),ve=O(null),Ee=O(null),Ve=O(null);function Tt(t,s){switch(re(Ee,s),re(ve,t),re(ne,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Ny(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Ny(s),t=Ry(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ne),re(ne,t)}function ot(){K(ne),K(ve),K(Ee)}function ys(t){t.memoizedState!==null&&re(Ve,t);var s=ne.current,a=Ry(s,t.type);s!==a&&(re(ve,t),re(ne,a))}function wi(t){ve.current===t&&(K(ne),K(ve)),Ve.current===t&&(K(Ve),Do._currentValue=me)}var Fs,$s;function Mn(t){if(Fs===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Fs=s&&s[1]||"",$s=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+t+$s}var rn=!1;function Gs(t,s){if(!t||rn)return"";rn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var z=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){z=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){z=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],x=f[1];if(_&&x){var C=_.split(`
`),U=x.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{rn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mn(a):""}function Ar(t,s){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return t.child!==s&&s!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Gs(t.type,!1);case 11:return Gs(t.type.render,!1);case 1:return Gs(t.type,!0);case 31:return Mn("Activity");default:return""}}function Sr(t){try{var s="",a=null;do s+=Ar(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Et=r.unstable_scheduleCallback,vs=r.unstable_cancelCallback,kl=r.unstable_shouldYield,Ln=r.unstable_requestPaint,qt=r.unstable_now,fn=r.unstable_getCurrentPriorityLevel,Nr=r.unstable_ImmediatePriority,Ti=r.unstable_UserBlockingPriority,ns=r.unstable_NormalPriority,pa=r.unstable_LowPriority,Pn=r.unstable_IdlePriority,W=r.log,ue=r.unstable_setDisableYieldValue,Ie=null,et=null;function Yt(t){if(typeof W=="function"&&ue(t),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Ie,t)}catch{}}var pt=Math.clz32?Math.clz32:va,ya=Math.log,Ei=Math.LN2;function va(t){return t>>>=0,t===0?32:31-(ya(t)/Ei|0)|0}var Un=256,Ks=262144,_t=4194304;function Ye(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tt(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?h=Ye(l):(_&=x,_!==0?h=Ye(_):a||(a=x&~t,a!==0&&(h=Ye(a))))):(x=l&~f,x!==0?h=Ye(x):_!==0?h=Ye(_):a||(a=l&~t,a!==0&&(h=Ye(a)))),h===0?0:s!==0&&s!==h&&(s&f)===0&&(f=h&-h,a=s&-s,f>=a||f===32&&(a&4194048)!==0)?s:h}function At(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Rr(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function _s(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Cr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zh(t,s,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-pt(a),Q=1<<$;x[$]=0,C[$]=-1;var z=U[$];if(z!==null)for(U[$]=null,$=0;$<z.length;$++){var H=z[$];H!==null&&(H.lane&=-536870913)}a&=~Q}l!==0&&Ir(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~s))}function Ir(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-pt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ml(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&s|t[l]&s&&(t[l]|=s),a&=~h}}function Ll(t,s){var a=s&-s;return a=(a&42)!==0?1:jr(a),(a&(t.suspendedLanes|s))!==0?0:a}function jr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wc(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Jy(t.type))}function ss(t,s){var a=ie.p;try{return ie.p=t,s()}finally{ie.p=a}}var is=Math.random().toString(36).slice(2),Dt="__reactFiber$"+is,$t="__reactProps$"+is,bs="__reactContainer$"+is,_a="__reactEvents$"+is,Wh="__reactListeners$"+is,Tc="__reactHandles$"+is,Ec="__reactResources$"+is,xs="__reactMarker$"+is;function ba(t){delete t[Dt],delete t[$t],delete t[_a],delete t[Wh],delete t[Tc]}function ws(t){var s=t[Dt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[bs]||a[Dt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=ky(t);t!==null;){if(a=t[Dt])return a;t=ky(t)}return s}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Dt]||t[bs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Sn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Ts(t){var s=t[Ec];return s||(s=t[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(t){t[xs]=!0}var Pl=new Set,Ul={};function Es(t,s){As(t,s),As(t+"Capture",s)}function As(t,s){for(Ul[t]=s,t=0;t<s.length;t++)Pl.add(s[t])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},ql={};function Ac(t){return vt.call(ql,t)?!0:vt.call(Bl,t)?!1:zl.test(t)?ql[t]=!0:(Bl[t]=!0,!1)}function xa(t,s,a){if(Ac(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Nn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Vt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ai(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Hl(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Je(t){if(!t._valueTracker){var s=Ai(t)?"checked":"value";t._valueTracker=Hl(t,s,""+t[s])}}function Dr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Ai(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Ss(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function yn(t){return t.replace(Or,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function wa(t,s,a,l,h,f,_,x){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Gt(s)):t.value!==""+Gt(s)&&(t.value=""+Gt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?Fl(t,_,Gt(s)):a!=null?Fl(t,_,Gt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Gt(x):t.removeAttribute("name")}function Sc(t,s,a,l,h,f,_,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){Je(t);return}a=a!=null?""+Gt(a):"",s=s!=null?""+Gt(s):a,x||s===t.value||(t.value=s),t.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Je(t)}function Fl(t,s,a){s==="number"&&Ss(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Si(t,s,a,l){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Gt(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Nc(t,s,a){if(s!=null&&(s=""+Gt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Gt(a):""}function Ni(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(gt(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Gt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Je(t)}function vn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $l(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Rc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Gl(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&$l(t,h,l)}else for(var f in s)s.hasOwnProperty(f)&&$l(t,f,s[f])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ri=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ri.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function rs(){}var Kl=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Ns=null;function Vr(t){var s=zn(t);if(s&&(t=s.stateNode)){var a=t[$t]||null;e:switch(t=s.stateNode,s.type){case"input":if(wa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var h=l[$t]||null;if(!h)throw Error(i(90));wa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Dr(l)}break e;case"textarea":Nc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Si(t,!!a.multiple,s,!1)}}}var Aa=!1;function Ii(t,s,a){if(Aa)return t(s,a);Aa=!0;try{var l=t(s);return l}finally{if(Aa=!1,(Ci!==null||Ns!==null)&&(wu(),Ci&&(s=Ci,t=Ns,Ns=Ci=null,Vr(s),t)))for(s=0;s<t.length;s++)Vr(t[s])}}function as(t,s){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(qn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){kr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{kr=!1}var Rs=null,Ql=null,Mr=null;function Yl(){if(Mr)return Mr;var t,s=Ql,a=s.length,l,h="value"in Rs?Rs.value:Rs.textContent,f=h.length;for(t=0;t<a&&s[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&s[a-l]===h[f-l];l++);return Mr=h.slice(t,1<l?1-l:void 0)}function Lr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ys(){return!0}function ls(){return!1}function Xt(t){function s(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ys:ls,this.isPropagationStopped=ls,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),s}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=Xt(Xs),ji=A({},Xs,{view:0,detail:0}),Xl=Xt(ji),Di,Sa,Is,Na=A({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Is&&(Is&&t.type==="mousemove"?(Di=t.screenX-Is.screenX,Sa=t.screenY-Is.screenY):Sa=Di=0,Is=t),Di)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Jl=Xt(Na),Pr=A({},Na,{dataTransfer:0}),Ic=Xt(Pr),jc=A({},ji,{relatedTarget:0}),Ur=Xt(jc),Zl=A({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Dc=Xt(Zl),Ra=A({},Xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oc=Xt(Ra),Vc=A({},Xs,{data:0}),js=Xt(Vc),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Lc[t])?!!s[t]:!1}function Oi(){return Pc}var mn=A({},ji,{key:function(t){if(t.key){var s=kc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oi,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uc=Xt(mn),zc=A({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=Xt(zc),c=A({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oi}),g=Xt(c),b=A({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xt(b),L=A({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xt(L),se=A({},Xs,{newState:0,oldState:0}),Re=Xt(se),St=[9,13,27,32],Ke=qn&&"CompositionEvent"in window,ft=null;qn&&"documentMode"in document&&(ft=document.documentMode);var Hn=qn&&"TextEvent"in window&&!ft,Ds=qn&&(!Ke||ft&&8<ft&&11>=ft),os=" ",cs=!1;function zr(t,s){switch(t){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function Ox(t,s){switch(t){case"compositionend":return Ca(s);case"keypress":return s.which!==32?null:(cs=!0,os);case"textInput":return t=s.data,t===os&&cs?null:t;default:return null}}function Vx(t,s){if(Ia)return t==="compositionend"||!Ke&&zr(t,s)?(t=Yl(),Mr=Ql=Rs=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ds&&s.locale!=="ko"?null:s.data;default:return null}}var kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!kx[t.type]:s==="textarea"}function Ug(t,s,a,l){Ci?Ns?Ns.push(l):Ns=[l]:Ci=l,s=Cu(s,"onChange"),0<s.length&&(a=new Cs("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Wl=null,eo=null;function Mx(t){xy(t,0)}function Bc(t){var s=Sn(t);if(Dr(s))return t}function zg(t,s){if(t==="change")return s}var Bg=!1;if(qn){var ed;if(qn){var td="oninput"in document;if(!td){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),td=typeof qg.oninput=="function"}ed=td}else ed=!1;Bg=ed&&(!document.documentMode||9<document.documentMode)}function Hg(){Wl&&(Wl.detachEvent("onpropertychange",Fg),eo=Wl=null)}function Fg(t){if(t.propertyName==="value"&&Bc(eo)){var s=[];Ug(s,eo,t,Bn(t)),Ii(Mx,s)}}function Lx(t,s,a){t==="focusin"?(Hg(),Wl=s,eo=a,Wl.attachEvent("onpropertychange",Fg)):t==="focusout"&&Hg()}function Px(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bc(eo)}function Ux(t,s){if(t==="click")return Bc(s)}function zx(t,s){if(t==="input"||t==="change")return Bc(s)}function Bx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Rn=typeof Object.is=="function"?Object.is:Bx;function to(t,s){if(Rn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(s,h)||!Rn(t[h],s[h]))return!1}return!0}function $g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gg(t,s){var a=$g(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$g(a)}}function Kg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Kg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ss(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Ss(t.document)}return s}function nd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var qx=qn&&"documentMode"in document&&11>=document.documentMode,ja=null,sd=null,no=null,id=!1;function Yg(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;id||ja==null||ja!==Ss(l)||(l=ja,"selectionStart"in l&&nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),no&&to(no,l)||(no=l,l=Cu(sd,"onSelect"),0<l.length&&(s=new Cs("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=ja)))}function Br(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Da={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},rd={},Xg={};qn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function qr(t){if(rd[t])return rd[t];if(!Da[t])return t;var s=Da[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Xg)return rd[t]=s[a];return t}var Jg=qr("animationend"),Zg=qr("animationiteration"),Wg=qr("animationstart"),Hx=qr("transitionrun"),Fx=qr("transitionstart"),$x=qr("transitioncancel"),ep=qr("transitionend"),tp=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function us(t,s){tp.set(t,s),Es(s,[t])}var qc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],Oa=0,ld=0;function Hc(){for(var t=Oa,s=ld=Oa=0;s<t;){var a=Fn[s];Fn[s++]=null;var l=Fn[s];Fn[s++]=null;var h=Fn[s];Fn[s++]=null;var f=Fn[s];if(Fn[s++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&np(a,h,f)}}function Fc(t,s,a,l){Fn[Oa++]=t,Fn[Oa++]=s,Fn[Oa++]=a,Fn[Oa++]=l,ld|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function od(t,s,a,l){return Fc(t,s,a,l),$c(t)}function Hr(t,s){return Fc(t,null,null,s),$c(t)}function np(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&s!==null&&(h=31-pt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[s]:l.push(s),s.lane=a|536870912),f):null}function $c(t){if(50<Ao)throw Ao=0,vf=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Va={};function Gx(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,s,a,l){return new Gx(t,s,a,l)}function cd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zs(t,s){var a=t.alternate;return a===null?(a=Cn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sp(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Gc(t,s,a,l,h,f){var _=0;if(l=t,typeof t=="function")cd(t)&&(_=1);else if(typeof t=="string")_=Jw(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case E:return t=Cn(31,a,s,h),t.elementType=E,t.lanes=f,t;case J:return Fr(a.children,h,f,s);case ee:_=8,h|=24;break;case ae:return t=Cn(12,a,s,h|2),t.elementType=ae,t.lanes=f,t;case ze:return t=Cn(13,a,s,h),t.elementType=ze,t.lanes=f,t;case Ne:return t=Cn(19,a,s,h),t.elementType=Ne,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:_=10;break e;case te:_=9;break e;case be:_=11;break e;case I:_=14;break e;case S:_=16,l=null;break e}_=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=Cn(_,a,s,h),s.elementType=t,s.type=l,s.lanes=f,s}function Fr(t,s,a,l){return t=Cn(7,t,l,s),t.lanes=a,t}function ud(t,s,a){return t=Cn(6,t,null,s),t.lanes=a,t}function ip(t){var s=Cn(18,null,null,0);return s.stateNode=t,s}function hd(t,s,a){return s=Cn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var rp=new WeakMap;function $n(t,s){if(typeof t=="object"&&t!==null){var a=rp.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Sr(s)},rp.set(t,s),s)}return{value:t,source:s,stack:Sr(s)}}var ka=[],Ma=0,Kc=null,so=0,Gn=[],Kn=0,Vi=null,Os=1,Vs="";function Ws(t,s){ka[Ma++]=so,ka[Ma++]=Kc,Kc=t,so=s}function ap(t,s,a){Gn[Kn++]=Os,Gn[Kn++]=Vs,Gn[Kn++]=Vi,Vi=t;var l=Os;t=Vs;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var f=32-pt(s)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Os=1<<32-pt(s)+h|a<<h|l,Vs=f+t}else Os=1<<f|a<<h|l,Vs=t}function dd(t){t.return!==null&&(Ws(t,1),ap(t,1,0))}function fd(t){for(;t===Kc;)Kc=ka[--Ma],ka[Ma]=null,so=ka[--Ma],ka[Ma]=null;for(;t===Vi;)Vi=Gn[--Kn],Gn[Kn]=null,Vs=Gn[--Kn],Gn[Kn]=null,Os=Gn[--Kn],Gn[Kn]=null}function lp(t,s){Gn[Kn++]=Os,Gn[Kn++]=Vs,Gn[Kn++]=Vi,Os=s.id,Vs=s.overflow,Vi=t}var Jt=null,ut=null,qe=!1,ki=null,Qn=!1,md=Error(i(519));function Mi(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io($n(s,t)),md}function op(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Dt]=t,s[$t]=l,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<No.length;a++)Oe(No[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Sc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),Ni(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Ay(s.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),l.onScroll!=null&&Oe("scroll",s),l.onScrollEnd!=null&&Oe("scrollend",s),l.onClick!=null&&(s.onclick=rs),s=!0):s=!1,s||Mi(t,!0)}function cp(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Jt=Jt.return}}function La(t){if(t!==Jt)return!1;if(!qe)return cp(t),qe=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Of(t.type,t.memoizedProps)),a=!a),a&&ut&&Mi(t),cp(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ut=Vy(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ut=Vy(t)}else s===27?(s=ut,Xi(t.type)?(t=Pf,Pf=null,ut=t):ut=s):ut=Jt?Xn(t.stateNode.nextSibling):null;return!0}function $r(){ut=Jt=null,qe=!1}function gd(){var t=ki;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),ki=null),t}function io(t){ki===null?ki=[t]:ki.push(t)}var pd=O(null),Gr=null,ei=null;function Li(t,s,a){re(pd,s._currentValue),s._currentValue=a}function ti(t){t._currentValue=pd.current,K(pd)}function yd(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function vd(t,s,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=h;for(var C=0;C<s.length;C++)if(x.context===s[C]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),yd(f.return,a,t),l||(_=null);break e}f=x.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(i(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),yd(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Pa(t,s,a,l){t=null;for(var h=s,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var x=h.type;Rn(h.pendingProps.value,_.value)||(t!==null?t.push(x):t=[x])}}else if(h===Ve.current){if(_=h.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Do):t=[Do])}h=h.return}t!==null&&vd(s,t,a,l),s.flags|=262144}function Qc(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Gr=t,ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return up(Gr,t)}function Yc(t,s){return Gr===null&&Kr(t),up(t,s)}function up(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ei===null){if(t===null)throw Error(i(308));ei=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ei=ei.next=s;return a}var Kx=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Qx=r.unstable_scheduleCallback,Yx=r.unstable_NormalPriority,kt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new Kx,data:new Map,refCount:0}}function ro(t){t.refCount--,t.refCount===0&&Qx(Yx,function(){t.controller.abort()})}var ao=null,bd=0,Ua=0,za=null;function Xx(t,s){if(ao===null){var a=ao=[];bd=0,Ua=Ef(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bd++,s.then(hp,hp),s}function hp(){if(--bd===0&&ao!==null){za!==null&&(za.status="fulfilled");var t=ao;ao=null,Ua=0,za=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Jx(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var dp=F.S;F.S=function(t,s){Y0=qt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Xx(t,s),dp!==null&&dp(t,s)};var Qr=O(null);function xd(){var t=Qr.current;return t!==null?t:at.pooledCache}function Xc(t,s){s===null?re(Qr,Qr.current):re(Qr,s.pool)}function fp(){var t=xd();return t===null?null:{parent:kt._currentValue,pool:t}}var Ba=Error(i(460)),wd=Error(i(474)),Jc=Error(i(542)),Zc={then:function(){}};function mp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gp(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(rs,rs),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,yp(t),t;default:if(typeof s.status=="string")s.then(rs,rs);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,yp(t),t}throw Xr=s,Ba}}function Yr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xr=a,Ba):a}}var Xr=null;function pp(){if(Xr===null)throw Error(i(459));var t=Xr;return Xr=null,t}function yp(t){if(t===Ba||t===Jc)throw Error(i(483))}var qa=null,lo=0;function Wc(t){var s=lo;return lo+=1,qa===null&&(qa=[]),gp(qa,t,s)}function oo(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function eu(t,s){throw s.$$typeof===N?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function vp(t){function s(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)s(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Zs(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function x(k,D,P,G){return D===null||D.tag!==6?(D=ud(P,k.mode,G),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,G){var ge=P.type;return ge===J?$(k,D,P.props.children,G,P.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Yr(ge)===D.type)?(D=h(D,P.props),oo(D,P),D.return=k,D):(D=Gc(P.type,P.key,P.props,null,k.mode,G),oo(D,P),D.return=k,D)}function U(k,D,P,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=hd(P,k.mode,G),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function $(k,D,P,G,ge){return D===null||D.tag!==7?(D=Fr(P,k.mode,G,ge),D.return=k,D):(D=h(D,P),D.return=k,D)}function Q(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ud(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return P=Gc(D.type,D.key,D.props,null,k.mode,P),oo(P,D),P.return=k,P;case X:return D=hd(D,k.mode,P),D.return=k,D;case S:return D=Yr(D),Q(k,D,P)}if(gt(D)||M(D))return D=Fr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Q(k,Wc(D),P);if(D.$$typeof===le)return Q(k,Yc(k,D),P);eu(k,D)}return null}function z(k,D,P,G){var ge=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:x(k,D,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===ge?C(k,D,P,G):null;case X:return P.key===ge?U(k,D,P,G):null;case S:return P=Yr(P),z(k,D,P,G)}if(gt(P)||M(P))return ge!==null?null:$(k,D,P,G,null);if(typeof P.then=="function")return z(k,D,Wc(P),G);if(P.$$typeof===le)return z(k,D,Yc(k,P),G);eu(k,P)}return null}function H(k,D,P,G,ge){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return k=k.get(P)||null,x(D,k,""+G,ge);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case q:return k=k.get(G.key===null?P:G.key)||null,C(D,k,G,ge);case X:return k=k.get(G.key===null?P:G.key)||null,U(D,k,G,ge);case S:return G=Yr(G),H(k,D,P,G,ge)}if(gt(G)||M(G))return k=k.get(P)||null,$(D,k,G,ge,null);if(typeof G.then=="function")return H(k,D,P,Wc(G),ge);if(G.$$typeof===le)return H(k,D,P,Yc(D,G),ge);eu(D,G)}return null}function he(k,D,P,G){for(var ge=null,$e=null,fe=D,je=D=0,Me=null;fe!==null&&je<P.length;je++){fe.index>je?(Me=fe,fe=null):Me=fe.sibling;var Ge=z(k,fe,P[je],G);if(Ge===null){fe===null&&(fe=Me);break}t&&fe&&Ge.alternate===null&&s(k,fe),D=f(Ge,D,je),$e===null?ge=Ge:$e.sibling=Ge,$e=Ge,fe=Me}if(je===P.length)return a(k,fe),qe&&Ws(k,je),ge;if(fe===null){for(;je<P.length;je++)fe=Q(k,P[je],G),fe!==null&&(D=f(fe,D,je),$e===null?ge=fe:$e.sibling=fe,$e=fe);return qe&&Ws(k,je),ge}for(fe=l(fe);je<P.length;je++)Me=H(fe,k,je,P[je],G),Me!==null&&(t&&Me.alternate!==null&&fe.delete(Me.key===null?je:Me.key),D=f(Me,D,je),$e===null?ge=Me:$e.sibling=Me,$e=Me);return t&&fe.forEach(function(tr){return s(k,tr)}),qe&&Ws(k,je),ge}function _e(k,D,P,G){if(P==null)throw Error(i(151));for(var ge=null,$e=null,fe=D,je=D=0,Me=null,Ge=P.next();fe!==null&&!Ge.done;je++,Ge=P.next()){fe.index>je?(Me=fe,fe=null):Me=fe.sibling;var tr=z(k,fe,Ge.value,G);if(tr===null){fe===null&&(fe=Me);break}t&&fe&&tr.alternate===null&&s(k,fe),D=f(tr,D,je),$e===null?ge=tr:$e.sibling=tr,$e=tr,fe=Me}if(Ge.done)return a(k,fe),qe&&Ws(k,je),ge;if(fe===null){for(;!Ge.done;je++,Ge=P.next())Ge=Q(k,Ge.value,G),Ge!==null&&(D=f(Ge,D,je),$e===null?ge=Ge:$e.sibling=Ge,$e=Ge);return qe&&Ws(k,je),ge}for(fe=l(fe);!Ge.done;je++,Ge=P.next())Ge=H(fe,k,je,Ge.value,G),Ge!==null&&(t&&Ge.alternate!==null&&fe.delete(Ge.key===null?je:Ge.key),D=f(Ge,D,je),$e===null?ge=Ge:$e.sibling=Ge,$e=Ge);return t&&fe.forEach(function(oT){return s(k,oT)}),qe&&Ws(k,je),ge}function rt(k,D,P,G){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var ge=P.key;D!==null;){if(D.key===ge){if(ge=P.type,ge===J){if(D.tag===7){a(k,D.sibling),G=h(D,P.props.children),G.return=k,k=G;break e}}else if(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Yr(ge)===D.type){a(k,D.sibling),G=h(D,P.props),oo(G,P),G.return=k,k=G;break e}a(k,D);break}else s(k,D);D=D.sibling}P.type===J?(G=Fr(P.props.children,k.mode,G,P.key),G.return=k,k=G):(G=Gc(P.type,P.key,P.props,null,k.mode,G),oo(G,P),G.return=k,k=G)}return _(k);case X:e:{for(ge=P.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),G=h(D,P.children||[]),G.return=k,k=G;break e}else{a(k,D);break}else s(k,D);D=D.sibling}G=hd(P,k.mode,G),G.return=k,k=G}return _(k);case S:return P=Yr(P),rt(k,D,P,G)}if(gt(P))return he(k,D,P,G);if(M(P)){if(ge=M(P),typeof ge!="function")throw Error(i(150));return P=ge.call(P),_e(k,D,P,G)}if(typeof P.then=="function")return rt(k,D,Wc(P),G);if(P.$$typeof===le)return rt(k,D,Yc(k,P),G);eu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),G=h(D,P),G.return=k,k=G):(a(k,D),G=ud(P,k.mode,G),G.return=k,k=G),_(k)):a(k,D)}return function(k,D,P,G){try{lo=0;var ge=rt(k,D,P,G);return qa=null,ge}catch(fe){if(fe===Ba||fe===Jc)throw fe;var $e=Cn(29,fe,null,k.mode);return $e.lanes=G,$e.return=k,$e}}}var Jr=vp(!0),_p=vp(!1),Pi=!1;function Td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zi(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=$c(t),np(t,null,a),s}return Fc(t,l,s,a),$c(t)}function co(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ml(t,a)}}function Ad(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=s:f=f.next=s}else h=f=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Sd=!1;function uo(){if(Sd){var t=za;if(t!==null)throw t}}function ho(t,s,a,l){Sd=!1;var h=t.updateQueue;Pi=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var C=x,U=C.next;C.next=null,_===null?f=U:_.next=U,_=C;var $=t.alternate;$!==null&&($=$.updateQueue,x=$.lastBaseUpdate,x!==_&&(x===null?$.firstBaseUpdate=U:x.next=U,$.lastBaseUpdate=C))}if(f!==null){var Q=h.baseState;_=0,$=U=C=null,x=f;do{var z=x.lane&-536870913,H=z!==x.lane;if(H?(ke&z)===z:(l&z)===z){z!==0&&z===Ua&&(Sd=!0),$!==null&&($=$.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=t,_e=x;z=s;var rt=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){Q=he.call(rt,Q,z);break e}Q=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,z=typeof he=="function"?he.call(rt,Q,z):he,z==null)break e;Q=A({},Q,z);break e;case 2:Pi=!0}}z=x.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},$===null?(U=$=H,C=Q):$=$.next=H,_|=z;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;H=x,x=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);$===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),$i|=_,t.lanes=_,t.memoizedState=Q}}function bp(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function xp(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bp(a[t],s)}var Ha=O(null),tu=O(0);function wp(t,s){t=ui,re(tu,t),re(Ha,s),ui=t|s.baseLanes}function Nd(){re(tu,ui),re(Ha,Ha.current)}function Rd(){ui=tu.current,K(Ha),K(tu)}var In=O(null),Yn=null;function Bi(t){var s=t.alternate;re(Nt,Nt.current&1),re(In,t),Yn===null&&(s===null||Ha.current!==null||s.memoizedState!==null)&&(Yn=t)}function Cd(t){re(Nt,Nt.current),re(In,t),Yn===null&&(Yn=t)}function Tp(t){t.tag===22?(re(Nt,Nt.current),re(In,t),Yn===null&&(Yn=t)):qi()}function qi(){re(Nt,Nt.current),re(In,In.current)}function jn(t){K(In),Yn===t&&(Yn=null),K(Nt)}var Nt=O(0);function nu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mf(a)||Lf(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ni=0,Ce=null,st=null,Mt=null,su=!1,Fa=!1,Zr=!1,iu=0,fo=0,$a=null,Zx=0;function bt(){throw Error(i(321))}function Id(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Rn(t[a],s[a]))return!1;return!0}function jd(t,s,a,l,h,f){return ni=f,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=t===null||t.memoizedState===null?a0:Gd,Zr=!1,f=a(l,h),Zr=!1,Fa&&(f=Ap(s,a,l,h)),Ep(t),f}function Ep(t){F.H=po;var s=st!==null&&st.next!==null;if(ni=0,Mt=st=Ce=null,su=!1,fo=0,$a=null,s)throw Error(i(300));t===null||Lt||(t=t.dependencies,t!==null&&Qc(t)&&(Lt=!0))}function Ap(t,s,a,l){Ce=t;var h=0;do{if(Fa&&($a=null),fo=0,Fa=!1,25<=h)throw Error(i(301));if(h+=1,Mt=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=l0,f=s(a,l)}while(Fa);return f}function Wx(){var t=F.H,s=t.useState()[0];return s=typeof s.then=="function"?mo(s):s,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ce.flags|=1024),s}function Dd(){var t=iu!==0;return iu=0,t}function Od(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Vd(t){if(su){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}su=!1}ni=0,Mt=st=Ce=null,Fa=!1,fo=iu=0,$a=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ce.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Rt(){if(st===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var s=Mt===null?Ce.memoizedState:Mt.next;if(s!==null)Mt=s,st=t;else{if(t===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Mt===null?Ce.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(t){var s=fo;return fo+=1,$a===null&&($a=[]),t=gp($a,t,s),s=Ce,(Mt===null?s.memoizedState:Mt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?a0:Gd),t}function au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mo(t);if(t.$$typeof===le)return Zt(t)}throw Error(i(438,String(t)))}function kd(t){var s=null,a=Ce.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=ru(),Ce.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=V;return s.index++,a}function si(t,s){return typeof s=="function"?s(t):s}function lu(t){var s=Rt();return Md(s,st,t)}function Md(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}s.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{s=h.next;var x=_=null,C=null,U=s,$=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(ke&Q)===Q:(ni&Q)===Q){var z=U.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===Ua&&($=!0);else if((ni&z)===z){U=U.next,z===Ua&&($=!0);continue}else Q={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(x=C=Q,_=f):C=C.next=Q,Ce.lanes|=z,$i|=z;Q=U.action,Zr&&a(f,Q),f=U.hasEagerState?U.eagerState:a(f,Q)}else z={lane:Q,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(x=C=z,_=f):C=C.next=z,Ce.lanes|=Q,$i|=Q;U=U.next}while(U!==null&&U!==s);if(C===null?_=f:C.next=x,!Rn(f,t.memoizedState)&&(Lt=!0,$&&(a=za,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ld(t){var s=Rt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Rn(f,s.memoizedState)||(Lt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,l]}function Sp(t,s,a){var l=Ce,h=Rt(),f=qe;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=s();var _=!Rn((st||h).memoizedState,a);if(_&&(h.memoizedState=a,Lt=!0),h=h.queue,zd(Cp.bind(null,l,h,t),[t]),h.getSnapshot!==s||_||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},Rp.bind(null,l,h,a,s),null),at===null)throw Error(i(349));f||(ni&127)!==0||Np(l,s,a)}return a}function Np(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ce.updateQueue,s===null?(s=ru(),Ce.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Rp(t,s,a,l){s.value=a,s.getSnapshot=l,Ip(s)&&jp(t)}function Cp(t,s,a){return a(function(){Ip(s)&&jp(t)})}function Ip(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Rn(t,a)}catch{return!0}}function jp(t){var s=Hr(t,2);s!==null&&Tn(s,t,2)}function Pd(t){var s=gn();if(typeof t=="function"){var a=t;if(t=a(),Zr){Yt(!0);try{a()}finally{Yt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},s}function Dp(t,s,a,l){return t.baseState=a,Md(t,st,typeof l=="function"?l:si)}function ew(t,s,a,l,h){if(uu(t))throw Error(i(485));if(t=s.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=s.pending,a===null?(f.next=s.pending=f,Op(s,f)):(f.next=a.next,s.pending=a.next=f)}}function Op(t,s){var a=s.action,l=s.payload,h=t.state;if(s.isTransition){var f=F.T,_={};F.T=_;try{var x=a(h,l),C=F.S;C!==null&&C(_,x),Vp(t,s,x)}catch(U){Ud(t,s,U)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,l),Vp(t,s,f)}catch(U){Ud(t,s,U)}}function Vp(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kp(t,s,l)},function(l){return Ud(t,s,l)}):kp(t,s,a)}function kp(t,s,a){s.status="fulfilled",s.value=a,Mp(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Op(t,a)))}function Ud(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Mp(s),s=s.next;while(s!==l)}t.action=null}function Mp(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Lp(t,s){return s}function Pp(t,s){if(qe){var a=at.formState;if(a!==null){e:{var l=Ce;if(qe){if(ut){t:{for(var h=ut,f=Qn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Xn(h.nextSibling),l=h.data==="F!";break e}}Mi(l)}l=!1}l&&(s=a[0])}}return a=gn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:s},a.queue=l,a=s0.bind(null,Ce,l),l.dispatch=a,l=Pd(!1),f=$d.bind(null,Ce,!1,l.queue),l=gn(),h={state:s,dispatch:null,action:t,pending:null},l.queue=h,a=ew.bind(null,Ce,h,f,a),h.dispatch=a,l.memoizedState=t,[s,a,!1]}function Up(t){var s=Rt();return zp(s,st,t)}function zp(t,s,a){if(s=Md(t,s,Lp)[0],t=lu(si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=mo(s)}catch(_){throw _===Ba?Jc:_}else l=s;s=Rt();var h=s.queue,f=h.dispatch;return a!==s.memoizedState&&(Ce.flags|=2048,Ga(9,{destroy:void 0},tw.bind(null,h,a),null)),[l,f,t]}function tw(t,s){t.action=s}function Bp(t){var s=Rt(),a=st;if(a!==null)return zp(s,a,t);Rt(),s=s.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Ga(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=ru(),Ce.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function qp(){return Rt().memoizedState}function ou(t,s,a,l){var h=gn();Ce.flags|=t,h.memoizedState=Ga(1|s,{destroy:void 0},a,l===void 0?null:l)}function cu(t,s,a,l){var h=Rt();l=l===void 0?null:l;var f=h.memoizedState.inst;st!==null&&l!==null&&Id(l,st.memoizedState.deps)?h.memoizedState=Ga(s,f,a,l):(Ce.flags|=t,h.memoizedState=Ga(1|s,f,a,l))}function Hp(t,s){ou(8390656,8,t,s)}function zd(t,s){cu(2048,8,t,s)}function nw(t){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=ru(),Ce.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Fp(t){var s=Rt().memoizedState;return nw({ref:s,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function $p(t,s){return cu(4,2,t,s)}function Gp(t,s){return cu(4,4,t,s)}function Kp(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Qp(t,s,a){a=a!=null?a.concat([t]):null,cu(4,4,Kp.bind(null,s,t),a)}function Bd(){}function Yp(t,s){var a=Rt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Id(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function Xp(t,s){var a=Rt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Id(s,l[1]))return l[0];if(l=t(),Zr){Yt(!0);try{t()}finally{Yt(!1)}}return a.memoizedState=[l,s],l}function qd(t,s,a){return a===void 0||(ni&1073741824)!==0&&(ke&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=J0(),Ce.lanes|=t,$i|=t,a)}function Jp(t,s,a,l){return Rn(a,s)?a:Ha.current!==null?(t=qd(t,a,l),Rn(t,s)||(Lt=!0),t):(ni&42)===0||(ni&1073741824)!==0&&(ke&261930)===0?(Lt=!0,t.memoizedState=a):(t=J0(),Ce.lanes|=t,$i|=t,s)}function Zp(t,s,a,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var _=F.T,x={};F.T=x,$d(t,!1,s,a);try{var C=h(),U=F.S;if(U!==null&&U(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=Jx(C,l);go(t,s,$,Vn(t))}else go(t,s,l,Vn(t))}catch(Q){go(t,s,{then:function(){},status:"rejected",reason:Q},Vn())}finally{ie.p=f,_!==null&&x.types!==null&&(_.types=x.types),F.T=_}}function sw(){}function Hd(t,s,a,l){if(t.tag!==5)throw Error(i(476));var h=Wp(t).queue;Zp(t,h,s,me,a===null?sw:function(){return e0(t),a(l)})}function Wp(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:me},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function e0(t){var s=Wp(t);s.next===null&&(s=t.alternate.memoizedState),go(t,s.next.queue,{},Vn())}function Fd(){return Zt(Do)}function t0(){return Rt().memoizedState}function n0(){return Rt().memoizedState}function iw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Vn();t=Ui(a);var l=zi(s,t,a);l!==null&&(Tn(l,s,a),co(l,s,a)),s={cache:_d()},t.payload=s;return}s=s.return}}function rw(t,s,a){var l=Vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uu(t)?i0(s,a):(a=od(t,s,a,l),a!==null&&(Tn(a,t,l),r0(a,s,l)))}function s0(t,s,a){var l=Vn();go(t,s,a,l)}function go(t,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uu(t))i0(s,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var _=s.lastRenderedState,x=f(_,a);if(h.hasEagerState=!0,h.eagerState=x,Rn(x,_))return Fc(t,s,h,0),at===null&&Hc(),!1}catch{}if(a=od(t,s,h,l),a!==null)return Tn(a,t,l),r0(a,s,l),!0}return!1}function $d(t,s,a,l){if(l={lane:2,revertLane:Ef(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uu(t)){if(s)throw Error(i(479))}else s=od(t,a,l,2),s!==null&&Tn(s,t,2)}function uu(t){var s=t.alternate;return t===Ce||s!==null&&s===Ce}function i0(t,s){Fa=su=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function r0(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ml(t,a)}}var po={readContext:Zt,use:au,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};po.useEffectEvent=bt;var a0={readContext:Zt,use:au,useCallback:function(t,s){return gn().memoizedState=[t,s===void 0?null:s],t},useContext:Zt,useEffect:Hp,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,ou(4194308,4,Kp.bind(null,s,t),a)},useLayoutEffect:function(t,s){return ou(4194308,4,t,s)},useInsertionEffect:function(t,s){ou(4,2,t,s)},useMemo:function(t,s){var a=gn();s=s===void 0?null:s;var l=t();if(Zr){Yt(!0);try{t()}finally{Yt(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=gn();if(a!==void 0){var h=a(s);if(Zr){Yt(!0);try{a(s)}finally{Yt(!1)}}}else h=s;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=rw.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var s=gn();return t={current:t},s.memoizedState=t},useState:function(t){t=Pd(t);var s=t.queue,a=s0.bind(null,Ce,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Bd,useDeferredValue:function(t,s){var a=gn();return qd(a,t,s)},useTransition:function(){var t=Pd(!1);return t=Zp.bind(null,Ce,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Ce,h=gn();if(qe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),at===null)throw Error(i(349));(ke&127)!==0||Np(l,s,a)}h.memoizedState=a;var f={value:a,getSnapshot:s};return h.queue=f,Hp(Cp.bind(null,l,f,t),[t]),l.flags|=2048,Ga(9,{destroy:void 0},Rp.bind(null,l,f,a,s),null),a},useId:function(){var t=gn(),s=at.identifierPrefix;if(qe){var a=Vs,l=Os;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=iu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Zx++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Fd,useFormState:Pp,useActionState:Pp,useOptimistic:function(t){var s=gn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=$d.bind(null,Ce,!0,a),a.dispatch=s,[t,s]},useMemoCache:kd,useCacheRefresh:function(){return gn().memoizedState=iw.bind(null,Ce)},useEffectEvent:function(t){var s=gn(),a={impl:t};return s.memoizedState=a,function(){if((Qe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Gd={readContext:Zt,use:au,useCallback:Yp,useContext:Zt,useEffect:zd,useImperativeHandle:Qp,useInsertionEffect:$p,useLayoutEffect:Gp,useMemo:Xp,useReducer:lu,useRef:qp,useState:function(){return lu(si)},useDebugValue:Bd,useDeferredValue:function(t,s){var a=Rt();return Jp(a,st.memoizedState,t,s)},useTransition:function(){var t=lu(si)[0],s=Rt().memoizedState;return[typeof t=="boolean"?t:mo(t),s]},useSyncExternalStore:Sp,useId:t0,useHostTransitionStatus:Fd,useFormState:Up,useActionState:Up,useOptimistic:function(t,s){var a=Rt();return Dp(a,st,t,s)},useMemoCache:kd,useCacheRefresh:n0};Gd.useEffectEvent=Fp;var l0={readContext:Zt,use:au,useCallback:Yp,useContext:Zt,useEffect:zd,useImperativeHandle:Qp,useInsertionEffect:$p,useLayoutEffect:Gp,useMemo:Xp,useReducer:Ld,useRef:qp,useState:function(){return Ld(si)},useDebugValue:Bd,useDeferredValue:function(t,s){var a=Rt();return st===null?qd(a,t,s):Jp(a,st.memoizedState,t,s)},useTransition:function(){var t=Ld(si)[0],s=Rt().memoizedState;return[typeof t=="boolean"?t:mo(t),s]},useSyncExternalStore:Sp,useId:t0,useHostTransitionStatus:Fd,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,s){var a=Rt();return st!==null?Dp(a,st,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kd,useCacheRefresh:n0};l0.useEffectEvent=Fp;function Kd(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:A({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qd={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Vn(),h=Ui(l);h.payload=s,a!=null&&(h.callback=a),s=zi(t,h,l),s!==null&&(Tn(s,t,l),co(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Vn(),h=Ui(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=zi(t,h,l),s!==null&&(Tn(s,t,l),co(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Vn(),l=Ui(a);l.tag=2,s!=null&&(l.callback=s),s=zi(t,l,a),s!==null&&(Tn(s,t,a),co(s,t,a))}};function o0(t,s,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):s.prototype&&s.prototype.isPureReactComponent?!to(a,l)||!to(h,f):!0}function c0(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Qd.enqueueReplaceState(s,s.state,null)}function Wr(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function u0(t){qc(t)}function h0(t){console.error(t)}function d0(t){qc(t)}function hu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function f0(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yd(t,s,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){hu(t,s)},a}function m0(t){return t=Ui(t),t.tag=3,t}function g0(t,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){f0(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){f0(s,a,l),typeof h!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function aw(t,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Pa(s,a,h,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?Tu():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Zc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),xf(t,l,h)),!1;case 22:return a.flags|=65536,l===Zc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),xf(t,l,h)),!1}throw Error(i(435,a.tag))}return xf(t,l,h),Tu(),!1}if(qe)return s=In.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==md&&(t=Error(i(422),{cause:l}),io($n(t,a)))):(l!==md&&(s=Error(i(423),{cause:l}),io($n(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=$n(l,a),h=Yd(t.stateNode,l,h),Ad(t,h),xt!==4&&(xt=2)),!1;var f=Error(i(520),{cause:l});if(f=$n(f,a),Eo===null?Eo=[f]:Eo.push(f),xt!==4&&(xt=2),s===null)return!0;l=$n(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Yd(a.stateNode,l,t),Ad(a,t),!1;case 1:if(s=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gi===null||!Gi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=m0(h),g0(h,t,a,l),Ad(a,h),!1}a=a.return}while(a!==null);return!1}var Xd=Error(i(461)),Lt=!1;function Wt(t,s,a,l){s.child=t===null?_p(s,null,a,l):Jr(s,t.child,a,l)}function p0(t,s,a,l,h){a=a.render;var f=s.ref;if("ref"in l){var _={};for(var x in l)x!=="ref"&&(_[x]=l[x])}else _=l;return Kr(s),l=jd(t,s,a,_,f,h),x=Dd(),t!==null&&!Lt?(Od(t,s,h),ii(t,s,h)):(qe&&x&&dd(s),s.flags|=1,Wt(t,s,l,h),s.child)}function y0(t,s,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!cd(f)&&f.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=f,v0(t,s,f,l,h)):(t=Gc(a.type,null,l,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!rf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:to,a(_,l)&&t.ref===s.ref)return ii(t,s,h)}return s.flags|=1,t=Zs(f,l),t.ref=s.ref,t.return=s,s.child=t}function v0(t,s,a,l,h){if(t!==null){var f=t.memoizedProps;if(to(f,l)&&t.ref===s.ref)if(Lt=!1,s.pendingProps=l=f,rf(t,h))(t.flags&131072)!==0&&(Lt=!0);else return s.lanes=t.lanes,ii(t,s,h)}return Jd(t,s,a,l,h)}function _0(t,s,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=s.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,s.child=null;return b0(t,s,f,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xc(s,f!==null?f.cachePool:null),f!==null?wp(s,f):Nd(),Tp(s);else return l=s.lanes=536870912,b0(t,s,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Xc(s,f.cachePool),wp(s,f),qi(),s.memoizedState=null):(t!==null&&Xc(s,null),Nd(),qi());return Wt(t,s,h,a),s.child}function yo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function b0(t,s,a,l,h){var f=xd();return f=f===null?null:{parent:kt._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},t!==null&&Xc(s,null),Nd(),Tp(s),t!==null&&Pa(t,s,l,!0),s.childLanes=h,null}function du(t,s){return s=mu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function x0(t,s,a){return Jr(s,t.child,null,a),t=du(s,s.pendingProps),t.flags|=2,jn(s),s.memoizedState=null,t}function lw(t,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=du(s,l),s.lanes=536870912,yo(null,t);if(Cd(s),(t=ut)?(t=Oy(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Vi!==null?{id:Os,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},a=ip(t),a.return=s,s.child=a,Jt=s,ut=null)):t=null,t===null)throw Mi(s);return s.lanes=536870912,null}return du(s,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Cd(s),h)if(s.flags&256)s.flags&=-257,s=x0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Lt||Pa(t,s,a,!1),h=(a&t.childLanes)!==0,Lt||h){if(l=at,l!==null&&(_=Ll(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Hr(t,_),Tn(l,t,_),Xd;Tu(),s=x0(t,s,a)}else t=f.treeContext,ut=Xn(_.nextSibling),Jt=s,qe=!0,ki=null,Qn=!1,t!==null&&lp(s,t),s=du(s,l),s.flags|=4096;return s}return t=Zs(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function fu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Jd(t,s,a,l,h){return Kr(s),a=jd(t,s,a,l,void 0,h),l=Dd(),t!==null&&!Lt?(Od(t,s,h),ii(t,s,h)):(qe&&l&&dd(s),s.flags|=1,Wt(t,s,a,h),s.child)}function w0(t,s,a,l,h,f){return Kr(s),s.updateQueue=null,a=Ap(s,l,a,h),Ep(t),l=Dd(),t!==null&&!Lt?(Od(t,s,f),ii(t,s,f)):(qe&&l&&dd(s),s.flags|=1,Wt(t,s,a,f),s.child)}function T0(t,s,a,l,h){if(Kr(s),s.stateNode===null){var f=Va,_=a.contextType;typeof _=="object"&&_!==null&&(f=Zt(_)),f=new a(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Qd,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},Td(s),_=a.contextType,f.context=typeof _=="object"&&_!==null?Zt(_):Va,f.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Kd(s,a,_,l),f.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Qd.enqueueReplaceState(f,f.state,null),ho(s,l,f,h),uo(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){f=s.stateNode;var x=s.memoizedProps,C=Wr(a,x);f.props=C;var U=f.context,$=a.contextType;_=Va,typeof $=="object"&&$!==null&&(_=Zt($));var Q=a.getDerivedStateFromProps;$=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||U!==_)&&c0(s,f,l,_),Pi=!1;var z=s.memoizedState;f.state=z,ho(s,l,f,h),uo(),U=s.memoizedState,x||z!==U||Pi?(typeof Q=="function"&&(Kd(s,a,Q,l),U=s.memoizedState),(C=Pi||o0(s,a,C,l,z,U,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=U),f.props=l,f.state=U,f.context=_,l=C):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,Ed(t,s),_=s.memoizedProps,$=Wr(a,_),f.props=$,Q=s.pendingProps,z=f.context,U=a.contextType,C=Va,typeof U=="object"&&U!==null&&(C=Zt(U)),x=a.getDerivedStateFromProps,(U=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Q||z!==C)&&c0(s,f,l,C),Pi=!1,z=s.memoizedState,f.state=z,ho(s,l,f,h),uo();var H=s.memoizedState;_!==Q||z!==H||Pi||t!==null&&t.dependencies!==null&&Qc(t.dependencies)?(typeof x=="function"&&(Kd(s,a,x,l),H=s.memoizedState),($=Pi||o0(s,a,$,l,z,H,C)||t!==null&&t.dependencies!==null&&Qc(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=H),f.props=l,f.state=H,f.context=C,l=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(s.flags|=1024),l=!1)}return f=l,fu(t,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&l?(s.child=Jr(s,t.child,null,h),s.child=Jr(s,null,a,h)):Wt(t,s,a,h),s.memoizedState=f.state,t=s.child):t=ii(t,s,h),t}function E0(t,s,a,l){return $r(),s.flags|=256,Wt(t,s,a,l),s.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wd(t){return{baseLanes:t,cachePool:fp()}}function ef(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=On),t}function A0(t,s,a){var l=s.pendingProps,h=!1,f=(s.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(qe){if(h?Bi(s):qi(),(t=ut)?(t=Oy(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Vi!==null?{id:Os,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},a=ip(t),a.return=s,s.child=a,Jt=s,ut=null)):t=null,t===null)throw Mi(s);return Lf(t)?s.lanes=32:s.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(qi(),h=s.mode,x=mu({mode:"hidden",children:x},h),l=Fr(l,h,a,null),x.return=s,l.return=s,x.sibling=l,s.child=x,l=s.child,l.memoizedState=Wd(a),l.childLanes=ef(t,_,a),s.memoizedState=Zd,yo(null,l)):(Bi(s),tf(s,x))}var C=t.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(f)s.flags&256?(Bi(s),s.flags&=-257,s=nf(t,s,a)):s.memoizedState!==null?(qi(),s.child=t.child,s.flags|=128,s=null):(qi(),x=l.fallback,h=s.mode,l=mu({mode:"visible",children:l.children},h),x=Fr(x,h,a,null),x.flags|=2,l.return=s,x.return=s,l.sibling=x,s.child=l,Jr(s,t.child,null,a),l=s.child,l.memoizedState=Wd(a),l.childLanes=ef(t,_,a),s.memoizedState=Zd,s=yo(null,l));else if(Bi(s),Lf(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(i(419)),l.stack="",l.digest=_,io({value:l,source:null,stack:null}),s=nf(t,s,a)}else if(Lt||Pa(t,s,a,!1),_=(a&t.childLanes)!==0,Lt||_){if(_=at,_!==null&&(l=Ll(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Hr(t,l),Tn(_,t,l),Xd;Mf(x)||Tu(),s=nf(t,s,a)}else Mf(x)?(s.flags|=192,s.child=t.child,s=null):(t=C.treeContext,ut=Xn(x.nextSibling),Jt=s,qe=!0,ki=null,Qn=!1,t!==null&&lp(s,t),s=tf(s,l.children),s.flags|=4096);return s}return h?(qi(),x=l.fallback,h=s.mode,C=t.child,U=C.sibling,l=Zs(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,U!==null?x=Zs(U,x):(x=Fr(x,h,a,null),x.flags|=2),x.return=s,l.return=s,l.sibling=x,s.child=l,yo(null,l),l=s.child,x=t.child.memoizedState,x===null?x=Wd(a):(h=x.cachePool,h!==null?(C=kt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=fp(),x={baseLanes:x.baseLanes|a,cachePool:h}),l.memoizedState=x,l.childLanes=ef(t,_,a),s.memoizedState=Zd,yo(t.child,l)):(Bi(s),a=t.child,t=a.sibling,a=Zs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function tf(t,s){return s=mu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function mu(t,s){return t=Cn(22,t,null,s),t.lanes=0,t}function nf(t,s,a){return Jr(s,t.child,null,a),t=tf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function S0(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),yd(t.return,s,a)}function sf(t,s,a,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function N0(t,s,a){var l=s.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=Nt.current,x=(_&2)!==0;if(x?(_=_&1|2,s.flags|=128):_&=1,re(Nt,_),Wt(t,s,l,a),l=qe?so:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S0(t,a,s);else if(t.tag===19)S0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&nu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),sf(s,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&nu(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}sf(s,!0,a,null,f,l);break;case"together":sf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ii(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),$i|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Pa(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Zs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Zs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function rf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Qc(t)))}function ow(t,s,a){switch(s.tag){case 3:Tt(s,s.stateNode.containerInfo),Li(s,kt,t.memoizedState.cache),$r();break;case 27:case 5:ys(s);break;case 4:Tt(s,s.stateNode.containerInfo);break;case 10:Li(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Cd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Bi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?A0(t,s,a):(Bi(s),t=ii(t,s,a),t!==null?t.sibling:null);Bi(s);break;case 19:var h=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Pa(t,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return N0(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Nt,Nt.current),l)break;return null;case 22:return s.lanes=0,_0(t,s,a,s.pendingProps);case 24:Li(s,kt,t.memoizedState.cache)}return ii(t,s,a)}function R0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Lt=!0;else{if(!rf(t,a)&&(s.flags&128)===0)return Lt=!1,ow(t,s,a);Lt=(t.flags&131072)!==0}else Lt=!1,qe&&(s.flags&1048576)!==0&&ap(s,so,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Yr(s.elementType),s.type=t,typeof t=="function")cd(t)?(l=Wr(t,l),s.tag=1,s=T0(null,s,t,l,a)):(s.tag=0,s=Jd(null,s,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===be){s.tag=11,s=p0(null,s,t,l,a);break e}else if(h===I){s.tag=14,s=y0(null,s,t,l,a);break e}}throw s=lt(t)||t,Error(i(306,s,""))}}return s;case 0:return Jd(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=Wr(l,s.pendingProps),T0(t,s,l,h,a);case 3:e:{if(Tt(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var f=s.memoizedState;h=f.element,Ed(t,s),ho(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Li(s,kt,l),l!==f.cache&&vd(s,[kt],a,!0),uo(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=E0(t,s,l,a);break e}else if(l!==h){h=$n(Error(i(424)),s),io(h),s=E0(t,s,l,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=Xn(t.firstChild),Jt=s,qe=!0,ki=null,Qn=!0,a=_p(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if($r(),l===h){s=ii(t,s,a);break e}Wt(t,s,l,a)}s=s.child}return s;case 26:return fu(t,s),t===null?(a=Uy(s.type,null,s.pendingProps,null))?s.memoizedState=a:qe||(a=s.type,t=s.pendingProps,l=Iu(Ee.current).createElement(a),l[Dt]=s,l[$t]=t,en(l,a,t),Ot(l),s.stateNode=l):s.memoizedState=Uy(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ys(s),t===null&&qe&&(l=s.stateNode=My(s.type,s.pendingProps,Ee.current),Jt=s,Qn=!0,h=ut,Xi(s.type)?(Pf=h,ut=Xn(l.firstChild)):ut=h),Wt(t,s,s.pendingProps.children,a),fu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&qe&&((h=l=ut)&&(l=Pw(l,s.type,s.pendingProps,Qn),l!==null?(s.stateNode=l,Jt=s,ut=Xn(l.firstChild),Qn=!1,h=!0):h=!1),h||Mi(s)),ys(s),h=s.type,f=s.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Of(h,f)?l=null:_!==null&&Of(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=jd(t,s,Wx,null,null,a),Do._currentValue=h),fu(t,s),Wt(t,s,l,a),s.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=Uw(a,s.pendingProps,Qn),a!==null?(s.stateNode=a,Jt=s,ut=null,t=!0):t=!1),t||Mi(s)),null;case 13:return A0(t,s,a);case 4:return Tt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Jr(s,null,l,a):Wt(t,s,l,a),s.child;case 11:return p0(t,s,s.type,s.pendingProps,a);case 7:return Wt(t,s,s.pendingProps,a),s.child;case 8:return Wt(t,s,s.pendingProps.children,a),s.child;case 12:return Wt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Li(s,s.type,l.value),Wt(t,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,Kr(s),h=Zt(h),l=l(h),s.flags|=1,Wt(t,s,l,a),s.child;case 14:return y0(t,s,s.type,s.pendingProps,a);case 15:return v0(t,s,s.type,s.pendingProps,a);case 19:return N0(t,s,a);case 31:return lw(t,s,a);case 22:return _0(t,s,a,s.pendingProps);case 24:return Kr(s),l=Zt(kt),t===null?(h=xd(),h===null&&(h=at,f=_d(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),s.memoizedState={parent:l,cache:h},Td(s),Li(s,kt,h)):((t.lanes&a)!==0&&(Ed(t,s),ho(s,null,null,a),uo()),h=t.memoizedState,f=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Li(s,kt,l)):(l=f.cache,Li(s,kt,l),l!==h.cache&&vd(s,[kt],a,!0))),Wt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ri(t){t.flags|=4}function af(t,s,a,l,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ty())t.flags|=8192;else throw Xr=Zc,wd}else t.flags&=-16777217}function C0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fy(s))if(ty())t.flags|=8192;else throw Xr=Zc,wd}function gu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?xc():536870912,t.lanes|=s,Xa|=s)}function vo(t,s){if(!qe)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function cw(t,s,a){var l=s.pendingProps;switch(fd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return ht(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ti(kt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(La(s)?ri(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gd())),ht(s),null;case 26:var h=s.type,f=s.memoizedState;return t===null?(ri(s),f!==null?(ht(s),C0(s,f)):(ht(s),af(s,h,null,l,a))):f?f!==t.memoizedState?(ri(s),ht(s),C0(s,f)):(ht(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&ri(s),ht(s),af(s,h,t,l,a)),null;case 27:if(wi(s),a=Ee.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ri(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ht(s),null}t=ne.current,La(s)?op(s):(t=My(h,l,a),s.stateNode=t,ri(s))}return ht(s),null;case 5:if(wi(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ri(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ht(s),null}if(f=ne.current,La(s))op(s);else{var _=Iu(Ee.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[Dt]=s,f[$t]=l;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=f;e:switch(en(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ri(s)}}return ht(s),af(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ri(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=Ee.current,La(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ay(t.nodeValue,a)),t||Mi(s,!0)}else t=Iu(t).createTextNode(l),t[Dt]=s,s.stateNode=t}return ht(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=La(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Dt]=s}else $r(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),t=!1}else a=gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(jn(s),s):(jn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ht(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(s),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Dt]=s}else $r(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),h=!1}else h=gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(jn(s),s):(jn(s),null)}return jn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),gu(s,s.updateQueue),ht(s),null);case 4:return ot(),t===null&&Rf(s.stateNode.containerInfo),ht(s),null;case 10:return ti(s.type),ht(s),null;case 19:if(K(Nt),l=s.memoizedState,l===null)return ht(s),null;if(h=(s.flags&128)!==0,f=l.rendering,f===null)if(h)vo(l,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=nu(t),f!==null){for(s.flags|=128,vo(l,!1),t=f.updateQueue,s.updateQueue=t,gu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)sp(a,t),a=a.sibling;return re(Nt,Nt.current&1|2),qe&&Ws(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&qt()>bu&&(s.flags|=128,h=!0,vo(l,!1),s.lanes=4194304)}else{if(!h)if(t=nu(f),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,gu(s,t),vo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return ht(s),null}else 2*qt()-l.renderingStartTime>bu&&a!==536870912&&(s.flags|=128,h=!0,vo(l,!1),s.lanes=4194304);l.isBackwards?(f.sibling=s.child,s.child=f):(t=l.last,t!==null?t.sibling=f:s.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=qt(),t.sibling=null,a=Nt.current,re(Nt,h?a&1|2:a&1),qe&&Ws(s,l.treeForkCount),t):(ht(s),null);case 22:case 23:return jn(s),Rd(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),a=s.updateQueue,a!==null&&gu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&K(Qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ti(kt),ht(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function uw(t,s){switch(fd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ti(kt),ot(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return wi(s),null;case 31:if(s.memoizedState!==null){if(jn(s),s.alternate===null)throw Error(i(340));$r()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(jn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));$r()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return K(Nt),null;case 4:return ot(),null;case 10:return ti(s.type),null;case 22:case 23:return jn(s),Rd(),t!==null&&K(Qr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ti(kt),null;case 25:return null;default:return null}}function I0(t,s){switch(fd(s),s.tag){case 3:ti(kt),ot();break;case 26:case 27:case 5:wi(s);break;case 4:ot();break;case 31:s.memoizedState!==null&&jn(s);break;case 13:jn(s);break;case 19:K(Nt);break;case 10:ti(s.type);break;case 22:case 23:jn(s),Rd(),t!==null&&K(Qr);break;case 24:ti(kt)}}function _o(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(x){We(s,s.return,x)}}function Hi(t,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,h=s;var C=a,U=x;try{U()}catch($){We(h,C,$)}}}l=l.next}while(l!==f)}}catch($){We(s,s.return,$)}}function j0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{xp(s,a)}catch(l){We(t,t.return,l)}}}function D0(t,s,a){a.props=Wr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,s,l)}}function bo(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,s,h)}}function ks(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,s,h)}else a.current=null}function O0(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function lf(t,s,a){try{var l=t.stateNode;Dw(l,t.type,a,s),l[$t]=s}catch(h){We(t,t.return,h)}}function V0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xi(t.type)||t.tag===4}function of(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||V0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=rs));else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(cf(t,s,a),t=t.sibling;t!==null;)cf(t,s,a),t=t.sibling}function pu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pu(t,s,a),t=t.sibling;t!==null;)pu(t,s,a),t=t.sibling}function k0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);en(s,l,a),s[Dt]=t,s[$t]=a}catch(f){We(t,t.return,f)}}var ai=!1,Pt=!1,uf=!1,M0=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function hw(t,s){if(t=t.containerInfo,jf=Lu,t=Qg(t),nd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,x=-1,C=-1,U=0,$=0,Q=t,z=null;t:for(;;){for(var H;Q!==a||h!==0&&Q.nodeType!==3||(x=_+h),Q!==f||l!==0&&Q.nodeType!==3||(C=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(H=Q.firstChild)!==null;)z=Q,Q=H;for(;;){if(Q===t)break t;if(z===a&&++U===h&&(x=_),z===f&&++$===l&&(C=_),(H=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=H}a=x===-1||C===-1?null:{start:x,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:t,selectionRange:a},Lu=!1,Kt=s;Kt!==null;)if(s=Kt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Kt=t;else for(;Kt!==null;){switch(s=Kt,f=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=s,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=Wr(a.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)kf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Kt=t;break}Kt=s.return}}function L0(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:oi(t,a),l&4&&_o(5,a);break;case 1:if(oi(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var h=Wr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&j0(a),l&512&&bo(a,a.return);break;case 3:if(oi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{xp(t,s)}catch(_){We(a,a.return,_)}}break;case 27:s===null&&l&4&&k0(a);case 26:case 5:oi(t,a),s===null&&l&4&&O0(a),l&512&&bo(a,a.return);break;case 12:oi(t,a);break;case 31:oi(t,a),l&4&&z0(t,a);break;case 13:oi(t,a),l&4&&B0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=bw.bind(null,a),zw(t,a))));break;case 22:if(l=a.memoizedState!==null||ai,!l){s=s!==null&&s.memoizedState!==null||Pt,h=ai;var f=Pt;ai=l,(Pt=s)&&!f?ci(t,a,(a.subtreeFlags&8772)!==0):oi(t,a),ai=h,Pt=f}break;case 30:break;default:oi(t,a)}}function P0(t){var s=t.alternate;s!==null&&(t.alternate=null,P0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&ba(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,_n=!1;function li(t,s,a){for(a=a.child;a!==null;)U0(t,s,a),a=a.sibling}function U0(t,s,a){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Ie,a)}catch{}switch(a.tag){case 26:Pt||ks(a,s),li(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||ks(a,s);var l=mt,h=_n;Xi(a.type)&&(mt=a.stateNode,_n=!1),li(t,s,a),Co(a.stateNode),mt=l,_n=h;break;case 5:Pt||ks(a,s);case 6:if(l=mt,h=_n,mt=null,li(t,s,a),mt=l,_n=h,mt!==null)if(_n)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(f){We(a,s,f)}else try{mt.removeChild(a.stateNode)}catch(f){We(a,s,f)}break;case 18:mt!==null&&(_n?(t=mt,jy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),il(t)):jy(mt,a.stateNode));break;case 4:l=mt,h=_n,mt=a.stateNode.containerInfo,_n=!0,li(t,s,a),mt=l,_n=h;break;case 0:case 11:case 14:case 15:Hi(2,a,s),Pt||Hi(4,a,s),li(t,s,a);break;case 1:Pt||(ks(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&D0(a,s,l)),li(t,s,a);break;case 21:li(t,s,a);break;case 22:Pt=(l=Pt)||a.memoizedState!==null,li(t,s,a),Pt=l;break;default:li(t,s,a)}}function z0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{il(t)}catch(a){We(s,s.return,a)}}}function B0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{il(t)}catch(a){We(s,s.return,a)}}function dw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new M0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new M0),s;default:throw Error(i(435,t.tag))}}function yu(t,s){var a=dw(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=xw.bind(null,t,l);l.then(h,h)}})}function bn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=s,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(Xi(x.type)){mt=x.stateNode,_n=!1;break e}break;case 5:mt=x.stateNode,_n=!1;break e;case 3:case 4:mt=x.stateNode.containerInfo,_n=!0;break e}x=x.return}if(mt===null)throw Error(i(160));U0(f,_,h),mt=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)q0(s,t),s=s.sibling}var hs=null;function q0(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(s,t),xn(t),l&4&&(Hi(3,t,t.return),_o(3,t),Hi(5,t,t.return));break;case 1:bn(s,t),xn(t),l&512&&(Pt||a===null||ks(a,a.return)),l&64&&ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=hs;if(bn(s,t),xn(t),l&512&&(Pt||a===null||ks(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[xs]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),en(f,l,a),f[Dt]=t,Ot(f),l=f;break e;case"link":var _=qy("link","href",h).get(l+(a.href||""));if(_){for(var x=0;x<_.length;x++)if(f=_[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(x,1);break t}}f=h.createElement(l),en(f,l,a),h.head.appendChild(f);break;case"meta":if(_=qy("meta","content",h).get(l+(a.content||""))){for(x=0;x<_.length;x++)if(f=_[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(x,1);break t}}f=h.createElement(l),en(f,l,a),h.head.appendChild(f);break;default:throw Error(i(468,l))}f[Dt]=t,Ot(f),l=f}t.stateNode=l}else Hy(h,t.type,t.stateNode);else t.stateNode=By(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Hy(h,t.type,t.stateNode):By(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&lf(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(s,t),xn(t),l&512&&(Pt||a===null||ks(a,a.return)),a!==null&&l&4&&lf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(s,t),xn(t),l&512&&(Pt||a===null||ks(a,a.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(he){We(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,lf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(uf=!0);break;case 6:if(bn(s,t),xn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){We(t,t.return,he)}}break;case 3:if(Ou=null,h=hs,hs=ju(s.containerInfo),bn(s,t),hs=h,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{il(s.containerInfo)}catch(he){We(t,t.return,he)}uf&&(uf=!1,H0(t));break;case 4:l=hs,hs=ju(t.stateNode.containerInfo),bn(s,t),xn(t),hs=l;break;case 12:bn(s,t),xn(t);break;case 31:bn(s,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 13:bn(s,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_u=qt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=ai,$=Pt;if(ai=U||h,Pt=$||C,bn(s,t),Pt=$,ai=U,xn(t),l&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||C||ai||Pt||ea(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=C.stateNode;var Q=C.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;x.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){We(C,C.return,he)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){We(C,C.return,he)}}}else if(s.tag===18){if(a===null){C=s;try{var H=C.stateNode;h?Dy(H,!0):Dy(C.stateNode,!1)}catch(he){We(C,C.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yu(t,a))));break;case 19:bn(s,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 30:break;case 21:break;default:bn(s,t),xn(t)}}function xn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(V0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,f=of(t);pu(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(vn(_,""),a.flags&=-33);var x=of(t);pu(t,x,_);break;case 3:case 4:var C=a.stateNode.containerInfo,U=of(t);cf(t,U,C);break;default:throw Error(i(161))}}catch($){We(t,t.return,$)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function H0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;H0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function oi(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)L0(t,s.alternate,s),s=s.sibling}function ea(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Hi(4,s,s.return),ea(s);break;case 1:ks(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&D0(s,s.return,a),ea(s);break;case 27:Co(s.stateNode);case 26:case 5:ks(s,s.return),ea(s);break;case 22:s.memoizedState===null&&ea(s);break;case 30:ea(s);break;default:ea(s)}t=t.sibling}}function ci(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=t,f=s,_=f.flags;switch(f.tag){case 0:case 11:case 15:ci(h,f,a),_o(4,f);break;case 1:if(ci(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){We(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var x=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)bp(C[h],x)}catch(U){We(l,l.return,U)}}a&&_&64&&j0(f),bo(f,f.return);break;case 27:k0(f);case 26:case 5:ci(h,f,a),a&&l===null&&_&4&&O0(f),bo(f,f.return);break;case 12:ci(h,f,a);break;case 31:ci(h,f,a),a&&_&4&&z0(h,f);break;case 13:ci(h,f,a),a&&_&4&&B0(h,f);break;case 22:f.memoizedState===null&&ci(h,f,a),bo(f,f.return);break;case 30:break;default:ci(h,f,a)}s=s.sibling}}function hf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ro(a))}function df(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ro(t))}function ds(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)F0(t,s,a,l),s=s.sibling}function F0(t,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:ds(t,s,a,l),h&2048&&_o(9,s);break;case 1:ds(t,s,a,l);break;case 3:ds(t,s,a,l),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ro(t)));break;case 12:if(h&2048){ds(t,s,a,l),t=s.stateNode;try{var f=s.memoizedProps,_=f.id,x=f.onPostCommit;typeof x=="function"&&x(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){We(s,s.return,C)}}else ds(t,s,a,l);break;case 31:ds(t,s,a,l);break;case 13:ds(t,s,a,l);break;case 23:break;case 22:f=s.stateNode,_=s.alternate,s.memoizedState!==null?f._visibility&2?ds(t,s,a,l):xo(t,s):f._visibility&2?ds(t,s,a,l):(f._visibility|=2,Ka(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&hf(_,s);break;case 24:ds(t,s,a,l),h&2048&&df(s.alternate,s);break;default:ds(t,s,a,l)}}function Ka(t,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=t,_=s,x=a,C=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(f,_,x,C,h),_o(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ka(f,_,x,C,h):xo(f,_):($._visibility|=2,Ka(f,_,x,C,h)),h&&U&2048&&hf(_.alternate,_);break;case 24:Ka(f,_,x,C,h),h&&U&2048&&df(_.alternate,_);break;default:Ka(f,_,x,C,h)}s=s.sibling}}function xo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,h=l.flags;switch(l.tag){case 22:xo(a,l),h&2048&&hf(l.alternate,l);break;case 24:xo(a,l),h&2048&&df(l.alternate,l);break;default:xo(a,l)}s=s.sibling}}var wo=8192;function Qa(t,s,a){if(t.subtreeFlags&wo)for(t=t.child;t!==null;)$0(t,s,a),t=t.sibling}function $0(t,s,a){switch(t.tag){case 26:Qa(t,s,a),t.flags&wo&&t.memoizedState!==null&&Zw(a,hs,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,s,a);break;case 3:case 4:var l=hs;hs=ju(t.stateNode.containerInfo),Qa(t,s,a),hs=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wo,wo=16777216,Qa(t,s,a),wo=l):Qa(t,s,a));break;default:Qa(t,s,a)}}function G0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function To(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Kt=l,Q0(l,t)}G0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)K0(t),t=t.sibling}function K0(t){switch(t.tag){case 0:case 11:case 15:To(t),t.flags&2048&&Hi(9,t,t.return);break;case 3:To(t);break;case 12:To(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,vu(t)):To(t);break;default:To(t)}}function vu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Kt=l,Q0(l,t)}G0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Hi(8,s,s.return),vu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,vu(s));break;default:vu(s)}t=t.sibling}}function Q0(t,s){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Hi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ro(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Kt=l;else e:for(a=t;Kt!==null;){l=Kt;var h=l.sibling,f=l.return;if(P0(l),l===a){Kt=null;break e}if(h!==null){h.return=f,Kt=h;break e}Kt=f}}}var fw={getCacheForType:function(t){var s=Zt(kt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Zt(kt).controller.signal}},mw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,De=null,ke=0,Ze=0,Dn=null,Fi=!1,Ya=!1,ff=!1,ui=0,xt=0,$i=0,ta=0,mf=0,On=0,Xa=0,Eo=null,wn=null,gf=!1,_u=0,Y0=0,bu=1/0,xu=null,Gi=null,Ht=0,Ki=null,Ja=null,hi=0,pf=0,yf=null,X0=null,Ao=0,vf=null;function Vn(){return(Qe&2)!==0&&ke!==0?ke&-ke:F.T!==null?Ef():wc()}function J0(){if(On===0)if((ke&536870912)===0||qe){var t=Ks;Ks<<=1,(Ks&3932160)===0&&(Ks=262144),On=t}else On=536870912;return t=In.current,t!==null&&(t.flags|=32),On}function Tn(t,s,a){(t===at&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Za(t,0),Qi(t,ke,On,!1)),Cr(t,a),((Qe&2)===0||t!==at)&&(t===at&&((Qe&2)===0&&(ta|=a),xt===4&&Qi(t,ke,On,!1)),Ms(t))}function Z0(t,s,a){if((Qe&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||At(t,s),h=l?yw(t,s):bf(t,s,!0),f=l;do{if(h===0){Ya&&!l&&Qi(t,s,0,!1);break}else{if(a=t.current.alternate,f&&!gw(a)){h=bf(t,s,!1),f=!1;continue}if(h===2){if(f=s,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var x=t;h=Eo;var C=x.current.memoizedState.isDehydrated;if(C&&(Za(x,_).flags|=256),_=bf(x,_,!1),_!==2){if(ff&&!C){x.errorRecoveryDisabledLanes|=f,ta|=f,h=4;break e}f=wn,wn=h,f!==null&&(wn===null?wn=f:wn.push.apply(wn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),Qi(t,s,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Qi(l,s,On,!Fi);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=_u+300-qt(),10<h)){if(Qi(l,s,On,!Fi),tt(l,0,!0)!==0)break e;hi=s,l.timeoutHandle=Cy(W0.bind(null,l,a,wn,xu,gf,s,On,ta,Xa,Fi,f,"Throttled",-0,0),h);break e}W0(l,a,wn,xu,gf,s,On,ta,Xa,Fi,f,null,-0,0)}}break}while(!0);Ms(t)}function W0(t,s,a,l,h,f,_,x,C,U,$,Q,z,H){if(t.timeoutHandle=-1,Q=s.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rs},$0(s,f,Q);var he=(f&62914560)===f?_u-qt():(f&4194048)===f?Y0-qt():0;if(he=Ww(Q,he),he!==null){hi=f,t.cancelPendingCommit=he(ly.bind(null,t,s,f,a,l,h,_,x,C,$,Q,null,z,H)),Qi(t,f,_,!U);return}}ly(t,s,f,a,l,h,_,x,C)}function gw(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qi(t,s,a,l){s&=~mf,s&=~ta,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var h=s;0<h;){var f=31-pt(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&Ir(t,a,s)}function wu(){return(Qe&6)===0?(So(0),!1):!0}function _f(){if(De!==null){if(Ze===0)var t=De.return;else t=De,ei=Gr=null,Vd(t),qa=null,lo=0,t=De;for(;t!==null;)I0(t.alternate,t),t=t.return;De=null}}function Za(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hi=0,_f(),at=t,De=a=Zs(t.current,null),ke=s,Ze=0,Dn=null,Fi=!1,Ya=At(t,s),ff=!1,Xa=On=mf=ta=$i=xt=0,wn=Eo=null,gf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var h=31-pt(l),f=1<<h;s|=t[h],l&=~f}return ui=s,Hc(),a}function ey(t,s){Ce=null,F.H=po,s===Ba||s===Jc?(s=pp(),Ze=3):s===wd?(s=pp(),Ze=4):Ze=s===Xd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dn=s,De===null&&(xt=1,hu(t,$n(s,t.current)))}function ty(){var t=In.current;return t===null?!0:(ke&4194048)===ke?Yn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Yn:!1}function ny(){var t=F.H;return F.H=po,t===null?po:t}function sy(){var t=F.A;return F.A=fw,t}function Tu(){xt=4,Fi||(ke&4194048)!==ke&&In.current!==null||(Ya=!0),($i&134217727)===0&&(ta&134217727)===0||at===null||Qi(at,ke,On,!1)}function bf(t,s,a){var l=Qe;Qe|=2;var h=ny(),f=sy();(at!==t||ke!==s)&&(xu=null,Za(t,s)),s=!1;var _=xt;e:do try{if(Ze!==0&&De!==null){var x=De,C=Dn;switch(Ze){case 8:_f(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(s=!0);var U=Ze;if(Ze=0,Dn=null,Wa(t,x,C,U),a&&Ya){_=0;break e}break;default:U=Ze,Ze=0,Dn=null,Wa(t,x,C,U)}}pw(),_=xt;break}catch($){ey(t,$)}while(!0);return s&&t.shellSuspendCounter++,ei=Gr=null,Qe=l,F.H=h,F.A=f,De===null&&(at=null,ke=0,Hc()),_}function pw(){for(;De!==null;)iy(De)}function yw(t,s){var a=Qe;Qe|=2;var l=ny(),h=sy();at!==t||ke!==s?(xu=null,bu=qt()+500,Za(t,s)):Ya=At(t,s);e:do try{if(Ze!==0&&De!==null){s=De;var f=Dn;t:switch(Ze){case 1:Ze=0,Dn=null,Wa(t,s,f,1);break;case 2:case 9:if(mp(f)){Ze=0,Dn=null,ry(s);break}s=function(){Ze!==2&&Ze!==9||at!==t||(Ze=7),Ms(t)},f.then(s,s);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:mp(f)?(Ze=0,Dn=null,ry(s)):(Ze=0,Dn=null,Wa(t,s,f,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var x=De;if(_?Fy(_):x.stateNode.complete){Ze=0,Dn=null;var C=x.sibling;if(C!==null)De=C;else{var U=x.return;U!==null?(De=U,Eu(U)):De=null}break t}}Ze=0,Dn=null,Wa(t,s,f,5);break;case 6:Ze=0,Dn=null,Wa(t,s,f,6);break;case 8:_f(),xt=6;break e;default:throw Error(i(462))}}vw();break}catch($){ey(t,$)}while(!0);return ei=Gr=null,F.H=l,F.A=h,Qe=a,De!==null?0:(at=null,ke=0,Hc(),xt)}function vw(){for(;De!==null&&!kl();)iy(De)}function iy(t){var s=R0(t.alternate,t,ui);t.memoizedProps=t.pendingProps,s===null?Eu(t):De=s}function ry(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=w0(a,s,s.pendingProps,s.type,void 0,ke);break;case 11:s=w0(a,s,s.pendingProps,s.type.render,s.ref,ke);break;case 5:Vd(s);default:I0(a,s),s=De=sp(s,ui),s=R0(a,s,ui)}t.memoizedProps=t.pendingProps,s===null?Eu(t):De=s}function Wa(t,s,a,l){ei=Gr=null,Vd(s),qa=null,lo=0;var h=s.return;try{if(aw(t,h,s,a,ke)){xt=1,hu(t,$n(a,t.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;xt=1,hu(t,$n(a,t.current)),De=null;return}s.flags&32768?(qe||l===1?t=!0:Ya||(ke&536870912)!==0?t=!1:(Fi=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),ay(s,t)):Eu(s)}function Eu(t){var s=t;do{if((s.flags&32768)!==0){ay(s,Fi);return}t=s.return;var a=cw(s.alternate,s,ui);if(a!==null){De=a;return}if(s=s.sibling,s!==null){De=s;return}De=s=t}while(s!==null);xt===0&&(xt=5)}function ay(t,s){do{var a=uw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);xt=6,De=null}function ly(t,s,a,l,h,f,_,x,C){t.cancelPendingCommit=null;do Au();while(Ht!==0);if((Qe&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(f=s.lanes|s.childLanes,f|=ld,Zh(t,a,f,_,x,C),t===at&&(De=at=null,ke=0),Ja=s,Ki=t,hi=a,pf=f,yf=h,X0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ww(ns,function(){return dy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ie.p,ie.p=2,_=Qe,Qe|=4;try{hw(t,s,a)}finally{Qe=_,ie.p=h,F.T=l}}Ht=1,oy(),cy(),uy()}}function oy(){if(Ht===1){Ht=0;var t=Ki,s=Ja,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var h=Qe;Qe|=4;try{q0(s,t);var f=Df,_=Qg(t.containerInfo),x=f.focusedElem,C=f.selectionRange;if(_!==x&&x&&x.ownerDocument&&Kg(x.ownerDocument.documentElement,x)){if(C!==null&&nd(x)){var U=C.start,$=C.end;if($===void 0&&($=U),"selectionStart"in x)x.selectionStart=U,x.selectionEnd=Math.min($,x.value.length);else{var Q=x.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var H=z.getSelection(),he=x.textContent.length,_e=Math.min(C.start,he),rt=C.end===void 0?_e:Math.min(C.end,he);!H.extend&&_e>rt&&(_=rt,rt=_e,_e=_);var k=Gg(x,_e),D=Gg(x,rt);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=Q.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),_e>rt?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(Q=[],H=x;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Q.length;x++){var G=Q[x];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Lu=!!jf,Df=jf=null}finally{Qe=h,ie.p=l,F.T=a}}t.current=s,Ht=2}}function cy(){if(Ht===2){Ht=0;var t=Ki,s=Ja,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var h=Qe;Qe|=4;try{L0(t,s.alternate,s)}finally{Qe=h,ie.p=l,F.T=a}}Ht=3}}function uy(){if(Ht===4||Ht===3){Ht=0,Ln();var t=Ki,s=Ja,a=hi,l=X0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,Ja=Ki=null,hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gi=null),Qs(a),s=s.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Ie,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=F.T,h=ie.p,ie.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var x=l[_];f(x.value,{componentStack:x.stack})}}finally{F.T=s,ie.p=h}}(hi&3)!==0&&Au(),Ms(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===vf?Ao++:(Ao=0,vf=t):Ao=0,So(0)}}function hy(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,ro(s)))}function Au(){return oy(),cy(),uy(),dy()}function dy(){if(Ht!==5)return!1;var t=Ki,s=pf;pf=0;var a=Qs(hi),l=F.T,h=ie.p;try{ie.p=32>a?32:a,F.T=null,a=yf,yf=null;var f=Ki,_=hi;if(Ht=0,Ja=Ki=null,hi=0,(Qe&6)!==0)throw Error(i(331));var x=Qe;if(Qe|=4,K0(f.current),F0(f,f.current,_,a),Qe=x,So(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Ie,f)}catch{}return!0}finally{ie.p=h,F.T=l,hy(t,s)}}function fy(t,s,a){s=$n(a,s),s=Yd(t.stateNode,s,2),t=zi(t,s,2),t!==null&&(Cr(t,2),Ms(t))}function We(t,s,a){if(t.tag===3)fy(t,t,a);else for(;s!==null;){if(s.tag===3){fy(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){t=$n(a,t),a=m0(2),l=zi(s,a,2),l!==null&&(g0(a,l,s,t),Cr(l,2),Ms(l));break}}s=s.return}}function xf(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new mw;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(ff=!0,h.add(a),t=_w.bind(null,t,s,a),s.then(t,t))}function _w(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(ke&a)===a&&(xt===4||xt===3&&(ke&62914560)===ke&&300>qt()-_u?(Qe&2)===0&&Za(t,0):mf|=a,Xa===ke&&(Xa=0)),Ms(t)}function my(t,s){s===0&&(s=xc()),t=Hr(t,s),t!==null&&(Cr(t,s),Ms(t))}function bw(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),my(t,a)}function xw(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),my(t,a)}function ww(t,s){return Et(t,s)}var Su=null,el=null,wf=!1,Nu=!1,Tf=!1,Yi=0;function Ms(t){t!==el&&t.next===null&&(el===null?Su=el=t:el=el.next=t),Nu=!0,wf||(wf=!0,Ew())}function So(t,s){if(!Tf&&Nu){Tf=!0;do for(var a=!1,l=Su;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=h&~(_&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,vy(l,f))}else f=ke,f=tt(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||At(l,f)||(a=!0,vy(l,f));l=l.next}while(a);Tf=!1}}function Tw(){gy()}function gy(){Nu=wf=!1;var t=0;Yi!==0&&Vw()&&(t=Yi);for(var s=qt(),a=null,l=Su;l!==null;){var h=l.next,f=py(l,s);f===0?(l.next=null,a===null?Su=h:a.next=h,h===null&&(el=a)):(a=l,(t!==0||(f&3)!==0)&&(Nu=!0)),l=h}Ht!==0&&Ht!==5||So(t),Yi!==0&&(Yi=0)}function py(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-pt(f),x=1<<_,C=h[_];C===-1?((x&a)===0||(x&l)!==0)&&(h[_]=Rr(x,s)):C<=s&&(t.expiredLanes|=x),f&=~x}if(s=at,a=ke,a=tt(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||At(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&vs(l),Qs(a)){case 2:case 8:a=Ti;break;case 32:a=ns;break;case 268435456:a=Pn;break;default:a=ns}return l=yy.bind(null,t),a=Et(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&vs(l),t.callbackPriority=2,t.callbackNode=null,2}function yy(t,s){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Au()&&t.callbackNode!==a)return null;var l=ke;return l=tt(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Z0(t,l,s),py(t,qt()),t.callbackNode!=null&&t.callbackNode===a?yy.bind(null,t):null)}function vy(t,s){if(Au())return null;Z0(t,s,!0)}function Ew(){Mw(function(){(Qe&6)!==0?Et(Nr,Tw):gy()})}function Ef(){if(Yi===0){var t=Ua;t===0&&(t=Un,Un<<=1,(Un&261888)===0&&(Un=256)),Yi=t}return Yi}function _y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function by(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Aw(t,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var f=_y((h[$t]||null).action),_=l.submitter;_&&(s=(s=_[$t]||null)?_y(s.formAction):_.getAttribute("formAction"),s!==null&&(f=s,_=null));var x=new Cs("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yi!==0){var C=_?by(h,_):new FormData(h);Hd(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(x.preventDefault(),C=_?by(h,_):new FormData(h),Hd(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Af=0;Af<ad.length;Af++){var Sf=ad[Af],Sw=Sf.toLowerCase(),Nw=Sf[0].toUpperCase()+Sf.slice(1);us(Sw,"on"+Nw)}us(Jg,"onAnimationEnd"),us(Zg,"onAnimationIteration"),us(Wg,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(Hx,"onTransitionRun"),us(Fx,"onTransitionStart"),us($x,"onTransitionCancel"),us(ep,"onTransitionEnd"),As("onMouseEnter",["mouseout","mouseover"]),As("onMouseLeave",["mouseout","mouseover"]),As("onPointerEnter",["pointerout","pointerover"]),As("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function xy(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var _=l.length-1;0<=_;_--){var x=l[_],C=x.instance,U=x.currentTarget;if(x=x.listener,C!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=U;try{f(h)}catch($){qc($)}h.currentTarget=null,f=C}else for(_=0;_<l.length;_++){if(x=l[_],C=x.instance,U=x.currentTarget,x=x.listener,C!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=U;try{f(h)}catch($){qc($)}h.currentTarget=null,f=C}}}}function Oe(t,s){var a=s[_a];a===void 0&&(a=s[_a]=new Set);var l=t+"__bubble";a.has(l)||(wy(s,t,2,!1),a.add(l))}function Nf(t,s,a){var l=0;s&&(l|=4),wy(a,t,l,s)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Rf(t){if(!t[Ru]){t[Ru]=!0,Pl.forEach(function(a){a!=="selectionchange"&&(Rw.has(a)||Nf(a,!1,t),Nf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ru]||(s[Ru]=!0,Nf("selectionchange",!1,s))}}function wy(t,s,a,l){switch(Jy(s)){case 2:var h=nT;break;case 8:h=sT;break;default:h=Hf}a=h.bind(null,s,a,t),h=void 0,!kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function Cf(t,s,a,l,h){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var x=l.stateNode.containerInfo;if(x===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;x!==null;){if(_=ws(x),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=f=_;continue e}x=x.parentNode}}l=l.return}Ii(function(){var U=f,$=Bn(a),Q=[];e:{var z=tp.get(t);if(z!==void 0){var H=Cs,he=t;switch(t){case"keypress":if(Lr(a)===0)break e;case"keydown":case"keyup":H=Uc;break;case"focusin":he="focus",H=Ur;break;case"focusout":he="blur",H=Ur;break;case"beforeblur":case"afterblur":H=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case Jg:case Zg:case Wg:H=Dc;break;case ep:H=T;break;case"scroll":case"scrollend":H=Xl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Js;break;case"toggle":case"beforetoggle":H=Re}var _e=(s&4)!==0,rt=!_e&&(t==="scroll"||t==="scrollend"),k=_e?z!==null?z+"Capture":null:z;_e=[];for(var D=U,P;D!==null;){var G=D;if(P=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||P===null||k===null||(G=as(D,k),G!=null&&_e.push(Ro(D,G,P))),rt)break;D=D.return}0<_e.length&&(z=new H(z,he,null,a,$),Q.push({event:z,listeners:_e}))}}if((s&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==Kl&&(he=a.relatedTarget||a.fromElement)&&(ws(he)||he[bs]))break e;if((H||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=U,he=he?ws(he):null,he!==null&&(rt=u(he),_e=he.tag,he!==rt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(H=null,he=U),H!==he)){if(_e=Jl,G="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Js,G="onPointerLeave",k="onPointerEnter",D="pointer"),rt=H==null?z:Sn(H),P=he==null?z:Sn(he),z=new _e(G,D+"leave",H,a,$),z.target=rt,z.relatedTarget=P,G=null,ws($)===U&&(_e=new _e(k,D+"enter",he,a,$),_e.target=P,_e.relatedTarget=rt,G=_e),rt=G,H&&he)t:{for(_e=Cw,k=H,D=he,P=0,G=k;G;G=_e(G))P++;G=0;for(var ge=D;ge;ge=_e(ge))G++;for(;0<P-G;)k=_e(k),P--;for(;0<G-P;)D=_e(D),G--;for(;P--;){if(k===D||D!==null&&k===D.alternate){_e=k;break t}k=_e(k),D=_e(D)}_e=null}else _e=null;H!==null&&Ty(Q,z,H,_e,!1),he!==null&&rt!==null&&Ty(Q,rt,he,_e,!0)}}e:{if(z=U?Sn(U):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var $e=zg;else if(Pg(z))if(Bg)$e=zx;else{$e=Px;var fe=Lx}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&Ta(U.elementType)&&($e=zg):$e=Ux;if($e&&($e=$e(t,U))){Ug(Q,$e,a,$);break e}fe&&fe(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Fl(z,"number",z.value)}switch(fe=U?Sn(U):window,t){case"focusin":(Pg(fe)||fe.contentEditable==="true")&&(ja=fe,sd=U,no=null);break;case"focusout":no=sd=ja=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,Yg(Q,a,$);break;case"selectionchange":if(qx)break;case"keydown":case"keyup":Yg(Q,a,$)}var je;if(Ke)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ia?zr(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ds&&a.locale!=="ko"&&(Ia||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ia&&(je=Yl()):(Rs=$,Ql="value"in Rs?Rs.value:Rs.textContent,Ia=!0)),fe=Cu(U,Me),0<fe.length&&(Me=new js(Me,t,null,a,$),Q.push({event:Me,listeners:fe}),je?Me.data=je:(je=Ca(a),je!==null&&(Me.data=je)))),(je=Hn?Ox(t,a):Vx(t,a))&&(Me=Cu(U,"onBeforeInput"),0<Me.length&&(fe=new js("onBeforeInput","beforeinput",null,a,$),Q.push({event:fe,listeners:Me}),fe.data=je)),Aw(Q,t,U,a,$)}xy(Q,s)})}function Ro(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Cu(t,s){for(var a=s+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=as(t,a),h!=null&&l.unshift(Ro(t,h,f)),h=as(t,s),h!=null&&l.push(Ro(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Cw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ty(t,s,a,l,h){for(var f=s._reactName,_=[];a!==null&&a!==l;){var x=a,C=x.alternate,U=x.stateNode;if(x=x.tag,C!==null&&C===l)break;x!==5&&x!==26&&x!==27||U===null||(C=U,h?(U=as(a,f),U!=null&&_.unshift(Ro(a,U,C))):h||(U=as(a,f),U!=null&&_.push(Ro(a,U,C)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var Iw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function Ey(t){return(typeof t=="string"?t:""+t).replace(Iw,`
`).replace(jw,"")}function Ay(t,s){return s=Ey(s),Ey(t)===s}function it(t,s,a,l,h,f){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&vn(t,""+l);break;case"className":Nn(t,"class",l);break;case"tabIndex":Nn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,a,l);break;case"style":Gl(t,l,f);break;case"data":if(s!=="object"){Nn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(s!=="input"&&it(t,s,"name",h.name,h,null),it(t,s,"formEncType",h.formEncType,h,null),it(t,s,"formMethod",h.formMethod,h,null),it(t,s,"formTarget",h.formTarget,h,null)):(it(t,s,"encType",h.encType,h,null),it(t,s,"method",h.method,h,null),it(t,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=rs);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),xa(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cc.get(a)||a,xa(t,a,l))}}function If(t,s,a,l,h,f){switch(a){case"style":Gl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),f=t[$t]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(s,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):xa(t,a,l)}}}function en(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(t,s,f,_,a,null)}}h&&it(t,s,"srcSet",a.srcSet,a,null),l&&it(t,s,"src",a.src,a,null);return;case"input":Oe("invalid",t);var x=f=_=h=null,C=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":C=$;break;case"defaultChecked":U=$;break;case"value":f=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:it(t,s,l,$,a,null)}}Sc(t,f,x,C,U,_,h,!1);return;case"select":Oe("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":_=x;break;case"multiple":l=x;default:it(t,s,h,x,a,null)}s=f,a=_,t.multiple=!!l,s!=null?Si(t,!!l,s,!1):a!=null&&Si(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(x=a[_],x!=null))switch(_){case"value":l=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:it(t,s,_,x,a,null)}Ni(t,l,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":it(t,s,C,l,a,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<No.length;l++)Oe(No[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(t,s,U,l,a,null)}return;default:if(Ta(s)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&If(t,s,$,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&it(t,s,x,l,a,null))}function Dw(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,x=null,C=null,U=null,$=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Q;default:l.hasOwnProperty(H)||it(t,s,H,null,l,Q)}}for(var z in l){var H=l[z];if(Q=a[z],l.hasOwnProperty(z)&&(H!=null||Q!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":$=H;break;case"value":_=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:H!==Q&&it(t,s,z,H,l,Q)}}wa(t,_,x,C,U,$,f,h);return;case"select":H=_=x=z=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||it(t,s,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":x=f;break;case"multiple":_=f;default:f!==C&&it(t,s,h,f,l,C)}s=x,a=_,l=H,z!=null?Si(t,!!a,z,!1):!!l!=!!a&&(s!=null?Si(t,!!a,s,!0):Si(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:it(t,s,x,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==f&&it(t,s,_,h,l,f)}Nc(t,z,H);return;case"option":for(var he in a)z=a[he],a.hasOwnProperty(he)&&z!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:it(t,s,he,null,l,z));for(C in l)z=l[C],H=a[C],l.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":it(t,s,C,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)z=a[_e],a.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&it(t,s,_e,null,l,z);for(U in l)if(z=l[U],H=a[U],l.hasOwnProperty(U)&&z!==H&&(z!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,s));break;default:it(t,s,U,z,l,H)}return;default:if(Ta(s)){for(var rt in a)z=a[rt],a.hasOwnProperty(rt)&&z!==void 0&&!l.hasOwnProperty(rt)&&If(t,s,rt,void 0,l,z);for($ in l)z=l[$],H=a[$],!l.hasOwnProperty($)||z===H||z===void 0&&H===void 0||If(t,s,$,z,l,H);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&it(t,s,k,null,l,z);for(Q in l)z=l[Q],H=a[Q],!l.hasOwnProperty(Q)||z===H||z==null&&H==null||it(t,s,Q,z,l,H)}function Sy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ow(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,x=h.duration;if(f&&x&&Sy(_)){for(_=0,x=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],U=C.startTime;if(U>x)break;var $=C.transferSize,Q=C.initiatorType;$&&Sy(Q)&&(C=C.responseEnd,_+=$*(C<x?1:(x-U)/(C-U)))}if(--l,s+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var jf=null,Df=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function Ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Of(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vf=null;function Vw(){var t=window.event;return t&&t.type==="popstate"?t===Vf?!1:(Vf=t,!0):(Vf=null,!1)}var Cy=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,Mw=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(t){return Iy.resolve(null).then(t).catch(Lw)}:Cy;function Lw(t){setTimeout(function(){throw t})}function Xi(t){return t==="head"}function jy(t,s){var a=s,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),il(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Co(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Co(a);for(var f=a.firstChild;f;){var _=f.nextSibling,x=f.nodeName;f[xs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Co(t.ownerDocument.body);a=h}while(a);il(s)}function Dy(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function kf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kf(a),ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Pw(t,s,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function Uw(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function Oy(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Xn(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$?"||t.data==="$~"}function Lf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zw(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Pf=null;function Vy(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Xn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function ky(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function My(t,s,a){switch(s=Iu(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Co(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ba(t)}var Jn=new Map,Ly=new Set;function ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var di=ie.d;ie.d={f:Bw,r:qw,D:Hw,C:Fw,L:$w,m:Gw,X:Qw,S:Kw,M:Yw};function Bw(){var t=di.f(),s=wu();return t||s}function qw(t){var s=zn(t);s!==null&&s.tag===5&&s.type==="form"?e0(s):di.r(t)}var tl=typeof document>"u"?null:document;function Py(t,s,a){var l=tl;if(l&&typeof s=="string"&&s){var h=yn(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ly.has(h)||(Ly.add(h),t={rel:t,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),en(s,"link",t),Ot(s),l.head.appendChild(s)))}}function Hw(t){di.D(t),Py("dns-prefetch",t,null)}function Fw(t,s){di.C(t,s),Py("preconnect",t,s)}function $w(t,s,a){di.L(t,s,a);var l=tl;if(l&&t&&s){var h='link[rel="preload"][as="'+yn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(s){case"style":f=nl(t);break;case"script":f=sl(t)}Jn.has(f)||(t=A({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Jn.set(f,t),l.querySelector(h)!==null||s==="style"&&l.querySelector(Io(f))||s==="script"&&l.querySelector(jo(f))||(s=l.createElement("link"),en(s,"link",t),Ot(s),l.head.appendChild(s)))}}function Gw(t,s){di.m(t,s);var a=tl;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=sl(t)}if(!Jn.has(f)&&(t=A({rel:"modulepreload",href:t},s),Jn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jo(f)))return}l=a.createElement("link"),en(l,"link",t),Ot(l),a.head.appendChild(l)}}}function Kw(t,s,a){di.S(t,s,a);var l=tl;if(l&&t){var h=Ts(l).hoistableStyles,f=nl(t);s=s||"default";var _=h.get(f);if(!_){var x={loading:0,preload:null};if(_=l.querySelector(Io(f)))x.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Jn.get(f))&&Uf(t,a);var C=_=l.createElement("link");Ot(C),en(C,"link",t),C._p=new Promise(function(U,$){C.onload=U,C.onerror=$}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Du(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:x},h.set(f,_)}}}function Qw(t,s){di.X(t,s);var a=tl;if(a&&t){var l=Ts(a).hoistableScripts,h=sl(t),f=l.get(h);f||(f=a.querySelector(jo(h)),f||(t=A({src:t,async:!0},s),(s=Jn.get(h))&&zf(t,s),f=a.createElement("script"),Ot(f),en(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Yw(t,s){di.M(t,s);var a=tl;if(a&&t){var l=Ts(a).hoistableScripts,h=sl(t),f=l.get(h);f||(f=a.querySelector(jo(h)),f||(t=A({src:t,async:!0,type:"module"},s),(s=Jn.get(h))&&zf(t,s),f=a.createElement("script"),Ot(f),en(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Uy(t,s,a,l){var h=(h=Ee.current)?ju(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=nl(a.href),a=Ts(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=nl(a.href);var f=Ts(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Io(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(t,a),f||Xw(h,t,a,_.state))),s&&l===null)throw Error(i(528,""));return _}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=sl(a),a=Ts(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function nl(t){return'href="'+yn(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function zy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Xw(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),en(s,"link",a),Ot(s),t.head.appendChild(s))}function sl(t){return'[src="'+yn(t)+'"]'}function jo(t){return"script[async]"+t}function By(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(l)return s.instance=l,Ot(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),en(l,"style",h),Du(l,a.precedence,t),s.instance=l;case"stylesheet":h=nl(a.href);var f=t.querySelector(Io(h));if(f)return s.state.loading|=4,s.instance=f,Ot(f),f;l=zy(a),(h=Jn.get(h))&&Uf(l,h),f=(t.ownerDocument||t).createElement("link"),Ot(f);var _=f;return _._p=new Promise(function(x,C){_.onload=x,_.onerror=C}),en(f,"link",l),s.state.loading|=4,Du(f,a.precedence,t),s.instance=f;case"script":return f=sl(a.src),(h=t.querySelector(jo(f)))?(s.instance=h,Ot(h),h):(l=a,(h=Jn.get(f))&&(l=A({},a),zf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),en(h,"link",l),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Du(l,a.precedence,t));return s.instance}function Du(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var x=l[_];if(x.dataset.precedence===s)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Uf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function zf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Ou=null;function qy(t,s,a){if(Ou===null){var l=new Map,h=Ou=new Map;h.set(a,l)}else h=Ou,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[xs]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(s)||"";_=t+_;var x=l.get(_);x?x.push(f):l.set(_,[f])}}return l}function Hy(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function Jw(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Zw(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=nl(l.href),f=s.querySelector(Io(h));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Vu.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=f,Ot(f);return}f=s.ownerDocument||s,l=zy(l),(h=Jn.get(h))&&Uf(l,h),f=f.createElement("link"),Ot(f);var _=f;_._p=new Promise(function(x,C){_.onload=x,_.onerror=C}),en(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vu.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Bf=0;function Ww(t,s){return t.stylesheets&&t.count===0&&Mu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+s);0<t.imgBytes&&Bf===0&&(Bf=62500*Ow());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Bf?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function Mu(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,s.forEach(eT,t),ku=null,Vu.call(t))}function eT(t,s){if(!(s.state.loading&4)){var a=ku.get(t);if(a)var l=a.get(null);else{a=new Map,ku.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=s.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Vu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var Do={$$typeof:le,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function tT(t,s,a,l,h,f,_,x,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.hiddenUpdates=_s(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function $y(t,s,a,l,h,f,_,x,C,U,$,Q){return t=new tT(t,s,a,_,C,U,$,Q,x),s=1,f===!0&&(s|=24),f=Cn(3,null,null,s),t.current=f,f.stateNode=t,s=_d(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:s},Td(f),t}function Gy(t){return t?(t=Va,t):Va}function Ky(t,s,a,l,h,f){h=Gy(h),l.context===null?l.context=h:l.pendingContext=h,l=Ui(s),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=zi(t,l,s),a!==null&&(Tn(a,t,s),co(a,t,s))}function Qy(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function qf(t,s){Qy(t,s),(t=t.alternate)&&Qy(t,s)}function Yy(t){if(t.tag===13||t.tag===31){var s=Hr(t,67108864);s!==null&&Tn(s,t,67108864),qf(t,67108864)}}function Xy(t){if(t.tag===13||t.tag===31){var s=Vn();s=jr(s);var a=Hr(t,s);a!==null&&Tn(a,t,s),qf(t,s)}}var Lu=!0;function nT(t,s,a,l){var h=F.T;F.T=null;var f=ie.p;try{ie.p=2,Hf(t,s,a,l)}finally{ie.p=f,F.T=h}}function sT(t,s,a,l){var h=F.T;F.T=null;var f=ie.p;try{ie.p=8,Hf(t,s,a,l)}finally{ie.p=f,F.T=h}}function Hf(t,s,a,l){if(Lu){var h=Ff(l);if(h===null)Cf(t,s,l,Pu,a),Zy(t,l);else if(rT(h,t,s,a,l))l.stopPropagation();else if(Zy(t,l),s&4&&-1<iT.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Ye(f.pendingLanes);if(_!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var C=1<<31-pt(_);x.entanglements[1]|=C,_&=~C}Ms(f),(Qe&6)===0&&(bu=qt()+500,So(0))}}break;case 31:case 13:x=Hr(f,2),x!==null&&Tn(x,f,2),wu(),qf(f,2)}if(f=Ff(l),f===null&&Cf(t,s,l,Pu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Cf(t,s,l,null,a)}}function Ff(t){return t=Bn(t),$f(t)}var Pu=null;function $f(t){if(Pu=null,t=ws(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=y(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Pu=t,null}function Jy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fn()){case Nr:return 2;case Ti:return 8;case ns:case pa:return 32;case Pn:return 268435456;default:return 32}default:return 32}}var Gf=!1,Ji=null,Zi=null,Wi=null,Oo=new Map,Vo=new Map,er=[],iT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,s){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Oo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(s.pointerId)}}function ko(t,s,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},s!==null&&(s=zn(s),s!==null&&Yy(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function rT(t,s,a,l,h){switch(s){case"focusin":return Ji=ko(Ji,t,s,a,l,h),!0;case"dragenter":return Zi=ko(Zi,t,s,a,l,h),!0;case"mouseover":return Wi=ko(Wi,t,s,a,l,h),!0;case"pointerover":var f=h.pointerId;return Oo.set(f,ko(Oo.get(f)||null,t,s,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Vo.set(f,ko(Vo.get(f)||null,t,s,a,l,h)),!0}return!1}function Wy(t){var s=ws(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,ss(t.priority,function(){Xy(a)});return}}else if(s===31){if(s=y(a),s!==null){t.blockedOn=s,ss(t.priority,function(){Xy(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Ff(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Kl=l,a.target.dispatchEvent(l),Kl=null}else return s=zn(a),s!==null&&Yy(s),t.blockedOn=a,!1;s.shift()}return!0}function ev(t,s,a){Uu(t)&&a.delete(s)}function aT(){Gf=!1,Ji!==null&&Uu(Ji)&&(Ji=null),Zi!==null&&Uu(Zi)&&(Zi=null),Wi!==null&&Uu(Wi)&&(Wi=null),Oo.forEach(ev),Vo.forEach(ev)}function zu(t,s){t.blockedOn===s&&(t.blockedOn=null,Gf||(Gf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,aT)))}var Bu=null;function tv(t){Bu!==t&&(Bu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],h=t[s+2];if(typeof l!="function"){if($f(l||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(s,3),s-=3,Hd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function il(t){function s(C){return zu(C,t)}Ji!==null&&zu(Ji,t),Zi!==null&&zu(Zi,t),Wi!==null&&zu(Wi,t),Oo.forEach(s),Vo.forEach(s);for(var a=0;a<er.length;a++){var l=er[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<er.length&&(a=er[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&er.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[$t]||null;if(typeof f=="function")_||tv(a);else if(_){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[$t]||null)x=_.formAction;else if($f(h)!==null)continue}else x=_.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),tv(a)}}}function nv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Kf(t){this._internalRoot=t}qu.prototype.render=Kf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Vn();Ky(a,l,t,s,null,null)},qu.prototype.unmount=Kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Ky(t.current,2,null,t,null,null),wu(),s[bs]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var s=wc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<er.length&&s!==0&&s<er[a].priority;a++);er.splice(a,0,t),a===0&&Wy(t)}};var sv=e.version;if(sv!=="19.2.4")throw Error(i(527,sv,"19.2.4"));ie.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(s),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var lT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Ie=Hu.inject(lT),et=Hu}catch{}}return Lo.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",h=u0,f=h0,_=d0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=$y(t,1,!1,null,null,a,l,null,h,f,_,nv),t[bs]=s.current,Rf(t),new Kf(s)},Lo.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,h="",f=u0,_=h0,x=d0,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),s=$y(t,1,!0,s,a??null,l,h,C,f,_,x,nv),s.context=Gy(null),a=s.current,l=Vn(),l=jr(l),h=Ui(l),h.callback=null,zi(a,h,l),a=l,s.current.lanes=a,Cr(s,a),Ms(s),t[bs]=s.current,Rf(t),new qu(s)},Lo.version="19.2.4",Lo}var fv;function _T(){if(fv)return Xf.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xf.exports=vT(),Xf.exports}var bT=_T();const J_=(...r)=>r.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const xT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const wT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const mv=r=>{const e=wT(r);return e.charAt(0).toUpperCase()+e.slice(1)};var TT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ET=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const AT=de.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:d,...y},v)=>de.createElement("svg",{ref:v,...TT,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:J_("lucide",o),...!u&&!ET(y)&&{"aria-hidden":"true"},...y},[...d.map(([p,w])=>de.createElement(p,w)),...Array.isArray(u)?u:[u]]));const ye=(r,e)=>{const n=de.forwardRef(({className:i,...o},u)=>de.createElement(AT,{ref:u,iconNode:e,className:J_(`lucide-${xT(mv(r))}`,`lucide-${r}`,i),...o}));return n.displayName=mv(r),n};const ST=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],fl=ye("activity",ST);const NT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],RT=ye("bell",NT);const CT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],IT=ye("chart-column",CT);const jT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],DT=ye("chevron-left",jT);const OT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Z_=ye("chevron-right",OT);const VT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kT=ye("circle-alert",VT);const MT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],em=ye("circle-check-big",MT);const LT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tm=ye("circle-x",LT);const PT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],UT=ye("clipboard-list",PT);const zT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BT=ye("clock",zT);const qT=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],nm=ye("database",qT);const HT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],FT=ye("download",HT);const $T=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],GT=ye("ellipsis",$T);const KT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],QT=ye("eye-off",KT);const YT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vm=ye("eye",YT);const XT=[["path",{d:"M13 22h5a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.3",key:"cvl1xm"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m7.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.879.001l-1.846.85a.5.5 0 0 1-.692-.593l1.29-4.88",key:"1ff7gj"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]],JT=ye("file-badge",XT);const ZT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],WT=ye("file-search",ZT);const eE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],W_=ye("file-text",eE);const tE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],nE=ye("globe",tE);const sE=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],iE=ye("hard-drive",sE);const rE=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],aE=ye("layers",rE);const lE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],gv=ye("layout-dashboard",lE);const oE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],pv=ye("life-buoy",oE);const cE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],_m=ye("lock-open",cE);const uE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ia=ye("lock",uE);const hE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dE=ye("log-out",hE);const fE=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],e1=ye("megaphone",fE);const mE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gE=ye("menu",mE);const pE=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],yE=ye("message-square",pE);const vE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],_E=ye("moon",vE);const bE=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],xE=ye("octagon-alert",bE);const wE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],sm=ye("package",wE);const TE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],EE=ye("pen",TE);const AE=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],bm=ye("power",AE);const SE=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],NE=ye("printer",SE);const RE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Rh=ye("refresh-cw",RE);const CE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IE=ye("save",CE);const jE=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],DE=ye("scan",jE);const OE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],VE=ye("search",OE);const kE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ME=ye("send",kE);const LE=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zo=ye("server",LE);const PE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UE=ye("settings",PE);const zE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$o=ye("shield-check",zE);const BE=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],t1=ye("square-check-big",BE);const qE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],HE=ye("sun",qE);const FE=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],$E=ye("thermometer",FE);const GE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pn=ye("trash-2",GE);const KE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],n1=ye("triangle-alert",KE);const QE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xm=ye("user",QE);const YE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ll=ye("users",YE);const XE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yv=ye("wifi-off",XE);const JE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],vv=ye("wifi",JE);const ZE=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],_v=ye("wrench",ZE);const WE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zo=ye("x",WE);const e2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],t2=ye("zap",e2),n2=()=>{};var bv={};const s1=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},s2=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],y=r[n++],v=((o&7)<<18|(u&63)<<12|(d&63)<<6|y&63)-65536;e[i++]=String.fromCharCode(55296+(v>>10)),e[i++]=String.fromCharCode(56320+(v&1023))}else{const u=r[n++],d=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},i1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,p=v?r[o+2]:0,w=u>>2,A=(u&3)<<4|y>>4;let N=(y&15)<<2|p>>6,q=p&63;v||(q=64,d||(N=64)),i.push(n[w],n[A],n[N],n[q])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(s1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):s2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],y=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||y==null||p==null||A==null)throw new i2;const N=u<<2|y>>4;if(i.push(N),p!==64){const q=y<<4&240|p>>2;if(i.push(q),A!==64){const X=p<<6&192|A;i.push(X)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class i2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r2=function(r){const e=s1(r);return i1.encodeByteArray(e,!0)},lh=function(r){return r2(r).replace(/\./g,"")},r1=function(r){try{return i1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const l2=()=>a2().__FIREBASE_DEFAULTS__,o2=()=>{if(typeof process>"u"||typeof bv>"u")return;const r=bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},c2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&r1(r[1]);return e&&JSON.parse(e)},Ch=()=>{try{return n2()||l2()||o2()||c2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},a1=r=>Ch()?.emulatorHosts?.[r],u2=r=>{const e=a1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},l1=()=>Ch()?.config,o1=r=>Ch()?.[`_${r}`];class h2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Sl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c1(r){return(await fetch(r,{credentials:"include"})).ok}function d2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lh(JSON.stringify(n)),lh(JSON.stringify(d)),""].join(".")}const Go={};function f2(){const r={prod:[],emulator:[]};for(const e of Object.keys(Go))Go[e]?r.emulator.push(e):r.prod.push(e);return r}function m2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let xv=!1;function u1(r,e){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||Go[r]===e||Go[r]||xv)return;Go[r]=e;function n(N){return`__firebase__banner__${N}`}const i="__firebase__banner",u=f2().prod.length>0;function d(){const N=document.getElementById(i);N&&N.remove()}function y(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{xv=!0,d()},N}function w(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=m2(i),q=n("text"),X=document.getElementById(q)||document.createElement("span"),J=n("learnmore"),ee=document.getElementById(J)||document.createElement("a"),ae=n("preprendIcon"),te=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const le=N.element;y(le),w(ee,J);const be=p();v(te,ae),le.append(te,X,ee,be),document.body.appendChild(le)}u?(X.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function p2(){const r=Ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b2(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function x2(){return!p2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w2(){try{return typeof indexedDB=="object"}catch{return!1}}function T2(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const E2="FirebaseError";class xi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=E2,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?A2(u,i):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new xi(o,y,i)}}function A2(r,e){return r.replace(S2,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const S2=/\{\$([^}]+)}/g;function N2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function la(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=r[o],d=e[o];if(wv(u)&&wv(d)){if(!la(u,d))return!1}else if(u!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function wv(r){return r!==null&&typeof r=="object"}function uc(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function R2(r,e){const n=new C2(r,e);return n.subscribe.bind(n)}class C2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");I2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=im),o.error===void 0&&(o.error=im),o.complete===void 0&&(o.complete=im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function im(){}function dn(r){return r&&r._delegate?r._delegate:r}class oa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class j2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new h2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O2(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);i===y&&d.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:D2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D2(r){return r===sa?void 0:r}function O2(r){return r.instantiationMode==="EAGER"}class V2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const k2={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},M2=Le.INFO,L2={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},P2=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=L2[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=M2,this._logHandler=P2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const U2=(r,e)=>e.some(n=>r instanceof n);let Tv,Ev;function z2(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B2(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h1=new WeakMap,wm=new WeakMap,d1=new WeakMap,rm=new WeakMap,Ym=new WeakMap;function q2(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(or(r.result)),o()},d=()=>{i(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&h1.set(n,r)}).catch(()=>{}),Ym.set(e,r),e}function H2(r){if(wm.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});wm.set(r,e)}let Tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return wm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||d1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function F2(r){Tm=r(Tm)}function $2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(am(this),e,...n);return d1.set(i,e.sort?e.sort():[e]),or(i)}:B2().includes(r)?function(...e){return r.apply(am(this),e),or(h1.get(this))}:function(...e){return or(r.apply(am(this),e))}}function G2(r){return typeof r=="function"?$2(r):(r instanceof IDBTransaction&&H2(r),U2(r,z2())?new Proxy(r,Tm):r)}function or(r){if(r instanceof IDBRequest)return q2(r);if(rm.has(r))return rm.get(r);const e=G2(r);return e!==r&&(rm.set(r,e),Ym.set(e,r)),e}const am=r=>Ym.get(r);function K2(r,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),y=or(d);return i&&d.addEventListener("upgradeneeded",v=>{i(or(d.result),v.oldVersion,v.newVersion,or(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),y.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),y}const Q2=["get","getKey","getAll","getAllKeys","count"],Y2=["put","add","delete","clear"],lm=new Map;function Av(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=Y2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Q2.includes(n)))return;const u=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let p=v.store;return i&&(p=p.index(y.shift())),(await Promise.all([p[n](...y),o&&v.done]))[0]};return lm.set(e,u),u}F2(r=>({...r,get:(e,n,i)=>Av(e,n)||r.get(e,n,i),has:(e,n)=>!!Av(e,n)||r.has(e,n)}));class X2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(J2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function J2(r){return r.getComponent()?.type==="VERSION"}const Em="@firebase/app",Sv="0.14.8";const pi=new Qm("@firebase/app"),Z2="@firebase/app-compat",W2="@firebase/analytics-compat",eA="@firebase/analytics",tA="@firebase/app-check-compat",nA="@firebase/app-check",sA="@firebase/auth",iA="@firebase/auth-compat",rA="@firebase/database",aA="@firebase/data-connect",lA="@firebase/database-compat",oA="@firebase/functions",cA="@firebase/functions-compat",uA="@firebase/installations",hA="@firebase/installations-compat",dA="@firebase/messaging",fA="@firebase/messaging-compat",mA="@firebase/performance",gA="@firebase/performance-compat",pA="@firebase/remote-config",yA="@firebase/remote-config-compat",vA="@firebase/storage",_A="@firebase/storage-compat",bA="@firebase/firestore",xA="@firebase/ai",wA="@firebase/firestore-compat",TA="firebase",EA="12.9.0";const Am="[DEFAULT]",AA={[Em]:"fire-core",[Z2]:"fire-core-compat",[eA]:"fire-analytics",[W2]:"fire-analytics-compat",[nA]:"fire-app-check",[tA]:"fire-app-check-compat",[sA]:"fire-auth",[iA]:"fire-auth-compat",[rA]:"fire-rtdb",[aA]:"fire-data-connect",[lA]:"fire-rtdb-compat",[oA]:"fire-fn",[cA]:"fire-fn-compat",[uA]:"fire-iid",[hA]:"fire-iid-compat",[dA]:"fire-fcm",[fA]:"fire-fcm-compat",[mA]:"fire-perf",[gA]:"fire-perf-compat",[pA]:"fire-rc",[yA]:"fire-rc-compat",[vA]:"fire-gcs",[_A]:"fire-gcs-compat",[bA]:"fire-fst",[wA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[TA]:"fire-js-all"};const oh=new Map,SA=new Map,Sm=new Map;function Nv(r,e){try{r.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function bl(r){const e=r.name;if(Sm.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,r);for(const n of oh.values())Nv(n,r);for(const n of SA.values())Nv(n,r);return!0}function Xm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function fs(r){return r==null?!1:r.settings!==void 0}const NA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new cc("app","Firebase",NA);class RA{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Nl=EA;function f1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:Am,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(n||(n=l1()),!n)throw cr.create("no-options");const u=oh.get(o);if(u){if(la(n,u.options)&&la(i,u.config))return u;throw cr.create("duplicate-app",{appName:o})}const d=new V2(o);for(const v of Sm.values())d.addComponent(v);const y=new RA(n,i,d);return oh.set(o,y),y}function m1(r=Am){const e=oh.get(r);if(!e&&r===Am&&l1())return f1();if(!e)throw cr.create("no-app",{appName:r});return e}function ur(r,e,n){let i=AA[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(d.join(" "));return}bl(new oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const CA="firebase-heartbeat-database",IA=1,Wo="firebase-heartbeat-store";let om=null;function g1(){return om||(om=K2(CA,IA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(r=>{throw cr.create("idb-open",{originalErrorMessage:r.message})})),om}async function jA(r){try{const n=(await g1()).transaction(Wo),i=await n.objectStore(Wo).get(p1(r));return await n.done,i}catch(e){if(e instanceof xi)pi.warn(e.message);else{const n=cr.create("idb-get",{originalErrorMessage:e?.message});pi.warn(n.message)}}}async function Rv(r,e){try{const i=(await g1()).transaction(Wo,"readwrite");await i.objectStore(Wo).put(e,p1(r)),await i.done}catch(n){if(n instanceof xi)pi.warn(n.message);else{const i=cr.create("idb-set",{originalErrorMessage:n?.message});pi.warn(i.message)}}}function p1(r){return`${r.name}!${r.options.appId}`}const DA=1024,OA=30;class VA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>OA){const o=LA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cv(),{heartbeatsToSend:n,unsentEntries:i}=kA(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pi.warn(e),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function kA(r,e=DA){const n=[];let i=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Iv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Iv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class MA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w2()?T2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Iv(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function LA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function PA(r){bl(new oa("platform-logger",e=>new X2(e),"PRIVATE")),bl(new oa("heartbeat",e=>new VA(e),"PRIVATE")),ur(Em,Sv,r),ur(Em,Sv,"esm2020"),ur("fire-js","")}PA("");var UA="firebase",zA="12.9.0";ur(UA,zA,"app");var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,y1;(function(){var r;function e(I,S){function E(){}E.prototype=S.prototype,I.F=S.prototype,I.prototype=new E,I.prototype.constructor=I,I.D=function(V,j,M){for(var R=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)R[lt-2]=arguments[lt];return S.prototype[j].apply(V,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,E){E||(E=0);const V=Array(16);if(typeof S=="string")for(var j=0;j<16;++j)V[j]=S.charCodeAt(E++)|S.charCodeAt(E++)<<8|S.charCodeAt(E++)<<16|S.charCodeAt(E++)<<24;else for(j=0;j<16;++j)V[j]=S[E++]|S[E++]<<8|S[E++]<<16|S[E++]<<24;S=I.g[0],E=I.g[1],j=I.g[2];let M=I.g[3],R;R=S+(M^E&(j^M))+V[0]+3614090360&4294967295,S=E+(R<<7&4294967295|R>>>25),R=M+(j^S&(E^j))+V[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=j+(E^M&(S^E))+V[2]+606105819&4294967295,j=M+(R<<17&4294967295|R>>>15),R=E+(S^j&(M^S))+V[3]+3250441966&4294967295,E=j+(R<<22&4294967295|R>>>10),R=S+(M^E&(j^M))+V[4]+4118548399&4294967295,S=E+(R<<7&4294967295|R>>>25),R=M+(j^S&(E^j))+V[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=j+(E^M&(S^E))+V[6]+2821735955&4294967295,j=M+(R<<17&4294967295|R>>>15),R=E+(S^j&(M^S))+V[7]+4249261313&4294967295,E=j+(R<<22&4294967295|R>>>10),R=S+(M^E&(j^M))+V[8]+1770035416&4294967295,S=E+(R<<7&4294967295|R>>>25),R=M+(j^S&(E^j))+V[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=j+(E^M&(S^E))+V[10]+4294925233&4294967295,j=M+(R<<17&4294967295|R>>>15),R=E+(S^j&(M^S))+V[11]+2304563134&4294967295,E=j+(R<<22&4294967295|R>>>10),R=S+(M^E&(j^M))+V[12]+1804603682&4294967295,S=E+(R<<7&4294967295|R>>>25),R=M+(j^S&(E^j))+V[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=j+(E^M&(S^E))+V[14]+2792965006&4294967295,j=M+(R<<17&4294967295|R>>>15),R=E+(S^j&(M^S))+V[15]+1236535329&4294967295,E=j+(R<<22&4294967295|R>>>10),R=S+(j^M&(E^j))+V[1]+4129170786&4294967295,S=E+(R<<5&4294967295|R>>>27),R=M+(E^j&(S^E))+V[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=j+(S^E&(M^S))+V[11]+643717713&4294967295,j=M+(R<<14&4294967295|R>>>18),R=E+(M^S&(j^M))+V[0]+3921069994&4294967295,E=j+(R<<20&4294967295|R>>>12),R=S+(j^M&(E^j))+V[5]+3593408605&4294967295,S=E+(R<<5&4294967295|R>>>27),R=M+(E^j&(S^E))+V[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=j+(S^E&(M^S))+V[15]+3634488961&4294967295,j=M+(R<<14&4294967295|R>>>18),R=E+(M^S&(j^M))+V[4]+3889429448&4294967295,E=j+(R<<20&4294967295|R>>>12),R=S+(j^M&(E^j))+V[9]+568446438&4294967295,S=E+(R<<5&4294967295|R>>>27),R=M+(E^j&(S^E))+V[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=j+(S^E&(M^S))+V[3]+4107603335&4294967295,j=M+(R<<14&4294967295|R>>>18),R=E+(M^S&(j^M))+V[8]+1163531501&4294967295,E=j+(R<<20&4294967295|R>>>12),R=S+(j^M&(E^j))+V[13]+2850285829&4294967295,S=E+(R<<5&4294967295|R>>>27),R=M+(E^j&(S^E))+V[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=j+(S^E&(M^S))+V[7]+1735328473&4294967295,j=M+(R<<14&4294967295|R>>>18),R=E+(M^S&(j^M))+V[12]+2368359562&4294967295,E=j+(R<<20&4294967295|R>>>12),R=S+(E^j^M)+V[5]+4294588738&4294967295,S=E+(R<<4&4294967295|R>>>28),R=M+(S^E^j)+V[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=j+(M^S^E)+V[11]+1839030562&4294967295,j=M+(R<<16&4294967295|R>>>16),R=E+(j^M^S)+V[14]+4259657740&4294967295,E=j+(R<<23&4294967295|R>>>9),R=S+(E^j^M)+V[1]+2763975236&4294967295,S=E+(R<<4&4294967295|R>>>28),R=M+(S^E^j)+V[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=j+(M^S^E)+V[7]+4139469664&4294967295,j=M+(R<<16&4294967295|R>>>16),R=E+(j^M^S)+V[10]+3200236656&4294967295,E=j+(R<<23&4294967295|R>>>9),R=S+(E^j^M)+V[13]+681279174&4294967295,S=E+(R<<4&4294967295|R>>>28),R=M+(S^E^j)+V[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=j+(M^S^E)+V[3]+3572445317&4294967295,j=M+(R<<16&4294967295|R>>>16),R=E+(j^M^S)+V[6]+76029189&4294967295,E=j+(R<<23&4294967295|R>>>9),R=S+(E^j^M)+V[9]+3654602809&4294967295,S=E+(R<<4&4294967295|R>>>28),R=M+(S^E^j)+V[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=j+(M^S^E)+V[15]+530742520&4294967295,j=M+(R<<16&4294967295|R>>>16),R=E+(j^M^S)+V[2]+3299628645&4294967295,E=j+(R<<23&4294967295|R>>>9),R=S+(j^(E|~M))+V[0]+4096336452&4294967295,S=E+(R<<6&4294967295|R>>>26),R=M+(E^(S|~j))+V[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=j+(S^(M|~E))+V[14]+2878612391&4294967295,j=M+(R<<15&4294967295|R>>>17),R=E+(M^(j|~S))+V[5]+4237533241&4294967295,E=j+(R<<21&4294967295|R>>>11),R=S+(j^(E|~M))+V[12]+1700485571&4294967295,S=E+(R<<6&4294967295|R>>>26),R=M+(E^(S|~j))+V[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=j+(S^(M|~E))+V[10]+4293915773&4294967295,j=M+(R<<15&4294967295|R>>>17),R=E+(M^(j|~S))+V[1]+2240044497&4294967295,E=j+(R<<21&4294967295|R>>>11),R=S+(j^(E|~M))+V[8]+1873313359&4294967295,S=E+(R<<6&4294967295|R>>>26),R=M+(E^(S|~j))+V[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=j+(S^(M|~E))+V[6]+2734768916&4294967295,j=M+(R<<15&4294967295|R>>>17),R=E+(M^(j|~S))+V[13]+1309151649&4294967295,E=j+(R<<21&4294967295|R>>>11),R=S+(j^(E|~M))+V[4]+4149444226&4294967295,S=E+(R<<6&4294967295|R>>>26),R=M+(E^(S|~j))+V[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=j+(S^(M|~E))+V[2]+718787259&4294967295,j=M+(R<<15&4294967295|R>>>17),R=E+(M^(j|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+M&4294967295}i.prototype.v=function(I,S){S===void 0&&(S=I.length);const E=S-this.blockSize,V=this.C;let j=this.h,M=0;for(;M<S;){if(j==0)for(;M<=E;)o(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<S;)if(V[j++]=I.charCodeAt(M++),j==this.blockSize){o(this,V),j=0;break}}else for(;M<S;)if(V[j++]=I[M++],j==this.blockSize){o(this,V),j=0;break}}this.h=j,this.o+=S},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var E=I.length-8;E<I.length;++E)I[E]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,E=0;E<4;++E)for(let V=0;V<32;V+=8)I[S++]=this.g[E]>>>V&255;return I};function u(I,S){var E=y;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=S(I)}function d(I,S){this.h=S;const E=[];let V=!0;for(let j=I.length-1;j>=0;j--){const M=I[j]|0;V&&M==S||(E[j]=M,V=!1)}this.g=E}var y={};function v(I){return-128<=I&&I<128?u(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return ee(p(-I));const S=[];let E=1;for(let V=0;I>=E;V++)S[V]=I/E|0,E*=4294967296;return new d(S,0)}function w(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return ee(w(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=p(Math.pow(S,8));let V=A;for(let M=0;M<I.length;M+=8){var j=Math.min(8,I.length-M);const R=parseInt(I.substring(M,M+j),S);j<8?(j=p(Math.pow(S,j)),V=V.j(j).add(p(R))):(V=V.j(E),V=V.add(p(R)))}return V}var A=v(0),N=v(1),q=v(16777216);r=d.prototype,r.m=function(){if(J(this))return-ee(this).m();let I=0,S=1;for(let E=0;E<this.g.length;E++){const V=this.i(E);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(X(this))return"0";if(J(this))return"-"+ee(this).toString(I);const S=p(Math.pow(I,6));var E=this;let V="";for(;;){const j=be(E,S).g;E=ae(E,j.j(S));let M=((E.g.length>0?E.g[0]:E.h)>>>0).toString(I);if(E=j,X(E))return M+V;for(;M.length<6;)M="0"+M;V=M+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function X(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function J(I){return I.h==-1}r.l=function(I){return I=ae(this,I),J(I)?-1:X(I)?0:1};function ee(I){const S=I.g.length,E=[];for(let V=0;V<S;V++)E[V]=~I.g[V];return new d(E,~I.h).add(N)}r.abs=function(){return J(this)?ee(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),E=[];let V=0;for(let j=0;j<=S;j++){let M=V+(this.i(j)&65535)+(I.i(j)&65535),R=(M>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);V=R>>>16,M&=65535,R&=65535,E[j]=R<<16|M}return new d(E,E[E.length-1]&-2147483648?-1:0)};function ae(I,S){return I.add(ee(S))}r.j=function(I){if(X(this)||X(I))return A;if(J(this))return J(I)?ee(this).j(ee(I)):ee(ee(this).j(I));if(J(I))return ee(this.j(ee(I)));if(this.l(q)<0&&I.l(q)<0)return p(this.m()*I.m());const S=this.g.length+I.g.length,E=[];for(var V=0;V<2*S;V++)E[V]=0;for(V=0;V<this.g.length;V++)for(let j=0;j<I.g.length;j++){const M=this.i(V)>>>16,R=this.i(V)&65535,lt=I.i(j)>>>16,gt=I.i(j)&65535;E[2*V+2*j]+=R*gt,te(E,2*V+2*j),E[2*V+2*j+1]+=M*gt,te(E,2*V+2*j+1),E[2*V+2*j+1]+=R*lt,te(E,2*V+2*j+1),E[2*V+2*j+2]+=M*lt,te(E,2*V+2*j+2)}for(I=0;I<S;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=S;I<2*S;I++)E[I]=0;return new d(E,0)};function te(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function le(I,S){this.g=I,this.h=S}function be(I,S){if(X(S))throw Error("division by zero");if(X(I))return new le(A,A);if(J(I))return S=be(ee(I),S),new le(ee(S.g),ee(S.h));if(J(S))return S=be(I,ee(S)),new le(ee(S.g),S.h);if(I.g.length>30){if(J(I)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var E=N,V=S;V.l(I)<=0;)E=ze(E),V=ze(V);var j=Ne(E,1),M=Ne(V,1);for(V=Ne(V,2),E=Ne(E,2);!X(V);){var R=M.add(V);R.l(I)<=0&&(j=j.add(E),M=R),V=Ne(V,1),E=Ne(E,1)}return S=ae(I,j.j(S)),new le(j,S)}for(j=A;I.l(S)>=0;){for(E=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(E)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),M=p(E),R=M.j(S);J(R)||R.l(I)>0;)E-=V,M=p(E),R=M.j(S);X(M)&&(M=N),j=j.add(M),I=ae(I,R)}return new le(j,I)}r.B=function(I){return be(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),E=[];for(let V=0;V<S;V++)E[V]=this.i(V)&I.i(V);return new d(E,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),E=[];for(let V=0;V<S;V++)E[V]=this.i(V)|I.i(V);return new d(E,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),E=[];for(let V=0;V<S;V++)E[V]=this.i(V)^I.i(V);return new d(E,this.h^I.h)};function ze(I){const S=I.g.length+1,E=[];for(let V=0;V<S;V++)E[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(E,I.h)}function Ne(I,S){const E=S>>5;S%=32;const V=I.g.length-E,j=[];for(let M=0;M<V;M++)j[M]=S>0?I.i(M+E)>>>S|I.i(M+E+1)<<32-S:I.i(M+E);return new d(j,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,y1=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=w,hr=d}).apply(typeof jv<"u"?jv:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var v1,Bo,_1,Ju,Nm,b1,x1,w1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function o(c,g){if(g)e:{var b=i;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in b))break e;b=b[L]}c=c[c.length-1],T=b[c],g=g(T),g!=T&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var b=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&b.push([T,g[T]]);return b}});var u=u||{},d=this||self;function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,b){return c.call.apply(c.bind,arguments)}function p(c,g,b){return p=v,p.apply(null,arguments)}function w(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function A(c,g){function b(){}b.prototype=g.prototype,c.Z=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(T,L,B){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return g.prototype[L].apply(T,se)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const g=c.length;if(g>0){const b=Array(g);for(let T=0;T<g;T++)b[T]=c[T];return b}return[]}function X(c,g){for(let T=1;T<arguments.length;T++){const L=arguments[T];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=c.length||0;const B=L.length||0;c.length=b+B;for(let se=0;se<B;se++)c[b+se]=L[se]}else c.push(L)}}class J{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ee(c){d.setTimeout(()=>{throw c},0)}function ae(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class te{constructor(){this.h=this.g=null}add(g,b){const T=le.get();T.set(g,b),this.h?this.h.next=T:this.g=T,this.h=T}}var le=new J(()=>new be,c=>c.reset());class be{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,Ne=!1,I=new te,S=()=>{const c=Promise.resolve(void 0);ze=()=>{c.then(E)}};function E(){for(var c;c=ae();){try{c.h.call(c.g)}catch(b){ee(b)}var g=le;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Ne=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,g),d.removeEventListener("test",b,g)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function lt(c,g){j.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}A(lt,j),lt.prototype.init=function(c,g){const b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(c,g,b,T,L){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,g,b){for(const T in c)g.call(b,c[T],T,c)}function Fe(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function O(c){const g={};for(const b in c)g[b]=c[b];return g}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,g){let b,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(b in T)c[b]=T[b];for(let B=0;B<K.length;B++)b=K[B],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function ne(c){this.src=c,this.g={},this.h=0}ne.prototype.add=function(c,g,b,T,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const se=Ee(c,g,T,L);return se>-1?(g=c[se],b||(g.fa=!1)):(g=new ie(g,this.src,B,!!T,L),g.fa=b,c.push(g)),g};function ve(c,g){const b=g.type;if(b in c.g){var T=c.g[b],L=Array.prototype.indexOf.call(T,g,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(me(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ee(c,g,b,T){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==g&&B.capture==!!b&&B.ha==T)return L}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Tt={};function ot(c,g,b,T,L){if(Array.isArray(g)){for(let B=0;B<g.length;B++)ot(c,g[B],b,T,L);return null}return b=Sr(b),c&&c[gt]?c.J(g,b,y(T)?!!T.capture:!1,L):ys(c,g,b,!1,T,L)}function ys(c,g,b,T,L,B){if(!g)throw Error("Invalid event type");const se=y(L)?!!L.capture:!!L;let Re=Gs(c);if(Re||(c[Ve]=Re=new ne(c)),b=Re.add(g,b,T,se,B),b.proxy)return b;if(T=wi(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)M||(L=se),L===void 0&&(L=!1),c.addEventListener(g.toString(),T,L);else if(c.attachEvent)c.attachEvent(Mn(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function wi(){function c(b){return g.call(c.src,c.listener,b)}const g=rn;return c}function Fs(c,g,b,T,L){if(Array.isArray(g))for(var B=0;B<g.length;B++)Fs(c,g[B],b,T,L);else T=y(T)?!!T.capture:!!T,b=Sr(b),c&&c[gt]?(c=c.i,B=String(g).toString(),B in c.g&&(g=c.g[B],b=Ee(g,b,T,L),b>-1&&(me(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete c.g[B],c.h--)))):c&&(c=Gs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ee(g,b,T,L)),(b=c>-1?g[c]:null)&&$s(b))}function $s(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[gt])ve(g.i,c);else{var b=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(b,T,c.capture):g.detachEvent?g.detachEvent(Mn(b),T):g.addListener&&g.removeListener&&g.removeListener(T),(b=Gs(g))?(ve(b,c),b.h==0&&(b.src=null,g[Ve]=null)):me(c)}}}function Mn(c){return c in Tt?Tt[c]:Tt[c]="on"+c}function rn(c,g){if(c.da)c=!0;else{g=new lt(g,this);const b=c.listener,T=c.ha||c.src;c.fa&&$s(c),c=b.call(T,g)}return c}function Gs(c){return c=c[Ve],c instanceof ne?c:null}var Ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sr(c){return typeof c=="function"?c:(c[Ar]||(c[Ar]=function(g){return c.handleEvent(g)}),c[Ar])}function vt(){V.call(this),this.i=new ne(this),this.M=this,this.G=null}A(vt,V),vt.prototype[gt]=!0,vt.prototype.removeEventListener=function(c,g,b,T){Fs(this,c,g,b,T)};function Et(c,g){var b,T=c.G;if(T)for(b=[];T;T=T.G)b.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new j(g,c);else if(g instanceof j)g.target=g.target||c;else{var L=g;g=new j(T,c),re(g,L)}L=!0;let B,se;if(b)for(se=b.length-1;se>=0;se--)B=g.g=b[se],L=vs(B,T,!0,g)&&L;if(B=g.g=c,L=vs(B,T,!0,g)&&L,L=vs(B,T,!1,g)&&L,b)for(se=0;se<b.length;se++)B=g.g=b[se],L=vs(B,T,!1,g)&&L}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const b=c.g[g];for(let T=0;T<b.length;T++)me(b[T]);delete c.g[g],c.h--}}this.G=null},vt.prototype.J=function(c,g,b,T){return this.i.add(String(c),g,!1,b,T)},vt.prototype.K=function(c,g,b,T){return this.i.add(String(c),g,!0,b,T)};function vs(c,g,b,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let L=!0;for(let B=0;B<g.length;++B){const se=g[B];if(se&&!se.da&&se.capture==b){const Re=se.listener,St=se.ha||se.src;se.fa&&ve(c.i,se),L=Re.call(St,T)!==!1&&L}}return L&&!T.defaultPrevented}function kl(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(c,g||0)}function Ln(c){c.g=kl(()=>{c.g=null,c.i&&(c.i=!1,Ln(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class qt extends V{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ln(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(c){V.call(this),this.h=c,this.g={}}A(fn,V);var Nr=[];function Ti(c){Be(c.g,function(g,b){this.g.hasOwnProperty(b)&&$s(g)},c),c.g={}}fn.prototype.N=function(){fn.Z.N.call(this),Ti(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=d.JSON.stringify,pa=d.JSON.parse,Pn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function W(){}function ue(){}var Ie={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function et(){j.call(this,"d")}A(et,j);function Yt(){j.call(this,"c")}A(Yt,j);var pt={},ya=null;function Ei(){return ya=ya||new vt}pt.Ia="serverreachability";function va(c){j.call(this,pt.Ia,c)}A(va,j);function Un(c){const g=Ei();Et(g,new va(g))}pt.STAT_EVENT="statevent";function Ks(c,g){j.call(this,pt.STAT_EVENT,c),this.stat=g}A(Ks,j);function _t(c){const g=Ei();Et(g,new Ks(g,c))}pt.Ja="timingevent";function Ye(c,g){j.call(this,pt.Ja,c),this.size=g}A(Ye,j);function tt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function At(){this.g=!0}At.prototype.ua=function(){this.g=!1};function Rr(c,g,b,T,L,B){c.info(function(){if(c.g)if(B){var se="",Re=B.split("&");for(let Ke=0;Ke<Re.length;Ke++){var St=Re[Ke].split("=");if(St.length>1){const ft=St[0];St=St[1];const Hn=ft.split("_");se=Hn.length>=2&&Hn[1]=="type"?se+(ft+"="+St+"&"):se+(ft+"=redacted&")}}}else se=null;else se=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+g+`
`+b+`
`+se})}function xc(c,g,b,T,L,B,se){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+g+`
`+b+`
`+B+" "+se})}function _s(c,g,b,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Zh(c,b)+(T?" "+T:"")})}function Cr(c,g){c.info(function(){return"TIMEOUT: "+g})}At.prototype.info=function(){};function Zh(c,g){if(!c.g)return g;if(!g)return null;try{const B=JSON.parse(g);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var b=B[c];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return ns(B)}catch{return g}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ll;function jr(){}A(jr,W),jr.prototype.g=function(){return new XMLHttpRequest},Ll=new jr;function Qs(c){return encodeURIComponent(String(c))}function wc(c){var g=1;c=c.split(":");const b=[];for(;g>0&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function ss(c,g,b,T){this.j=c,this.i=g,this.l=b,this.S=T||1,this.V=new fn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new is}function is(){this.i=null,this.g="",this.h=!1}var Dt={},$t={};function bs(c,g,b){c.M=1,c.A=Dr(Vt(g)),c.u=b,c.R=!0,_a(c,null)}function _a(c,g){c.F=Date.now(),xs(c),c.B=Vt(c.A);var b=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Ta(b.i,"t",T),c.C=0,b=c.j.L,c.h=new is,c.g=Lc(c.j,b?g:null,!c.u),c.P>0&&(c.O=new qt(p(c.Y,c,c.g),c.P)),g=c.V,b=c.g,T=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Nr[0]=L.toString()),L=Nr);for(let B=0;B<L.length;B++){const se=ot(b,L[B],T||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),Un(),Rr(c.i,c.v,c.B,c.l,c.S,c.u)}ss.prototype.ba=function(c){c=c.target;const g=this.O;g&&ls(c)==3?g.j():this.Y(c)},ss.prototype.Y=function(c){try{if(c==this.g)e:{const Re=ls(this.g),St=this.g.ya(),Ke=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Re!=4||St==7||(St==8||Ke<=0?Un(3):Un(2)),ws(this);var g=this.g.ca();this.X=g;var b=Wh(this);if(this.o=g==200,xc(this.i,this.v,this.B,this.l,this.S,Re,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break t}}B=null}if(c=B)_s(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ts(this,c);else{this.o=!1,this.m=3,_t(12),Sn(this),zn(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<b.length;)if(ft=Ec(this,b),ft==$t){Re==4&&(this.m=4,_t(14),c=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Dt){this.m=4,_t(15),_s(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else _s(this.i,this.l,ft,null),Ts(this,ft);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||b.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)_s(this.i,this.l,b,"[Invalid Chunked Response]"),Sn(this),zn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Zl(se),se.P=!0,_t(11))}}else _s(this.i,this.l,b,null),Ts(this,b);Re==4&&Sn(this),this.o&&!this.K&&(Re==4?Oc(this.j,this):(this.o=!1,xs(this)))}else Xs(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),Sn(this),zn(this)}}}catch{}};function Wh(c){if(!Tc(c))return c.g.la();const g=Xt(c.g);if(g==="")return"";let b="";const T=g.length,L=ls(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Sn(c),zn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<T;B++)c.h.h=!0,b+=c.h.i.decode(g[B],{stream:!(L&&B==T-1)});return g.length=0,c.h.g+=b,c.C=0,c.h.g}function Tc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ec(c,g){var b=c.C,T=g.indexOf(`
`,b);return T==-1?$t:(b=Number(g.substring(b,T)),isNaN(b)?Dt:(T+=1,T+b>g.length?$t:(g=g.slice(T,T+b),c.C=T+b,g)))}ss.prototype.cancel=function(){this.K=!0,Sn(this)};function xs(c){c.T=Date.now()+c.H,ba(c,c.H)}function ba(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=tt(p(c.aa,c),g)}function ws(c){c.D&&(d.clearTimeout(c.D),c.D=null)}ss.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(Un(),_t(17)),Sn(this),this.m=2,zn(this)):ba(this,this.T-c)};function zn(c){c.j.I==0||c.K||Oc(c.j,c)}function Sn(c){ws(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Ti(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ts(c,g){try{var b=c.j;if(b.I!=0&&(b.g==c||As(b.h,c))){if(!c.L&&As(b.h,c)&&b.I==3){try{var T=b.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Ra(b),Di(b);else break e;Ur(b),_t(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=tt(p(b.Va,b),6e3));Es(b.h)<=1&&b.ta&&(b.ta=void 0)}else js(b,11)}else if((c.L||b.g==c)&&Ra(b),!R(g))for(L=b.Ba.g.parse(g),g=0;g<L.length;g++){let Ke=L[g];const ft=Ke[0];if(!(ft<=b.K))if(b.K=ft,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const Hn=Ke[3];Hn!=null&&(b.ka=Hn,b.j.info("VER="+b.ka));const Ds=Ke[4];Ds!=null&&(b.za=Ds,b.j.info("SVER="+b.za));const os=Ke[5];os!=null&&typeof os=="number"&&os>0&&(T=1.5*os,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const cs=c.g;if(cs){const zr=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var B=T.h;B.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(zl(B,B.h),B.h=null))}if(T.G){const Ca=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(T.wa=Ca,Je(T.J,T.G,Ca))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var se=c;if(T.na=Mc(T,T.L?T.ba:null,T.W),se.L){Bl(T.h,se);var Re=se,St=T.O;St&&(Re.H=St),Re.D&&(ws(Re),xs(Re)),T.g=se}else jc(T);b.i.length>0&&Is(b)}else Ke[0]!="stop"&&Ke[0]!="close"||js(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?js(b,7):Xl(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}Un(4)}catch{}}var Ot=class{constructor(c,g){this.g=c,this.map=g}};function Pl(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Es(c){return c.h?1:c.g?c.g.size:0}function As(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function zl(c,g){c.g?c.g.add(g):c.h=g}function Bl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Pl.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ql(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.G);return g}return q(c.i)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,g){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const T=c[b].indexOf("=");let L,B=null;T>=0?(L=c[b].substring(0,T),B=c[b].substring(T+1)):L=c[b],g(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Nn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Nn?(this.l=c.l,Gt(this,c.j),this.o=c.o,this.g=c.g,Ai(this,c.u),this.h=c.h,Hl(this,Cc(c.i)),this.m=c.m):c&&(g=String(c).match(Ac))?(this.l=!1,Gt(this,g[1]||"",!0),this.o=Ss(g[2]||""),this.g=Ss(g[3]||"",!0),Ai(this,g[4]),this.h=Ss(g[5]||"",!0),Hl(this,g[6]||"",!0),this.m=Ss(g[7]||"")):(this.l=!1,this.i=new Ni(null,this.l))}Nn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Or(g,wa,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Or(g,wa,!0),"@"),c.push(Qs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Or(b,b.charAt(0)=="/"?Fl:Sc,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Or(b,Nc)),c.join("")},Nn.prototype.resolve=function(c){const g=Vt(this);let b=!!c.j;b?Gt(g,c.j):b=!!c.o,b?g.o=c.o:b=!!c.g,b?g.g=c.g:b=c.u!=null;var T=c.h;if(b)Ai(g,c.u);else if(b=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=g.h.lastIndexOf("/");L!=-1&&(T=g.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let se=0;se<L.length;){const Re=L[se++];Re=="."?T&&se==L.length&&B.push(""):Re==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&se==L.length&&B.push("")):(B.push(Re),T=!0)}T=B.join("/")}else T=L}return b?g.h=T:b=c.i.toString()!=="",b?Hl(g,Cc(c.i)):b=!!c.m,b&&(g.m=c.m),g};function Vt(c){return new Nn(c)}function Gt(c,g,b){c.j=b?Ss(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ai(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Hl(c,g,b){g instanceof Ni?(c.i=g,Ea(c.i,c.l)):(b||(g=Or(g,Si)),c.i=new Ni(g,c.l))}function Je(c,g,b){c.i.set(g,b)}function Dr(c){return Je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ss(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Or(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,yn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wa=/[#\/\?@]/g,Sc=/[#\?:]/g,Fl=/[#\?]/g,Si=/[#\?@]/g,Nc=/#/g;function Ni(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}r=Ni.prototype,r.add=function(c,g){vn(this),this.i=null,c=Ri(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function Rc(c,g){vn(c),g=Ri(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function $l(c,g){return vn(c),g=Ri(c,g),c.g.has(g)}r.forEach=function(c,g){vn(this),this.g.forEach(function(b,T){b.forEach(function(L){c.call(g,L,T,this)},this)},this)};function Gl(c,g){vn(c);let b=[];if(typeof g=="string")$l(c,g)&&(b=b.concat(c.g.get(Ri(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)b=b.concat(c[g]);return b}r.set=function(c,g){return vn(this),this.i=null,c=Ri(this,c),$l(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Gl(this,c),c.length>0?String(c[0]):g):g};function Ta(c,g,b){Rc(c,g),b.length>0&&(c.i=null,c.g.set(Ri(c,g),q(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var b=g[T];const L=Qs(b);b=Gl(this,b);for(let B=0;B<b.length;B++){let se=L;b[B]!==""&&(se+="="+Qs(b[B])),c.push(se)}}return this.i=c.join("&")};function Cc(c){const g=new Ni;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Ri(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ea(c,g){g&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(b,T){const L=T.toLowerCase();T!=L&&(Rc(this,T),Ta(this,L,b))},c)),c.j=g}function rs(c,g){const b=new At;if(d.Image){const T=new Image;T.onload=w(Bn,b,"TestLoadImage: loaded",!0,g,T),T.onerror=w(Bn,b,"TestLoadImage: error",!1,g,T),T.onabort=w(Bn,b,"TestLoadImage: abort",!1,g,T),T.ontimeout=w(Bn,b,"TestLoadImage: timeout",!1,g,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Kl(c,g){const b=new At,T=new AbortController,L=setTimeout(()=>{T.abort(),Bn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Bn(b,"TestPingServer: ok",!0,g):Bn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Bn(b,"TestPingServer: error",!1,g)})}function Bn(c,g,b,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(b)}catch{}}function Ci(){this.g=new Pn}function Ns(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Ns,W),Ns.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(c,g){vt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Vr,vt),r=Vr.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,as(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ii(this):as(this),this.readyState==3&&Aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ii(this))},r.Na=function(c){this.g&&(this.response=c,Ii(this))},r.ga=function(){this.g&&Ii(this)};function Ii(c){c.readyState=4,c.l=null,c.j=null,c.B=null,as(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function as(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qn(c){let g="";return Be(c,function(b,T){g+=T,g+=":",g+=b,g+=`\r
`}),g}function kr(c,g,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=qn(b),typeof c=="string"?b!=null&&Qs(b):Je(c,g,b))}function nt(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(nt,vt);var Rs=/^https?$/i,Ql=["POST","PUT"];r=nt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ll.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(B){Mr(this,B);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)b.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())b.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Ql,g,void 0)>=0)||T||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,se]of b)this.g.setRequestHeader(B,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Mr(this,B)}};function Mr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Yl(c),Ys(c)}function Yl(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Et(this,"complete"),Et(this,"abort"),Ys(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ys(this,!0)),nt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},r.Xa=function(){Lr(this)};function Lr(c){if(c.h&&typeof u<"u"){if(c.v&&ls(c)==4)setTimeout(c.Ca.bind(c),0);else if(Et(c,"readystatechange"),ls(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var T;if(T=B===0){let se=String(c.D).match(Ac)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),T=!Rs.test(se?se.toLowerCase():"")}b=T}if(b)Et(c,"complete"),Et(c,"success");else{c.o=6;try{var L=ls(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Yl(c)}}finally{Ys(c)}}}}function Ys(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,g||Et(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ls(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ls(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),pa(g)}};function Xt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xs(c){const g={};c=(c.g&&ls(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(R(c[T]))continue;var b=wc(c[T]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=g[L]||[];g[L]=B,B.push(b)}Fe(g,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function ji(c){this.za=0,this.i=[],this.j=new At,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cs("baseRetryDelayMs",5e3,c),this.Za=Cs("retryDelaySeedMs",1e4,c),this.Ta=Cs("forwardChannelMaxRetries",2,c),this.va=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Pl(c&&c.concurrentRequestLimit),this.Ba=new Ci,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ji.prototype,r.ka=8,r.I=1,r.connect=function(c,g,b,T){_t(0),this.W=c,this.H=g||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Mc(this,null,this.W),Is(this)};function Xl(c){if(Sa(c),c.I==3){var g=c.V++,b=Vt(c.J);if(Je(b,"SID",c.M),Je(b,"RID",g),Je(b,"TYPE","terminate"),Pr(c,b),g=new ss(c,c.j,g),g.M=2,g.A=Dr(Vt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=g.A,b=!0),b||(g.g=Lc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),xs(g)}kc(c)}function Di(c){c.g&&(Zl(c),c.g.cancel(),c.g=null)}function Sa(c){Di(c),c.v&&(d.clearTimeout(c.v),c.v=null),Ra(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Is(c){if(!Ul(c.h)&&!c.m){c.m=!0;var g=c.Ea;ze||S(),Ne||(ze(),Ne=!0),I.add(g,c),c.D=0}}function Na(c,g){return Es(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=tt(p(c.Ea,c,g),Vc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new ss(this,this.j,c);let B=this.o;if(this.U&&(B?(B=O(B),re(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Ic(this,L,g),b=Vt(this.J),Je(b,"RID",c),Je(b,"CVER",22),this.G&&Je(b,"X-HTTP-Session-Id",this.G),Pr(this,b),B&&(this.R?g="headers="+Qs(qn(B))+"&"+g:this.u&&kr(b,this.u,B)),zl(this.h,L),this.Ra&&Je(b,"TYPE","init"),this.S?(Je(b,"$req",g),Je(b,"SID","null"),L.U=!0,bs(L,b,null)):bs(L,b,g),this.I=2}}else this.I==3&&(c?Jl(this,c):this.i.length==0||Ul(this.h)||Jl(this))};function Jl(c,g){var b;g?b=g.l:b=c.V++;const T=Vt(c.J);Je(T,"SID",c.M),Je(T,"RID",b),Je(T,"AID",c.K),Pr(c,T),c.u&&c.o&&kr(T,c.u,c.o),b=new ss(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Ic(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),zl(c.h,b),bs(b,T,g)}function Pr(c,g){c.H&&Be(c.H,function(b,T){Je(g,T,b)}),c.l&&Be({},function(b,T){Je(g,T,b)})}function Ic(c,g,b){b=Math.min(c.i.length,b);const T=c.l?p(c.l.Ka,c.l,c):null;e:{var L=c.i;let Re=-1;for(;;){const St=["count="+b];Re==-1?b>0?(Re=L[0].g,St.push("ofs="+Re)):Re=0:St.push("ofs="+Re);let Ke=!0;for(let ft=0;ft<b;ft++){var B=L[ft].g;const Hn=L[ft].map;if(B-=Re,B<0)Re=Math.max(0,L[ft].g-100),Ke=!1;else try{B="req"+B+"_"||"";try{var se=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Ds,os]of se){let cs=os;y(os)&&(cs=ns(os)),St.push(B+Ds+"="+encodeURIComponent(cs))}}catch(Ds){throw St.push(B+"type="+encodeURIComponent("_badmap")),Ds}}catch{T&&T(Hn)}}if(Ke){se=St.join("&");break e}}se=void 0}return c=c.i.splice(0,b),g.G=c,se}function jc(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ze||S(),Ne||(ze(),Ne=!0),I.add(g,c),c.A=0}}function Ur(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=tt(p(c.Da,c),Vc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Dc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=tt(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Di(this),Dc(this))};function Zl(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Dc(c){c.g=new ss(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Vt(c.na);Je(g,"RID","rpc"),Je(g,"SID",c.M),Je(g,"AID",c.K),Je(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Je(g,"TO",c.ia),Je(g,"TYPE","xmlhttp"),Pr(c,g),c.u&&c.o&&kr(g,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Dr(Vt(g)),b.u=null,b.R=!0,_a(b,c)}r.Va=function(){this.C!=null&&(this.C=null,Di(this),Ur(this),_t(19))};function Ra(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Oc(c,g){var b=null;if(c.g==g){Ra(c),Zl(c),c.g=null;var T=2}else if(As(c.h,g))b=g.G,Bl(c.h,g),T=1;else return;if(c.I!=0){if(g.o)if(T==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var L=c.D;T=Ei(),Et(T,new Ye(T,b)),Is(c)}else jc(c);else if(L=g.m,L==3||L==0&&g.X>0||!(T==1&&Na(c,g)||T==2&&Ur(c)))switch(b&&b.length>0&&(g=c.h,g.i=g.i.concat(b)),L){case 1:js(c,5);break;case 4:js(c,10);break;case 3:js(c,6);break;default:js(c,2)}}}function Vc(c,g){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*g}function js(c,g){if(c.j.info("Error code "+g),g==2){var b=p(c.bb,c),T=c.Ua;const L=!T;T=new Nn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gt(T,"https"),Dr(T),L?rs(T.toString(),b):Kl(T.toString(),b)}else _t(2);c.I=0,c.l&&c.l.pa(g),kc(c),Sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function kc(c){if(c.I=0,c.ja=[],c.l){const g=ql(c.h);(g.length!=0||c.i.length!=0)&&(X(c.ja,g),X(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Mc(c,g,b){var T=b instanceof Nn?Vt(b):new Nn(b);if(T.g!="")g&&(T.g=g+"."+T.g),Ai(T,T.u);else{var L=d.location;T=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;const B=new Nn(null);T&&Gt(B,T),g&&(B.g=g),L&&Ai(B,L),b&&(B.h=b),T=B}return b=c.G,g=c.wa,b&&g&&Je(T,b,g),Je(T,"VER",c.ka),Pr(c,T),T}function Lc(c,g,b){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new nt(new Ns({ab:b})):new nt(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}r=Pc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Oi(){}Oi.prototype.g=function(c,g){return new mn(c,g)};function mn(c,g){vt.call(this),this.g=new ji(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!R(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Js(this)}A(mn,vt),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Xl(this.g)},mn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=ns(c),c=b);g.i.push(new Ot(g.Ya++,c)),g.I==3&&Is(g)},mn.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,mn.Z.N.call(this)};function Uc(c){et.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(Uc,et);function zc(){Yt.call(this),this.status=1}A(zc,Yt);function Js(c){this.g=c}A(Js,Pc),Js.prototype.ra=function(){Et(this.g,"a")},Js.prototype.qa=function(c){Et(this.g,new Uc(c))},Js.prototype.pa=function(c){Et(this.g,new zc)},Js.prototype.oa=function(){Et(this.g,"b")},Oi.prototype.createWebChannel=Oi.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,w1=function(){return new Oi},x1=function(){return Ei()},b1=pt,Nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Ju=Ir,Ml.COMPLETE="complete",_1=Ml,ue.EventType=Ie,Ie.OPEN="a",Ie.CLOSE="b",Ie.ERROR="c",Ie.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Bo=ue,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,v1=nt}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Rl="12.9.0";function BA(r){Rl=r}const ca=new Qm("@firebase/firestore");function ol(){return ca.logLevel}function ce(r,...e){if(ca.logLevel<=Le.DEBUG){const n=e.map(Jm);ca.debug(`Firestore (${Rl}): ${r}`,...n)}}function yi(r,...e){if(ca.logLevel<=Le.ERROR){const n=e.map(Jm);ca.error(`Firestore (${Rl}): ${r}`,...n)}}function ua(r,...e){if(ca.logLevel<=Le.WARN){const n=e.map(Jm);ca.warn(`Firestore (${Rl}): ${r}`,...n)}}function Jm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function xe(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,T1(r,i,n)}function T1(r,e,n){let i=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw yi(i),new Error(i)}function Xe(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||T1(e,o,i)}function Se(r,e){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class E1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class HA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class FA{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let i=this.i;const o=v=>this.i!==i?(i=this.i,n(v)):Promise.resolve();let u=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new dr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new dr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new E1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class $A{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class GA{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new $A(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const i=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Dv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=QA(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function Pe(r,e){return r<e?-1:r>e?1:0}function Rm(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),u=e.charAt(i);if(o!==u)return cm(o)===cm(u)?Pe(o,u):cm(o)?1:-1}return Pe(r.length,e.length)}const YA=55296,XA=57343;function cm(r){const e=r.charCodeAt(0);return e>=YA&&e<=XA}function xl(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}const Ov="__name__";class Ls{constructor(e,n,i){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&xe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Ls.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const i=Ls.isNumericId(e),o=Ls.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Ls.extractNumericId(e).compare(Ls.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class ct extends Ls{construct(e,n,i){return new ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new oe(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const JA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ls{construct(e,n,i){return new nn(e,n,i)}static isValidIdentifier(e){return JA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ov}static keyField(){return new nn([Ov])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new oe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new oe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new oe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(i+=y,o++):(u(),o++)}if(u(),d)throw new oe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ct.fromString(e))}static fromName(e){return new pe(ct.fromString(e).popFirst(5))}static empty(){return new pe(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ct(e.slice()))}}function A1(r,e,n){if(!n)throw new oe(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ZA(r,e,n,i){if(e===!0&&i===!0)throw new oe(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Vv(r){if(!pe.isDocumentKey(r))throw new oe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kv(r){if(pe.isDocumentKey(r))throw new oe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function S1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ih(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function es(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ih(r);throw new oe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Bt(r,e){const n={typeString:r};return e&&(n.value=e),n}function hc(r,e){if(!S1(r))throw new oe(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const d=r[i];if(o&&typeof d!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new oe(Y.INVALID_ARGUMENT,n);return!0}const Mv=-62135596800,Lv=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Lv);return new dt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mv)throw new oe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Bt("string",dt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new dt(0,0))}static max(){return new Te(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ec=-1;function WA(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(i===1e9?new dt(n+1,0):new dt(n,i));return new gr(o,pe.empty(),e)}function eS(r){return new gr(r.readTime,r.key,ec)}class gr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new gr(Te.min(),pe.empty(),ec)}static max(){return new gr(Te.max(),pe.empty(),ec)}}function tS(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const nS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cl(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==nS)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,i)=>{n(e)}))}static reject(e){return new Z(((n,i)=>{i(e)}))}static waitFor(e){return new Z(((n,i)=>{let o=0,u=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++u,d&&u===o&&n()}),(v=>i(v)))})),d=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const i of e)n=n.next((o=>o?Z.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,u)=>{i.push(n.call(this,o,u))})),this.waitFor(i)}static mapArray(e,n){return new Z(((i,o)=>{const u=e.length,d=new Array(u);let y=0;for(let v=0;v<u;v++){const p=v;n(e[p]).next((w=>{d[p]=w,++y,y===u&&i(d)}),(w=>o(w)))}}))}static doWhile(e,n){return new Z(((i,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):i()};u()}))}}function iS(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Il(r){return r.name==="IndexedDbTransactionError"}class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;const Wm=-1;function Dh(r){return r==null}function ch(r){return r===0&&1/r==-1/0}function rS(r){return typeof r=="number"&&Number.isInteger(r)&&!ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const N1="";function aS(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Pv(e)),e=lS(r.get(n),e);return Pv(e)}function lS(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case N1:n+="";break;default:n+=u}}return n}function Pv(r){return r+N1+""}function Uv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Tr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function R1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class yt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new tn(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(e){return new zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Ft(nn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class C1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new C1("Invalid base64 string: "+u):u}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const oS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const n=oS.exec(r);if(Xe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(r.seconds),nanos:jt(r.nanos)}}function jt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yr(r){return typeof r=="string"?sn.fromBase64String(r):sn.fromUint8Array(r)}const I1="server_timestamp",j1="__type__",D1="__previous_value__",O1="__local_write_time__";function eg(r){return(r?.mapValue?.fields||{})[j1]?.stringValue===I1}function Oh(r){const e=r.mapValue.fields[D1];return eg(e)?Oh(e):e}function tc(r){const e=pr(r.mapValue.fields[O1].timestampValue);return new dt(e.seconds,e.nanos)}class cS{constructor(e,n,i,o,u,d,y,v,p,w,A){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=p,this.isUsingEmulator=w,this.apiKey=A}}const uh="(default)";class nc{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}function uS(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(r.options.projectId,e)}const V1="__type__",hS="__max__",Gu={mapValue:{}},k1="__vector__",hh="value";function vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?eg(r)?4:fS(r)?9007199254740991:dS(r)?10:11:xe(28295,{value:r})}function Hs(r,e){if(r===e)return!0;const n=vr(r);if(n!==vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tc(r).isEqual(tc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=pr(o.timestampValue),y=pr(u.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return yr(o.bytesValue).isEqual(yr(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return jt(o.geoPointValue.latitude)===jt(u.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return jt(o.integerValue)===jt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=jt(o.doubleValue),y=jt(u.doubleValue);return d===y?ch(d)===ch(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return xl(r.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},y=u.mapValue.fields||{};if(Uv(d)!==Uv(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Hs(d[v],y[v])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function sc(r,e){return(r.values||[]).find((n=>Hs(n,e)))!==void 0}function wl(r,e){if(r===e)return 0;const n=vr(r),i=vr(e);if(n!==i)return Pe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const y=jt(u.integerValue||u.doubleValue),v=jt(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return Bv(r.timestampValue,e.timestampValue);case 4:return Bv(tc(r),tc(e));case 5:return Rm(r.stringValue,e.stringValue);case 6:return(function(u,d){const y=yr(u),v=yr(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const y=u.split("/"),v=d.split("/");for(let p=0;p<y.length&&p<v.length;p++){const w=Pe(y[p],v[p]);if(w!==0)return w}return Pe(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const y=Pe(jt(u.latitude),jt(d.latitude));return y!==0?y:Pe(jt(u.longitude),jt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return qv(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const y=u.fields||{},v=d.fields||{},p=y[hh]?.arrayValue,w=v[hh]?.arrayValue,A=Pe(p?.values?.length||0,w?.values?.length||0);return A!==0?A:qv(p,w)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Gu.mapValue&&d===Gu.mapValue)return 0;if(u===Gu.mapValue)return 1;if(d===Gu.mapValue)return-1;const y=u.fields||{},v=Object.keys(y),p=d.fields||{},w=Object.keys(p);v.sort(),w.sort();for(let A=0;A<v.length&&A<w.length;++A){const N=Rm(v[A],w[A]);if(N!==0)return N;const q=wl(y[v[A]],p[w[A]]);if(q!==0)return q}return Pe(v.length,w.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function Bv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=pr(r),i=pr(e),o=Pe(n.seconds,i.seconds);return o!==0?o:Pe(n.nanos,i.nanos)}function qv(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=wl(n[o],i[o]);if(u)return u}return Pe(n.length,i.length)}function Tl(r){return Cm(r)}function Cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=pr(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return yr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=Cm(u);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of i)u?u=!1:o+=",",o+=`${d}:${Cm(n.fields[d])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Zu(r){switch(vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(r);return e?16+Zu(e):16;case 5:return 2*r.stringValue.length;case 6:return yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+Zu(u)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Tr(i.fields,((u,d)=>{o+=u.length+Zu(d)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function Hv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Im(r){return!!r&&"integerValue"in r}function tg(r){return!!r&&"arrayValue"in r}function Fv(r){return!!r&&"nullValue"in r}function $v(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wu(r){return!!r&&"mapValue"in r}function dS(r){return(r?.mapValue?.fields||{})[V1]?.stringValue===k1}function Ko(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Tr(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Ko(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ko(r.arrayValue.values[n]);return e}return{...r}}function fS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hS}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Wu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ko(n)}setAll(e){let n=nn.emptyPath(),i={},o=[];e.forEach(((d,y)=>{if(!n.isImmediateParentOf(y)){const v=this.getFieldsMap(n);this.applyChanges(v,i,o),i={},o=[],n=y.popLast()}d?i[y.lastSegment()]=Ko(d):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());Wu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Tr(n,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new An(Ko(this.value))}}function M1(r){const e=[];return Tr(r.fields,((n,i)=>{const o=new nn([n]);if(Wu(i)){const u=M1(i.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new kn(e)}class un{constructor(e,n,i,o,u,d,y){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=d,this.documentState=y}static newInvalidDocument(e){return new un(e,0,Te.min(),Te.min(),Te.min(),An.empty(),0)}static newFoundDocument(e,n,i,o){return new un(e,1,n,Te.min(),i,o,0)}static newNoDocument(e,n){return new un(e,2,n,Te.min(),Te.min(),An.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Te.min(),Te.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(e,n){this.position=e,this.inclusive=n}}function Gv(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?i=pe.comparator(pe.fromName(d.referenceValue),n.key):i=wl(d,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Kv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Hs(r.position[n],e.position[n]))return!1;return!0}class fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function mS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class L1{}class zt extends L1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new pS(e,n,i):n==="array-contains"?new _S(e,i):n==="in"?new bS(e,i):n==="not-in"?new xS(e,i):n==="array-contains-any"?new wS(e,i):new zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new yS(e,i):new vS(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wl(n,this.value)):n!==null&&vr(this.value)===vr(n)&&this.matchesComparison(wl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ps extends L1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ps(e,n)}matches(e){return P1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P1(r){return r.op==="and"}function U1(r){return gS(r)&&P1(r)}function gS(r){for(const e of r.filters)if(e instanceof ps)return!1;return!0}function jm(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+Tl(r.value);if(U1(r))return r.filters.map((e=>jm(e))).join(",");{const e=r.filters.map((n=>jm(n))).join(",");return`${r.op}(${e})`}}function z1(r,e){return r instanceof zt?(function(i,o){return o instanceof zt&&i.op===o.op&&i.field.isEqual(o.field)&&Hs(i.value,o.value)})(r,e):r instanceof ps?(function(i,o){return o instanceof ps&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,d,y)=>u&&z1(d,o.filters[y])),!0):!1})(r,e):void xe(19439)}function B1(r){return r instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`})(r):r instanceof ps?(function(n){return n.op.toString()+" {"+n.getFilters().map(B1).join(" ,")+"}"})(r):"Filter"}class pS extends zt{constructor(e,n,i){super(e,n,i),this.key=pe.fromName(i.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class yS extends zt{constructor(e,n){super(e,"in",n),this.keys=q1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vS extends zt{constructor(e,n){super(e,"not-in",n),this.keys=q1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function q1(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class _S extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tg(n)&&sc(n.arrayValue,this.value)}}class bS extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sc(this.value.arrayValue,n)}}class xS extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sc(this.value.arrayValue,n)}}class wS extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>sc(this.value.arrayValue,i)))}}class TS{constructor(e,n=null,i=[],o=[],u=null,d=null,y=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=d,this.endAt=y,this.Te=null}}function Qv(r,e=null,n=[],i=[],o=null,u=null,d=null){return new TS(r,e,n,i,o,u,d)}function ng(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>jm(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Tl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Tl(i))).join(",")),e.Te=n}return e.Te}function sg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!mS(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!z1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Kv(r.startAt,e.startAt)&&Kv(r.endAt,e.endAt)}function Dm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dc{constructor(e,n=null,i=[],o=[],u=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ES(r,e,n,i,o,u,d,y){return new dc(r,e,n,i,o,u,d,y)}function Vh(r){return new dc(r)}function Yv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AS(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function H1(r){return r.collectionGroup!==null}function Qo(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ft(nn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((p=>{p.isInequality()&&(y=y.add(p.field))}))})),y})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fh(u,i))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new fh(nn.keyField(),i))}return e.Ie}function Ps(r){const e=Se(r);return e.Ee||(e.Ee=SS(e,Qo(r))),e.Ee}function SS(r,e){if(r.limitType==="F")return Qv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fh(o.field,u)}));const n=r.endAt?new dh(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new dh(r.startAt.position,r.startAt.inclusive):null;return Qv(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function Om(r,e){const n=r.filters.concat([e]);return new dc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function mh(r,e,n){return new dc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function kh(r,e){return sg(Ps(r),Ps(e))&&r.limitType===e.limitType}function F1(r){return`${ng(Ps(r))}|lt:${r.limitType}`}function cl(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>B1(o))).join(", ")}]`),Dh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Tl(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Tl(o))).join(",")),`Target(${i})`})(Ps(r))}; limitType=${r.limitType})`}function Mh(r,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):pe.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(r,e)&&(function(i,o){for(const u of Qo(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(d,y,v){const p=Gv(d,y,v);return d.inclusive?p<=0:p<0})(i.startAt,Qo(i),o)||i.endAt&&!(function(d,y,v){const p=Gv(d,y,v);return d.inclusive?p>=0:p>0})(i.endAt,Qo(i),o))})(r,e)}function NS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $1(r){return(e,n)=>{let i=!1;for(const o of Qo(r)){const u=RS(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function RS(r,e,n){const i=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,d,y){const v=d.data.field(u),p=y.data.field(u);return v!==null&&p!==null?wl(v,p):xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:r.dir})}}class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((n,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return R1(this.inner)}size(){return this.innerSize}}const CS=new yt(pe.comparator);function vi(){return CS}const G1=new yt(pe.comparator);function qo(...r){let e=G1;for(const n of r)e=e.insert(n.key,n);return e}function K1(r){let e=G1;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ra(){return Yo()}function Q1(){return Yo()}function Yo(){return new fa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const IS=new yt(pe.comparator),jS=new Ft(pe.comparator);function Ue(...r){let e=jS;for(const n of r)e=e.add(n);return e}const DS=new Ft(Pe);function OS(){return DS}function ig(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function Y1(r){return{integerValue:""+r}}function VS(r,e){return rS(e)?Y1(e):ig(r,e)}class Lh{constructor(){this._=void 0}}function kS(r,e,n){return r instanceof ic?(function(o,u){const d={fields:{[j1]:{stringValue:I1},[O1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&eg(u)&&(u=Oh(u)),u&&(d.fields[D1]=u),{mapValue:d}})(n,e):r instanceof rc?J1(r,e):r instanceof ac?Z1(r,e):(function(o,u){const d=X1(o,u),y=Xv(d)+Xv(o.Ae);return Im(d)&&Im(o.Ae)?Y1(y):ig(o.serializer,y)})(r,e)}function MS(r,e,n){return r instanceof rc?J1(r,e):r instanceof ac?Z1(r,e):n}function X1(r,e){return r instanceof gh?(function(i){return Im(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class ic extends Lh{}class rc extends Lh{constructor(e){super(),this.elements=e}}function J1(r,e){const n=W1(e);for(const i of r.elements)n.some((o=>Hs(o,i)))||n.push(i);return{arrayValue:{values:n}}}class ac extends Lh{constructor(e){super(),this.elements=e}}function Z1(r,e){let n=W1(e);for(const i of r.elements)n=n.filter((o=>!Hs(o,i)));return{arrayValue:{values:n}}}class gh extends Lh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Xv(r){return jt(r.integerValue||r.doubleValue)}function W1(r){return tg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class LS{constructor(e,n){this.field=e,this.transform=n}}function PS(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof rc&&o instanceof rc||i instanceof ac&&o instanceof ac?xl(i.elements,o.elements,Hs):i instanceof gh&&o instanceof gh?Hs(i.Ae,o.Ae):i instanceof ic&&o instanceof ic})(r.transform,e.transform)}class US{constructor(e,n){this.version=e,this.transformResults=n}}class ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ph{}function eb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new rg(r.key,ts.none()):new fc(r.key,r.data,ts.none());{const n=r.data,i=An.empty();let o=new Ft(nn.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?i.delete(u):i.set(u,d),o=o.add(u)}return new Er(r.key,i,new kn(o.toArray()),ts.none())}}function zS(r,e,n){r instanceof fc?(function(o,u,d){const y=o.value.clone(),v=Zv(o.fieldTransforms,u,d.transformResults);y.setAll(v),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,n):r instanceof Er?(function(o,u,d){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const y=Zv(o.fieldTransforms,u,d.transformResults),v=u.data;v.setAll(tb(o)),v.setAll(y),u.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Xo(r,e,n,i){return r instanceof fc?(function(u,d,y,v){if(!eh(u.precondition,d))return y;const p=u.value.clone(),w=Wv(u.fieldTransforms,v,d);return p.setAll(w),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,n,i):r instanceof Er?(function(u,d,y,v){if(!eh(u.precondition,d))return y;const p=Wv(u.fieldTransforms,v,d),w=d.data;return w.setAll(tb(u)),w.setAll(p),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,i):(function(u,d,y){return eh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,n)}function BS(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),u=X1(i.transform,o||null);u!=null&&(n===null&&(n=An.empty()),n.set(i.field,u))}return n||null}function Jv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&xl(i,o,((u,d)=>PS(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fc extends Ph{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Er extends Ph{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function Zv(r,e,n){const i=new Map;Xe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,y=e.data.field(u.field);i.set(u.field,MS(d,y,n[o]))}return i}function Wv(r,e,n){const i=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);i.set(o.field,kS(u,d,e))}return i}class rg extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qS extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HS{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&zS(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Xo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Xo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Q1();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let y=this.applyToLocalView(d,u.mutatedFields);y=n.has(o.key)?null:y;const v=eb(d,y);v!==null&&i.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Te.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((n,i)=>Jv(n,i)))&&xl(this.baseMutations,e.baseMutations,((n,i)=>Jv(n,i)))}}class ag{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return IS})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,i[d].version);return new ag(e,n,i,o)}}class FS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $S{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,He;function GS(r){switch(r){case Y.OK:return xe(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function nb(r){if(r===void 0)return yi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Ut.OK:return Y.OK;case Ut.CANCELLED:return Y.CANCELLED;case Ut.UNKNOWN:return Y.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return Y.INTERNAL;case Ut.UNAVAILABLE:return Y.UNAVAILABLE;case Ut.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ut.NOT_FOUND:return Y.NOT_FOUND;case Ut.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ut.ABORTED:return Y.ABORTED;case Ut.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ut.DATA_LOSS:return Y.DATA_LOSS;default:return xe(39323,{code:r})}}(He=Ut||(Ut={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function KS(){return new TextEncoder}const QS=new hr([4294967295,4294967295],0);function e_(r){const e=KS().encode(r),n=new y1;return n.update(e),new Uint8Array(n.digest())}function t_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hr([n,i],0),new hr([o,u],0)]}class lg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ho(`Invalid padding: ${n}`);if(i<0)throw new Ho(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hr.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(hr.fromNumber(i)));return o.compare(QS)===1&&(o=new hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=e_(e),[i,o]=t_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);if(!this.we(d))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new lg(u,o,n);return i.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const n=e_(e),[i,o]=t_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Uh(Te.min(),o,new yt(Pe),vi(),Ue())}}class mc{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new mc(i,n,Ue(),Ue(),Ue())}}class th{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class sb{constructor(e,n){this.targetId=e,this.Ce=n}}class ib{constructor(e,n,i=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class n_{constructor(){this.ve=0,this.Fe=s_(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),i=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:xe(38017,{changeType:u})}})),new mc(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=s_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class YS{constructor(e){this.Ge=e,this.ze=new Map,this.je=vi(),this.He=Ku(),this.Je=Ku(),this.Ze=new yt(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Dm(u))if(i===0){const d=new pe(u.path);this.et(n,d,un.newNoDocument(d,Te.min()))}else Xe(i===1,20013,{expectedCount:i});else{const d=this._t(n);if(d!==i){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(n);const p=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let d,y;try{d=yr(i).toUint8Array()}catch(v){if(v instanceof C1)return ua("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new lg(d,o,u)}catch(v){return ua(v instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((u=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const y=this.ot(d);if(y){if(u.current&&Dm(y.target)){const v=new pe(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,un.newNoDocument(v,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let i=Ue();this.Je.forEach(((u,d)=>{let y=!0;d.forEachWhile((v=>{const p=this.ot(v);return!p||p.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(i=i.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Uh(e,n,this.Ze,this.je,i);return this.je=vi(),this.He=Ku(),this.Je=Ku(),this.Ze=new yt(Pe),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new n_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ft(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ft(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ku(){return new yt(pe.comparator)}function s_(){return new yt(pe.comparator)}const XS={asc:"ASCENDING",desc:"DESCENDING"},JS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZS={and:"AND",or:"OR"};class WS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(r,e){return r.useProto3Json||Dh(e)?e:{value:e}}function ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function eN(r,e){return ph(r,e.toTimestamp())}function Us(r){return Xe(!!r,49232),Te.fromTimestamp((function(n){const i=pr(n);return new dt(i.seconds,i.nanos)})(r))}function og(r,e){return km(r,e).canonicalString()}function km(r,e){const n=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function ab(r){const e=ct.fromString(r);return Xe(hb(e),10190,{key:e.toString()}),e}function Mm(r,e){return og(r.databaseId,e.path)}function um(r,e){const n=ab(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(ob(n))}function lb(r,e){return og(r.databaseId,e)}function tN(r){const e=ab(r);return e.length===4?ct.emptyPath():ob(e)}function Lm(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ob(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function i_(r,e,n){return{name:Mm(r,e),fields:n.value.mapValue.fields}}function nN(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,w){return p.useProto3Json?(Xe(w===void 0||typeof w=="string",58123),sn.fromBase64String(w||"")):(Xe(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),sn.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(p){const w=p.code===void 0?Y.UNKNOWN:nb(p.code);return new oe(w,p.message||"")})(d);n=new ib(i,o,u,y||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=um(r,i.document.name),u=Us(i.document.updateTime),d=i.document.createTime?Us(i.document.createTime):Te.min(),y=new An({mapValue:{fields:i.document.fields}}),v=un.newFoundDocument(o,u,d,y),p=i.targetIds||[],w=i.removedTargetIds||[];n=new th(p,w,v.key,v)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=um(r,i.document),u=i.readTime?Us(i.readTime):Te.min(),d=un.newNoDocument(o,u),y=i.removedTargetIds||[];n=new th([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=um(r,i.document),u=i.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,d=new $S(o,u),y=i.targetId;n=new sb(y,d)}}return n}function sN(r,e){let n;if(e instanceof fc)n={update:i_(r,e.key,e.value)};else if(e instanceof rg)n={delete:Mm(r,e.key)};else if(e instanceof Er)n={update:i_(r,e.key,e.data),updateMask:dN(e.fieldMask)};else{if(!(e instanceof qS))return xe(16599,{dt:e.type});n={verify:Mm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,d){const y=d.transform;if(y instanceof ic)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof rc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ac)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof gh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw xe(20930,{transform:d.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:eN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(r,e.precondition)),n}function iN(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map((n=>(function(o,u){let d=o.updateTime?Us(o.updateTime):Us(u);return d.isEqual(Te.min())&&(d=Us(u)),new US(d,o.transformResults||[])})(n,e)))):[]}function rN(r,e){return{documents:[lb(r,e.path)]}}function aN(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=lb(r,o);const u=(function(p){if(p.length!==0)return ub(ps.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((w=>(function(N){return{field:ul(N.field),direction:cN(N.dir)}})(w)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const y=Vm(r,e.limit);return y!==null&&(n.structuredQuery.limit=y),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function lN(r){let e=tN(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Xe(i===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=(function(A){const N=cb(A);return N instanceof ps&&U1(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((N=>(function(X){return new fh(hl(X.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(N)))})(n.orderBy));let y=null;n.limit&&(y=(function(A){let N;return N=typeof A=="object"?A.value:A,Dh(N)?null:N})(n.limit));let v=null;n.startAt&&(v=(function(A){const N=!!A.before,q=A.values||[];return new dh(q,N)})(n.startAt));let p=null;return n.endAt&&(p=(function(A){const N=!A.before,q=A.values||[];return new dh(q,N)})(n.endAt)),ES(e,o,d,u,y,"F",v,p)}function oN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hl(n.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=hl(n.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=hl(n.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hl(n.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return zt.create(hl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ps.create(n.compositeFilter.filters.map((i=>cb(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(r):xe(30097,{filter:r})}function cN(r){return XS[r]}function uN(r){return JS[r]}function hN(r){return ZS[r]}function ul(r){return{fieldPath:r.canonicalString()}}function hl(r){return nn.fromServerFormat(r.fieldPath)}function ub(r){return r instanceof zt?(function(n){if(n.op==="=="){if($v(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NAN"}};if(Fv(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($v(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NOT_NAN"}};if(Fv(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(n.field),op:uN(n.op),value:n.value}}})(r):r instanceof ps?(function(n){const i=n.getFilters().map((o=>ub(o)));return i.length===1?i[0]:{compositeFilter:{op:hN(n.op),filters:i}}})(r):xe(54877,{filter:r})}function dN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function db(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class lr{constructor(e,n,i,o,u=Te.min(),d=Te.min(),y=sn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fN{constructor(e){this.yt=e}}function mN(r){const e=lN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mh(e,e.limit,"L"):e}class gN{constructor(){this.Sn=new pN}addToCollectionParentIndex(e,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(gr.min())}updateCollectionGroup(e,n,i){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class pN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Ft(ct.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ft(ct.comparator)).toArray()}}const r_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fb=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(fb,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class El{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new El(0)}static ar(){return new El(-1)}}const a_="LruGarbageCollector",yN=1048576;function l_([r,e],[n,i]){const o=Pe(r,n);return o===0?Pe(e,i):o}class vN{constructor(e){this.Pr=e,this.buffer=new Ft(l_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();l_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _N{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(a_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Il(n)?ce(a_,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Ar(3e5)}))}}class bN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(jh.ce);const i=new vN(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(r_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,u,d,y,v,p;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(i=A,y=Date.now(),this.removeTargets(e,i,n)))).next((A=>(u=A,v=Date.now(),this.removeOrphanedDocuments(e,i)))).next((A=>(p=Date.now(),ol()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${u} targets in `+(v-y)+`ms
	Removed ${A} documents in `+(p-v)+`ms
Total Duration: ${p-w}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function xN(r,e){return new bN(r,e)}class wN{constructor(){this.changes=new fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Z.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class EN{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Xo(i.mutation,o,kn.empty(),dt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ue()){const o=ra();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((u=>{let d=qo();return u.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=ra();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ue())))}populateOverlays(e,n,i){const o=[];return i.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,y)=>{n.set(d,y)}))}))}computeViews(e,n,i,o){let u=vi();const d=Yo(),y=(function(){return Yo()})();return n.forEach(((v,p)=>{const w=i.get(p.key);o.has(p.key)&&(w===void 0||w.mutation instanceof Er)?u=u.insert(p.key,p):w!==void 0?(d.set(p.key,w.mutation.getFieldMask()),Xo(w.mutation,p,w.mutation.getFieldMask(),dt.now())):d.set(p.key,kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((p,w)=>d.set(p,w))),n.forEach(((p,w)=>y.set(p,new TN(w,d.get(p)??null)))),y)))}recalculateAndSaveOverlays(e,n){const i=Yo();let o=new yt(((d,y)=>d-y)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const y of d)y.keys().forEach((v=>{const p=n.get(v);if(p===null)return;let w=i.get(v)||kn.empty();w=y.applyToLocalView(p,w),i.set(v,w);const A=(o.get(y.batchId)||Ue()).add(v);o=o.insert(y.batchId,A)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),p=v.key,w=v.value,A=Q1();w.forEach((N=>{if(!u.has(N)){const q=eb(n.get(N),i.get(N));q!==null&&A.set(N,q),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,A))}return Z.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return AS(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):Z.resolve(ra());let y=ec,v=u;return d.next((p=>Z.forEach(p,((w,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),u.get(w)?Z.resolve():this.remoteDocumentCache.getEntry(e,w).next((N=>{v=v.insert(w,N)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,v,p,Ue()))).next((w=>({batchId:y,changes:K1(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((i=>{let o=qo();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let d=qo();return this.indexManager.getCollectionParents(e,u).next((y=>Z.forEach(y,(v=>{const p=(function(A,N){return new dc(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next((w=>{w.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o)))).next((d=>{u.forEach(((v,p)=>{const w=p.getKey();d.get(w)===null&&(d=d.insert(w,un.newInvalidDocument(w)))}));let y=qo();return d.forEach(((v,p)=>{const w=u.get(v);w!==void 0&&Xo(w.mutation,p,kn.empty(),dt.now()),Mh(n,p)&&(y=y.insert(v,p))})),y}))}}class AN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Us(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:mN(o.bundledQuery),readTime:Us(o.readTime)}})(n)),Z.resolve()}}class SN{constructor(){this.overlays=new yt(pe.comparator),this.Lr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ra();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,u)=>{this.bt(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(i)),Z.resolve()}getOverlaysForCollection(e,n,i){const o=ra(),u=n.length+1,d=new pe(n.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,p=v.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&v.largestBatchId>i&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new yt(((p,w)=>p-w));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let w=u.get(p.largestBatchId);w===null&&(w=ra(),u=u.insert(p.largestBatchId,w)),w.set(p.getKey(),p)}}const y=ra(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((p,w)=>y.set(p,w))),!(y.size()>=o)););return Z.resolve(y)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new FS(n,i));let u=this.Lr.get(n);u===void 0&&(u=Ue(),this.Lr.set(n,u)),this.Lr.set(n,u.add(i.key))}}class NN{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}class cg{constructor(){this.kr=new Ft(Qt.Kr),this.qr=new Ft(Qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Qt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Qt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new pe(new ct([])),i=new Qt(n,e),o=new Qt(n,e+1),u=[];return this.qr.forEachInRange([i,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new ct([])),i=new Qt(n,e),o=new Qt(n,e+1);let u=Ue();return this.qr.forEachInRange([i,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Qt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class RN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(Qt.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new HS(u,n,i,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new Qt(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Wm:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Qt(n,0),o=new Qt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([i,o],(d=>{const y=this.Zr(d.Hr);u.push(y)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ft(Pe);return n.forEach((o=>{const u=new Qt(o,0),d=new Qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(y=>{i=i.add(y.Hr)}))})),Z.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;pe.isDocumentKey(u)||(u=u.child(""));const d=new Qt(new pe(u),0);let y=new Ft(Pe);return this.Jr.forEachWhile((v=>{const p=v.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(y=y.add(v.Hr)),!0)}),d),Z.resolve(this.Yr(y))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Z.forEach(n.mutations,(o=>{const u=new Qt(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Qt(n,0),o=this.Jr.firstAfterOrEqual(i);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CN{constructor(e){this.ti=e,this.docs=(function(){return new yt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Z.resolve(i?i.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let i=vi();return n.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))})),Z.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=vi();const d=n.path,y=new pe(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:p,value:{document:w}}=v.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||tS(eS(w),i)<=0||(o.has(w.key)||Mh(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,i,o){xe(9500)}ni(e,n){return Z.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new IN(this)}getSize(e){return Z.resolve(this.size)}}class IN extends wN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),Z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class jN{constructor(e){this.persistence=e,this.ri=new fa((n=>ng(n)),sg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new cg,this.targetCount=0,this.oi=El._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),Z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new El(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.lr(n),Z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=n&&i.get(y.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return Z.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),Z.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return Z.resolve(i)}containsKey(e,n){return Z.resolve(this.si.containsKey(n))}}class mb{constructor(e,n){this._i={},this.overlays={},this.ai=new jh(0),this.ui=!1,this.ui=!0,this.ci=new NN,this.referenceDelegate=e(this),this.li=new jN(this),this.indexManager=new gN,this.remoteDocumentCache=(function(o){return new CN(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new fN(n),this.Pi=new AN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new RN(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const o=new DN(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return Z.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class DN extends sS{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Ri=new cg,this.Ai=null}static Vi(e){return new ug(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),Z.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(i=>{const o=pe.fromPath(i);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.fi=new fa((i=>aS(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=xN(this,n)}static Vi(e,n){return new yh(e,n)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return Z.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((y=>{y||(i++,u.removeEntry(d,Te.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zu(e.data.value)),n}wr(e,n,i){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(e,n.fromCache,i,o)}}class ON{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class VN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return x2()?8:iS(hn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,i).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new ON;return this.ys(e,n,d).next((y=>{if(u.result=y,this.As)return this.ws(e,n,d,y.size)}))})).next((()=>u.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(ol()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(ol()<=Le.DEBUG&&ce("QueryEngine","Query:",cl(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(ol()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(n))):Z.resolve())}gs(e,n){if(Yv(n))return Z.resolve(null);let i=Ps(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=mh(n,null,"F"),i=Ps(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const d=Ue(...u);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,i).next((v=>{const p=this.bs(n,y);return this.Ss(n,p,d,v.readTime)?this.gs(e,mh(n,null,"F")):this.Ds(e,p,n,v)}))))})))))}ps(e,n,i,o){return Yv(n)||o.isEqual(Te.min())?Z.resolve(null):this.fs.getDocuments(e,i).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,i,o)?Z.resolve(null):(ol()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),cl(n)),this.Ds(e,d,n,WA(o,ec)).next((y=>y)))}))}bs(e,n){let i=new Ft($1(e));return n.forEach(((o,u)=>{Mh(e,u)&&(i=i.add(u))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,i){return ol()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",cl(n)),this.fs.getDocumentsMatchingQuery(e,n,gr.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const dg="LocalStore",kN=3e8;class MN{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new yt(Pe),this.Fs=new fa((u=>ng(u)),sg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function LN(r,e,n,i){return new MN(r,e,n,i)}async function gb(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const d=[],y=[];let v=Ue();for(const p of o){d.push(p.batchId);for(const w of p.mutations)v=v.add(w.key)}for(const p of u){y.push(p.batchId);for(const w of p.mutations)v=v.add(w.key)}return n.localDocuments.getDocuments(i,v).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:y})))}))}))}function PN(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(y,v,p,w){const A=p.batch,N=A.keys();let q=Z.resolve();return N.forEach((X=>{q=q.next((()=>w.getEntry(v,X))).next((J=>{const ee=p.docVersions.get(X);Xe(ee!==null,48541),J.version.compareTo(ee)<0&&(A.applyToRemoteDocument(J,p),J.isValidDocument()&&(J.setReadTime(p.commitVersion),w.addEntry(J)))}))})),q.next((()=>y.mutationQueue.removeMutationBatch(v,A)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(y){let v=Ue();for(let p=0;p<y.mutationResults.length;++p)y.mutationResults[p].transformResults.length>0&&(v=v.add(y.batch.mutations[p].key));return v})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function pb(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function UN(r,e){const n=Se(r),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const y=[];e.targetChanges.forEach(((w,A)=>{const N=o.get(A);if(!N)return;y.push(n.li.removeMatchingKeys(u,w.removedDocuments,A).next((()=>n.li.addMatchingKeys(u,w.addedDocuments,A))));let q=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(sn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(w.resumeToken,i)),o=o.insert(A,q),(function(J,ee,ae){return J.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=kN?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(N,q,w)&&y.push(n.li.updateTargetData(u,q))}));let v=vi(),p=Ue();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),y.push(zN(u,d,e.documentUpdates).next((w=>{v=w.Bs,p=w.Ls}))),!i.isEqual(Te.min())){const w=n.li.getLastRemoteSnapshotVersion(u).next((A=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,i)));y.push(w)}return Z.waitFor(y).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,v,p))).next((()=>v))})).then((u=>(n.vs=o,u)))}function zN(r,e,n){let i=Ue(),o=Ue();return n.forEach((u=>i=i.add(u))),e.getEntries(r,i).next((u=>{let d=vi();return n.forEach(((y,v)=>{const p=u.get(y);v.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Te.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!p.isValidDocument()||v.version.compareTo(p.version)>0||v.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ce(dg,"Ignoring outdated watch update for ",y,". Current version:",p.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function BN(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Wm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function qN(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((u=>u?(o=u,Z.resolve(o)):n.li.allocateTargetId(i).next((d=>(o=new lr(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Pm(r,e,n){const i=Se(r),o=i.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(d=>i.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Il(d))throw d;ce(dg,`Failed to update sequence numbers for target ${e}: ${d}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function o_(r,e,n){const i=Se(r);let o=Te.min(),u=Ue();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,p,w){const A=Se(v),N=A.Fs.get(w);return N!==void 0?Z.resolve(A.vs.get(N)):A.li.getTargetData(p,w)})(i,d,Ps(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(d,y.targetId).next((v=>{u=v}))})).next((()=>i.Cs.getDocumentsMatchingQuery(d,e,n?o:Te.min(),n?u:Ue()))).next((y=>(HN(i,NS(e),y),{documents:y,ks:u})))))}function HN(r,e,n){let i=r.Ms.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),r.Ms.set(e,i)}class c_{constructor(){this.activeTargetIds=OS()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FN{constructor(){this.vo=new c_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new c_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $N{Mo(e){}shutdown(){}}const u_="ConnectivityMonitor";class h_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(u_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(u_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qu=null;function Um(){return Qu===null?Qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qu++,"0x"+Qu.toString(16)}const hm="RestConnection",GN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class KN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===uh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,u){const d=Um(),y=this.Qo(e,n.toUriEncodedString());ce(hm,`Sending RPC '${e}' ${d}:`,y,i);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,u);const{host:p}=new URL(y),w=Sl(p);return this.zo(e,y,v,i,w).then((A=>(ce(hm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw ua(hm,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",i),A}))}jo(e,n,i,o,u,d){return this.Wo(e,n,i,o,u)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const i=GN[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class QN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ln="WebChannelConnection",Po=(r,e,n)=>{r.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ml extends KN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ml.c_){const e=x1();Po(e,b1.STAT_EVENT,(n=>{n.stat===Nm.PROXY?ce(ln,"STAT_EVENT: detected buffering proxy"):n.stat===Nm.NOPROXY&&ce(ln,"STAT_EVENT: detected no buffering proxy")})),ml.c_=!0}}zo(e,n,i,o,u){const d=Um();return new Promise(((y,v)=>{const p=new v1;p.setWithCredentials(!0),p.listenOnce(_1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ju.NO_ERROR:const A=p.getResponseJson();ce(ln,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case Ju.TIMEOUT:ce(ln,`RPC '${e}' ${d} timed out`),v(new oe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const N=p.getStatus();if(ce(ln,`RPC '${e}' ${d} failed with status:`,N,"response text:",p.getResponseText()),N>0){let q=p.getResponseJson();Array.isArray(q)&&(q=q[0]);const X=q?.error;if(X&&X.status&&X.message){const J=(function(ae){const te=ae.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(te)>=0?te:Y.UNKNOWN})(X.status);v(new oe(J,X.message))}else v(new oe(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else v(new oe(Y.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(ln,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);ce(ln,`RPC '${e}' ${d} sending request:`,o),p.send(n,"POST",w,i,15)}))}T_(e,n,i){const o=Um(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,n,i),y.encodeInitMessageHeaders=!0;const p=u.join("");ce(ln,`Creating RPC '${e}' stream ${o}: ${p}`,y);const w=d.createWebChannel(p,y);this.I_(w);let A=!1,N=!1;const q=new QN({Ho:X=>{N?ce(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(A||(ce(ln,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ce(ln,`RPC '${e}' stream ${o} sending:`,X),w.send(X))},Jo:()=>w.close()});return Po(w,Bo.EventType.OPEN,(()=>{N||(ce(ln,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),Po(w,Bo.EventType.CLOSE,(()=>{N||(N=!0,ce(ln,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(w))})),Po(w,Bo.EventType.ERROR,(X=>{N||(N=!0,ua(ln,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),q.o_(new oe(Y.UNAVAILABLE,"The operation could not be completed")))})),Po(w,Bo.EventType.MESSAGE,(X=>{if(!N){const J=X.data[0];Xe(!!J,16349);const ee=J,ae=ee?.error||ee[0]?.error;if(ae){ce(ln,`RPC '${e}' stream ${o} received error:`,ae);const te=ae.status;let le=(function(Ne){const I=Ut[Ne];if(I!==void 0)return nb(I)})(te),be=ae.message;te==="NOT_FOUND"&&be.includes("database")&&be.includes("does not exist")&&be.includes(this.databaseId.database)&&ua(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),le===void 0&&(le=Y.INTERNAL,be="Unknown error status: "+te+" with message "+ae.message),N=!0,q.o_(new oe(le,be)),w.close()}else ce(ln,`RPC '${e}' stream ${o} received:`,J),q.__(J)}})),ml.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return w1()}}function YN(r){return new ml(r)}function dm(){return typeof document<"u"?document:null}function zh(r){return new WS(r,!0)}ml.c_=!1;class yb{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const d_="PersistentStream";class vb{constructor(e,n,i,o,u,d,y,v){this.Ci=e,this.b_=i,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new oe(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(d_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(d_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XN extends vb{constructor(e,n,i,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nN(this.serializer,e),i=(function(u){if(!("targetChange"in u))return Te.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Us(d.readTime):Te.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Lm(this.serializer),n.addTarget=(function(u,d){let y;const v=d.target;if(y=Dm(v)?{documents:rN(u,v)}:{query:aN(u,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=rb(u,d.resumeToken);const p=Vm(u,d.expectedCount);p!==null&&(y.expectedCount=p)}else if(d.snapshotVersion.compareTo(Te.min())>0){y.readTime=ph(u,d.snapshotVersion.toTimestamp());const p=Vm(u,d.expectedCount);p!==null&&(y.expectedCount=p)}return y})(this.serializer,e);const i=oN(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Lm(this.serializer),n.removeTarget=e,this.K_(n)}}class JN extends vb{constructor(e,n,i,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iN(e.writeResults,e.commitTime),i=Us(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Lm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>sN(this.serializer,i)))};this.K_(n)}}class ZN{}class WN extends ZN{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,km(n,i),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Y.UNKNOWN,u.toString())}))}jo(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,km(n,i),o,d,y,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function e4(r,e,n,i){return new WN(r,e,n,i)}class t4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yi(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class n4{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{i.enqueueAndForget((async()=>{ma(this)&&(ce(ha,"Restarting streams for network reachability change."),await(async function(v){const p=Se(v);p.Ea.add(4),await gc(p),p.Va.set("Unknown"),p.Ea.delete(4),await Bh(p)})(this))}))})),this.Va=new t4(i,o)}}async function Bh(r){if(ma(r))for(const e of r.Ra)await e(!0)}async function gc(r){for(const e of r.Ra)await e(!1)}function _b(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pg(n)?gg(n):jl(n).O_()&&mg(n,e))}function fg(r,e){const n=Se(r),i=jl(n);n.Ia.delete(e),i.O_()&&bb(n,e),n.Ia.size===0&&(i.O_()?i.L_():ma(n)&&n.Va.set("Unknown"))}function mg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(r).Z_(e)}function bb(r,e){r.da.$e(e),jl(r).X_(e)}function gg(r){r.da=new YS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),jl(r).start(),r.Va.ua()}function pg(r){return ma(r)&&!jl(r).x_()&&r.Ia.size>0}function ma(r){return Se(r).Ea.size===0}function xb(r){r.da=void 0}async function s4(r){r.Va.set("Online")}async function i4(r){r.Ia.forEach(((e,n)=>{mg(r,e)}))}async function r4(r,e){xb(r),pg(r)?(r.Va.ha(e),gg(r)):r.Va.set("Unknown")}async function a4(r,e,n){if(r.Va.set("Online"),e instanceof ib&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(r,e)}catch(i){ce(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await vh(r,i)}else if(e instanceof th?r.da.Xe(e):e instanceof sb?r.da.st(e):r.da.tt(e),!n.isEqual(Te.min()))try{const i=await pb(r.localStore);n.compareTo(i)>=0&&await(function(u,d){const y=u.da.Tt(d);return y.targetChanges.forEach(((v,p)=>{if(v.resumeToken.approximateByteSize()>0){const w=u.Ia.get(p);w&&u.Ia.set(p,w.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,p)=>{const w=u.Ia.get(v);if(!w)return;u.Ia.set(v,w.withResumeToken(sn.EMPTY_BYTE_STRING,w.snapshotVersion)),bb(u,v);const A=new lr(w.target,v,p,w.sequenceNumber);mg(u,A)})),u.remoteSyncer.applyRemoteEvent(y)})(r,n)}catch(i){ce(ha,"Failed to raise snapshot:",i),await vh(r,i)}}async function vh(r,e,n){if(!Il(e))throw e;r.Ea.add(1),await gc(r),r.Va.set("Offline"),n||(n=()=>pb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ha,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Bh(r)}))}function wb(r,e){return e().catch((n=>vh(r,n,e)))}async function qh(r){const e=Se(r),n=_r(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;l4(e);)try{const o=await BN(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,o4(e,o)}catch(o){await vh(e,o)}Tb(e)&&Eb(e)}function l4(r){return ma(r)&&r.Ta.length<10}function o4(r,e){r.Ta.push(e);const n=_r(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function Tb(r){return ma(r)&&!_r(r).x_()&&r.Ta.length>0}function Eb(r){_r(r).start()}async function c4(r){_r(r).ra()}async function u4(r){const e=_r(r);for(const n of r.Ta)e.ea(n.mutations)}async function h4(r,e,n){const i=r.Ta.shift(),o=ag.from(i,e,n);await wb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await qh(r)}async function d4(r,e){e&&_r(r).Y_&&await(async function(i,o){if((function(d){return GS(d)&&d!==Y.ABORTED})(o.code)){const u=i.Ta.shift();_r(i).B_(),await wb(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await qh(i)}})(r,e),Tb(r)&&Eb(r)}async function f_(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ce(ha,"RemoteStore received new credentials");const i=ma(n);n.Ea.add(3),await gc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bh(n)}async function f4(r,e){const n=Se(r);e?(n.Ea.delete(2),await Bh(n)):e||(n.Ea.add(2),await gc(n),n.Va.set("Unknown"))}function jl(r){return r.ma||(r.ma=(function(n,i,o){const u=Se(n);return u.sa(),new XN(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:s4.bind(null,r),Yo:i4.bind(null,r),t_:r4.bind(null,r),J_:a4.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),pg(r)?gg(r):r.Va.set("Unknown")):(await r.ma.stop(),xb(r))}))),r.ma}function _r(r){return r.fa||(r.fa=(function(n,i,o){const u=Se(n);return u.sa(),new JN(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:c4.bind(null,r),t_:d4.bind(null,r),ta:u4.bind(null,r),na:h4.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await qh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ha,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class yg{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const d=Date.now()+i,y=new yg(e,n,d,o,u);return y.start(i),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(r,e){if(yi("AsyncQueue",`${e}: ${r}`),Il(r))return new oe(Y.UNAVAILABLE,`${e}: ${r}`);throw r}class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||pe.comparator(n.key,i.key):(n,i)=>pe.comparator(n.key,i.key),this.keyedMap=qo(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new gl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class m_{constructor(){this.ga=new yt(pe.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Al{constructor(e,n,i,o,u,d,y,v,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,u){const d=[];return n.forEach((y=>{d.push({type:0,doc:y})})),new Al(e,n,gl.emptySet(n),d,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class m4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class g4{constructor(){this.queries=g_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Se(n),u=o.queries;o.queries=g_(),u.forEach(((d,y)=>{for(const v of y.ba)v.onError(i)}))})(this,new oe(Y.ABORTED,"Firestore shutting down"))}}function g_(){return new fa((r=>F1(r)),kh)}async function Ab(r,e){const n=Se(r);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(i=2):(u=new m4,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const y=vg(d,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(y)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&_g(n)}async function Sb(r,e){const n=Se(r),i=e.query;let o=3;const u=n.queries.get(i);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function p4(r,e){const n=Se(r);let i=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const y of d.ba)y.Fa(o)&&(i=!0);d.wa=o}}i&&_g(n)}function y4(r,e,n){const i=Se(r),o=i.queries.get(e);if(o)for(const u of o.ba)u.onError(n);i.queries.delete(e)}function _g(r){r.Ca.forEach((e=>{e.next()}))}var zm,p_;(p_=zm||(zm={})).Ma="default",p_.Cache="cache";class Nb{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Al(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zm.Cache}}class Rb{constructor(e){this.key=e}}class Cb{constructor(e){this.key=e}}class v4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=$1(e),this.tu=new gl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new m_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,A)=>{const N=o.get(w),q=Mh(this.query,A)?A:null,X=!!N&&this.mutatedKeys.has(N.key),J=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let ee=!1;N&&q?N.data.isEqual(q.data)?X!==J&&(i.track({type:3,doc:q}),ee=!0):this.su(N,q)||(i.track({type:2,doc:q}),ee=!0,(v&&this.eu(q,v)>0||p&&this.eu(q,p)<0)&&(y=!0)):!N&&q?(i.track({type:0,doc:q}),ee=!0):N&&!q&&(i.track({type:1,doc:N}),ee=!0,(v||p)&&(y=!0)),ee&&(q?(d=d.add(q),u=J?u.add(w):u.delete(w)):(d=d.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),u=u.delete(w.key),i.track({type:1,doc:w})}return{tu:d,iu:i,Ss:y,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,A)=>(function(q,X){const J=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:ee})}};return J(q)-J(X)})(w.type,A.type)||this.eu(w.doc,A.doc))),this.ou(i),o=o??!1;const y=n&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,p=v!==this.Xa;return this.Xa=v,d.length!==0||p?{snapshot:new Al(this.query,e.tu,u,d,e.mutatedKeys,v===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new Cb(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new Rb(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const bg="SyncEngine";class _4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class b4{constructor(e){this.key=e,this.hu=!1}}class x4{constructor(e,n,i,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((y=>F1(y)),kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new yt(pe.comparator),this.Au=new Map,this.Vu=new cg,this.du={},this.mu=new Map,this.fu=El.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w4(r,e,n=!0){const i=kb(r);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Ib(i,e,n,!0),o}async function T4(r,e){const n=kb(r);await Ib(n,e,!0,!1)}async function Ib(r,e,n,i){const o=await qN(r.localStore,Ps(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let y;return i&&(y=await E4(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&_b(r.remoteStore,o),y}async function E4(r,e,n,i,o){r.pu=(A,N,q)=>(async function(J,ee,ae,te){let le=ee.view.ru(ae);le.Ss&&(le=await o_(J.localStore,ee.query,!1).then((({documents:I})=>ee.view.ru(I,le))));const be=te&&te.targetChanges.get(ee.targetId),ze=te&&te.targetMismatches.get(ee.targetId)!=null,Ne=ee.view.applyChanges(le,J.isPrimaryClient,be,ze);return v_(J,ee.targetId,Ne.au),Ne.snapshot})(r,A,N,q);const u=await o_(r.localStore,e,!0),d=new v4(e,u.ks),y=d.ru(u.documents),v=mc.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),p=d.applyChanges(y,r.isPrimaryClient,v);v_(r,n,p.au);const w=new _4(e,n,d);return r.Tu.set(e,w),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function A4(r,e,n){const i=Se(r),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((d=>!kh(d,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&fg(i.remoteStore,o.targetId),Bm(i,o.targetId)})).catch(Cl)):(Bm(i,o.targetId),await Pm(i.localStore,o.targetId,!0))}async function S4(r,e){const n=Se(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),fg(n.remoteStore,i.targetId))}async function N4(r,e,n){const i=V4(r);try{const o=await(function(d,y){const v=Se(d),p=dt.now(),w=y.reduce(((q,X)=>q.add(X.key)),Ue());let A,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let X=vi(),J=Ue();return v.xs.getEntries(q,w).next((ee=>{X=ee,X.forEach(((ae,te)=>{te.isValidDocument()||(J=J.add(ae))}))})).next((()=>v.localDocuments.getOverlayedDocuments(q,X))).next((ee=>{A=ee;const ae=[];for(const te of y){const le=BS(te,A.get(te.key).overlayedDocument);le!=null&&ae.push(new Er(te.key,le,M1(le.value.mapValue),ts.exists(!0)))}return v.mutationQueue.addMutationBatch(q,p,ae,y)})).next((ee=>{N=ee;const ae=ee.applyToLocalDocumentSet(A,J);return v.documentOverlayCache.saveOverlays(q,ee.batchId,ae)}))})).then((()=>({batchId:N.batchId,changes:K1(A)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let p=d.du[d.currentUser.toKey()];p||(p=new yt(Pe)),p=p.insert(y,v),d.du[d.currentUser.toKey()]=p})(i,o.batchId,n),await pc(i,o.changes),await qh(i.remoteStore)}catch(o){const u=vg(o,"Failed to persist write");n.reject(u)}}async function jb(r,e){const n=Se(r);try{const i=await UN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Xe(d.hu,14607):o.removedDocuments.size>0&&(Xe(d.hu,42227),d.hu=!1))})),await pc(n,i,e)}catch(i){await Cl(i)}}function y_(r,e,n){const i=Se(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((u,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Se(d);v.onlineState=y;let p=!1;v.queries.forEach(((w,A)=>{for(const N of A.ba)N.va(y)&&(p=!0)})),p&&_g(v)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function R4(r,e,n){const i=Se(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let d=new yt(pe.comparator);d=d.insert(u,un.newNoDocument(u,Te.min()));const y=Ue().add(u),v=new Uh(Te.min(),new Map,new yt(Pe),d,y);await jb(i,v),i.Ru=i.Ru.remove(u),i.Au.delete(e),xg(i)}else await Pm(i.localStore,e,!1).then((()=>Bm(i,e,n))).catch(Cl)}async function C4(r,e){const n=Se(r),i=e.batch.batchId;try{const o=await PN(n.localStore,e);Ob(n,i,null),Db(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await pc(n,o)}catch(o){await Cl(o)}}async function I4(r,e,n){const i=Se(r);try{const o=await(function(d,y){const v=Se(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let w;return v.mutationQueue.lookupMutationBatch(p,y).next((A=>(Xe(A!==null,37113),w=A.keys(),v.mutationQueue.removeMutationBatch(p,A)))).next((()=>v.mutationQueue.performConsistencyCheck(p))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(p,w,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,w))).next((()=>v.localDocuments.getDocuments(p,w)))}))})(i.localStore,e);Ob(i,e,n),Db(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await pc(i,o)}catch(o){await Cl(o)}}function Db(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Ob(r,e,n){const i=Se(r);let o=i.du[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Bm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||Vb(r,i)}))}function Vb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(fg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),xg(r))}function v_(r,e,n){for(const i of n)i instanceof Rb?(r.Vu.addReference(i.key,e),j4(r,i)):i instanceof Cb?(ce(bg,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||Vb(r,i.key)):xe(19791,{wu:i})}function j4(r,e){const n=e.key,i=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(i)||(ce(bg,"New document in limbo: "+n),r.Eu.add(i),xg(r))}function xg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(ct.fromString(e)),i=r.fu.next();r.Au.set(i,new b4(n)),r.Ru=r.Ru.insert(n,i),_b(r.remoteStore,new lr(Ps(Vh(n.path)),i,"TargetPurposeLimboResolution",jh.ce))}}async function pc(r,e,n){const i=Se(r),o=[],u=[],d=[];i.Tu.isEmpty()||(i.Tu.forEach(((y,v)=>{d.push(i.pu(v,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const w=p?!p.fromCache:n?.targetChanges.get(v.targetId)?.current;i.sharedClientState.updateQueryState(v.targetId,w?"current":"not-current")}if(p){o.push(p);const w=hg.Es(v.targetId,p);u.push(w)}})))})),await Promise.all(d),i.Pu.J_(o),await(async function(v,p){const w=Se(v);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(p,(N=>Z.forEach(N.Ts,(q=>w.persistence.referenceDelegate.addReference(A,N.targetId,q))).next((()=>Z.forEach(N.Is,(q=>w.persistence.referenceDelegate.removeReference(A,N.targetId,q)))))))))}catch(A){if(!Il(A))throw A;ce(dg,"Failed to update sequence numbers: "+A)}for(const A of p){const N=A.targetId;if(!A.fromCache){const q=w.vs.get(N),X=q.snapshotVersion,J=q.withLastLimboFreeSnapshotVersion(X);w.vs=w.vs.insert(N,J)}}})(i.localStore,u))}async function D4(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ce(bg,"User change. New user:",e.toKey());const i=await gb(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((y=>{y.forEach((v=>{v.reject(new oe(Y.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await pc(n,i.Ns)}}function O4(r,e){const n=Se(r),i=n.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const y=n.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function kb(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=jb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R4.bind(null,e),e.Pu.J_=p4.bind(null,e.eventManager),e.Pu.yu=y4.bind(null,e.eventManager),e}function V4(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I4.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LN(this.persistence,new VN,e.initialUser,this.serializer)}Cu(e){return new mb(ug.Vi,this.serializer)}Du(e){return new FN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class k4 extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof yh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new _N(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new mb((i=>yh.Vi(i,n)),this.serializer)}}class qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>y_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D4.bind(null,this.syncEngine),await f4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g4})()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),i=YN(e.databaseInfo);return e4(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,u,d,y){return new n4(i,o,u,d,y)})(this.localStore,this.datastore,e.asyncQueue,(n=>y_(this.syncEngine,n,0)),(function(){return h_.v()?new h_:new $N})())}createSyncEngine(e,n){return(function(o,u,d,y,v,p,w){const A=new x4(o,u,d,y,v,p);return w&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Se(n);ce(ha,"RemoteStore shutting down."),i.Ea.add(5),await gc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class Mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const br="FirestoreClient";class M4{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async d=>{ce(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(ce(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=vg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function fm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(br,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await gb(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function __(r,e){r.asyncQueue.verifyOperationInProgress();const n=await L4(r);ce(br,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>f_(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>f_(e.remoteStore,o))),r._onlineComponents=e}async function L4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(br,"Using user provided OfflineComponentProvider");try{await fm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await fm(r,new _h)}}else ce(br,"Using default OfflineComponentProvider"),await fm(r,new k4(void 0));return r._offlineComponents}async function Lb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(br,"Using user provided OnlineComponentProvider"),await __(r,r._uninitializedComponentsProvider._online)):(ce(br,"Using default OnlineComponentProvider"),await __(r,new qm))),r._onlineComponents}function P4(r){return Lb(r).then((e=>e.syncEngine))}async function Hm(r){const e=await Lb(r),n=e.eventManager;return n.onListen=w4.bind(null,e.syncEngine),n.onUnlisten=A4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=S4.bind(null,e.syncEngine),n}function U4(r,e,n,i){const o=new Mb(i),u=new Nb(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>Ab(await Hm(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Sb(await Hm(r),u)))}}function z4(r,e,n={}){const i=new dr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,y,v,p){const w=new Mb({next:N=>{w.Nu(),d.enqueueAndForget((()=>Sb(u,A)));const q=N.docs.has(y);!q&&N.fromCache?p.reject(new oe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&N.fromCache&&v&&v.source==="server"?p.reject(new oe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(N)},error:N=>p.reject(N)}),A=new Nb(Vh(y.path),w,{includeMetadataChanges:!0,Ka:!0});return Ab(u,A)})(await Hm(r),r.asyncQueue,e,n,i))),i.promise}function B4(r,e){const n=new dr;return r.asyncQueue.enqueueAndForget((async()=>N4(await P4(r),e,n))),n.promise}function Pb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const q4="ComponentProvider",b_=new Map;function H4(r,e,n,i,o){return new cS(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Pb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}const Ub="firestore.googleapis.com",x_=!0;class w_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ub,this.ssl=x_}else this.host=e.host,this.ssl=e.ssl??x_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yN)throw new oe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pb(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new qA;switch(i.type){case"firstParty":return new GA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new oe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=b_.get(n);i&&(ce(q4,"Removing Datastore"),b_.delete(n),i.terminate())})(this),Promise.resolve()}}function F4(r,e,n,i={}){r=es(r,Hh);const o=Sl(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${n}`;o&&(c1(`https://${y}`),u1("Firestore",!0)),u.host!==Ub&&u.host!==y&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:y,ssl:o,emulatorOptions:i};if(!la(v,d)&&(r._setSettings(v),i.mockUserToken)){let p,w;if(typeof i.mockUserToken=="string")p=i.mockUserToken,w=cn.MOCK_USER;else{p=d2(i.mockUserToken,r._app?.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new oe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new cn(A)}r._authCredentials=new HA(new E1(p,w))}}class ga{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class wt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(hc(n,wt._jsonSchema))return new wt(e,i||null,new pe(ct.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Bt("string",wt._jsonSchemaVersion),referencePath:Bt("string")};class fr extends ga{constructor(e,n,i){super(e,n,Vh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new pe(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function fi(r,e,...n){if(r=dn(r),A1("collection","path",e),r instanceof Hh){const i=ct.fromString(e,...n);return kv(i),new fr(r,null,i)}{if(!(r instanceof wt||r instanceof fr))throw new oe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ct.fromString(e,...n));return kv(i),new fr(r.firestore,null,i)}}function on(r,e,...n){if(r=dn(r),arguments.length===1&&(e=Zm.newId()),A1("doc","path",e),r instanceof Hh){const i=ct.fromString(e,...n);return Vv(i),new wt(r,null,new pe(i))}{if(!(r instanceof wt||r instanceof fr))throw new oe(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ct.fromString(e,...n));return Vv(i),new wt(r.firestore,r instanceof fr?r.converter:null,new pe(i))}}const T_="AsyncQueue";class E_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yb(this,"async_queue_retry"),this._c=()=>{const i=dm();i&&ce(T_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;ce(T_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,yi("INTERNAL UNHANDLED ERROR: ",A_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=yg.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:A_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function A_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class xr extends Hh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new E_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E_(e),this._firestoreClient=void 0,await e}}}function $4(r,e){const n=typeof r=="object"?r:m1(),i=typeof r=="string"?r:uh,o=Xm(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=u2("firestore");u&&F4(o,...u)}return o}function wg(r){if(r._terminated)throw new oe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||G4(r),r._firestoreClient}function G4(r){const e=r._freezeSettings(),n=H4(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new M4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(sn.fromBase64String(e))}catch(n){throw new oe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Bt("string",Wn._jsonSchemaVersion),bytes:Bt("string")};class Tg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fh{constructor(e){this._methodName=e}}class zs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zs._jsonSchemaVersion}}static fromJSON(e){if(hc(e,zs._jsonSchema))return new zs(e.latitude,e.longitude)}}zs._jsonSchemaVersion="firestore/geoPoint/1.0",zs._jsonSchema={type:Bt("string",zs._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class gs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,gs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gs(e.vectorValues);throw new oe(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gs._jsonSchemaVersion="firestore/vectorValue/1.0",gs._jsonSchema={type:Bt("string",gs._jsonSchemaVersion),vectorValues:Bt("object")};const K4=/^__.*__$/;class Q4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,n,this.fieldTransforms):new fc(e,this.data,n,this.fieldTransforms)}}class zb{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Er(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Bb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:r})}}class Eg{constructor(e,n,i,o,u,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Bb(this.dataSource)&&K4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Y4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||zh(e)}createContext(e,n,i,o=!1){return new Eg({dataSource:e,methodName:n,targetDoc:i,path:nn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $h(r){const e=r._freezeSettings(),n=zh(r._databaseId);return new Y4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function qb(r,e,n,i,o,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Sg("Data must be an object, but it was:",d,i);const y=Hb(i,d);let v,p;if(u.merge)v=new kn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const w=[];for(const A of u.mergeFields){const N=lc(e,A,n);if(!d.contains(N))throw new oe(Y.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Gb(w,N)||w.push(N)}v=new kn(w),p=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,p=d.fieldTransforms;return new Q4(new An(y),v,p)}class Gh extends Fh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}class Ag extends Fh{_toFieldTransform(e){return new LS(e.path,new ic)}isEqual(e){return e instanceof Ag}}function X4(r,e,n,i){const o=r.createContext(1,e,n);Sg("Data must be an object, but it was:",o,i);const u=[],d=An.empty();Tr(i,((v,p)=>{const w=$b(e,v,n);p=dn(p);const A=o.childContextForFieldPath(w);if(p instanceof Gh)u.push(w);else{const N=yc(p,A);N!=null&&(u.push(w),d.set(w,N))}}));const y=new kn(u);return new zb(d,y,o.fieldTransforms)}function J4(r,e,n,i,o,u){const d=r.createContext(1,e,n),y=[lc(e,i,n)],v=[o];if(u.length%2!=0)throw new oe(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)y.push(lc(e,u[N])),v.push(u[N+1]);const p=[],w=An.empty();for(let N=y.length-1;N>=0;--N)if(!Gb(p,y[N])){const q=y[N];let X=v[N];X=dn(X);const J=d.childContextForFieldPath(q);if(X instanceof Gh)p.push(q);else{const ee=yc(X,J);ee!=null&&(p.push(q),w.set(q,ee))}}const A=new kn(p);return new zb(w,A,d.fieldTransforms)}function Z4(r,e,n,i=!1){return yc(n,r.createContext(i?4:3,e))}function yc(r,e){if(Fb(r=dn(r)))return Sg("Unsupported field value:",e,r),Hb(r,e);if(r instanceof Fh)return(function(i,o){if(!Bb(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const u=[];let d=0;for(const y of i){let v=yc(y,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),d++}return{arrayValue:{values:u}}})(r,e)}return(function(i,o){if((i=dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return VS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=dt.fromDate(i);return{timestampValue:ph(o.serializer,u)}}if(i instanceof dt){const u=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ph(o.serializer,u)}}if(i instanceof zs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wn)return{bytesValue:rb(o.serializer,i._byteString)};if(i instanceof wt){const u=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:og(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof gs)return(function(d,y){const v=d instanceof gs?d.toArray():d;return{mapValue:{fields:{[V1]:{stringValue:k1},[hh]:{arrayValue:{values:v.map((w=>{if(typeof w!="number")throw y.createError("VectorValues must only contain numeric values.");return ig(y.serializer,w)}))}}}}}})(i,o);if(db(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ih(i)}`)})(r,e)}function Hb(r,e){const n={};return R1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(r,((i,o)=>{const u=yc(o,e.childContextForField(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function Fb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof dt||r instanceof zs||r instanceof Wn||r instanceof wt||r instanceof Fh||r instanceof gs||db(r))}function Sg(r,e,n){if(!Fb(n)||!S1(n)){const i=Ih(n);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function lc(r,e,n){if((e=dn(e))instanceof Tg)return e._internalPath;if(typeof e=="string")return $b(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const W4=new RegExp("[~\\*/\\[\\]]");function $b(r,e,n){if(e.search(W4)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Tg(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,e,n,i,o){const u=i&&!i.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${i}`),d&&(v+=` in document ${o}`),v+=")"),new oe(Y.INVALID_ARGUMENT,y+r+v)}function Gb(r,e){return r.some((n=>n.isEqual(e)))}class e5{convertValue(e,n="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Tr(e,((o,u)=>{i[o]=this.convertValue(u,n)})),i}convertVectorValue(e){const n=e.fields?.[hh].arrayValue?.values?.map((i=>jt(i.doubleValue)));return new gs(n)}convertGeoPoint(e){return new zs(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Oh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const n=pr(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ct.fromString(e);Xe(hb(i),9688,{name:e});const o=new nc(i.get(1),i.get(3)),u=new pe(i.popFirst(5));return o.isEqual(n)||yi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Kb extends e5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function Uo(){return new Ag("serverTimestamp")}const S_="@firebase/firestore",N_="4.11.0";function R_(r){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of i)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Qb{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(lc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t5 extends Qb{data(){return super.data()}}function n5(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class Yb extends Ng{}function rl(r,e,...n){let i=[];e instanceof Ng&&i.push(e),i=i.concat(n),(function(u){const d=u.filter((v=>v instanceof Cg)).length,y=u.filter((v=>v instanceof Rg)).length;if(d>1||d>0&&y>0)throw new oe(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Rg extends Yb{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Rg(e,n,i)}_apply(e){const n=this._parse(e);return Xb(e._query,n),new ga(e.firestore,e.converter,Om(e._query,n))}_parse(e){const n=$h(e.firestore);return(function(u,d,y,v,p,w,A){let N;if(p.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new oe(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){j_(A,w);const X=[];for(const J of A)X.push(I_(v,u,J));N={arrayValue:{values:X}}}else N=I_(v,u,A)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||j_(A,w),N=Z4(y,d,A,w==="in"||w==="not-in");return zt.create(p,w,N)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Cg extends Ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:ps.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const y=u.getFlattenedFilters();for(const v of y)Xb(d,v),d=Om(d,v)})(e._query,n),new ga(e.firestore,e.converter,Om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends Yb{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Ig(e,n,i)}_apply(e){return new ga(e.firestore,e.converter,mh(e._query,this._limit,this._limitType))}}function C_(r){return Ig._create("limit",r,"F")}function I_(r,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new oe(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H1(e)&&n.indexOf("/")!==-1)throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ct.fromString(n));if(!pe.isDocumentKey(i))throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Hv(r,new pe(i))}if(n instanceof wt)return Hv(r,n._key);throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function j_(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xb(r,e){const n=(function(o,u){for(const d of o)for(const y of d.getFlattenedFilters())if(u.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Jb(r,e,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,i}class Fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends Qb{constructor(e,n,i,o,u,d){super(e,n,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(lc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Bt("string",aa._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class nh extends aa{data(e={}){return super.data(e)}}class pl{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fo(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new nh(this._firestore,this._userDataWriter,i.key,i,new Fo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new nh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Fo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const v=new nh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Fo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,w=-1;return y.type!==0&&(p=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),w=d.indexOf(y.doc.key)),{type:s5(y.type),doc:v,oldIndex:p,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function s5(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:Bt("string",pl._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function i5(r){r=es(r,wt);const e=es(r.firestore,xr),n=wg(e);return z4(n,r._key).then((i=>Wb(e,r,i)))}function Zn(r,e,n){r=es(r,wt);const i=es(r.firestore,xr),o=Jb(r.converter,e,n),u=$h(i);return Kh(i,[qb(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ts.none())])}function r5(r,e,n,...i){r=es(r,wt);const o=es(r.firestore,xr),u=$h(o);let d;return d=typeof(e=dn(e))=="string"||e instanceof Tg?J4(u,"updateDoc",r._key,e,n,i):X4(u,"updateDoc",r._key,e),Kh(o,[d.toMutation(r._key,ts.exists(!0))])}function xh(r){return Kh(es(r.firestore,xr),[new rg(r._key,ts.none())])}function Zb(r,e){const n=es(r.firestore,xr),i=on(r),o=Jb(r.converter,e),u=$h(r.firestore);return Kh(n,[qb(u,"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,ts.exists(!1))]).then((()=>i))}function al(r,...e){r=dn(r);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||R_(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(R_(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let u,d,y;if(r instanceof wt)d=es(r.firestore,xr),y=Vh(r._key.path),u={next:p=>{e[i]&&e[i](Wb(d,r,p))},error:e[i+1],complete:e[i+2]};else{const p=es(r,ga);d=es(p.firestore,xr),y=p._query;const w=new Kb(d);u={next:A=>{e[i]&&e[i](new pl(d,w,p,A))},error:e[i+1],complete:e[i+2]},n5(r._query)}const v=wg(d);return U4(v,y,o,u)}function Kh(r,e){const n=wg(r);return B4(n,e)}function Wb(r,e,n){const i=n.docs.get(e._key),o=new Kb(r);return new aa(r,o,e._key,i,new Fo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){BA(Nl),bl(new oa("firestore",((i,{instanceIdentifier:o,options:u})=>{const d=i.getProvider("app").getImmediate(),y=new xr(new FA(i.getProvider("auth-internal")),new KA(d,i.getProvider("app-check-internal")),uS(d,o),d);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),ur(S_,N_,e),ur(S_,N_,"esm2020")})();function ex(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a5=ex,tx=new cc("auth","Firebase",ex());const wh=new Qm("@firebase/auth");function l5(r,...e){wh.logLevel<=Le.WARN&&wh.warn(`Auth (${Nl}): ${r}`,...e)}function sh(r,...e){wh.logLevel<=Le.ERROR&&wh.error(`Auth (${Nl}): ${r}`,...e)}function _i(r,...e){throw jg(r,...e)}function Bs(r,...e){return jg(r,...e)}function nx(r,e,n){const i={...a5(),[e]:n};return new cc("auth","Firebase",i).create(e,{appName:r.name})}function mr(r){return nx(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jg(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return tx.create(r,...e)}function we(r,e,...n){if(!r)throw jg(e,...n)}function mi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sh(e),new Error(e)}function bi(r,e){r||mi(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function o5(){return D_()==="http:"||D_()==="https:"}function D_(){return typeof self<"u"&&self.location?.protocol||null}function c5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o5()||v2()||"connection"in navigator)?navigator.onLine:!0}function u5(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=g2()||_2()}get(){return c5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dg(r,e){bi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class sx{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const h5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const d5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f5=new vc(3e4,6e4);function Qh(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Dl(r,e,n,i,o={}){return ix(r,o,async()=>{let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});const y=uc({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:v,...u};return y2()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Sl(r.emulatorConfig.host)&&(p.credentials="include"),sx.fetch()(await ax(r,r.config.apiHost,n,y),p)})}async function ix(r,e,n){r._canInitEmulator=!1;const i={...h5,...e};try{const o=new m5(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Yu(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const y=u.ok?d.errorMessage:d.error.message,[v,p]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Yu(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Yu(r,"user-disabled",d);const w=i[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw nx(r,w,p);_i(r,w)}}catch(o){if(o instanceof xi)throw o;_i(r,"network-request-failed",{message:String(o)})}}async function rx(r,e,n,i,o={}){const u=await Dl(r,e,n,i,o);return"mfaPendingCredential"in u&&_i(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function ax(r,e,n,i){const o=`${e}${n}?${i}`,u=r,d=u.config.emulator?Dg(r.config,o):`${r.config.apiScheme}://${o}`;return d5.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class m5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Bs(this.auth,"network-request-failed")),f5.get())})}}function Yu(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Bs(r,e,i);return o.customData._tokenResponse=n,o}async function g5(r,e){return Dl(r,"POST","/v1/accounts:delete",e)}async function Th(r,e){return Dl(r,"POST","/v1/accounts:lookup",e)}function Jo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p5(r,e=!1){const n=dn(r),i=await n.getIdToken(e),o=Og(i);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:i,authTime:Jo(mm(o.auth_time)),issuedAtTime:Jo(mm(o.iat)),expirationTime:Jo(mm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function mm(r){return Number(r)*1e3}function Og(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=r1(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function O_(r){const e=Og(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function oc(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof xi&&y5(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function y5({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class v5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jo(this.lastLoginAt),this.creationTime=Jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eh(r){const e=r.auth,n=await r.getIdToken(),i=await oc(r,Th(e,{idToken:n}));we(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?lx(o.providerUserInfo):[],d=b5(r.providerData,u),y=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,p=y?v:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,w)}async function _5(r){const e=dn(r);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b5(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function lx(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function x5(r,e){const n=await ix(r,{},async()=>{const i=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await ax(r,o,"/v1/token",`key=${u}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:i};return r.emulatorConfig&&Sl(r.emulatorConfig.host)&&(v.credentials="include"),sx.fetch()(d,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w5(r,e){return Dl(r,"POST","/v2/accounts:revokeToken",Qh(r,e))}class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=O_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await x5(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,d=new yl;return i&&(we(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(we(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return mi("not implemented")}}function nr(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ms{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new v5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await oc(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return p5(this,e)}reload(){return _5(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await oc(this,g5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,y=n.tenantId??void 0,v=n._redirectEventId??void 0,p=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:q,providerData:X,stsTokenManager:J}=n;we(A&&J,e,"internal-error");const ee=yl.fromJSON(this.name,J);we(typeof A=="string",e,"internal-error"),nr(i,e.name),nr(o,e.name),we(typeof N=="boolean",e,"internal-error"),we(typeof q=="boolean",e,"internal-error"),nr(u,e.name),nr(d,e.name),nr(y,e.name),nr(v,e.name),nr(p,e.name),nr(w,e.name);const ae=new ms({uid:A,auth:e,email:o,emailVerified:N,displayName:i,isAnonymous:q,photoURL:d,phoneNumber:u,tenantId:y,stsTokenManager:ee,createdAt:p,lastLoginAt:w});return X&&Array.isArray(X)&&(ae.providerData=X.map(te=>({...te}))),v&&(ae._redirectEventId=v),ae}static async _fromIdTokenResponse(e,n,i=!1){const o=new yl;o.updateFromServerResponse(n);const u=new ms({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?lx(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,y=new yl;y.updateFromIdToken(i);const v=new ms({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(v,p),v}}const V_=new Map;function gi(r){bi(r instanceof Function,"Expected a class definition");let e=V_.get(r);return e?(bi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,V_.set(r,e),e)}class ox{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ox.type="NONE";const k_=ox;function ih(r,e,n){return`firebase:${r}:${e}:${n}`}class vl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Th(this.auth,{idToken:e}).catch(()=>{});return n?ms._fromGetAccountInfoResponse(this.auth,n,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new vl(gi(k_),e,i);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||gi(k_);const d=ih(i,e.config.apiKey,e.name);let y=null;for(const p of n)try{const w=await p._get(d);if(w){let A;if(typeof w=="string"){const N=await Th(e,{idToken:w}).catch(()=>{});if(!N)break;A=await ms._fromGetAccountInfoResponse(e,N,w)}else A=ms._fromJSON(e,w);p!==u&&(y=A),u=p;break}}catch{}const v=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new vl(u,e,i):(u=v[0],y&&await u._set(d,y.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new vl(u,e,i))}}function M_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mx(e))return"Blackberry";if(gx(e))return"Webos";if(ux(e))return"Safari";if((e.includes("chrome/")||hx(e))&&!e.includes("edge/"))return"Chrome";if(fx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function cx(r=hn()){return/firefox\//i.test(r)}function ux(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hx(r=hn()){return/crios\//i.test(r)}function dx(r=hn()){return/iemobile/i.test(r)}function fx(r=hn()){return/android/i.test(r)}function mx(r=hn()){return/blackberry/i.test(r)}function gx(r=hn()){return/webos/i.test(r)}function Vg(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function T5(r=hn()){return Vg(r)&&!!window.navigator?.standalone}function E5(){return b2()&&document.documentMode===10}function px(r=hn()){return Vg(r)||fx(r)||gx(r)||mx(r)||/windows phone/i.test(r)||dx(r)}function yx(r,e=[]){let n;switch(r){case"Browser":n=M_(hn());break;case"Worker":n=`${M_(hn())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nl}/${i}`}class A5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((d,y)=>{try{const v=e(u);d(v)}catch(v){y(v)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function S5(r,e={}){return Dl(r,"GET","/v2/passwordPolicy",Qh(r,e))}const N5=6;class R5{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??N5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class C5{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new A5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Th(this,{idToken:e}),i=await ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=i?._redirectEventId,y=await this.tryRedirectSignIn(e);(!u||u===d)&&y?.user&&(i=y.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(mr(this));const n=e?dn(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S5(this),n=new R5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await w5(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(y,this,"internal-error"),y.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const v=e.addObserver(n,i,o);return()=>{d=!0,v()}}else{const v=e.addObserver(n);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&l5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yh(r){return dn(r)}class L_{constructor(e){this.auth=e,this.observer=null,this.addObserver=R2(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I5(r){kg=r}function j5(r){return kg.loadJS(r)}function D5(){return kg.gapiScript}function O5(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function V5(r,e){const n=Xm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(la(u,e??{}))return o;_i(o,"already-initialized")}return n.initialize({options:e})}function k5(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(gi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function M5(r,e,n){const i=Yh(r);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=vx(e),{host:d,port:y}=L5(e),v=y===null?"":`:${y}`,p={url:`${u}//${d}${v}/`},w=Object.freeze({host:d,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(la(p,i.config.emulator)&&la(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,Sl(d)?(c1(`${u}//${d}${v}`),u1("Auth",!0)):P5()}function vx(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function L5(r){const e=vx(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:P_(i.substr(u.length+1))}}else{const[u,d]=i.split(":");return{host:u,port:P_(d)}}}function P_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function P5(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class _x{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function _l(r,e){return rx(r,"POST","/v1/accounts:signInWithIdp",Qh(r,e))}const U5="http://localhost";class da extends _x{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const d=new da(i,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,_l(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:U5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uc(n)}return e}}class bx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _c extends bx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends _c{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class ir extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ir.credential(n,i)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class rr extends _c{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends _c{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ar.credential(n,i)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";async function z5(r,e){return rx(r,"POST","/v1/accounts:signUp",Qh(r,e))}class wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await ms._fromIdTokenResponse(e,i,o),d=U_(i);return new wr({user:u,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=U_(i);return new wr({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function U_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function B5(r){if(fs(r.app))return Promise.reject(mr(r));const e=Yh(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new wr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await z5(e,{returnSecureToken:!0}),i=await wr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(i.user),i}class Ah extends xi{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Ah(e,n,i,o)}}function xx(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,u,e,i):u})}async function q5(r,e,n=!1){const i=await oc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return wr._forOperation(r,"link",i)}async function H5(r,e,n=!1){const{auth:i}=r;if(fs(i.app))return Promise.reject(mr(i));const o="reauthenticate";try{const u=await oc(r,xx(i,o,e,r),n);we(u.idToken,i,"internal-error");const d=Og(u.idToken);we(d,i,"internal-error");const{sub:y}=d;return we(r.uid===y,i,"user-mismatch"),wr._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&_i(i,"user-mismatch"),u}}async function F5(r,e,n=!1){if(fs(r.app))return Promise.reject(mr(r));const i="signIn",o=await xx(r,i,e),u=await wr._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(u.user),u}function $5(r,e,n,i){return dn(r).onIdTokenChanged(e,n,i)}function G5(r,e,n){return dn(r).beforeAuthStateChanged(e,n)}const Sh="__sak";class wx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const K5=1e3,Q5=10;class Tx extends wx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=px(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},u=this.storage.getItem(i);E5()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Q5):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},K5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tx.type="LOCAL";const Y5=Tx;class Ex extends wx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ex.type="SESSION";const Ax=Ex;function X5(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Xh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const y=Array.from(d).map(async p=>p(n.origin,u)),v=await X5(y);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:v})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];function Mg(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class J5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((y,v)=>{const p=Mg("",20);o.port1.start();const w=setTimeout(()=>{v(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(A){const N=A;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(N.data.response);break;default:clearTimeout(w),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qs(){return window}function Z5(r){qs().location.href=r}function Sx(){return typeof qs().WorkerGlobalScope<"u"&&typeof qs().importScripts=="function"}async function W5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eR(){return navigator?.serviceWorker?.controller||null}function tR(){return Sx()?self:null}const Nx="firebaseLocalStorageDb",nR=1,Nh="firebaseLocalStorage",Rx="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(r,e){return r.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function sR(){const r=indexedDB.deleteDatabase(Nx);return new bc(r).toPromise()}function Gm(){const r=indexedDB.open(Nx,nR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Nh,{keyPath:Rx})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Nh)?e(i):(i.close(),await sR(),e(await Gm()))})})}async function z_(r,e,n){const i=Jh(r,!0).put({[Rx]:e,value:n});return new bc(i).toPromise()}async function iR(r,e){const n=Jh(r,!1).get(e),i=await new bc(n).toPromise();return i===void 0?null:i.value}function B_(r,e){const n=Jh(r,!0).delete(e);return new bc(n).toPromise()}const rR=800,aR=3;class Cx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>aR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(tR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await W5(),!this.activeServiceWorker)return;this.sender=new J5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await z_(e,Sh,"1"),await B_(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>z_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>iR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new bc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cx.type="LOCAL";const lR=Cx;new vc(3e4,6e4);function oR(r,e){return e?gi(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Lg extends _x{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cR(r){return F5(r.auth,new Lg(r),r.bypassAuthState)}function uR(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),H5(n,new Lg(r),r.bypassAuthState)}async function hR(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),q5(n,new Lg(r),r.bypassAuthState)}class Ix{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cR;case"linkViaPopup":case"linkViaRedirect":return hR;case"reauthViaPopup":case"reauthViaRedirect":return uR;default:_i(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dR=new vc(2e3,1e4);class dl extends Ix{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dR.get())};e()}}dl.currentPopupAction=null;const fR="pendingRedirect",rh=new Map;class mR extends Ix{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const i=await gR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gR(r,e){const n=vR(e),i=yR(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function pR(r,e){rh.set(r._key(),e)}function yR(r){return gi(r._redirectPersistence)}function vR(r){return ih(fR,r.config.apiKey,r.name)}async function _R(r,e,n=!1){if(fs(r.app))return Promise.reject(mr(r));const i=Yh(r),o=oR(i,e),d=await new mR(i,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}const bR=600*1e3;class xR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!jx(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bR&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(e))}saveEventToCache(e){this.cachedEventUids.add(q_(e)),this.lastProcessedEventTime=Date.now()}}function q_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function jx({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function wR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jx(r);default:return!1}}async function TR(r,e={}){return Dl(r,"GET","/v1/projects",e)}const ER=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AR=/^https?/;async function SR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TR(r);for(const n of e)try{if(NR(n))return}catch{}_i(r,"unauthorized-domain")}function NR(r){const e=Fm(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!AR.test(n))return!1;if(ER.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const RR=new vc(3e4,6e4);function H_(){const r=qs().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function CR(r){return new Promise((e,n)=>{function i(){H_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H_(),n(Bs(r,"network-request-failed"))},timeout:RR.get()})}if(qs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qs().gapi?.load)i();else{const o=O5("iframefcb");return qs()[o]=()=>{gapi.load?i():n(Bs(r,"network-request-failed"))},j5(`${D5()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ah=null,e})}let ah=null;function IR(r){return ah=ah||CR(r),ah}const jR=new vc(5e3,15e3),DR="__/auth/iframe",OR="emulator/auth/iframe",VR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MR(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Dg(e,OR):`https://${r.config.authDomain}/${DR}`,i={apiKey:e.apiKey,appName:r.name,v:Nl},o=kR.get(r.config.apiHost);o&&(i.eid=o);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${uc(i).slice(1)}`}async function LR(r){const e=await IR(r),n=qs().gapi;return we(n,r,"internal-error"),e.open({where:document.body,url:MR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VR,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const d=Bs(r,"network-request-failed"),y=qs().setTimeout(()=>{u(d)},jR.get());function v(){qs().clearTimeout(y),o(i)}i.ping(v).then(v,()=>{u(d)})}))}const PR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UR=500,zR=600,BR="_blank",qR="http://localhost";class F_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HR(r,e,n,i=UR,o=zR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let y="";const v={...PR,width:i.toString(),height:o.toString(),top:u,left:d},p=hn().toLowerCase();n&&(y=hx(p)?BR:n),cx(p)&&(e=e||qR,v.scrollbars="yes");const w=Object.entries(v).reduce((N,[q,X])=>`${N}${q}=${X},`,"");if(T5(p)&&y!=="_self")return FR(e||"",y),new F_(null);const A=window.open(e||"",y,w);we(A,r,"popup-blocked");try{A.focus()}catch{}return new F_(A)}function FR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const $R="__/auth/handler",GR="emulator/auth/handler",KR=encodeURIComponent("fac");async function $_(r,e,n,i,o,u){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:Nl,eventId:o};if(e instanceof bx){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",N2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,A]of Object.entries({}))d[w]=A}if(e instanceof _c){const w=e.getScopes().filter(A=>A!=="");w.length>0&&(d.scopes=w.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const w of Object.keys(y))y[w]===void 0&&delete y[w];const v=await r._getAppCheckToken(),p=v?`#${KR}=${encodeURIComponent(v)}`:"";return`${QR(r)}?${uc(y).slice(1)}${p}`}function QR({config:r}){return r.emulator?Dg(r,GR):`https://${r.authDomain}/${$R}`}const gm="webStorageSupport";class YR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ax,this._completeRedirectFn=_R,this._overrideRedirectResult=pR}async _openPopup(e,n,i,o){bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await $_(e,n,i,Fm(),o);return HR(e,u,Mg())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await $_(e,n,i,Fm(),o);return Z5(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bi(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await LR(e),i=new xR(e);return n.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},o=>{const u=o?.[0]?.[gm];u!==void 0&&n(!!u),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return px()||ux()||Vg()}}const XR=YR;var G_="@firebase/auth",K_="1.12.0";class JR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WR(r){bl(new oa("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=i.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const v={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yx(r)},p=new C5(i,o,u,v);return k5(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),bl(new oa("auth-internal",e=>{const n=Yh(e.getProvider("auth").getImmediate());return(i=>new JR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(G_,K_,ZR(r)),ur(G_,K_,"esm2020")}const eC=300,tC=o1("authIdTokenMaxAge")||eC;let Q_=null;const nC=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>tC)return;const o=n?.token;Q_!==o&&(Q_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sC(r=m1()){const e=Xm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=V5(r,{popupRedirectResolver:XR,persistence:[lR,Y5,Ax]}),i=o1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const d=nC(u.toString());G5(n,d,()=>d(n.currentUser)),$5(n,y=>d(y))}}const o=a1("auth");return o&&M5(n,`http://${o}`),n}function iC(){return document.getElementsByTagName("head")?.[0]??document}I5({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const u=Bs("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",iC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WR("Browser");const rC={apiKey:"AIzaSyBT93hmr81TT_-KltaYxcYwms_xKxg3c1I",authDomain:"medivend-a3d51.firebaseapp.com",projectId:"medivend-a3d51",storageBucket:"medivend-a3d51.firebasestorage.app",messagingSenderId:"743343498567",appId:"1:743343498567:web:2d50fb42346f31350d1862"},Dx=f1(rC),Ct=$4(Dx),aC=sC(Dx),It="medivend-local",pm={username:"admin",password:"admin123",email:"admin@medivend.com",displayName:"System Administrator",photoUrl:"image_3f1ac4.png"};function na({id:r,label:e,icon:n,active:i,onClick:o,badge:u,isDarkMode:d}){return m.jsxs("button",{onClick:()=>o(r),className:`flex w-full items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 group relative ${i?"bg-indigo-500/10 text-indigo-500 shadow-sm ring-1 ring-indigo-500/20":d?"text-slate-400 hover:bg-white/5 hover:text-white":"text-slate-500 hover:bg-gray-100 hover:text-slate-900"}`,children:[i&&m.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-indigo-500 rounded-r-full shadow-[0_0_10px_2px_rgba(99,102,241,0.5)]"}),m.jsxs("div",{className:"flex items-center gap-3",children:[fT.cloneElement(n,{className:`w-5 h-5 transition-colors ${i?"text-indigo-500":d?"group-hover:text-white":"group-hover:text-slate-900"}`}),m.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:e})]}),u?m.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full text-white bg-indigo-600",children:u}):null,i&&m.jsx(Z_,{className:"w-4 h-4 ml-auto opacity-50 text-indigo-500"})]})}function Xu({title:r,value:e,icon:n,color:i,subtext:o,onClick:u,isDarkMode:d}){const y={amber:"bg-amber-500/10 text-amber-500",blue:"bg-blue-500/10 text-blue-500",emerald:"bg-emerald-500/10 text-emerald-500",red:"bg-rose-500/10 text-rose-500"};return m.jsxs("div",{onClick:u,className:`p-3 rounded-xl border shadow-sm transition-all cursor-pointer group relative overflow-hidden flex flex-col justify-between h-32 sm:h-36 md:h-40 lg:h-44 ${d?"bg-white/5 border-white/5 hover:bg-white/10":"bg-white border-gray-200 hover:shadow-md"}`,children:[m.jsx("div",{className:"flex justify-between items-start mb-2",children:m.jsx("div",{className:`p-2 rounded-lg ${y[i]}`,children:n})}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("h4",{className:`text-lg font-bold ${d?"text-white":"text-slate-900"}`,children:e}),m.jsx("p",{className:`text-sm font-bold tracking-tight mt-1 whitespace-normal leading-tight ${d?"text-slate-300":"text-slate-600"}`,children:r}),o&&m.jsx("p",{className:"text-[10px] text-slate-500 mt-1 truncate",children:o})]})]})}function Y_({status:r}){const e={active:"bg-emerald-500/10 text-emerald-500",pending:"bg-amber-500/10 text-amber-500",rejected:"bg-rose-500/10 text-rose-500"}[r];return m.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide ${e}`,children:r})}function X_({status:r}){const e={issued:"bg-emerald-500/10 text-emerald-500",partial:"bg-amber-500/10 text-amber-500",completed:"bg-white/10 text-slate-400"}[r]||"bg-white/5";return m.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wide ${e}`,children:r})}function ym({onClick:r,label:e,icon:n,variant:i,isDarkMode:o}){const u=i==="primary"?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-500/20":o?"bg-white/5 border border-white/10 text-slate-300 hover:bg-white/10":"bg-white border border-gray-200 text-slate-600 hover:bg-gray-50";return m.jsxs("button",{onClick:r,className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide shadow-sm transition-all ${u}`,children:[n,e]})}function Ol({currentPage:r,totalPages:e,onPageChange:n,isDarkMode:i}){return e<=1?null:m.jsxs("div",{className:`flex justify-between items-center p-4 border-t ${i?"border-white/10":"border-gray-200"}`,children:[m.jsxs("span",{className:`text-xs ${i?"text-slate-500":"text-slate-400"}`,children:["Page ",r," of ",e]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{disabled:r===1,onClick:()=>n(r-1),className:`px-3 py-1 text-xs font-bold rounded flex items-center gap-1 ${i?"bg-white/5 hover:bg-white/10 text-white disabled:opacity-30":"bg-gray-100 hover:bg-gray-200 text-slate-700 disabled:opacity-30"}`,children:[m.jsx(DT,{className:"w-3 h-3"})," Prev"]}),m.jsxs("button",{disabled:r===e,onClick:()=>n(r+1),className:`px-3 py-1 text-xs font-bold rounded flex items-center gap-1 ${i?"bg-white/5 hover:bg-white/10 text-white disabled:opacity-30":"bg-gray-100 hover:bg-gray-200 text-slate-700 disabled:opacity-30"}`,children:["Next ",m.jsx(Z_,{className:"w-3 h-3"})]})]})]})}function Vl({children:r,isDarkMode:e}){const[n,i]=de.useState(!1);return m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:o=>{o.stopPropagation(),i(!n)},className:`p-1.5 rounded-full transition-colors ${e?"text-slate-400 hover:bg-white/10":"text-slate-500 hover:bg-gray-100"}`,children:m.jsx(GT,{className:"w-5 h-5"})}),n&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:o=>{o.stopPropagation(),i(!1)}}),m.jsx("div",{className:`absolute right-0 top-8 w-48 rounded-xl shadow-xl border z-20 flex flex-col p-1.5 gap-1 animate-in fade-in zoom-in-95 duration-100 ${e?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:r})]})]})}function lC({onClose:r,currentCreds:e,onUpdate:n,isDarkMode:i}){const[o,u]=de.useState({cur:"",new:"",conf:""});return m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:m.jsxs("div",{className:`p-6 rounded-xl w-full max-w-sm shadow-2xl border ${i?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:[m.jsx("h3",{className:`font-bold text-lg mb-4 ${i?"text-white":"text-slate-900"}`,children:"Change Password"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("input",{type:"password",placeholder:"Current",className:`w-full border p-2 rounded-lg text-sm ${i?"border-white/10 bg-[#0B0F19] text-white":"border-gray-200 bg-gray-50 text-slate-900"}`,value:o.cur,onChange:d=>u({...o,cur:d.target.value})}),m.jsx("input",{type:"password",placeholder:"New",className:`w-full border p-2 rounded-lg text-sm ${i?"border-white/10 bg-[#0B0F19] text-white":"border-gray-200 bg-gray-50 text-slate-900"}`,value:o.new,onChange:d=>u({...o,new:d.target.value})}),m.jsx("input",{type:"password",placeholder:"Confirm",className:`w-full border p-2 rounded-lg text-sm ${i?"border-white/10 bg-[#0B0F19] text-white":"border-gray-200 bg-gray-50 text-slate-900"}`,value:o.conf,onChange:d=>u({...o,conf:d.target.value})})]}),m.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[m.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-bold text-slate-400 hover:text-slate-500",children:"Cancel"}),m.jsx("button",{onClick:()=>{if(o.cur!==e.password)return alert("Wrong password");if(o.new!==o.conf)return alert("Mismatch");n(o.new)},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-xs font-bold hover:bg-indigo-700",children:"Update"})]})]})})}function oC({onClose:r,onSend:e,isDarkMode:n}){const[i,o]=de.useState(""),[u,d]=de.useState("normal"),[y,v]=de.useState("all");return m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:m.jsxs("div",{className:`w-full max-w-md p-6 rounded-2xl shadow-2xl border ${n?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${n?"text-white":"text-slate-900"}`,children:[m.jsx(e1,{className:"w-5 h-5 text-indigo-500"}),"System Broadcast"]}),m.jsx("button",{onClick:r,className:`p-1 rounded-full ${n?"hover:bg-white/10 text-slate-400":"hover:bg-gray-100 text-slate-500"}`,children:m.jsx(Zo,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-slate-500 mb-1.5 block",children:"Message Content"}),m.jsx("textarea",{autoFocus:!0,rows:"3",className:`w-full p-3 rounded-xl border text-sm focus:ring-2 focus:ring-indigo-500/50 outline-none resize-none ${n?"bg-[#0B0F19] border-white/10 text-white":"bg-gray-50 border-gray-200 text-slate-900"}`,placeholder:"e.g., Server maintenance scheduled for Sunday at 12 PM...",value:i,onChange:p=>o(p.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-slate-500 mb-1.5 block",children:"Target Audience"}),m.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.jsxs("button",{onClick:()=>v("all"),className:`flex flex-col items-center justify-center py-3 rounded-lg border transition-all ${y==="all"?"bg-indigo-600 text-white border-indigo-600 ring-2 ring-indigo-500/30":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:[m.jsx(nE,{className:"w-4 h-4 mb-1"}),m.jsx("span",{className:"text-[10px] font-bold uppercase",children:"All Network"})]}),m.jsxs("button",{onClick:()=>v("doctors"),className:`flex flex-col items-center justify-center py-3 rounded-lg border transition-all ${y==="doctors"?"bg-blue-600 text-white border-blue-600 ring-2 ring-blue-500/30":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:[m.jsx(ll,{className:"w-4 h-4 mb-1"}),m.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Doctors"})]}),m.jsxs("button",{onClick:()=>v("kiosks"),className:`flex flex-col items-center justify-center py-3 rounded-lg border transition-all ${y==="kiosks"?"bg-emerald-600 text-white border-emerald-600 ring-2 ring-emerald-500/30":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:[m.jsx(zo,{className:"w-4 h-4 mb-1"}),m.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Kiosks"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold uppercase tracking-wide text-slate-500 mb-1.5 block",children:"Priority Level"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>d("normal"),className:`flex-1 py-2 rounded-lg text-xs font-bold border transition-colors ${u==="normal"?"bg-slate-600 text-white border-slate-600":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:"Normal Info"}),m.jsx("button",{onClick:()=>d("high"),className:`flex-1 py-2 rounded-lg text-xs font-bold border transition-colors ${u==="high"?"bg-rose-500 text-white border-rose-500 shadow-lg shadow-rose-500/20":n?"border-white/10 text-slate-400 hover:bg-white/5":"border-gray-200 text-slate-600 hover:bg-gray-50"}`,children:"High Priority Alert"})]})]})]}),m.jsxs("div",{className:"mt-6 flex justify-end gap-3 pt-4 border-t border-white/5",children:[m.jsx("button",{onClick:r,className:`px-4 py-2 rounded-lg text-sm font-bold ${n?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:"Cancel"}),m.jsxs("button",{onClick:()=>{i.trim()&&e(i,u,y)},disabled:!i.trim(),className:"flex items-center gap-2 px-6 py-2 rounded-lg text-sm font-bold bg-indigo-600 hover:bg-indigo-700 text-white disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-500/20 transition-transform active:scale-95",children:[m.jsx(ME,{className:"w-3.5 h-3.5"}),"Send Broadcast"]})]})]})})}function cC({transactions:r,isDarkMode:e}){const n={};r&&r.length>0&&r.forEach(u=>{const d=u.items||[];d.length>0&&d.forEach(y=>{const v=y.name||y.medicine||"Unknown",p=Number(y.qty||y.quantity||1);n[v]=(n[v]||0)+p})});const i=Object.entries(n).sort((u,d)=>d[1]-u[1]).slice(0,5),o=Math.max(...i.map(u=>u[1]),1);return m.jsxs("div",{className:"space-y-4",children:[i.map(([u,d],y)=>m.jsxs("div",{className:"group",children:[m.jsxs("div",{className:"flex justify-between text-xs mb-1.5 font-bold uppercase tracking-wide",children:[m.jsx("span",{className:e?"text-slate-300":"text-slate-700",children:u}),m.jsxs("span",{className:"text-indigo-500",children:[d," dispensed"]})]}),m.jsx("div",{className:`w-full h-3 rounded-full overflow-hidden ${e?"bg-white/5":"bg-gray-100"}`,children:m.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${d/o*100}%`}})})]},y)),i.length===0&&m.jsx("p",{className:"text-slate-500 text-sm italic",children:"Not enough data to display analytics."})]})}function uC({medicines:r,db:e,appId:n,isDarkMode:i}){const[o,u]=de.useState({name:"",generic:"",stock:0,price:0}),[d,y]=de.useState(!1),[v,p]=de.useState(1),w=10,A=Math.ceil(r.length/w),N=r.slice((v-1)*w,v*w),q=async J=>{J.preventDefault();try{await Zb(fi(e,"artifacts",n,"public","data","medicines"),o),y(!1),u({name:"",generic:"",stock:0,price:0}),alert("Medicine added to Master Database. Live on all kiosks.")}catch(ee){alert(ee.message)}},X=async J=>{window.confirm("Delete this medicine from Master Database?")&&await xh(on(e,"artifacts",n,"public","data","medicines",J))};return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${i?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-bold text-base ${i?"text-white":"text-slate-900"}`,children:"Master Medicine Database"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Global inventory. Updates push to all doctors immediately."})]}),m.jsx("button",{onClick:()=>y(!d),className:"px-4 py-2 bg-indigo-600 text-white text-xs font-bold rounded-lg hover:bg-indigo-700",children:d?"Cancel":"+ Add New Medicine"})]}),d&&m.jsxs("form",{onSubmit:q,className:`p-5 border-b grid grid-cols-1 md:grid-cols-5 gap-3 ${i?"bg-indigo-900/10 border-indigo-500/20":"bg-indigo-50 border-indigo-100"}`,children:[m.jsx("input",{placeholder:"Brand Name",required:!0,className:`p-2 rounded border text-sm ${i?"bg-white/10 border-white/10 text-white":"bg-white"}`,value:o.name,onChange:J=>u({...o,name:J.target.value})}),m.jsx("input",{placeholder:"Generic Name",required:!0,className:`p-2 rounded border text-sm ${i?"bg-white/10 border-white/10 text-white":"bg-white"}`,value:o.generic,onChange:J=>u({...o,generic:J.target.value})}),m.jsx("input",{type:"number",placeholder:"Stock",required:!0,className:`p-2 rounded border text-sm ${i?"bg-white/10 border-white/10 text-white":"bg-white"}`,value:o.stock,onChange:J=>u({...o,stock:parseInt(J.target.value)})}),m.jsx("input",{type:"number",placeholder:"Price (PHP)",required:!0,className:`p-2 rounded border text-sm ${i?"bg-white/10 border-white/10 text-white":"bg-white"}`,value:o.price,onChange:J=>u({...o,price:parseFloat(J.target.value)})}),m.jsx("button",{type:"submit",className:"bg-emerald-500 text-white font-bold rounded p-2 text-sm",children:"Save to DB"})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:N.length===0?m.jsx("div",{className:"p-8 text-center text-xs text-slate-500 italic",children:"No medicines in database."}):N.map(J=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-2 ${i?"bg-transparent":"bg-white"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Vl,{isDarkMode:i,children:m.jsxs("button",{onClick:()=>X(J.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(pn,{className:"w-3.5 h-3.5"})," Delete Item"]})})}),m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:J.name}),m.jsx("p",{className:"text-xs text-slate-400 italic",children:J.generic})]}),m.jsxs("div",{className:"flex gap-4 mt-1",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Stock"}),m.jsx("span",{className:`text-xs font-mono ${i?"text-white":"text-slate-900"}`,children:J.stock})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Price"}),m.jsxs("span",{className:"text-xs font-bold text-emerald-500",children:["",J.price]})]})]})]},J.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:`text-xs uppercase text-slate-400 ${i?"bg-white/5":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Name"}),m.jsx("th",{className:"px-6 py-3",children:"Generic"}),m.jsx("th",{className:"px-6 py-3",children:"Global Stock"}),m.jsx("th",{className:"px-6 py-3",children:"Price"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-gray-100"}`,children:N.map(J=>m.jsxs("tr",{className:i?"hover:bg-white/5":"hover:bg-gray-50",children:[m.jsx("td",{className:`px-6 py-3 font-bold ${i?"text-white":"text-slate-900"}`,children:J.name}),m.jsx("td",{className:"px-6 py-3 text-slate-400",children:J.generic}),m.jsx("td",{className:"px-6 py-3",children:m.jsx("span",{className:"bg-white/10 px-2 py-1 rounded text-xs font-mono",children:J.stock})}),m.jsxs("td",{className:"px-6 py-3 text-emerald-500 font-bold",children:["",J.price]}),m.jsx("td",{className:"px-6 py-3 text-right",children:m.jsx("button",{onClick:()=>X(J.id),className:"text-rose-500 hover:text-rose-400",children:m.jsx(pn,{className:"w-4 h-4"})})})]},J.id))})]})}),m.jsx(Ol,{currentPage:v,totalPages:A,onPageChange:p,isDarkMode:i})]})}function hC({tickets:r,db:e,appId:n,isDarkMode:i,onHide:o}){const[u,d]=de.useState("all"),[y,v]=de.useState(1),p=10,[w,A]=de.useState([]),N=async(te,le)=>{try{await Zn(on(e,"artifacts",n,"public","data","support_tickets",te.id),{...te,status:le},{merge:!0})}catch(be){console.error("Ticket update failed:",be),alert("Failed to update status. Check console.")}},q=async te=>{if(window.confirm("Are you sure you want to delete this ticket?")){A(le=>[...le,te]);try{await xh(on(e,"artifacts",n,"public","data","support_tickets",te))}catch(le){console.error("Delete failed (likely mock data):",le)}}},J=r.filter(te=>!w.includes(te.id)).filter(te=>u==="all"?!0:te.status===u),ee=Math.ceil(J.length/p),ae=J.slice((y-1)*p,y*p);return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`p-5 border-b flex flex-col md:flex-row justify-between items-center gap-4 ${i?"border-white/5":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-bold text-base ${i?"text-white":"text-slate-900"}`,children:"Support Ticketing System"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Manage doctor issues and automated kiosk alerts."})]}),m.jsx("div",{className:"flex gap-2 bg-white/5 p-1 rounded-lg",children:["all","open","in_progress","resolved"].map(te=>m.jsx("button",{onClick:()=>d(te),className:`px-3 py-1.5 rounded-md text-xs font-bold uppercase tracking-wide transition-all ${u===te?"bg-indigo-600 text-white shadow":"text-slate-400 hover:text-white"}`,children:te.replace("_"," ")},te))})]}),m.jsx("div",{className:"divide-y divide-white/5",children:ae.length===0?m.jsx("div",{className:"p-8 text-center text-slate-500 italic",children:"No tickets found."}):ae.map(te=>m.jsxs("div",{className:`p-4 flex flex-col md:flex-row justify-between items-start gap-4 ${i?"hover:bg-white/5":"hover:bg-gray-50"} ${te.priority==="high"?"bg-rose-900/10 border-l-2 border-rose-500":""}`,children:[m.jsxs("div",{className:"flex gap-4 items-start w-full relative",children:[m.jsx("div",{className:"absolute top-0 right-0 md:hidden z-20",children:m.jsxs(Vl,{isDarkMode:i,children:[te.status==="open"&&m.jsx("button",{onClick:()=>N(te,"in_progress"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-indigo-500 hover:bg-indigo-500/10",children:"Mark In Progress"}),te.status!=="resolved"&&m.jsx("button",{onClick:()=>N(te,"resolved"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-500 hover:bg-emerald-500/10",children:"Mark Resolved"}),m.jsxs("button",{onClick:()=>q(te.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(pn,{className:"w-3.5 h-3.5"})," Delete Ticket"]})]})}),m.jsx("div",{className:`p-3 rounded-full flex-shrink-0 ${te.priority==="high"?"bg-rose-500/20 text-rose-500":"bg-indigo-500/10 text-indigo-500"}`,children:te.type==="kiosk_alert"?m.jsx(kT,{className:"w-5 h-5"}):m.jsx(yE,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex-1 pr-8 md:pr-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[m.jsx("h4",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:te.subject}),te.priority==="high"&&m.jsx("span",{className:"text-[10px] font-bold bg-rose-500 text-white px-2 py-0.5 rounded-full uppercase",children:"High Priority"}),m.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded-full ${te.status==="open"?"bg-amber-500/10 text-amber-500":te.status==="resolved"?"bg-emerald-500/10 text-emerald-500":"bg-blue-500/10 text-blue-500"}`,children:te.status.replace("_"," ")})]}),m.jsx("p",{className:"text-xs text-slate-400 break-words",children:te.message}),m.jsxs("div",{className:"flex gap-3 mt-2 text-[10px] text-slate-500",children:[m.jsxs("span",{children:["From: ",m.jsx("span",{className:"font-bold text-slate-400",children:te.sender})]}),m.jsx("span",{children:""}),m.jsx("span",{children:te.timestamp?.seconds?new Date(te.timestamp.seconds*1e3).toLocaleString():"Just now"})]})]})]}),m.jsxs("div",{className:"hidden md:flex gap-2 self-center",children:[te.status==="open"&&m.jsx("button",{onClick:()=>N(te,"in_progress"),className:"px-3 py-1.5 border border-indigo-500/30 text-indigo-500 hover:bg-indigo-500/10 rounded-lg text-xs font-bold transition-colors",children:"Mark In Progress"}),te.status!=="resolved"&&m.jsxs("button",{onClick:()=>N(te,"resolved"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-xs font-bold shadow transition-colors",children:[m.jsx(t1,{className:"w-3.5 h-3.5"})," Resolve"]}),m.jsx("button",{onClick:()=>q(te.id),className:"p-1.5 text-rose-500 hover:bg-rose-500/10 rounded-lg transition-colors",title:"Delete Ticket",children:m.jsx(pn,{className:"w-4 h-4"})})]})]},te.id))}),m.jsx(Ol,{currentPage:y,totalPages:ee,onPageChange:v,isDarkMode:i})]})}function dC({doctors:r,filter:e,setFilter:n,onRefresh:i,onUpdateStatus:o,onUpdatePassword:u,onDelete:d,loading:y,isDarkMode:v}){const[p,w]=de.useState(null),[A,N]=de.useState(""),[q,X]=de.useState(!1),[J,ee]=de.useState(!1),[ae,te]=de.useState(""),[le,be]=de.useState(1),ze=10,Ne=r.filter(E=>(E.name?.toLowerCase()||"").includes(A.toLowerCase())||(E.email?.toLowerCase()||"").includes(A.toLowerCase())||(E.license?.toLowerCase()||"").includes(A.toLowerCase())),I=Math.ceil(Ne.length/ze),S=Ne.slice((le-1)*ze,le*ze);return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${v?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${v?"border-white/5":"border-gray-100"}`,children:[m.jsx("h3",{className:`font-bold text-base ${v?"text-white":"text-slate-900"}`,children:"Medical Practitioners"}),m.jsxs("button",{onClick:i,className:"text-xs font-bold uppercase text-slate-400 flex items-center gap-1 hover:text-emerald-500 transition-colors",children:[m.jsx(Rh,{className:`w-3 h-3 ${y?"animate-spin":""}`})," Refresh"]})]}),m.jsxs("div",{className:`p-3 border-b flex flex-col sm:flex-row gap-3 justify-between items-center ${v?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsx("div",{className:"flex gap-2 overflow-x-auto w-full sm:w-auto pb-1 sm:pb-0",children:["pending","active","rejected","all"].map(E=>m.jsx("button",{onClick:()=>n(E),className:`px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wide transition-all whitespace-nowrap ${e===E?"bg-emerald-600 text-white shadow":v?"bg-transparent border border-white/10 text-slate-400 hover:bg-white/10":"bg-white border border-gray-300 text-slate-500 hover:bg-gray-100"}`,children:E},E))}),m.jsxs("div",{className:"relative w-full sm:w-64",children:[m.jsx(VE,{className:"w-4 h-4 absolute left-3 top-2.5 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"Search doctors...",value:A,onChange:E=>N(E.target.value),className:`w-full pl-9 pr-4 py-2 rounded-lg text-sm border outline-none focus:ring-2 focus:ring-emerald-500/50 ${v?"bg-white/5 border-white/10 text-white placeholder-slate-500":"bg-white border-gray-300 text-slate-700 placeholder-slate-400"}`})]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:S.length===0?m.jsx("div",{className:"p-8 text-center text-xs text-slate-500 italic",children:"No doctors found matching your criteria."}):S.map(E=>m.jsxs("div",{className:`p-4 relative flex flex-col gap-3 ${v?"bg-transparent":"bg-white"}`,children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsxs(Vl,{isDarkMode:v,children:[m.jsxs("button",{onClick:()=>{w(E),X(!1),ee(!1)},className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left ${v?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(vm,{className:"w-3.5 h-3.5"})," View Details"]}),E.status==="pending"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>o(E.id,"active"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-500 hover:bg-emerald-500/10",children:[m.jsx(em,{className:"w-3.5 h-3.5"})," Approve"]}),m.jsxs("button",{onClick:()=>o(E.id,"rejected"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(tm,{className:"w-3.5 h-3.5"})," Reject"]})]}),E.status==="active"&&m.jsxs("button",{onClick:()=>o(E.id,"rejected"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(tm,{className:"w-3.5 h-3.5"})," Revoke Access"]}),E.status==="rejected"&&m.jsxs("button",{onClick:()=>o(E.id,"active"),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-emerald-500 hover:bg-emerald-500/10",children:[m.jsx(em,{className:"w-3.5 h-3.5"})," Restore Access"]}),m.jsxs("button",{onClick:()=>d(E.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(pn,{className:"w-3.5 h-3.5"})," Delete Account"]})]})}),m.jsxs("div",{children:[m.jsx("div",{className:`font-bold text-sm ${v?"text-white":"text-slate-900"}`,children:E.name}),m.jsx("div",{className:"text-xs text-slate-500",children:E.email}),m.jsx("div",{className:`text-[10px] mt-1 font-mono ${v?"text-slate-400":"text-slate-600"}`,children:E.license})]}),m.jsx("div",{className:"mt-1",children:m.jsx(Y_,{status:E.status})})]},E.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:`text-[10px] uppercase font-bold text-slate-400 ${v?"bg-white/5":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-5 py-3",children:"Name"}),m.jsx("th",{className:"px-5 py-3",children:"License Info"}),m.jsx("th",{className:"px-5 py-3",children:"Status"}),m.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),m.jsx("tbody",{className:`divide-y ${v?"divide-white/5":"divide-gray-100"}`,children:S.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-8 text-center text-xs text-slate-500 italic",children:"No doctors found matching your criteria."})}):S.map(E=>m.jsxs("tr",{className:`transition-colors ${v?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:"px-5 py-3",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs border ${v?"bg-slate-700 text-white border-white/10":"bg-indigo-50 text-indigo-600 border-indigo-100"}`,children:E.name?E.name.charAt(0):"?"}),m.jsxs("div",{children:[m.jsx("div",{className:`font-bold text-sm ${v?"text-white":"text-slate-900"}`,children:E.name}),m.jsx("div",{className:"text-[10px] text-slate-400",children:E.email})]})]})}),m.jsx("td",{className:"px-5 py-3 text-xs text-slate-400",children:m.jsx("span",{className:`font-mono px-1 rounded ${v?"bg-white/10 text-slate-300":"bg-gray-100 text-slate-600"}`,children:E.license})}),m.jsx("td",{className:"px-5 py-3",children:m.jsx(Y_,{status:E.status})}),m.jsx("td",{className:"px-5 py-3 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>{w(E),X(!1),ee(!1)},className:`p-1.5 rounded ${v?"text-slate-400 hover:text-blue-400 hover:bg-blue-500/10":"text-slate-500 hover:text-blue-600 hover:bg-blue-50"}`,title:"Verify Details",children:m.jsx(vm,{className:"w-4 h-4"})}),E.status==="pending"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>o(E.id,"active"),className:"p-1.5 text-emerald-500 bg-emerald-500/10 rounded hover:bg-emerald-500/20",children:m.jsx(em,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>o(E.id,"rejected"),className:"p-1.5 text-rose-500 bg-rose-500/10 rounded hover:bg-rose-500/20",children:m.jsx(tm,{className:"w-4 h-4"})})]}),E.status==="active"&&m.jsx("button",{onClick:()=>o(E.id,"rejected"),className:"text-[10px] font-bold text-rose-500 border border-rose-500/30 px-2 py-1 rounded hover:bg-rose-500/10",children:"Revoke"}),E.status==="rejected"&&m.jsx("button",{onClick:()=>o(E.id,"active"),className:"text-[10px] font-bold text-emerald-500 border border-emerald-500/30 px-2 py-1 rounded hover:bg-emerald-500/10",children:"Restore"}),m.jsx("button",{onClick:()=>d(E.id),className:"p-1.5 ml-2 rounded border border-rose-500/30 text-rose-500 hover:bg-rose-500/10",title:"Delete Permanently",children:m.jsx(pn,{className:"w-4 h-4"})})]})})]},E.id))})]})}),m.jsx(Ol,{currentPage:le,totalPages:I,onPageChange:be,isDarkMode:v}),p&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:m.jsxs("div",{className:`rounded-xl shadow-2xl max-w-lg w-full overflow-hidden border animate-in fade-in zoom-in duration-200 ${v?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${v?"border-white/10":"border-gray-100"}`,children:[m.jsx("h3",{className:`font-bold text-base ${v?"text-white":"text-slate-900"}`,children:"Verification Details"}),m.jsx("button",{onClick:()=>w(null),children:m.jsx(Zo,{className:`w-5 h-5 ${v?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`})})]}),m.jsxs("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[m.jsxs("div",{className:`p-4 rounded-lg border text-center ${v?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsx(JT,{className:"w-10 h-10 text-slate-500 mx-auto mb-2"}),m.jsx("p",{className:`text-sm font-bold ${v?"text-slate-300":"text-slate-700"}`,children:"PRC License ID Image"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Mockup: No image uploaded"})]}),m.jsxs("div",{children:[m.jsx("h4",{className:`text-xs font-bold uppercase tracking-wider mb-3 ${v?"text-slate-500":"text-slate-400"}`,children:"Account Credentials"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Full Name"}),m.jsx("p",{className:`font-semibold ${v?"text-white":"text-slate-900"}`,children:p.name})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Email"}),m.jsx("p",{className:`font-mono ${v?"text-white":"text-slate-900"}`,children:p.email})]}),m.jsxs("div",{className:"col-span-2 relative",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold mb-1",children:"Password"}),J?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"text",className:`flex-1 p-2 rounded border text-sm outline-none focus:ring-2 focus:ring-emerald-500/50 ${v?"bg-[#0B0F19] border-white/10 text-white":"bg-white border-gray-200 text-slate-900"}`,value:ae,onChange:E=>te(E.target.value),placeholder:"Enter new password"}),m.jsx("button",{onClick:async()=>{if(!ae.trim())return alert("Password cannot be empty");await u(p.id,ae),ee(!1),w(E=>({...E,password:ae}))},className:"p-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded transition-colors",title:"Save New Password",children:m.jsx(t1,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>ee(!1),className:"p-2 bg-rose-600 hover:bg-rose-700 text-white rounded transition-colors",title:"Cancel",children:m.jsx(Zo,{className:"w-4 h-4"})})]}):m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:`font-mono ${v?"text-white":"text-slate-900"}`,children:q?p.password:""}),m.jsxs("div",{className:"flex gap-3 items-center",children:[m.jsx("button",{onClick:()=>{ee(!0),te(p.password)},className:`text-[10px] font-bold uppercase tracking-wide transition-colors ${v?"text-emerald-400 hover:text-emerald-300":"text-emerald-600 hover:text-emerald-700"}`,children:"Edit"}),m.jsx("button",{onClick:()=>X(!q),className:`text-[10px] font-bold uppercase tracking-wide transition-colors ${v?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-700"}`,children:q?"Hide":"Show"})]})]})]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:`text-xs font-bold uppercase tracking-wider mb-3 ${v?"text-slate-500":"text-slate-400"}`,children:"Clinic Information"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Clinic Name"}),m.jsx("p",{className:`${v?"text-white":"text-slate-900"}`,children:p.clinicDetails?.name||"N/A"})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Address"}),m.jsx("p",{className:`${v?"text-white":"text-slate-900"}`,children:p.clinicDetails?.address||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Contact No."}),m.jsx("p",{className:`${v?"text-white":"text-slate-900"}`,children:p.clinicDetails?.contactNumber||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"License No."}),m.jsx("p",{className:`font-mono ${v?"text-white":"text-slate-900"}`,children:p.license})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"PTR No."}),m.jsx("p",{className:`font-mono ${v?"text-white":"text-slate-900"}`,children:p.clinicDetails?.ptr||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"S2 License"}),m.jsx("p",{className:`font-mono ${v?"text-white":"text-slate-900"}`,children:p.clinicDetails?.s2||"N/A"})]})]})]})]}),m.jsx("div",{className:`p-4 border-t flex justify-end ${v?"bg-white/5 border-white/10":"bg-gray-50 border-gray-200"}`,children:m.jsx("button",{onClick:()=>w(null),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-xs font-bold uppercase tracking-wide hover:bg-indigo-700",children:"Close"})})]})})]})}function fC({machines:r,onPing:e,onRunDiagnostics:n,onReboot:i,onLock:o,onDelete:u,isDarkMode:d}){const[y,v]=de.useState(1),p=10,w=Math.ceil(r.length/p),A=r.slice((y-1)*p,y*p);return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${d?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsx("div",{className:`p-5 border-b ${d?"border-white/5":"border-gray-100"}`,children:m.jsx("h3",{className:`font-bold text-base ${d?"text-white":"text-slate-900"}`,children:"Kiosk Network"})}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:A.length===0?m.jsx("div",{className:"p-8 text-center text-xs text-slate-500 italic",children:"No kiosks connected."}):A.map(N=>m.jsxs("div",{className:"p-4 relative flex flex-col gap-3",children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsxs(Vl,{isDarkMode:d,children:[m.jsxs("button",{onClick:()=>e(N.id),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(fl,{className:"w-3.5 h-3.5"})," Ping"]}),m.jsxs("button",{onClick:()=>n(N),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(_v,{className:"w-3.5 h-3.5"})," Diagnostics"]}),m.jsxs("button",{onClick:()=>i(N.id),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[m.jsx(bm,{className:"w-3.5 h-3.5"})," Reboot"]}),m.jsxs("button",{onClick:()=>o(N.id,N.status),className:`flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left ${d?"text-slate-300 hover:bg-white/10":"text-slate-600 hover:bg-gray-100"}`,children:[N.status==="locked"?m.jsx(_m,{className:"w-3.5 h-3.5"}):m.jsx(ia,{className:"w-3.5 h-3.5"})," ",N.status==="locked"?"Unlock":"Lock"]}),m.jsxs("button",{onClick:()=>u(N.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(pn,{className:"w-3.5 h-3.5"})," Remove"]})]})}),m.jsxs("div",{children:[m.jsx("div",{className:`font-bold text-sm ${d?"text-white":"text-slate-900"}`,children:N.id}),m.jsx("div",{className:"text-xs text-slate-500",children:N.location})]}),m.jsx("div",{className:"mt-1",children:m.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${N.status==="online"?"bg-emerald-500/20 text-emerald-500":N.status==="rebooting"?"bg-amber-500/20 text-amber-500":N.status==="locked"?"bg-slate-500/20 text-slate-400":"bg-rose-500/20 text-rose-500"}`,children:[N.status==="online"?m.jsx(vv,{className:"w-3 h-3"}):N.status==="locked"?m.jsx(ia,{className:"w-3 h-3"}):m.jsx(yv,{className:"w-3 h-3"})," ",N.status]})})]},N.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:`text-xs uppercase text-slate-400 ${d?"bg-white/5":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"ID"}),m.jsx("th",{className:"px-6 py-3",children:"Location"}),m.jsx("th",{className:"px-6 py-3",children:"Status"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Controls"})]})}),m.jsx("tbody",{className:`divide-y ${d?"divide-white/5":"divide-gray-100"}`,children:A.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-4 text-center text-xs text-slate-500",children:"No kiosks connected."})}):A.map(N=>m.jsxs("tr",{className:`transition-colors ${d?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:`px-6 py-3 font-bold ${d?"text-white":"text-slate-900"}`,children:N.id}),m.jsx("td",{className:"px-6 py-3 text-slate-400",children:N.location}),m.jsx("td",{className:"px-6 py-3",children:m.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${N.status==="online"?"bg-emerald-500/20 text-emerald-500":N.status==="rebooting"?"bg-amber-500/20 text-amber-500":N.status==="locked"?"bg-slate-500/20 text-slate-400":"bg-rose-500/20 text-rose-500"}`,children:[N.status==="online"?m.jsx(vv,{className:"w-3 h-3"}):N.status==="locked"?m.jsx(ia,{className:"w-3 h-3"}):m.jsx(yv,{className:"w-3 h-3"})," ",N.status]})}),m.jsx("td",{className:"px-6 py-3 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>e(N.id),className:`p-1.5 rounded ${d?"bg-white/10 hover:bg-white/20 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-slate-600"}`,title:"Ping",children:m.jsx(fl,{size:14})}),m.jsx("button",{onClick:()=>n(N),className:`p-1.5 rounded ${d?"bg-white/10 hover:bg-white/20 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-slate-600"}`,title:"Diagnostics",children:m.jsx(_v,{size:14})}),m.jsx("button",{onClick:()=>i(N.id),className:`p-1.5 rounded ${d?"bg-white/10 hover:bg-white/20 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-slate-600"}`,title:"Reboot",children:m.jsx(bm,{size:14})}),m.jsx("button",{onClick:()=>o(N.id,N.status),className:`p-1.5 rounded ${d?"bg-white/10 hover:bg-white/20 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-slate-600"}`,title:N.status==="locked"?"Unlock":"Lock",children:N.status==="locked"?m.jsx(_m,{size:14}):m.jsx(ia,{size:14})}),m.jsx("button",{onClick:()=>u(N.id),className:"p-1.5 bg-rose-500/10 hover:bg-rose-500/20 rounded text-rose-500",title:"Remove",children:m.jsx(pn,{size:14})})]})})]},N.id))})]})}),m.jsx(Ol,{currentPage:y,totalPages:w,onPageChange:v,isDarkMode:d})]})}function mC({transactions:r,onHide:e,onClearView:n,isDarkMode:i}){const[o,u]=de.useState(1),d=10,y=Math.ceil(r.length/d),v=r.slice((o-1)*d,o*d);return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${i?"border-white/5":"border-gray-100"}`,children:[m.jsx("h3",{className:`font-bold text-base ${i?"text-white":"text-slate-900"}`,children:"Prescription Registry"}),m.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 px-3 py-1.5 bg-rose-500/10 text-rose-500 hover:bg-rose-500/20 rounded-lg text-xs font-bold uppercase tracking-wide transition-colors",children:[m.jsx(pn,{className:"w-3.5 h-3.5"})," Clear View"]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:v.length===0?m.jsx("div",{className:"p-8 text-center text-xs text-slate-500 italic",children:"No transactions recorded."}):v.map(p=>m.jsxs("div",{className:"p-4 relative flex flex-col gap-3",children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Vl,{isDarkMode:i,children:m.jsxs("button",{onClick:()=>e(p.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(pn,{className:"w-3.5 h-3.5"})," Hide"]})})}),m.jsxs("div",{children:[m.jsx("div",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:p.doctorName}),m.jsx("div",{className:"text-xs text-slate-500",children:p.patient?.name}),m.jsx("div",{className:"text-[10px] font-mono text-slate-600 mt-1",children:p.id})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"font-bold text-emerald-500 text-sm",children:["",p.grandTotal?.toFixed(2)]}),m.jsx(X_,{status:p.status||"issued"})]})]},p.id))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:`text-[10px] uppercase font-bold text-slate-400 ${i?"bg-white/5":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-5 py-3",children:"ID"}),m.jsx("th",{className:"px-5 py-3",children:"Prescribing Doctor"}),m.jsx("th",{className:"px-5 py-3",children:"Patient"}),m.jsx("th",{className:"px-5 py-3",children:"Value"}),m.jsx("th",{className:"px-5 py-3",children:"Status"}),m.jsx("th",{className:"px-5 py-3 text-center",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-gray-100"}`,children:v.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"p-4 text-center text-xs text-slate-500",children:"No transactions recorded."})}):v.map(p=>m.jsxs("tr",{className:`transition-colors ${i?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:"px-5 py-3 font-mono text-xs text-slate-500",children:p.id}),m.jsx("td",{className:`px-5 py-3 text-sm font-semibold ${i?"text-white":"text-slate-900"}`,children:p.doctorName}),m.jsx("td",{className:"px-5 py-3 text-sm text-slate-400",children:p.patient?.name}),m.jsxs("td",{className:"px-5 py-3 text-sm font-bold text-emerald-500",children:["",p.grandTotal?.toFixed(2)]}),m.jsx("td",{className:"px-5 py-3",children:m.jsx(X_,{status:p.status||"issued"})}),m.jsx("td",{className:"px-5 py-3 text-center",children:m.jsx("button",{onClick:()=>e(p.id),className:`p-2 rounded-lg transition-colors ${i?"text-slate-500 hover:text-rose-400 hover:bg-rose-900/20":"text-slate-400 hover:text-rose-600 hover:bg-rose-50"}`,title:"Hide from list",children:m.jsx(pn,{className:"w-4 h-4"})})})]},p.id))})]})}),m.jsx(Ol,{currentPage:o,totalPages:y,onPageChange:u,isDarkMode:i})]})}function gC({logs:r,onHide:e,onClearView:n,isDarkMode:i}){const[o,u]=de.useState(1),d=10,y=Math.ceil(r.length/d),v=r.slice((o-1)*d,o*d);return m.jsxs("div",{className:`rounded-xl border md:overflow-hidden max-w-7xl mx-auto ${i?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`p-4 border-b flex justify-between items-center ${i?"border-white/5":"border-gray-100"}`,children:[m.jsx("h3",{className:`font-bold ${i?"text-white":"text-slate-900"}`,children:"Audit Log"}),m.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 px-3 py-1.5 bg-rose-500/10 text-rose-500 hover:bg-rose-500/20 rounded-lg text-xs font-bold uppercase tracking-wide transition-colors",children:[m.jsx(pn,{className:"w-3.5 h-3.5"})," Clear View"]})]}),m.jsx("div",{className:"md:hidden divide-y divide-white/5",children:v.length===0?m.jsx("div",{className:"p-8 text-center text-xs text-slate-500 italic",children:"No logs available."}):v.map((p,w)=>m.jsxs("div",{className:"p-4 relative flex flex-col gap-2",children:[m.jsx("div",{className:"absolute top-4 right-4 z-20",children:m.jsx(Vl,{isDarkMode:i,children:m.jsxs("button",{onClick:()=>e(p.id),className:"flex items-center gap-2 w-full px-3 py-2 text-xs font-bold text-left text-rose-500 hover:bg-rose-500/10",children:[m.jsx(pn,{className:"w-3.5 h-3.5"})," Hide"]})})}),m.jsxs("div",{children:[m.jsx("div",{className:`font-bold text-sm ${i?"text-white":"text-slate-900"}`,children:p.action}),m.jsx("div",{className:"text-xs text-slate-400 mt-1",children:p.details})]}),m.jsxs("div",{className:"text-right mt-1",children:[m.jsx("div",{className:"text-[10px] font-mono text-slate-500",children:p.time}),m.jsx("div",{className:"text-[10px] text-slate-600 mt-1",children:p.user})]})]},w))}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:`text-xs uppercase text-slate-400 ${i?"bg-white/5":"bg-gray-50"}`,children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Action"}),m.jsx("th",{className:"px-6 py-3",children:"Details"}),m.jsx("th",{className:"px-6 py-3",children:"User"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Time"}),m.jsx("th",{className:"px-6 py-3 text-center",children:"Action"})]})}),m.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-gray-100"}`,children:v.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"5",className:"p-4 text-center text-xs text-slate-500",children:"No logs available."})}):v.map((p,w)=>m.jsxs("tr",{className:`transition-colors ${i?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[m.jsx("td",{className:`px-6 py-3 font-bold ${i?"text-white":"text-slate-900"}`,children:p.action}),m.jsx("td",{className:"px-6 py-3 text-slate-400",children:p.details}),m.jsx("td",{className:"px-6 py-3 font-mono text-xs text-slate-500",children:p.user}),m.jsx("td",{className:"px-6 py-3 text-right text-slate-500 text-xs",children:p.time}),m.jsx("td",{className:"px-6 py-3 text-center",children:m.jsx("button",{onClick:()=>e(p.id),className:`p-2 rounded-lg transition-colors ${i?"text-slate-500 hover:text-rose-400 hover:bg-rose-900/20":"text-slate-400 hover:text-rose-600 hover:bg-rose-50"}`,title:"Hide from list",children:m.jsx(pn,{className:"w-4 h-4"})})})]},w))})]})}),m.jsx(Ol,{currentPage:o,totalPages:y,onPageChange:u,isDarkMode:i})]})}function pC({profile:r,setProfile:e,onSave:n,isEditing:i,setIsEditing:o,setShowPassword:u,isDarkMode:d,transactions:y,auditLogs:v,doctors:p,machines:w,medicines:A,supportTickets:N}){const[q,X]=de.useState("profile"),J=(ae,te)=>{if(!ae||!ae.length)return alert("No data to export.");if(typeof ae[0]!="object"||ae[0]===null)return alert("Invalid data format.");const le=(E,V)=>V===null?"":V,be=Object.keys(ae[0]),ze=[be.join(","),...ae.map(E=>be.map(V=>JSON.stringify(E[V],le)).join(","))].join(`\r
`),Ne=new Blob([ze],{type:"text/csv"}),I=window.URL.createObjectURL(Ne),S=document.createElement("a");S.setAttribute("hidden",""),S.setAttribute("href",I),S.setAttribute("download",te),document.body.appendChild(S),S.click(),document.body.removeChild(S)},ee=()=>{const ae={timestamp:new Date().toISOString(),doctors:p,machines:w,transactions:y,auditLogs:v,medicines:A,supportTickets:N},te=new Blob([JSON.stringify(ae,null,2)],{type:"application/json"}),le=URL.createObjectURL(te),be=document.createElement("a");be.href=le,be.download=`medivend_full_backup_${Date.now()}.json`,document.body.appendChild(be),be.click(),document.body.removeChild(be)};return m.jsxs("div",{className:`w-full rounded-xl border overflow-hidden flex flex-col md:flex-row ${d?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsxs("div",{className:`hidden md:block w-64 border-r p-4 ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsx("h3",{className:`font-bold mb-4 px-2 ${d?"text-white":"text-slate-900"}`,children:"Settings"}),m.jsxs("nav",{className:"space-y-1",children:[m.jsxs("button",{onClick:()=>X("profile"),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${q==="profile"?"bg-indigo-600 text-white shadow-lg":d?"text-slate-400 hover:text-white hover:bg-white/5":"text-slate-600 hover:text-slate-900 hover:bg-gray-200"}`,children:[m.jsx(xm,{className:"w-4 h-4"})," Profile"]}),m.jsxs("button",{onClick:()=>X("security"),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${q==="security"?"bg-indigo-600 text-white shadow-lg":d?"text-slate-400 hover:text-white hover:bg-white/5":"text-slate-600 hover:text-slate-900 hover:bg-gray-200"}`,children:[m.jsx($o,{className:"w-4 h-4"})," Security"]}),m.jsxs("button",{onClick:()=>X("data"),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${q==="data"?"bg-indigo-600 text-white shadow-lg":d?"text-slate-400 hover:text-white hover:bg-white/5":"text-slate-600 hover:text-slate-900 hover:bg-gray-200"}`,children:[m.jsx(nm,{className:"w-4 h-4"})," Data Management"]})]})]}),m.jsx("div",{className:`md:hidden w-full border-b ${d?"border-white/10":"border-gray-200"}`,children:m.jsxs("div",{className:"flex overflow-x-auto",children:[m.jsxs("button",{onClick:()=>X("profile"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wide border-b-2 transition-colors whitespace-nowrap ${q==="profile"?"border-indigo-500 text-indigo-500":"border-transparent text-slate-500"}`,children:[m.jsx(xm,{className:"w-4 h-4 inline mr-1"})," Profile"]}),m.jsxs("button",{onClick:()=>X("security"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wide border-b-2 transition-colors whitespace-nowrap ${q==="security"?"border-indigo-500 text-indigo-500":"border-transparent text-slate-500"}`,children:[m.jsx($o,{className:"w-4 h-4 inline mr-1"})," Security"]}),m.jsxs("button",{onClick:()=>X("data"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wide border-b-2 transition-colors whitespace-nowrap ${q==="data"?"border-indigo-500 text-indigo-500":"border-transparent text-slate-500"}`,children:[m.jsx(nm,{className:"w-4 h-4 inline mr-1"})," Data"]})]})}),m.jsxs("div",{className:"flex-1 p-4 md:p-8",children:[q==="profile"&&m.jsxs("div",{className:"space-y-4 md:space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center border-b pb-3 md:pb-4 gap-3 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("h4",{className:`font-bold text-base md:text-lg ${d?"text-white":"text-slate-900"}`,children:"Admin Profile"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Manage your personal account details."})]}),i?m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>o(!1),className:`px-3 py-1.5 text-xs font-bold uppercase tracking-wide text-slate-400 border rounded-lg ${d?"bg-white/5 border-white/10 hover:bg-white/10":"bg-gray-100 border-gray-200 hover:bg-gray-200"}`,children:"Cancel"}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-bold uppercase tracking-wide text-white bg-indigo-600 rounded-lg hover:bg-indigo-700",children:[m.jsx(IE,{className:"w-3.5 h-3.5"})," Save"]})]}):m.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-1.5 text-xs font-bold uppercase tracking-wide text-indigo-500 bg-indigo-500/10 border border-indigo-500/20 rounded-lg hover:bg-indigo-500/20",children:[m.jsx(EE,{className:"w-3.5 h-3.5"})," Edit"]})]}),m.jsxs("div",{className:"space-y-3 md:space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wide mb-1.5",children:"Display Name"}),m.jsx("input",{type:"text",disabled:!i,className:`w-full px-3 md:px-4 py-2 border rounded-lg outline-none text-sm ${i?"border-indigo-500 focus:ring-2 focus:ring-indigo-500/50":"border-transparent"} ${d?"bg-white/5 text-slate-300":"bg-gray-100 text-slate-700"}`,value:r?.displayName||"",onChange:ae=>e({...r,displayName:ae.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wide mb-1.5",children:"Username"}),m.jsx("input",{type:"text",disabled:!i,className:`w-full px-3 md:px-4 py-2 border rounded-lg outline-none text-sm ${i?"border-indigo-500 focus:ring-2 focus:ring-indigo-500/50":"border-transparent"} ${d?"bg-white/5 text-slate-300":"bg-gray-100 text-slate-700"}`,value:r?.username||"",onChange:ae=>e({...r,username:ae.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wide mb-1.5",children:"Email"}),m.jsx("input",{type:"email",disabled:!i,className:`w-full px-3 md:px-4 py-2 border rounded-lg outline-none text-sm ${i?"border-indigo-500 focus:ring-2 focus:ring-indigo-500/50":"border-transparent"} ${d?"bg-white/5 text-slate-300":"bg-gray-100 text-slate-700"}`,value:r?.email||"",onChange:ae=>e({...r,email:ae.target.value})})]})]}),m.jsx("div",{className:`pt-3 md:pt-4 border-t ${d?"border-white/10":"border-gray-100"}`,children:m.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-xs text-indigo-500 font-bold uppercase tracking-wide hover:text-indigo-400",children:[m.jsx(ia,{className:"w-3.5 h-3.5"})," Change Password"]})})]}),q==="security"&&m.jsxs("div",{className:"space-y-4 md:space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsxs("div",{className:`border-b pb-3 md:pb-4 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsx("h4",{className:`font-bold text-base md:text-lg ${d?"text-white":"text-slate-900"}`,children:"Security"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Manage account security and access."})]}),m.jsxs("div",{className:"p-3 md:p-4 bg-indigo-500/10 border border-indigo-500/20 rounded-lg md:rounded-xl flex items-start gap-3",children:[m.jsx($o,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-500 mt-0.5 flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"text-xs md:text-sm font-bold text-indigo-500",children:"Two-Factor Authentication"}),m.jsxs("p",{className:"text-xs text-indigo-500/80 mt-1",children:["2FA is currently ",m.jsx("span",{className:"font-bold",children:"Enabled"})," via Email."]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"Session Timeout"}),m.jsxs("select",{className:`w-full border rounded-lg p-2 md:p-2.5 text-sm ${d?"bg-[#0B0F19] border-white/10 text-white":"bg-white border-gray-200 text-slate-700"}`,children:[m.jsx("option",{children:"15 Minutes"}),m.jsx("option",{children:"30 Minutes"}),m.jsx("option",{children:"1 Hour"}),m.jsx("option",{children:"Never"})]})]}),m.jsxs("div",{className:`border-t pt-3 md:pt-4 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsx("h5",{className:"font-bold text-xs md:text-sm text-slate-400 mb-2",children:"Recent Login Activity"}),m.jsxs("div",{className:`p-2 md:p-3 rounded-lg border text-xs text-slate-400 space-y-1 ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Manila, PH (Current)"}),m.jsx("span",{className:"whitespace-nowrap ml-2",children:"Just now"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Cebu, PH"}),m.jsx("span",{className:"whitespace-nowrap ml-2",children:"2 hrs ago"})]})]})]})]}),q==="data"&&m.jsxs("div",{className:"space-y-4 md:space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsxs("div",{className:`border-b pb-3 md:pb-4 ${d?"border-white/10":"border-gray-100"}`,children:[m.jsx("h4",{className:`font-bold text-base md:text-lg ${d?"text-white":"text-slate-900"}`,children:"Data Management"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Export logs or clear system caches."})]}),m.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-2 gap-1 md:gap-4",children:[m.jsxs("button",{onClick:()=>J(y,"transactions.csv"),className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group ${d?"border-white/10 hover:bg-white/5":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx(FT,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-emerald-500 mb-1 md:mb-2"}),m.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 text-center line-clamp-2",children:"Export Rx Logs"})]}),m.jsxs("button",{onClick:()=>J(v,"security_audit.csv"),className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group ${d?"border-white/10 hover:bg-white/5":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx(W_,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-emerald-500 mb-1 md:mb-2"}),m.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 text-center line-clamp-2",children:"Export Audit"})]}),m.jsxs("button",{onClick:()=>alert("Cache Cleared"),className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group border-dashed ${d?"border-white/10 hover:bg-rose-500/10":"border-gray-300 hover:bg-rose-50"}`,children:[m.jsx(pn,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-rose-500 mb-1 md:mb-2"}),m.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 group-hover:text-rose-500 text-center line-clamp-2",children:"Clear Cache"})]}),m.jsxs("button",{onClick:ee,className:`flex flex-col items-center justify-center p-2 md:p-6 border rounded-md md:rounded-xl transition-colors group ${d?"border-white/10 hover:bg-blue-500/10":"border-gray-200 hover:bg-blue-50"}`,children:[m.jsx(nm,{className:"w-4 h-4 md:w-8 md:h-8 text-slate-500 group-hover:text-blue-500 mb-1 md:mb-2"}),m.jsx("span",{className:"text-[10px] md:text-sm font-bold text-slate-400 text-center line-clamp-2",children:"Backup DB"})]})]}),m.jsxs("div",{className:"p-3 md:p-4 bg-amber-500/10 border border-amber-500/20 rounded-lg md:rounded-xl flex gap-2 md:gap-3",children:[m.jsx(iE,{className:"w-4 h-4 md:w-5 md:h-5 text-amber-500 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-xs md:text-sm font-bold text-amber-500",children:"Storage Usage"}),m.jsx("div",{className:"w-full bg-amber-500/20 h-1.5 rounded-full mt-2 mb-1 overflow-hidden",children:m.jsx("div",{className:"bg-amber-500 h-full w-[45%]"})}),m.jsx("p",{className:"text-xs text-amber-500/80",children:"45% used of 5GB quota"})]})]})]})]})]})}function yC({onLogin:r,cloudProfile:e}){const[n,i]=de.useState(""),[o,u]=de.useState(""),[d,y]=de.useState(!1),[v,p]=de.useState(""),[w,A]=de.useState(!1),[N,q]=de.useState(0),[X,J]=de.useState(!1),[ee,ae]=de.useState(0);de.useEffect(()=>{let le;return X&&ee>0?le=setInterval(()=>{ae(be=>be-1)},1e3):ee===0&&X&&(J(!1),q(0),p("")),()=>clearInterval(le)},[X,ee]);const te=le=>{le.preventDefault(),!X&&(A(!0),p(""),setTimeout(()=>{const be=e?.username||"admin",ze=e?.password||"admin123";if(n===be&&o===ze)r();else{const Ne=N+1;q(Ne),A(!1),Ne>=5?(J(!0),ae(10),p("Too many failed attempts. Locked for 10s.")):p(`Invalid credentials. ${5-Ne} attempts remaining.`)}},800))};return m.jsxs("div",{className:"flex h-screen w-full bg-[#0B0F19] font-sans text-slate-900 overflow-hidden relative",children:[m.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/40 via-[#0B0F19] to-black opacity-90"}),m.jsx("div",{className:"w-full lg:w-1/2 h-full flex flex-col justify-center items-center p-6 md:p-12 relative z-10",children:m.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-3xl shadow-2xl border-4 border-slate-200/20 animate-in fade-in slide-in-from-bottom-8 duration-700 relative overflow-hidden ring-1 ring-white/10",children:[m.jsxs("div",{className:"text-center mb-8 relative z-10",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-tr from-indigo-600 to-blue-600 rounded-2xl shadow-lg shadow-indigo-500/30 mb-6 transform transition-transform hover:scale-105 ring-4 ring-white",children:m.jsx($o,{className:"w-8 h-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-slate-900 mb-2",children:"Super Admin"}),m.jsx("p",{className:"text-slate-500 text-sm",children:"MediVend Network Control"})]}),m.jsxs("form",{onSubmit:te,className:"space-y-5 relative z-10",children:[m.jsxs("div",{className:"relative group",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Username"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(xm,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),m.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium",placeholder:"Enter username",value:n,onChange:le=>i(le.target.value),disabled:X})]})]}),m.jsxs("div",{className:"relative group",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(ia,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),m.jsx("input",{required:!0,type:d?"text":"password",className:"w-full pl-10 pr-10 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium",placeholder:"",value:o,onChange:le=>u(le.target.value),disabled:X}),m.jsx("button",{type:"button",onClick:()=>y(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-indigo-500 transition-colors focus:outline-none",children:d?m.jsx(QT,{className:"h-5 w-5"}):m.jsx(vm,{className:"h-5 w-5"})})]})]}),v&&m.jsxs("div",{className:`p-3 rounded-xl text-sm font-medium border flex items-center gap-2 animate-in slide-in-from-top-2 ${X?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:[m.jsx(n1,{className:"w-4 h-4"})," ",X?`Security Lockout: Try again in ${ee}s`:v]}),m.jsx("button",{type:"submit",disabled:w||X,className:"w-full bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-indigo-600/30 disabled:opacity-70 disabled:cursor-not-allowed transition-all transform active:scale-[0.98] flex justify-center items-center",children:w?m.jsx(Rh,{className:"w-5 h-5 animate-spin"}):X?"Locked":"Access Portal"})]}),m.jsx("div",{className:"text-center text-[10px] text-slate-400 pt-8 mt-4 border-t border-slate-100",children:m.jsx("p",{children:"Authorized Personnel Only  Secure Connection"})})]})}),m.jsxs("div",{className:"hidden lg:flex w-1/2 bg-[#0B0F19] relative overflow-hidden items-center justify-center border-l border-white/5",children:[m.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/40 via-[#0B0F19] to-black opacity-90"}),m.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-[0.03]"}),m.jsxs("div",{className:"relative z-10 p-12 text-white max-w-lg text-center",children:[m.jsx(fl,{className:"w-24 h-24 text-emerald-400 mx-auto mb-6 opacity-80 drop-shadow-lg"}),m.jsx("h1",{className:"text-4xl font-bold mb-4 tracking-tight text-white",children:"System Status: Optimal"}),m.jsx("p",{className:"text-slate-400 text-lg",children:"Real-time monitoring active."})]})]})]})}function vC({onLogout:r,initialProfile:e}){const[n,i]=de.useState(!0),[o,u]=de.useState("overview"),[d,y]=de.useState([]),[v,p]=de.useState([]),[w,A]=de.useState([]),[N,q]=de.useState([]),[X,J]=de.useState([]),[ee,ae]=de.useState([]),[te,le]=de.useState(!0),[be,ze]=de.useState("pending"),[Ne,I]=de.useState(new Date),[S,E]=de.useState(e),[V,j]=de.useState(!1),[M,R]=de.useState(!1),[lt,gt]=de.useState(!1),[F,ie]=de.useState(!1),[me,Be]=de.useState(0),[Fe,O]=de.useState(()=>JSON.parse(localStorage.getItem("hiddenTxIds")||"[]")),[K,re]=de.useState(()=>JSON.parse(localStorage.getItem("hiddenAuditIds")||"[]")),[ne,ve]=de.useState(null),Ee=()=>{Be(W=>W+1)};de.useEffect(()=>{localStorage.setItem("hiddenTxIds",JSON.stringify(Fe))},[Fe]),de.useEffect(()=>{localStorage.setItem("hiddenAuditIds",JSON.stringify(K))},[K]),de.useEffect(()=>{const W=setInterval(()=>I(new Date),1e3);return()=>clearInterval(W)},[]),de.useEffect(()=>{le(!0);const W=fi(Ct,"artifacts",It,"public","data","doctors"),ue=al(rl(W),Ye=>{y(Ye.docs.map(tt=>({id:tt.id,...tt.data()})))},Ye=>console.error("Error doctors:",Ye)),Ie=fi(Ct,"artifacts",It,"public","data","prescriptions"),et=al(rl(Ie,C_(100)),Ye=>{const tt=Ye.docs.map(At=>({id:At.id,...At.data()}));tt.sort((At,Rr)=>(Rr.createdAt?.seconds||0)-(At.createdAt?.seconds||0)),p(tt),le(!1)},Ye=>console.error("Error transactions:",Ye)),Yt=fi(Ct,"artifacts",It,"public","data","machines"),pt=al(rl(Yt),Ye=>{A(Ye.docs.map(tt=>({id:tt.id,...tt.data()})))},Ye=>console.error("Error machines:",Ye)),ya=fi(Ct,"artifacts",It,"public","data","audit_logs"),Ei=al(rl(ya,C_(100)),Ye=>{const tt=Ye.docs.map(At=>({id:At.id,...At.data()}));tt.sort((At,Rr)=>(Rr.timestamp?.seconds||0)-(At.timestamp?.seconds||0)),q(tt),le(!1)},Ye=>{console.error("Error audit:",Ye),le(!1)}),va=fi(Ct,"artifacts",It,"public","data","medicines"),Un=al(rl(va),Ye=>{J(Ye.docs.map(tt=>({id:tt.id,...tt.data()})))}),Ks=fi(Ct,"artifacts",It,"public","data","support_tickets"),_t=al(rl(Ks),Ye=>{ae(Ye.docs.map(tt=>({id:tt.id,...tt.data()})))});return()=>{ue(),et(),pt(),Ei(),Un(),_t()}},[me]);const Ve=async(W,ue)=>{try{const Ie=on(Ct,"artifacts",It,"public","data","doctors",W);await Zn(Ie,{status:ue,adminReviewedAt:Uo()},{merge:!0}),await rn("Doctor Status Update",`Set ${W} to ${ue}`)}catch(Ie){alert("Update failed: "+Ie.message)}},Tt=async(W,ue)=>{if(ue)try{const Ie=on(Ct,"artifacts",It,"public","data","doctors",W);await r5(Ie,{password:ue}),await rn("Doctor Mgmt",`Updated password for doctor ${W}`),alert("Doctor password updated successfully.")}catch(Ie){alert("Update failed: "+Ie.message)}},ot=async W=>{if(window.confirm(`Are you sure you want to PERMANENTLY DELETE the doctor account: ${W}?

This action cannot be undone and will remove all their access.`))try{const ue=on(Ct,"artifacts",It,"public","data","doctors",W);await xh(ue),await rn("Doctor Deletion",`Permanently removed doctor account: ${W}`),alert("Doctor account deleted successfully.")}catch(ue){alert("Deletion failed: "+ue.message)}},ys=async W=>{try{const ue=on(Ct,"artifacts",It,"public","data","machines",W);await Zn(ue,{lastPing:Uo(),status:"online"},{merge:!0}),alert(`Ping signal sent to ${W}. Connection OK.`),await rn("System Ping",`Pinged ${W}`)}catch(ue){alert("Failed to ping: "+ue.message)}},wi=async W=>{const ue=W.status==="online";let Ie;if(W.diagnosticReport&&W.diagnosticReport.timestamp>Date.now()-36e5)Ie=W.diagnosticReport;else{Ie={...W,timestamp:Date.now(),cpuTemp:ue?(35+Math.random()*15).toFixed(1)+"C":"N/A",printerPaper:ue?Math.floor(Math.random()*100)+"%":"Unknown",printerStatus:ue?"Ready":"Offline",motorStatus:ue?"Optimal":"Offline",scannerStatus:ue?"Active":"Not Detected",slots:(W.slots||Array.from({length:10},(et,Yt)=>({id:Yt+1,medicine:["Biogesic","Neozep","Amoxicillin","Solmux","Bioflu","Alaxan","Decolgen","Tuseran","Diatabs","Kremil-S"][Yt],stock:Math.floor(Math.random()*100),max:100,status:Math.random()>.95?"Jam":"OK"}))).slice(0,10),healthScore:ue?"98%":"0%",recommendation:ue?"System functioning normally.":"Check power/network connection."};try{await Zn(on(Ct,"artifacts",It,"public","data","machines",W.id),{diagnosticReport:Ie},{merge:!0})}catch(et){console.error("Failed to save diagnostic report:",et)}}ve(Ie)},Fs=async W=>{if(window.confirm(`Are you sure you want to reboot ${W}?`))try{const ue=on(Ct,"artifacts",It,"public","data","machines",W);await Zn(ue,{status:"rebooting"},{merge:!0}),setTimeout(async()=>{await Zn(ue,{status:"offline"},{merge:!0}),setTimeout(async()=>{await Zn(ue,{status:"online",lastPing:Uo()},{merge:!0}),alert(`${W} rebooted successfully.`),await rn("System Reboot",`Rebooted ${W}`)},3e3)},1500)}catch(ue){alert("Reboot command failed: "+ue.message)}},$s=async(W,ue)=>{const Ie=ue==="locked"?"online":"locked";if(window.confirm(`Are you sure you want to ${Ie.toUpperCase()} kiosk ${W}?`))try{const et=on(Ct,"artifacts",It,"public","data","machines",W);await Zn(et,{status:Ie},{merge:!0}),await rn("Security Lock",`${Ie.toUpperCase()} kiosk ${W}`)}catch(et){alert("Command failed: "+et.message)}},Mn=async W=>{if(window.confirm(`Remove ${W} from network? This cannot be undone.`))try{const ue=on(Ct,"artifacts",It,"public","data","machines",W);await xh(ue),await rn("System Removal",`Removed kiosk ${W}`)}catch(ue){alert("Deletion failed: "+ue.message)}},rn=async(W,ue)=>{try{const Ie=fi(Ct,"artifacts",It,"public","data","audit_logs");await Zn(on(Ie),{action:W,details:ue,user:S.username,time:new Date().toLocaleTimeString(),timestamp:Uo()})}catch(Ie){console.error("Failed to log audit:",Ie)}},Gs=async(W,ue,Ie)=>{try{await Zb(fi(Ct,"artifacts",It,"public","data","broadcasts"),{message:W,priority:ue,target:Ie,timestamp:Uo(),active:!0,sentBy:S.username,type:"admin_broadcast"}),await rn("System Broadcast",`Sent: ${W} (${ue} to ${Ie})`),alert(`Broadcast sent to ${Ie==="all"?"Entire Network":Ie}!`),gt(!1)}catch(et){console.error("Broadcast failed:",et),alert("Failed to send broadcast.")}},Ar=W=>{window.confirm(`Are you sure you want to remove this record from your view?

 NOTE: This ONLY hides it from this list to reduce clutter. The record stays saved in the database.`)&&re(ue=>[...ue,W])},Sr=()=>{if(window.confirm(`Are you sure you want to clear ALL records from this view?

 NOTE: This acts as a 'Clear History' for your screen only. All records remain safe in the database.`)){const W=N.map(ue=>ue.id);re(ue=>[...ue,...W])}},vt=async()=>{try{const W=on(Ct,"artifacts",It,"public","data","settings","admin_profile");await Zn(W,S),j(!1),alert("Profile updated and synced to cloud."),await rn("Profile Update","Admin profile details updated")}catch(W){alert("Failed to save profile: "+W.message)}},Et=async W=>{try{const ue={...S,password:W},Ie=on(Ct,"artifacts",It,"public","data","settings","admin_profile");await Zn(Ie,ue,{merge:!0}),E(ue),R(!1),alert("Password updated and synced to cloud."),await rn("Password Change","Admin password updated")}catch(ue){alert("Failed to update password: "+ue.message)}},vs=W=>{window.confirm(`Are you sure you want to remove this record from your view?

 NOTE: This ONLY hides it from this list to reduce clutter. The record stays saved in the database.`)&&O(ue=>[...ue,W])},kl=()=>{if(window.confirm(`Are you sure you want to clear ALL records from this view?

 NOTE: This acts as a 'Clear History' for your screen only. All records remain safe in the database.`)){const W=v.map(ue=>ue.id);O(ue=>[...ue,...W])}},Ln=d.filter(W=>W.status==="pending").length,qt=d.filter(W=>W.status==="active").length,fn=w.filter(W=>W.status==="online").length,Nr=d.filter(W=>be==="all"?!0:W.status===be),Ti=v.filter(W=>!Fe.includes(W.id)),ns=N.filter(W=>!K.includes(W.id)),pa=[...Ti.map(W=>({...W,type:"rx",sortTime:W.createdAt?.seconds||0})),...ns.map(W=>({...W,type:"audit",sortTime:W.timestamp?.seconds||0}))].sort((W,ue)=>ue.sortTime-W.sortTime).slice(0,6),Pn=W=>{u(W),ie(!1),ve(null)};return m.jsxs("div",{className:`flex h-screen font-sans overflow-hidden transition-colors duration-300 ${n?"bg-[#0B0F19] text-slate-300":"bg-gray-50 text-slate-600"}`,children:[F&&m.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 backdrop-blur-sm md:hidden",onClick:()=>ie(!1)}),m.jsxs("aside",{className:`fixed inset-y-0 left-0 z-30 w-72 border-r shadow-2xl transform transition-all duration-300 ease-in-out flex flex-col ${F?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 ${n?"bg-[#0B0F19] border-white/5":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`relative z-10 p-6 flex items-center gap-3 border-b ${n?"border-white/5":"border-gray-100"}`,children:[m.jsx("div",{className:"bg-gradient-to-tr from-indigo-500 to-blue-600 p-2.5 rounded-xl shadow-lg shadow-indigo-500/20 ring-1 ring-white/10",children:m.jsx($o,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:`font-bold text-lg tracking-wide ${n?"text-white":"text-slate-900"}`,children:"MediVend"}),m.jsx("p",{className:"text-[10px] uppercase font-bold text-indigo-500 tracking-wider",children:"Super Admin"})]}),m.jsx("button",{onClick:()=>ie(!1),className:`md:hidden ml-auto ${n?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:m.jsx(Zo,{className:"w-5 h-5"})})]}),m.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:[m.jsx("div",{className:"px-3 mb-2 mt-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Workspace"}),m.jsx(na,{id:"overview",label:"Dashboard",icon:m.jsx(gv,{className:"w-5 h-5"}),active:o==="overview",onClick:Pn,isDarkMode:n}),m.jsx("div",{className:"px-3 mt-8 mb-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Network"}),m.jsx(na,{id:"doctors",label:"Doctors",icon:m.jsx(ll,{className:"w-5 h-5"}),active:o==="doctors",onClick:Pn,badge:Ln,isDarkMode:n}),m.jsx(na,{id:"machines",label:"Kiosks",icon:m.jsx(zo,{className:"w-5 h-5"}),active:o==="machines",onClick:Pn,isDarkMode:n}),m.jsx("div",{className:"px-3 mt-8 mb-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Inventory & Support"}),m.jsx(na,{id:"inventory",label:"Master List",icon:m.jsx(sm,{className:"w-5 h-5"}),active:o==="inventory",onClick:Pn,isDarkMode:n}),m.jsx(na,{id:"support",label:"Support",icon:m.jsx(pv,{className:"w-5 h-5"}),active:o==="support",onClick:Pn,isDarkMode:n}),m.jsx("div",{className:"px-3 mt-8 mb-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Compliance"}),m.jsx(na,{id:"transactions",label:"Logs",icon:m.jsx(W_,{className:"w-5 h-5"}),active:o==="transactions",onClick:Pn,isDarkMode:n}),m.jsx(na,{id:"audit",label:"Audit",icon:m.jsx(UT,{className:"w-5 h-5"}),active:o==="audit",onClick:Pn,isDarkMode:n})]}),m.jsx("div",{className:`p-4 border-t ${n?"bg-[#05080F] border-white/5":"bg-gray-50 border-gray-200"}`,children:m.jsxs("button",{onClick:r,className:"flex w-full items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-slate-400 hover:bg-rose-500/10 hover:text-rose-500 transition-all text-sm font-medium group",children:[m.jsx(dE,{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform"})," Sign Out"]})})]}),m.jsxs("div",{className:`flex-1 flex flex-col min-w-0 overflow-hidden relative ${n?"bg-[#0B0F19]":"bg-gray-50"}`,children:[m.jsxs("header",{className:`h-16 border-b flex items-center justify-between px-6 shadow-sm z-10 sticky top-0 transition-colors ${n?"bg-[#0B0F19] border-white/5":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>ie(!0),className:`md:hidden p-2 -ml-2 rounded-lg ${n?"text-slate-400 hover:bg-white/5":"text-slate-600 hover:bg-gray-100"}`,children:m.jsx(gE,{className:"w-6 h-6"})}),m.jsxs("h2",{className:`text-lg md:text-xl font-bold capitalize tracking-tight flex items-center gap-2 ${n?"text-white":"text-slate-900"}`,children:[o==="overview"&&m.jsx(gv,{className:"w-5 h-5 text-indigo-500 hidden sm:block"}),o==="doctors"&&m.jsx(ll,{className:"w-5 h-5 text-indigo-500 hidden sm:block"}),o==="machines"&&m.jsx(zo,{className:"w-5 h-5 text-emerald-500 hidden sm:block"}),o==="inventory"&&m.jsx(sm,{className:"w-5 h-5 text-indigo-500 hidden sm:block"}),o==="support"&&m.jsx(pv,{className:"w-5 h-5 text-rose-500 hidden sm:block"}),o==="settings"&&m.jsx(UE,{className:"w-5 h-5 text-slate-400 hidden sm:block"}),o.replace("-"," ")]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:Ee,className:`p-2 rounded-full transition-all ${n?"bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-slate-600 hover:text-slate-900"}`,title:"Refresh Data",children:m.jsx(Rh,{className:`w-4 h-4 ${te?"animate-spin":""}`})}),m.jsx("button",{onClick:()=>i(!n),className:`p-2 rounded-full transition-all ${n?"bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-slate-600 hover:text-slate-900"}`,title:"Toggle Theme",children:n?m.jsx(HE,{className:"w-4 h-4 text-amber-400"}):m.jsx(_E,{className:"w-4 h-4 text-indigo-500"})}),m.jsxs("div",{className:`hidden lg:flex items-center gap-2 px-3 py-1.5 rounded-full border text-xs font-semibold ${n?"bg-white/5 border-white/10 text-slate-300":"bg-gray-100 border-gray-200 text-slate-600"}`,children:[m.jsx(BT,{className:"w-3.5 h-3.5 text-indigo-500"}),Ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),m.jsxs("button",{onClick:()=>{u("doctors"),ze("pending")},className:`p-2 transition-colors relative rounded-full ${n?"text-slate-400 hover:text-indigo-400 hover:bg-white/5":"text-slate-600 hover:text-indigo-600 hover:bg-gray-100"}`,children:[m.jsx(RT,{className:"w-5 h-5"}),Ln>0&&m.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-rose-500 rounded-full border border-white/10"})]}),m.jsx("div",{onClick:()=>u("settings"),className:`flex items-center gap-3 cursor-pointer p-1.5 -mr-1.5 rounded-lg transition-colors group ${n?"hover:bg-white/5":"hover:bg-gray-100"}`,children:m.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-xs ring-2 ring-white/10 shadow-md group-hover:ring-indigo-500/50 transition-all",children:S?.displayName?.charAt(0)||"A"})})]})]}),m.jsxs("main",{className:`flex-1 overflow-y-auto p-4 lg:p-6 ${n?"bg-[#0B0F19]":"bg-gray-50"}`,children:[o==="overview"&&m.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-5 items-stretch",children:[m.jsx(Xu,{title:"Pending Approvals",value:Ln,icon:m.jsx(ll,{className:"w-5 h-5 text-amber-400"}),color:"amber",subtext:"Requires attention",onClick:()=>{u("doctors"),ze("pending")},isDarkMode:n}),m.jsx(Xu,{title:"Active Kiosks",value:`${fn}/${w.length>0?w.length:0}`,icon:m.jsx(zo,{className:"w-5 h-5 text-emerald-400"}),color:"emerald",subtext:"Network Status",onClick:()=>u("machines"),isDarkMode:n}),m.jsx(Xu,{title:"Master Inventory",value:X.length,icon:m.jsx(sm,{className:"w-5 h-5 text-blue-400"}),color:"blue",subtext:"SKUs in database",onClick:()=>u("inventory"),isDarkMode:n}),m.jsx(Xu,{title:"Security Alerts",value:N.length,icon:m.jsx(xE,{className:"w-5 h-5 text-rose-400"}),color:"red",subtext:"System events",onClick:()=>u("audit"),isDarkMode:n})]}),m.jsxs("div",{className:`p-6 rounded-xl border shadow-lg ${n?"bg-white/5 border-white/5":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:`font-bold text-lg ${n?"text-white":"text-slate-900"}`,children:"Network Health"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Real-time infrastructure status & capacity"})]}),m.jsx("div",{className:"flex gap-2",children:m.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-emerald-500 bg-emerald-500/10 px-3 py-1 rounded-full border border-emerald-500/20 whitespace-nowrap flex-shrink-0",children:[m.jsx(fl,{className:"w-3 h-3"})," System Normal"]})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsxs("h4",{className:`text-sm font-bold mb-4 flex items-center gap-2 ${n?"text-slate-300":"text-slate-700"}`,children:[m.jsx(zo,{className:"w-4 h-4 text-emerald-500"})," Kiosk Connectivity"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[m.jsxs("span",{className:"font-medium text-slate-400",children:["Online (",fn,")"]}),m.jsxs("span",{className:"text-emerald-500 font-bold",children:[w.length>0?Math.round(fn/w.length*100):0,"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/10":"bg-gray-100"}`,children:m.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all duration-1000",style:{width:`${w.length>0?fn/w.length*100:0}%`}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[m.jsxs("span",{className:"font-medium text-slate-400",children:["Offline / Maintenance (",w.length-fn,")"]}),m.jsxs("span",{className:"text-slate-500 font-bold",children:[w.length>0?Math.round((w.length-fn)/w.length*100):0,"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/10":"bg-gray-100"}`,children:m.jsx("div",{className:"bg-slate-500 h-2 rounded-full transition-all duration-1000",style:{width:`${w.length>0?(w.length-fn)/w.length*100:0}%`}})})]})]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:`text-sm font-bold mb-4 flex items-center gap-2 ${n?"text-slate-300":"text-slate-700"}`,children:[m.jsx(ll,{className:"w-4 h-4 text-blue-500"})," Provider Status"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[m.jsxs("span",{className:"font-medium text-slate-400",children:["Active Physicians (",qt,")"]}),m.jsxs("span",{className:"text-blue-500 font-bold",children:[d.length>0?Math.round(qt/d.length*100):0,"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/10":"bg-gray-100"}`,children:m.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-1000",style:{width:`${d.length>0?qt/d.length*100:0}%`}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[m.jsxs("span",{className:"font-medium text-slate-400",children:["Pending Approval (",Ln,")"]}),m.jsxs("span",{className:"text-amber-500 font-bold",children:[d.length>0?Math.round(Ln/d.length*100):0,"%"]})]}),m.jsx("div",{className:`w-full rounded-full h-2 overflow-hidden ${n?"bg-white/10":"bg-gray-100"}`,children:m.jsx("div",{className:"bg-amber-500 h-2 rounded-full transition-all duration-1000",style:{width:`${d.length>0?Ln/d.length*100:0}%`}})})]})]})]})]})]}),m.jsxs("div",{className:`p-6 rounded-xl border shadow-lg ${n?"bg-white/5 border-white/5":"bg-white border-gray-200"}`,children:[m.jsxs("h3",{className:`font-bold text-lg mb-6 flex items-center gap-2 ${n?"text-white":"text-slate-900"}`,children:[m.jsx(IT,{className:"w-5 h-5 text-indigo-500"})," Top Prescribed Medicines"]}),m.jsx(cC,{transactions:v,isDarkMode:n})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:`p-5 rounded-xl border h-full ${n?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsx("h3",{className:`font-bold text-base mb-4 ${n?"text-white":"text-slate-900"}`,children:"Quick Actions"}),m.jsxs("div",{className:"flex gap-2 flex-col",children:[m.jsx(ym,{onClick:()=>{u("doctors"),ze("pending")},icon:m.jsx(ll,{className:"w-4 h-4"}),label:`Review ${Ln} Doctors`,variant:"primary"}),m.jsx(ym,{onClick:()=>gt(!0),icon:m.jsx(e1,{className:"w-4 h-4"}),label:"System Broadcast",variant:"secondary",isDarkMode:n}),m.jsx(ym,{onClick:()=>u("audit"),icon:m.jsx(WT,{className:"w-4 h-4"}),label:"View Security Audit",variant:"secondary",isDarkMode:n})]})]}),m.jsxs("div",{className:`lg:col-span-2 p-5 rounded-xl border ${n?"bg-white/5 border-white/5":"bg-white border-gray-200 shadow-sm"}`,children:[m.jsx("h3",{className:`font-bold text-base mb-4 ${n?"text-white":"text-slate-900"}`,children:"Live Activity Feed"}),m.jsxs("div",{className:"space-y-0 relative",children:[m.jsx("div",{className:`absolute left-3 top-2 bottom-2 w-px ${n?"bg-white/10":"bg-gray-200"}`}),pa.length===0?m.jsx("div",{className:"pl-8 py-4 text-sm text-slate-500 italic",children:"No recent activity"}):pa.map((W,ue)=>m.jsxs("div",{className:`py-3 pl-8 relative flex justify-between items-center text-sm group rounded-lg -ml-2 pr-2 transition-colors ${n?"hover:bg-white/5":"hover:bg-gray-50"}`,children:[m.jsx("div",{className:`absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 border-2 rounded-full z-10 ${W.type==="rx"?"bg-blue-900 border-blue-500":"bg-amber-900 border-amber-500"}`}),m.jsx("div",{className:"flex items-center gap-3",children:m.jsxs("div",{children:[m.jsx("p",{className:`font-bold text-xs ${n?"text-white":"text-slate-900"}`,children:W.type==="rx"?"Prescription Issued":W.action}),m.jsx("p",{className:"text-xs text-slate-400",children:W.type==="rx"?`Dr. ${W.doctorName}`:W.details})]})}),m.jsx("span",{className:"text-xs text-slate-500 font-mono",children:W.type==="rx"?W.date:W.time})]},W.id+ue))]})]})]})]}),o==="doctors"&&m.jsx(dC,{doctors:Nr,filter:be,setFilter:ze,onRefresh:Ee,onUpdateStatus:Ve,onUpdatePassword:Tt,onDelete:ot,loading:te,isDarkMode:n}),o==="machines"&&m.jsx(fC,{machines:w,onPing:ys,onRunDiagnostics:wi,onReboot:Fs,onLock:$s,onDelete:Mn,isDarkMode:n}),o==="inventory"&&m.jsx(uC,{medicines:X,db:Ct,appId:It,isDarkMode:n}),o==="support"&&m.jsx(hC,{tickets:ee,db:Ct,appId:It,isDarkMode:n}),o==="transactions"&&m.jsx(mC,{transactions:Ti,onHide:vs,onClearView:kl,isDarkMode:n}),o==="audit"&&m.jsx(gC,{logs:ns,onHide:Ar,onClearView:Sr,isDarkMode:n}),o==="settings"&&m.jsx(pC,{profile:S,setProfile:E,onSave:vt,isEditing:V,setIsEditing:j,setShowPassword:()=>R(!0),isDarkMode:n,transactions:v,auditLogs:N,doctors:d,machines:w,medicines:X,supportTickets:ee})]}),M&&m.jsx(lC,{onClose:()=>R(!1),currentCreds:S,onUpdate:Et,isDarkMode:n}),lt&&m.jsx(oC,{onClose:()=>gt(!1),onSend:Gs,isDarkMode:n}),ne&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:m.jsxs("div",{className:`rounded-xl shadow-2xl max-w-2xl w-full overflow-hidden border flex flex-col max-h-[90vh] ${n?"bg-[#1e293b] border-white/10":"bg-white border-gray-200"}`,children:[m.jsxs("div",{className:`p-5 border-b flex justify-between items-center flex-shrink-0 ${n?"border-white/10":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsxs("h3",{className:`font-bold text-lg flex items-center gap-2 ${n?"text-white":"text-slate-900"}`,children:[m.jsx(fl,{className:"w-5 h-5 text-emerald-500"})," Kiosk Diagnostics"]}),m.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[ne.id,"  ",ne.location]})]}),m.jsx("button",{onClick:()=>ve(null),children:m.jsx(Zo,{className:`w-5 h-5 ${n?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`})})]}),m.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[m.jsxs("div",{className:"flex-1 text-center p-4 rounded-xl border border-dashed border-slate-500/20 flex flex-col justify-center items-center",children:[m.jsx("div",{className:`text-5xl font-bold mb-1 ${ne.status==="online"?"text-emerald-500":"text-rose-500"}`,children:ne.healthScore}),m.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest font-bold",children:"System Health"})]}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Remote Commands"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("button",{onClick:()=>ys(ne.id),className:`flex items-center justify-center gap-2 p-2 rounded-lg text-xs font-bold transition-colors ${n?"bg-white/5 hover:bg-white/10 text-white":"bg-gray-100 hover:bg-gray-200 text-slate-700"}`,children:[m.jsx(fl,{size:14})," Ping"]}),m.jsxs("button",{onClick:()=>Fs(ne.id),className:`flex items-center justify-center gap-2 p-2 rounded-lg text-xs font-bold transition-colors ${n?"bg-white/5 hover:bg-white/10 text-white":"bg-gray-100 hover:bg-gray-200 text-slate-700"}`,children:[m.jsx(bm,{size:14})," Reboot"]}),m.jsxs("button",{onClick:()=>$s(ne.id,ne.status),className:`col-span-2 flex items-center justify-center gap-2 p-2 rounded-lg text-xs font-bold transition-colors ${ne.status==="locked"?"bg-emerald-500/20 text-emerald-500 hover:bg-emerald-500/30":"bg-rose-500/20 text-rose-500 hover:bg-rose-500/30"}`,children:[ne.status==="locked"?m.jsx(_m,{size:14}):m.jsx(ia,{size:14}),ne.status==="locked"?"Unlock Kiosk":"Lock / Disable"]})]})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-3",children:"Hardware Sensors"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[m.jsxs("div",{className:`p-3 rounded-xl border ${n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx($E,{className:"w-3.5 h-3.5 text-rose-400"}),m.jsx("span",{className:`text-[10px] font-bold uppercase ${n?"text-slate-400":"text-slate-500"}`,children:"CPU Temp"})]}),m.jsx("p",{className:`text-sm font-mono font-bold ${n?"text-white":"text-slate-900"}`,children:ne.cpuTemp})]}),m.jsxs("div",{className:`p-3 rounded-xl border ${n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(NE,{className:"w-3.5 h-3.5 text-blue-400"}),m.jsx("span",{className:`text-[10px] font-bold uppercase ${n?"text-slate-400":"text-slate-500"}`,children:"Paper Lvl"})]}),m.jsx("p",{className:`text-sm font-mono font-bold ${n?"text-white":"text-slate-900"}`,children:ne.printerPaper})]}),m.jsxs("div",{className:`p-3 rounded-xl border ${n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(t2,{className:"w-3.5 h-3.5 text-amber-400"}),m.jsx("span",{className:`text-[10px] font-bold uppercase ${n?"text-slate-400":"text-slate-500"}`,children:"Motor"})]}),m.jsx("p",{className:`text-sm font-mono font-bold ${n?"text-white":"text-slate-900"}`,children:ne.motorStatus})]}),m.jsxs("div",{className:`p-3 rounded-xl border ${n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(DE,{className:"w-3.5 h-3.5 text-purple-400"}),m.jsx("span",{className:`text-[10px] font-bold uppercase ${n?"text-slate-400":"text-slate-500"}`,children:"Scanner"})]}),m.jsx("p",{className:`text-sm font-mono font-bold ${n?"text-white":"text-slate-900"}`,children:ne.scannerStatus})]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide flex items-center gap-2",children:[m.jsx(aE,{className:"w-4 h-4"})," Real-Time Inventory (10 Slots)"]}),m.jsx("span",{className:"text-[10px] text-slate-500 bg-white/5 px-2 py-1 rounded",children:"Live Feed"})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:ne.slots&&ne.slots.map(W=>m.jsxs("div",{className:`p-2.5 rounded-lg border relative overflow-hidden group ${W.status==="Jam"?"border-rose-500/50 bg-rose-500/10":n?"bg-white/5 border-white/5":"bg-gray-50 border-gray-200"}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-1 relative z-10",children:[m.jsxs("span",{className:"text-[10px] font-bold opacity-50",children:["#",W.id]}),W.status==="Jam"&&m.jsx(n1,{className:"w-3 h-3 text-rose-500"})]}),m.jsx("p",{className:`text-xs font-bold truncate relative z-10 ${n?"text-white":"text-slate-900"}`,children:W.medicine}),m.jsxs("div",{className:"mt-2 relative z-10",children:[m.jsxs("div",{className:"flex justify-between text-[10px] mb-0.5",children:[m.jsx("span",{className:"text-slate-400",children:"Lvl"}),m.jsxs("span",{className:W.stock<20?"text-rose-500 font-bold":"text-emerald-500 font-bold",children:[W.stock,"%"]})]}),m.jsx("div",{className:`w-full h-1.5 rounded-full overflow-hidden ${n?"bg-black/40":"bg-gray-200"}`,children:m.jsx("div",{className:`h-full rounded-full ${W.stock<20?"bg-rose-500":"bg-emerald-500"}`,style:{width:`${W.stock}%`}})})]})]},W.id))})]}),m.jsxs("div",{className:`p-4 rounded-xl border ${ne.status==="online"?"bg-emerald-500/10 border-emerald-500/20":"bg-rose-500/10 border-rose-500/20"}`,children:[m.jsx("p",{className:`text-xs font-bold uppercase mb-1 ${ne.status==="online"?"text-emerald-500":"text-rose-500"}`,children:"AI Recommendation"}),m.jsx("p",{className:`text-sm ${n?"text-slate-300":"text-slate-700"}`,children:ne.recommendation})]})]}),m.jsx("div",{className:`p-4 border-t flex justify-end flex-shrink-0 ${n?"bg-white/5 border-white/10":"bg-gray-50 border-gray-200"}`,children:m.jsx("button",{onClick:()=>ve(null),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-xs font-bold uppercase rounded-lg shadow-lg",children:"Close Diagnostics"})})]})})]})]})}function _C(){const[r,e]=de.useState(!1),[n,i]=de.useState(null),[o,u]=de.useState(!0);return de.useEffect(()=>{(async()=>{try{await B5(aC);const y=on(Ct,"artifacts",It,"public","data","settings","admin_profile"),v=await i5(y);v.exists()?i(v.data()):(await Zn(y,pm),i(pm))}catch(y){console.error("Failed to initialize admin:",y),i(pm)}finally{u(!1)}})()},[]),o?m.jsx("div",{className:"flex h-screen items-center justify-center bg-[#0B0F19]",children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx(Rh,{className:"w-8 h-8 text-indigo-500 animate-spin"}),m.jsx("p",{className:"text-sm font-semibold text-slate-400",children:"Connecting to Secure Server..."})]})}):r?m.jsx(vC,{onLogout:()=>e(!1),initialProfile:n}):m.jsx(yC,{onLogin:()=>e(!0),cloudProfile:n})}bT.createRoot(document.getElementById("root")).render(m.jsx(de.StrictMode,{children:m.jsx(_C,{})}));
